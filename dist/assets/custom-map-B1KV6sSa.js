import{r as e,t}from"./rolldown-runtime-DGruFWvd.js";import{$ as n,F as r,H as i,it as a,tt as o}from"./vue-UmFUivib.js";import{$n as s,An as c,Cn as l,Dn as u,En as d,Jn as f,Kn as p,Mn as m,Nn as h,On as g,Pn as _,Qn as v,Sn as y,Tn as b,Un as x,Wn as S,Xn as C,Yn as w,Zn as T,_n as E,ar as D,bn as O,er as k,gn as A,hn as j,ir as M,jn as N,nr as P,pn as F,qn as ee,rr as I,vn as te,wn as L,xn as ne,yn as re,zn as ie}from"./antd-B_p1HNUS.js";import{t as R}from"./_createAssigner-B2ykRWrR.js";import{L as ae,p as oe}from"./index-BwYHa19M.js";import{A as se,C as ce,E as le,F as ue,I as de,L as fe,M as pe,N as me,O as he,P as ge,S as _e,T as z,_ as ve,b as ye,c as be,g as xe,i as Se,j as Ce,k as we,m as Te,o as Ee,p as De,r as Oe,t as ke,u as Ae,v as je,w as Me,x as Ne,z as Pe}from"./vec2-DqStZ3m5.js";function Fe(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:y(e,t,n)}var Ie=Fe,Le=`\\ud800-\\udfff`,Re=`\\u0300-\\u036f`,ze=`\\ufe20-\\ufe2f`,Be=`\\u20d0-\\u20ff`,Ve=Re+ze+Be,He=RegExp(`[\\u200d`+Le+Ve+`\\ufe0e\\ufe0f]`);function B(e){return He.test(e)}var V=B;function Ue(e){return e.split(``)}var We=Ue,Ge=`\\ud800-\\udfff`,Ke=`\\u0300-\\u036f`,qe=`\\ufe20-\\ufe2f`,Je=`\\u20d0-\\u20ff`,Ye=Ke+qe+Je,H=`\\ufe0e\\ufe0f`,Xe=`[`+Ge+`]`,Ze=`[`+Ye+`]`,Qe=`\\ud83c[\\udffb-\\udfff]`,$e=`(?:`+Ze+`|`+Qe+`)`,et=`[^`+Ge+`]`,tt=`(?:\\ud83c[\\udde6-\\uddff]){2}`,nt=`[\\ud800-\\udbff][\\udc00-\\udfff]`,rt=`\\u200d`,it=$e+`?`,at=`[`+H+`]?`,ot=`(?:`+rt+`(?:`+[et,tt,nt].join(`|`)+`)`+at+it+`)*`,st=at+it+ot,ct=`(?:`+[et+Ze+`?`,Ze,tt,nt,Xe].join(`|`)+`)`,lt=RegExp(Qe+`(?=`+Qe+`)|`+ct+st,`g`);function ut(e){return e.match(lt)||[]}var dt=ut;function ft(e){return V(e)?dt(e):We(e)}var pt=ft;function mt(e){return function(t){t=b(t);var n=V(t)?pt(t):void 0,r=n?n[0]:t.charAt(0),i=n?Ie(n,1).join(``):t.slice(1);return r[e]()+i}}var ht=mt(`toUpperCase`);function gt(e){return ht(b(e).toLowerCase())}var _t=gt,vt=ae(function(e,t,n){return t=t.toLowerCase(),e+(n?_t(t):t)});function yt(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}var bt=yt;function xt(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=h(n),n=n===n?n:0),t!==void 0&&(t=h(t),t=t===t?t:0),bt(h(e),t,n)}var St=xt;function Ct(e,t,n){(n!==void 0&&!k(e[t],n)||n===void 0&&!(t in e))&&c(e,t,n)}var wt=Ct;function Tt(e,t){if(!(t===`constructor`&&typeof e[t]==`function`)&&t!=`__proto__`)return e[t]}var Et=Tt;function Dt(e){return g(e,d(e))}var Ot=Dt;function kt(e,t,n,r,i,a,o){var s=Et(e,n),c=Et(t,n),u=o.get(c);if(u){wt(e,n,u);return}var d=a?a(s,c,n+``,e,t,o):void 0,f=d===void 0;if(f){var h=w(c),g=!h&&p(c),_=!h&&!g&&x(c);d=c,h||g||_?w(s)?d=s:j(s)?d=m(s):g?(f=!1,d=ne(c,!0)):_?(f=!1,d=O(c,!0)):d=[]:l(c)||ee(c)?(d=s,ee(s)?d=Ot(s):(!v(s)||T(s))&&(d=re(c))):f=!1}f&&(o.set(c,d),i(d,c,r,a,o),o.delete(c)),wt(e,n,d)}var At=kt;function jt(e,t,n,r,i){e!==t&&E(t,function(a,o){if(i||=new C,v(a))At(e,t,o,n,jt,r,i);else{var s=r?r(Et(e,o),a,o+``,e,t,i):void 0;s===void 0&&(s=a),wt(e,o,s)}},d)}var Mt=jt,Nt=R(function(e,t,n,r){Mt(e,t,n,r)}),Pt=`[object String]`;function Ft(e){return typeof e==`string`||!w(e)&&f(e)&&s(e)==Pt}var It=Ft,Lt=`[object Boolean]`;function Rt(e){return e===!0||e===!1||f(e)&&s(e)==Lt}var zt=Rt,Bt=`[object Number]`;function Vt(e){return typeof e==`number`||f(e)&&s(e)==Bt}var Ht=Vt;function Ut(e){return e==null}var Wt=Ut;function Gt(e){return e===void 0}var Kt=Gt,qt=R(function(e,t,n){Mt(e,t,n)});function Jt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}var Yt=Jt,Xt=Array.prototype.splice;function Zt(e,t,n,r){var i=r?Yt:N,a=-1,o=t.length,s=e;for(e===t&&(t=m(t)),n&&(s=_(e,S(n)));++a<o;)for(var c=0,l=t[a],u=n?n(l):l;(c=i(s,u,c,r))>-1;)s!==e&&Xt.call(s,c,1),Xt.call(e,c,1);return e}var Qt=Zt;function $t(e,t){return e&&e.length&&t&&t.length?Qt(e,t):e}var en=u($t),tn=`Expected a function`;function nn(e,t,n){var r=!0,i=!0;if(typeof e!=`function`)throw TypeError(tn);return v(n)&&(r=`leading`in n?!!n.leading:r,i=`trailing`in n?!!n.trailing:i),A(e,t,{leading:r,maxWait:t,trailing:i})}var rn=nn,an=0;function on(e){var t=++an;return b(e)+t}var sn=on;function cn(){var e=new we(16);return we!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function ln(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h){var g=new we(16);return g[0]=e,g[1]=t,g[2]=n,g[3]=r,g[4]=i,g[5]=a,g[6]=o,g[7]=s,g[8]=c,g[9]=l,g[10]=u,g[11]=d,g[12]=f,g[13]=p,g[14]=m,g[15]=h,g}function un(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],l=t[7],u=t[8],d=t[9],f=t[10],p=t[11],m=t[12],h=t[13],g=t[14],_=t[15],v=n*s-r*o,y=n*c-i*o,b=n*l-a*o,x=r*c-i*s,S=r*l-a*s,C=i*l-a*c,w=u*h-d*m,T=u*g-f*m,E=u*_-p*m,D=d*g-f*h,O=d*_-p*h,k=f*_-p*g,A=v*k-y*O+b*D+x*E-S*T+C*w;return A?(A=1/A,e[0]=(s*k-c*O+l*D)*A,e[1]=(i*O-r*k-a*D)*A,e[2]=(h*C-g*S+_*x)*A,e[3]=(f*S-d*C-p*x)*A,e[4]=(c*E-o*k-l*T)*A,e[5]=(n*k-i*E+a*T)*A,e[6]=(g*b-m*C-_*y)*A,e[7]=(u*C-f*b+p*y)*A,e[8]=(o*O-s*E+l*w)*A,e[9]=(r*E-n*O-a*w)*A,e[10]=(m*S-h*b+_*v)*A,e[11]=(d*b-u*S-p*v)*A,e[12]=(s*T-o*D-c*w)*A,e[13]=(n*D-r*T+i*w)*A,e[14]=(h*y-m*x-g*v)*A,e[15]=(u*x-d*y+f*v)*A,e):null}function dn(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],l=t[6],u=t[7],d=t[8],f=t[9],p=t[10],m=t[11],h=t[12],g=t[13],_=t[14],v=t[15],y=n[0],b=n[1],x=n[2],S=n[3];return e[0]=y*r+b*s+x*d+S*h,e[1]=y*i+b*c+x*f+S*g,e[2]=y*a+b*l+x*p+S*_,e[3]=y*o+b*u+x*m+S*v,y=n[4],b=n[5],x=n[6],S=n[7],e[4]=y*r+b*s+x*d+S*h,e[5]=y*i+b*c+x*f+S*g,e[6]=y*a+b*l+x*p+S*_,e[7]=y*o+b*u+x*m+S*v,y=n[8],b=n[9],x=n[10],S=n[11],e[8]=y*r+b*s+x*d+S*h,e[9]=y*i+b*c+x*f+S*g,e[10]=y*a+b*l+x*p+S*_,e[11]=y*o+b*u+x*m+S*v,y=n[12],b=n[13],x=n[14],S=n[15],e[12]=y*r+b*s+x*d+S*h,e[13]=y*i+b*c+x*f+S*g,e[14]=y*a+b*l+x*p+S*_,e[15]=y*o+b*u+x*m+S*v,e}function fn(e,t,n){var r=n[0],i=n[1],a=n[2],o,s,c,l,u,d,f,p,m,h,g,_;return t===e?(e[12]=t[0]*r+t[4]*i+t[8]*a+t[12],e[13]=t[1]*r+t[5]*i+t[9]*a+t[13],e[14]=t[2]*r+t[6]*i+t[10]*a+t[14],e[15]=t[3]*r+t[7]*i+t[11]*a+t[15]):(o=t[0],s=t[1],c=t[2],l=t[3],u=t[4],d=t[5],f=t[6],p=t[7],m=t[8],h=t[9],g=t[10],_=t[11],e[0]=o,e[1]=s,e[2]=c,e[3]=l,e[4]=u,e[5]=d,e[6]=f,e[7]=p,e[8]=m,e[9]=h,e[10]=g,e[11]=_,e[12]=o*r+u*i+m*a+t[12],e[13]=s*r+d*i+h*a+t[13],e[14]=c*r+f*i+g*a+t[14],e[15]=l*r+p*i+_*a+t[15]),e}function pn(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function mn(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],o=t[5],s=t[6],c=t[7],l=t[8],u=t[9],d=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+l*r,e[5]=o*i+u*r,e[6]=s*i+d*r,e[7]=c*i+f*r,e[8]=l*i-a*r,e[9]=u*i-o*r,e[10]=d*i-s*r,e[11]=f*i-c*r,e}function hn(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],c=t[3],l=t[8],u=t[9],d=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-l*r,e[1]=o*i-u*r,e[2]=s*i-d*r,e[3]=c*i-f*r,e[8]=a*r+l*i,e[9]=o*r+u*i,e[10]=s*r+d*i,e[11]=c*r+f*i,e}function gn(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],c=t[3],l=t[4],u=t[5],d=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+l*r,e[1]=o*i+u*r,e[2]=s*i+d*r,e[3]=c*i+f*r,e[4]=l*i-a*r,e[5]=u*i-o*r,e[6]=d*i-s*r,e[7]=f*i-c*r,e}function _n(e,t,n,r,i){var a=1/Math.tan(t/2);if(e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0){var o=1/(r-i);e[10]=(i+r)*o,e[14]=2*i*r*o}else e[10]=-1,e[14]=-2*r;return e}var vn=_n;function yn(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],c=e[6],l=e[7],u=e[8],d=e[9],f=e[10],p=e[11],m=e[12],h=e[13],g=e[14],_=e[15],v=t[0],y=t[1],b=t[2],x=t[3],S=t[4],C=t[5],w=t[6],T=t[7],E=t[8],D=t[9],O=t[10],k=t[11],A=t[12],j=t[13],M=t[14],N=t[15];return Math.abs(n-v)<=1e-6*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(r-y)<=1e-6*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(i-b)<=1e-6*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(a-x)<=1e-6*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(o-S)<=1e-6*Math.max(1,Math.abs(o),Math.abs(S))&&Math.abs(s-C)<=1e-6*Math.max(1,Math.abs(s),Math.abs(C))&&Math.abs(c-w)<=1e-6*Math.max(1,Math.abs(c),Math.abs(w))&&Math.abs(l-T)<=1e-6*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(u-E)<=1e-6*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(d-D)<=1e-6*Math.max(1,Math.abs(d),Math.abs(D))&&Math.abs(f-O)<=1e-6*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(p-k)<=1e-6*Math.max(1,Math.abs(p),Math.abs(k))&&Math.abs(m-A)<=1e-6*Math.max(1,Math.abs(m),Math.abs(A))&&Math.abs(h-j)<=1e-6*Math.max(1,Math.abs(h),Math.abs(j))&&Math.abs(g-M)<=1e-6*Math.max(1,Math.abs(g),Math.abs(M))&&Math.abs(_-N)<=1e-6*Math.max(1,Math.abs(_),Math.abs(N))}function bn(){var e=new we(4);return we!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function xn(e,t,n,r){var i=new we(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function Sn(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function Cn(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}(function(){var e=bn();return function(t,n,r,i,a,o){var s,c;for(n||=4,r||=0,c=i?Math.min(i*n+r,t.length):t.length,s=r;s<c;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],a(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}})();var wn={},Tn={},En=e=>Tn[e],Dn=(e,t)=>{Tn[e]=t},On=e=>wn[e],kn=(e,t)=>{wn[e]=t},An={},jn={},Mn=34,Nn=10,Pn=13;function Fn(e){return Function(`d`,`return {`+e.map(function(e,t){return JSON.stringify(e)+`: d[`+t+`] || ""`}).join(`,`)+`}`)}function In(e,t){var n=Fn(e);return function(r,i){return t(n(r),i,e)}}function Ln(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}function Rn(e,t){var n=e+``,r=n.length;return r<t?Array(t-r+1).join(0)+n:n}function zn(e){return e<0?`-`+Rn(-e,6):e>9999?`+`+Rn(e,6):Rn(e,4)}function Bn(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?`Invalid Date`:zn(e.getUTCFullYear(),4)+`-`+Rn(e.getUTCMonth()+1,2)+`-`+Rn(e.getUTCDate(),2)+(i?`T`+Rn(t,2)+`:`+Rn(n,2)+`:`+Rn(r,2)+`.`+Rn(i,3)+`Z`:r?`T`+Rn(t,2)+`:`+Rn(n,2)+`:`+Rn(r,2)+`Z`:n||t?`T`+Rn(t,2)+`:`+Rn(n,2)+`Z`:``)}function Vn(e){var t=RegExp(`["`+e+`
\r]`),n=e.charCodeAt(0);function r(e,t){var n,r,a=i(e,function(e,i){if(n)return n(e,i-1);r=e,n=t?In(e,t):Fn(e)});return a.columns=r||[],a}function i(e,t){var r=[],i=e.length,a=0,o=0,s,c=i<=0,l=!1;e.charCodeAt(i-1)===Nn&&--i,e.charCodeAt(i-1)===Pn&&--i;function u(){if(c)return jn;if(l)return l=!1,An;var t,r=a,o;if(e.charCodeAt(r)===Mn){for(;a++<i&&e.charCodeAt(a)!==Mn||e.charCodeAt(++a)===Mn;);return(t=a)>=i?c=!0:(o=e.charCodeAt(a++))===Nn?l=!0:o===Pn&&(l=!0,e.charCodeAt(a)===Nn&&++a),e.slice(r+1,t-1).replace(/""/g,`"`)}for(;a<i;){if((o=e.charCodeAt(t=a++))===Nn)l=!0;else if(o===Pn)l=!0,e.charCodeAt(a)===Nn&&++a;else if(o!==n)continue;return e.slice(r,t)}return c=!0,e.slice(r,i)}for(;(s=u())!==jn;){for(var d=[];s!==An&&s!==jn;)d.push(s),s=u();t&&(d=t(d,o++))==null||r.push(d)}return r}function a(t,n){return t.map(function(t){return n.map(function(e){return u(t[e])}).join(e)})}function o(t,n){return n??=Ln(t),[n.map(u).join(e)].concat(a(t,n)).join(`
`)}function s(e,t){return t??=Ln(e),a(e,t).join(`
`)}function c(e){return e.map(l).join(`
`)}function l(t){return t.map(u).join(e)}function u(e){return e==null?``:e instanceof Date?Bn(e):t.test(e+=``)?`"`+e.replace(/"/g,`""`)+`"`:e}return{parse:r,parseRows:i,format:o,formatBody:s,formatRows:c,formatRow:l,formatValue:u}}var Hn=Vn(`,`),Un=Hn.parse;Hn.parseRows,Hn.format,Hn.formatBody,Hn.formatRows,Hn.formatRow,Hn.formatValue;var Wn=6371008.8;Wn*100,Wn*100,Wn/111325,Wn*3.28084,Wn*39.37,Wn/1e3,Wn/1e3,Wn/1609.344,Wn*1e3,Wn*1e3,Wn/1852,Wn*1.0936,1/Wn;function Gn(e,t,n){n===void 0&&(n={});var r={type:`Feature`};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function Kn(e,t,n){n===void 0&&(n={});for(var r=0,i=e;r<i.length;r++){var a=i[r];if(a.length<4)throw Error(`Each LinearRing of a Polygon must have 4 or more Positions.`);for(var o=0;o<a[a.length-1].length;o++)if(a[a.length-1][o]!==a[0][o])throw Error(`First and last Position are not equivalent.`)}return Gn({type:`Polygon`,coordinates:e},t,n)}function qn(e,t,n){if(n===void 0&&(n={}),e.length<2)throw Error(`coordinates must be an array of two or more positions`);return Gn({type:`LineString`,coordinates:e},t,n)}function Jn(e,t){t===void 0&&(t={});var n={type:`FeatureCollection`};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function Yn(e,t,n){return n===void 0&&(n={}),Gn({type:`MultiPolygon`,coordinates:e},t,n)}function Xn(e){if(Array.isArray(e))return e;if(e.type===`Feature`){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw Error(`coords must be GeoJSON Feature, Geometry Object or an Array`)}function Zn(e){return e.type===`Feature`?e.geometry:e}function Qn(e,t,n){if(e!==null)for(var r,i,a,o,s,c,l,u=0,d=0,f,p=e.type,m=p===`FeatureCollection`,h=p===`Feature`,g=m?e.features.length:1,_=0;_<g;_++){l=m?e.features[_].geometry:h?e.geometry:e,f=l?l.type===`GeometryCollection`:!1,s=f?l.geometries.length:1;for(var v=0;v<s;v++){var y=0,b=0;if(o=f?l.geometries[v]:l,o!==null){c=o.coordinates;var x=o.type;switch(u=n&&(x===`Polygon`||x===`MultiPolygon`)?1:0,x){case null:break;case`Point`:if(t(c,d,_,y,b)===!1)return!1;d++,y++;break;case`LineString`:case`MultiPoint`:for(r=0;r<c.length;r++){if(t(c[r],d,_,y,b)===!1)return!1;d++,x===`MultiPoint`&&y++}x===`LineString`&&y++;break;case`Polygon`:case`MultiLineString`:for(r=0;r<c.length;r++){for(i=0;i<c[r].length-u;i++){if(t(c[r][i],d,_,y,b)===!1)return!1;d++}x===`MultiLineString`&&y++,x===`Polygon`&&b++}x===`Polygon`&&y++;break;case`MultiPolygon`:for(r=0;r<c.length;r++){for(b=0,i=0;i<c[r].length;i++){for(a=0;a<c[r][i].length-u;a++){if(t(c[r][i][a],d,_,y,b)===!1)return!1;d++}b++}y++}break;case`GeometryCollection`:for(r=0;r<o.geometries.length;r++)if(Qn(o.geometries[r],t,n)===!1)return!1;break;default:throw Error(`Unknown Geometry Type`)}}}}}function $n(e,t){var n,r,i,a,o,s,c,l,u,d,f=0,p=e.type===`FeatureCollection`,m=e.type===`Feature`,h=p?e.features.length:1;for(n=0;n<h;n++){for(s=p?e.features[n].geometry:m?e.geometry:e,l=p?e.features[n].properties:m?e.properties:{},u=p?e.features[n].bbox:m?e.bbox:void 0,d=p?e.features[n].id:m?e.id:void 0,c=s?s.type===`GeometryCollection`:!1,o=c?s.geometries.length:1,i=0;i<o;i++){if(a=c?s.geometries[i]:s,a===null){if(t(null,f,l,u,d)===!1)return!1;continue}switch(a.type){case`Point`:case`LineString`:case`MultiPoint`:case`Polygon`:case`MultiLineString`:case`MultiPolygon`:if(t(a,f,l,u,d)===!1)return!1;break;case`GeometryCollection`:for(r=0;r<a.geometries.length;r++)if(t(a.geometries[r],f,l,u,d)===!1)return!1;break;default:throw Error(`Unknown Geometry Type`)}}f++}}function er(e,t){$n(e,function(e,n,r,i,a){var o=e===null?null:e.type;switch(o){case null:case`Point`:case`LineString`:case`Polygon`:return t(Gn(e,r,{bbox:i,id:a}),n,0)===!1?!1:void 0}var s;switch(o){case`MultiPoint`:s=`Point`;break;case`MultiLineString`:s=`LineString`;break;case`MultiPolygon`:s=`Polygon`;break}for(var c=0;c<e.coordinates.length;c++){var l=e.coordinates[c];if(t(Gn({type:s,coordinates:l},r),n,c)===!1)return!1}})}var tr={REGISTERED_PROTOCOLS:{}},nr=Object.defineProperty,rr=Object.defineProperties,ir=Object.getOwnPropertyDescriptors,ar=Object.getOwnPropertySymbols,or=Object.prototype.hasOwnProperty,sr=Object.prototype.propertyIsEnumerable,cr=(e,t,n)=>t in e?nr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lr=(e,t)=>{for(var n in t||={})or.call(t,n)&&cr(e,n,t[n]);if(ar)for(var n of ar(t))sr.call(t,n)&&cr(e,n,t[n]);return e},ur=(e,t)=>rr(e,ir(t)),dr=e=>tr.REGISTERED_PROTOCOLS[e.substring(0,e.indexOf(`://`))],fr=class extends Error{constructor(e,t,n,r){super(`AJAXError: ${t} (${e}): ${n}`),this.status=e,this.statusText=t,this.url=n,this.body=r}};function pr(e,t){let n=new XMLHttpRequest,r=Array.isArray(e.url)?e.url[0]:e.url;for(let t in n.open(e.method||`GET`,r,!0),e.type===`arrayBuffer`&&(n.responseType=`arraybuffer`),e.headers)e.headers.hasOwnProperty(t)&&n.setRequestHeader(t,e.headers[t]);return e.type===`json`&&(n.responseType=`text`,n.setRequestHeader(`Accept`,`application/json`)),n.withCredentials=e.credentials===`include`,n.onerror=()=>{t(Error(n.statusText))},n.onload=()=>{if((n.status>=200&&n.status<300||n.status===0)&&n.response!==null){let r=n.response;if(e.type===`json`)try{r=JSON.parse(n.response)}catch(e){return t(e)}t(null,r,n.getResponseHeader(`Cache-Control`),n.getResponseHeader(`Expires`),n)}else{let e=new Blob([n.response],{type:n.getResponseHeader(`Content-Type`)});t(new fr(n.status,n.statusText,r.toString(),e))}},n.cancel=n.abort,n.send(e.body),n}function mr(e){return new Promise((t,n)=>{pr(e,(e,r,i,a,o)=>{e?n({err:e,data:null,xhr:o}):t({err:null,data:r,cacheControl:i,expires:a,xhr:o})})})}function hr(e,t){return pr(e,t)}var gr=(e,t)=>(dr(e.url)||hr)(ur(lr({},e),{type:`json`}),t),_r=(e,t)=>(dr(e.url)||hr)(ur(lr({},e),{type:`arrayBuffer`}),t),vr=(e,t)=>hr(ur(lr({},e),{method:`GET`}),t),yr=`data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=`;function br(e,t){let n=new window.Image,r=window.URL||window.webkitURL;n.crossOrigin=`anonymous`,n.onload=()=>{t(null,n),r.revokeObjectURL(n.src),n.onload=null,window.requestAnimationFrame(()=>{n.src=yr})},n.onerror=()=>t(Error(`Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`));let i=new Blob([new Uint8Array(e)],{type:`image/png`});n.src=e.byteLength?r.createObjectURL(i):yr}function xr(e,t){let n=new Blob([new Uint8Array(e)],{type:`image/png`});createImageBitmap(n).then(e=>{t(null,e)}).catch(e=>{t(Error(`Could not load image because of ${e.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}var Sr=(e,t,n)=>{let r=(e,r)=>{if(e)t(e);else if(r){let e=typeof createImageBitmap==`function`,i=n?n(r):r;e?xr(i,t):br(i,t)}};return e.type===`json`?gr(e,r):_r(e,r)},Cr=(e,t)=>{typeof createImageBitmap==`function`?xr(e,t):br(e,t)};function wr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Tr(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Er(){}var Dr=.7,Or=1/Dr,kr=`\\s*([+-]?\\d+)\\s*`,Ar=`\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*`,jr=`\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*`,Mr=/^#([0-9a-f]{3,8})$/,Nr=RegExp(`^rgb\\(`+[kr,kr,kr]+`\\)$`),Pr=RegExp(`^rgb\\(`+[jr,jr,jr]+`\\)$`),Fr=RegExp(`^rgba\\(`+[kr,kr,kr,Ar]+`\\)$`),Ir=RegExp(`^rgba\\(`+[jr,jr,jr,Ar]+`\\)$`),Lr=RegExp(`^hsl\\(`+[Ar,jr,jr]+`\\)$`),Rr=RegExp(`^hsla\\(`+[Ar,jr,jr,Ar]+`\\)$`),zr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wr(Er,Ur,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Br,formatHex:Br,formatHsl:Vr,formatRgb:Hr,toString:Hr});function Br(){return this.rgb().formatHex()}function Vr(){return Qr(this).formatHsl()}function Hr(){return this.rgb().formatRgb()}function Ur(e){var t,n;return e=(e+``).trim().toLowerCase(),(t=Mr.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Wr(t):n===3?new Jr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Gr(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Gr(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Nr.exec(e))?new Jr(t[1],t[2],t[3],1):(t=Pr.exec(e))?new Jr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Fr.exec(e))?Gr(t[1],t[2],t[3],t[4]):(t=Ir.exec(e))?Gr(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Lr.exec(e))?Zr(t[1],t[2]/100,t[3]/100,1):(t=Rr.exec(e))?Zr(t[1],t[2]/100,t[3]/100,t[4]):zr.hasOwnProperty(e)?Wr(zr[e]):e===`transparent`?new Jr(NaN,NaN,NaN,0):null}function Wr(e){return new Jr(e>>16&255,e>>8&255,e&255,1)}function Gr(e,t,n,r){return r<=0&&(e=t=n=NaN),new Jr(e,t,n,r)}function Kr(e){return e instanceof Er||(e=Ur(e)),e?(e=e.rgb(),new Jr(e.r,e.g,e.b,e.opacity)):new Jr}function qr(e,t,n,r){return arguments.length===1?Kr(e):new Jr(e,t,n,r??1)}function Jr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}wr(Jr,qr,Tr(Er,{brighter:function(e){return e=e==null?Or:Or**+e,new Jr(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Dr:Dr**+e,new Jr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:U,formatHex:U,formatRgb:Yr,toString:Yr}));function U(){return`#`+Xr(this.r)+Xr(this.g)+Xr(this.b)}function Yr(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?`rgb(`:`rgba(`)+Math.max(0,Math.min(255,Math.round(this.r)||0))+`, `+Math.max(0,Math.min(255,Math.round(this.g)||0))+`, `+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?`)`:`, `+e+`)`)}function Xr(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?`0`:``)+e.toString(16)}function Zr(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ei(e,t,n,r)}function Qr(e){if(e instanceof ei)return new ei(e.h,e.s,e.l,e.opacity);if(e instanceof Er||(e=Ur(e)),!e)return new ei;if(e instanceof ei)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,c=(a+i)/2;return s?(o=t===a?(n-r)/s+(n<r)*6:n===a?(r-t)/s+2:(t-n)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new ei(o,s,c,e.opacity)}function $r(e,t,n,r){return arguments.length===1?Qr(e):new ei(e,t,n,r??1)}function ei(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}wr(ei,$r,Tr(Er,{brighter:function(e){return e=e==null?Or:Or**+e,new ei(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Dr:Dr**+e,new ei(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Jr(W(e>=240?e-240:e+120,i,r),W(e,i,r),W(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?`hsl(`:`hsla(`)+(this.h||0)+`, `+(this.s||0)*100+`%, `+(this.l||0)*100+`%`+(e===1?`)`:`, `+e+`)`)}}));function W(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function ti(e){let t=Ur(e),n=[0,0,0,0];return t!=null&&(n[0]=t.r/255,n[1]=t.g/255,n[2]=t.b/255,n[3]=t.opacity),n}function ni(e){let t=e&&e[0],n=e&&e[1],r=e&&e[2];return t+n*256+r*65536-1}function ri(e){return[e+1&255,e+1>>8&255,e+1>>8>>8&255]}function ii(e){let t=window.document.createElement(`canvas`),n=t.getContext(`2d`);t.width=256,t.height=1;let r=null,i=n.createLinearGradient(0,0,256,1),a=e.positions[0],o=e.positions[e.positions.length-1];for(let t=0;t<e.colors.length;++t){let n=(e.positions[t]-a)/(o-a);i.addColorStop(n,e.colors[t])}return n.fillStyle=i,n.fillRect(0,0,256,1),r=new Uint8ClampedArray(n.getImageData(0,0,256,1).data),t=null,n=null,{data:r,width:256,height:1}}function ai(e,t){let n=window.document.createElement(`canvas`),r=n.getContext(`2d`);n.width=256,n.height=1;let i=r.createLinearGradient(0,0,256,1),a=t[1]-t[0];for(let n=0;n<e.colors.length;++n){let r=Math.max((e.positions[n]-t[0])/a,0);i.addColorStop(r,e.colors[n])}r.fillStyle=i,r.fillRect(0,0,256,1);let o=r.getImageData(0,0,256,1).data,s=li(r,o);return n=null,r=null,s}function oi(e){let t=window.document.createElement(`canvas`),n=t.getContext(`2d`);t.width=256,t.height=1;let r=n.createImageData(256,1);return r.data.fill(0),e.positions.forEach((t,n)=>{let i=ti(e.colors[n]);r.data[t*4+0]=i[0]*255,r.data[t*4+1]=i[1]*255,r.data[t*4+2]=i[2]*255,r.data[t*4+3]=i[3]*255}),t=null,n=null,r}function si(e){let t=window.document.createElement(`canvas`),n=t.getContext(`2d`);n.globalAlpha=1,t.width=256,t.height=1;let r=256/e.colors.length;for(let t=0;t<e.colors.length;t++)n.beginPath(),n.lineWidth=2,n.strokeStyle=e.colors[t],n.moveTo(t*r,0),n.lineTo((t+1)*r,0),n.stroke();let i=n.getImageData(0,0,256,1).data,a=li(n,i);return t=null,n=null,a}function ci(e,t){let n=window.document.createElement(`canvas`),r=n.getContext(`2d`);r.globalAlpha=1,n.width=256,n.height=1;let i=t[1]-t[0];e.positions.length-e.colors.length!==1&&console.warn(`positions 的数字个数应当比 colors 的样式多一个,poisitions 的首尾值一般为数据的最大最新值`);for(let n=0;n<e.colors.length;n++)r.beginPath(),r.lineWidth=2,r.strokeStyle=e.colors[n],r.moveTo((e.positions[n]-t[0])/i*255,0),r.lineTo((e.positions[n+1]-t[0])/i*255,0),r.stroke();let a=r.getImageData(0,0,256,1).data,o=li(r,a);return n=null,r=null,o}function li(e,t){let n=e.createImageData(256,1);for(let e=0;e<n.data.length;e+=4)n.data[e+0]=t[e+0],n.data[e+1]=t[e+1],n.data[e+2]=t[e+2],n.data[e+3]=t[e+3];return n}function ui(e){switch(e?.type){case`cat`:return[0,255];default:return[0,1]}}var di={isNil:Wt,merge:qt,throttle:rn,isString:It,debounce:A,pull:en,isTypedArray:x,isPlainObject:l,isNumber:Ht,isBoolean:zt,isEqual:ie,cloneDeep:te,uniq:F,clamp:St,upperFirst:ht,get:L,mergeWith:Nt,isFunction:T,isObject:v,isUndefined:Kt,camelCase:vt,uniqueId:sn},{pull:fi}=di;function pi(e){let t=e;return typeof e==`string`&&(t=window.document.getElementById(e)),t}function mi(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,``)}function hi(e){return mi(e).split(/\s+/)}function gi(e){let t=(document==null?void 0:document.documentElement)?.style;if(!t)return e[0];for(let n in e)if(e[n]&&e[n]in t)return e[n];return e[0]}function _i(e,t,n){let r=window.document.createElement(e);return t&&(r.className=t||``),n&&n.appendChild(r),r}function vi(e){let t=e.parentNode;t&&t.removeChild(e)}function yi(e,t){if(e.classList!==void 0){let n=hi(t);for(let t=0,r=n.length;t<r;t++)e.classList.add(n[t])}else if(!xi(e,t)){let n=Ci(e);Si(e,(n?n+` `:``)+t)}}function bi(e,t){e.classList===void 0?Si(e,mi((` `+Ci(e)+` `).replace(` `+t+` `,` `))):hi(t).forEach(t=>{e.classList.remove(t)})}function xi(e,t){if(e.classList!==void 0)return e.classList.contains(t);let n=Ci(e);return n.length>0&&RegExp(`(^|\\s)`+t+`(\\s|$)`).test(n)}function Si(e,t){e instanceof HTMLElement?e.className=t:e.className.baseVal=t}function Ci(e){return e instanceof SVGElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}gi([`transform`,`WebkitTransform`]);function wi(){let e=window.document.querySelector(`meta[name="viewport"]`);if(!e)return 1;let t=(e.content?.split(`,`)).find(e=>{let[t]=e.split(`=`);return t===`initial-scale`});return t?t.split(`=`)[1]*1:1}var G=wi()<1?1:window.devicePixelRatio;function K(e,t){e.setAttribute(`style`,`${e.style.cssText}${t}`)}function Ti(e){return Object.entries(e).map(([e,t])=>`${e}: ${t}`).join(`;`)}function Ei(e,t){return{left:e.left-t.left,top:e.top-t.top,right:t.left+t.width-e.left-e.width,bottom:t.top+t.height-e.top-e.height}}function Di(e){e.innerHTML=``}function Oi(e){e.setAttribute(`draggable`,`false`)}function ki(e,t){let n=Array.isArray(t)?t:[t],r=e;for(;r instanceof Element&&r!==window.document.body;){if(n.find(e=>r?.matches(e)))return r;r=r?.parentElement??null}}function Ai(e){return typeof ImageBitmap<`u`&&e instanceof ImageBitmap}var ji=navigator==null?void 0:navigator.userAgent;ji.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),ji.indexOf(`Android`)>-1||ji.indexOf(`Adr`);function Mi(e){var t=[1/0,1/0,-1/0,-1/0];return Qn(e,function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])}),t}Mi.default=Mi;var Ni=Mi;function Pi(e){return typeof e==`number`}function Fi(e){return e-Math.fround(e)}var Ii=2*Math.PI*6378137/2;function Li(e,t){let[n,r,i,a]=t;return e.lng>n&&e.lng<=i&&e.lat>r&&e.lat<=a}function Ri(e){let t=[1/0,1/0,-1/0,-1/0];return e.forEach(e=>{let{coordinates:n}=e;zi(t,n)}),t}function zi(e,t){return Array.isArray(t[0])?t.forEach(t=>{zi(e,t)}):(e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])),e}function Bi(e,t=!0,n={enable:!0,decimal:1}){e=Ui(e,t);let r=e[0],i=e[1],a=r*Ii/180,o=Math.log(Math.tan((90+i)*Math.PI/360))/(Math.PI/180);return o=o*Ii/180,n.enable&&(a=Number(a.toFixed(n.decimal)),o=Number(o.toFixed(n.decimal))),e.length===3?[a,o,e[2]]:[a,o]}function Vi(e){if(e==null)throw Error(`lng is required`);return(e>180||e<-180)&&(e%=360,e>180&&(e=-360+e),e<-180&&(e=360+e),e===0&&(e=0)),e}function Hi(e){if(e==null)throw Error(`lat is required`);return(e>90||e<-90)&&(e%=180,e>90&&(e=-180+e),e<-90&&(e=180+e),e===0&&(e=0)),e}function Ui(e,t){if(t===!1)return e;let n=Vi(e[0]),r=Hi(e[1]);return r>85&&(r=85),r<-85&&(r=-85),e.length===3?[n,r,e[2]]:[n,r]}function Wi(e){let t=85.0511287798,n=Math.max(Math.min(t,e[1]),-t),r=256<<20,i=Math.PI/180,a=e[0]*i,o=n*i;o=Math.log(Math.tan(Math.PI/4+o/2));let s=.5/Math.PI,c=-.5/Math.PI;return i=.5,a=r*(s*a+.5),o=r*(c*o+i),[Math.floor(a),Math.floor(o)]}function Gi(e,t){let n=Math.abs(e[1][1]-e[0][1])*t,r=Math.abs(e[1][0]-e[0][0])*t;return[[e[0][0]-r,e[0][1]-n],[e[1][0]+r,e[1][1]+n]]}function Ki(e,t){return e[0][0]<=t[0][0]&&e[0][1]<=t[0][1]&&e[1][0]>=t[1][0]&&e[1][1]>=t[1][1]}function qi(e){return[[e[0],e[1]],[e[2],e[3]]]}function Ji(e){let t=Yi(e,[0,0]);return[e[0]/t,e[1]/t]}function Yi(e,t){return Math.sqrt((e[0]-t[0])**2+(e[1]-t[1])**2)}function Xi(e){if(Pi(e[0]))return e;if(Pi(e[0][0]))throw Error(`当前数据不支持标注`);if(Pi(e[0][0][0])){let t=e,n=0,r=0,i=0;return t.forEach(e=>{e.forEach(e=>{n+=e[0],r+=e[1],i++})}),[n/i,r/i,0]}else throw Error(`当前数据不支持标注`)}function Zi(e){let t=e[0],n=e[1],r=e[0],i=e[1],a=0,o=0,s=0;for(let c=0;c<e.length;c+=2){let l=e[c],u=e[c+1];l&&u&&(t=Math.max(l,t),n=Math.max(u,n),r=Math.min(l,r),i=Math.min(u,i),a+=l,o+=u,s++)}return{center:[a/s,o/s],radius:Math.sqrt((t-r)**2+(n-i)**2)/2}}function Qi(e){return Ni(Jn([qn(e)]))}function $i(){return`xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx`.replace(/[xy]/g,e=>{let t=Math.random()*16|0;return(e===`x`?t:t&3|8).toString(16)})}var ea=class{constructor(e=50,t){this.limit=e,this.destroy=t||this.defaultDestroy,this.order=[],this.clear()}clear(){this.order.forEach(e=>{this.delete(e)}),this.cache={},this.order=[]}get(e){let t=this.cache[e];return t&&(this.deleteOrder(e),this.appendOrder(e)),t}set(e,t){this.cache[e]?(this.delete(e),this.cache[e]=t,this.appendOrder(e)):(Object.keys(this.cache).length===this.limit&&this.delete(this.order[0]),this.cache[e]=t,this.appendOrder(e))}delete(e){let t=this.cache[e];t&&(this.deleteCache(e),this.deleteOrder(e),this.destroy(t,e))}deleteCache(e){delete this.cache[e]}deleteOrder(e){let t=this.order.findIndex(t=>t===e);t>=0&&this.order.splice(t,1)}appendOrder(e){this.order.push(e)}defaultDestroy(e,t){return null}};function ta(e){if(e.length===0)throw Error(`max requires at least one data point`);let t=e[0];for(let n=1;n<e.length;n++)e[n]>t&&(t=e[n]);return t*1}function na(e){if(e.length===0)throw Error(`min requires at least one data point`);let t=e[0];for(let n=1;n<e.length;n++)e[n]<t&&(t=e[n]);return t*1}function ra(e){if(e.length===0)return 0;let t=e[0]*1;for(let n=1;n<e.length;n++)t+=e[n]*1;return t}function ia(e){if(e.length===0)throw Error(`mean requires at least one data point`);return ra(e)/e.length}function aa(e){if(e.length===0)throw Error(`mean requires at least one data point`);if(e.length<3)return e[0];e.sort();let t=e[0],n=NaN,r=0,i=1;for(let a=1;a<e.length+1;a++)e[a]===t?i++:(i>r&&(r=i,n=t),i=1,t=e[a]);return n*1}var oa={min:na,max:ta,mean:ia,sum:ra,mode:aa};function sa(e,t){return e.map(e=>e[t])}function ca(e,t){t===void 0&&(t={});var n=Number(e[0]),r=Number(e[1]),i=Number(e[2]),a=Number(e[3]);if(e.length===6)throw Error(`@turf/bbox-polygon does not support BBox with 6 positions`);var o=[n,r];return Kn([[o,[i,r],[i,a],[n,a],o]],t.properties,{bbox:e,id:t.id})}var la=t(((exports,t)=>{var n=Object.prototype.hasOwnProperty,r=`~`;function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,n,i,o){if(typeof n!=`function`)throw TypeError(`The listener must be a function`);var s=new a(n,i||e,o),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function s(e,t){--e._eventsCount===0?e._events=new i:delete e._events[t]}function c(){this._events=new i,this._eventsCount=0}c.prototype.eventNames=function(){var e=[],t,i;if(this._eventsCount===0)return e;for(i in t=this._events)n.call(t,i)&&e.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e},c.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,o=Array(a);i<a;i++)o[i]=n[i].fn;return o},c.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,i,a,o){var s=r?r+e:e;if(!this._events[s])return!1;var c=this._events[s],l=arguments.length,u,d;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,a),!0;case 6:return c.fn.call(c.context,t,n,i,a,o),!0}for(d=1,u=Array(l-1);d<l;d++)u[d-1]=arguments[d];c.fn.apply(c.context,u)}else{var f=c.length,p;for(d=0;d<f;d++)switch(c[d].once&&this.removeListener(e,c[d].fn,void 0,!0),l){case 1:c[d].fn.call(c[d].context);break;case 2:c[d].fn.call(c[d].context,t);break;case 3:c[d].fn.call(c[d].context,t,n);break;case 4:c[d].fn.call(c[d].context,t,n,i);break;default:if(!u)for(p=1,u=Array(l-1);p<l;p++)u[p-1]=arguments[p];c[d].fn.apply(c[d].context,u)}}return!0},c.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,i){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn===t&&(!i||o.once)&&(!n||o.context===n)&&s(this,a);else{for(var c=0,l=[],u=o.length;c<u;c++)(o[c].fn!==t||i&&!o[c].once||n&&o[c].context!==n)&&l.push(o[c]);l.length?this._events[a]=l.length===1?l[0]:l:s(this,a)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t!==void 0&&(t.exports=c)})),ua=(e=>(e.Realtime=`realtime`,e.Overlap=`overlap`,e.Replace=`replace`,e))(ua||{}),da=(e=>(e.Loading=`Loading`,e.Loaded=`Loaded`,e.Failure=`Failure`,e.Cancelled=`Cancelled`,e))(da||{}),fa=0,pa=1,ma=2;function ha(e){e.forEach(e=>{e.isCurrent&&(e.isVisible=e.isLoaded)})}function ga(e){e.forEach(e=>{e.properties.state=fa}),e.forEach(e=>{e.isCurrent&&!va(e)&&ya(e)}),e.forEach(e=>{e.isVisible=!!(e.properties.state&ma)})}function _a(e){e.forEach(e=>{e.properties.state=fa}),e.forEach(e=>{e.isCurrent&&va(e)}),e.slice().sort((e,t)=>e.z-t.z).forEach(e=>{e.isVisible=!!(e.properties.state&ma),e.children.length&&(e.isVisible||e.properties.state&pa)?e.children.forEach(e=>{e.properties.state=pa}):e.isCurrent&&ya(e)})}function va(e){for(;e;){if(e.isLoaded)return e.properties.state|=ma,!0;e=e.parent}return!1}function ya(e){e.children.forEach(e=>{e.isLoaded?e.properties.state|=ma:ya(e)})}var ba=[-1/0,-1/0,1/0,1/0],xa=.2,Sa={[ua.Realtime]:ha,[ua.Overlap]:ga,[ua.Replace]:_a},Ca=()=>{};function wa(e,t,n){let r=Math.floor((e+180)/360*2**n),i=Math.floor((1-Math.log(Math.tan(t*Math.PI/180)+1/Math.cos(t*Math.PI/180))/Math.PI)/2*2**n);return[r,i]}function Ta(e,t,n){let r=e/2**n*360-180,i=Math.PI-2*Math.PI*t/2**n,a=180/Math.PI*Math.atan(.5*(Math.exp(i)-Math.exp(-i)));return[r,a]}var Ea=(e,t,n)=>{let[r,i]=Ta(e,t,n),[a,o]=Ta(e+1,t+1,n);return[r,o,a,i]};function Da({zoom:e,latLonBounds:t,maxZoom:n=1/0,minZoom:r=0,zoomOffset:i=0,extent:a=ba}){let o=Math.ceil(e)+i;if(Number.isFinite(r)&&o<r)return[];Number.isFinite(n)&&o>n&&(o=n);let[s,c,l,u]=t,d=[Math.max(s,a[0]),Math.max(c,a[1]),Math.min(l,a[2]),Math.min(u,a[3])],f=[],[p,m]=wa(d[0],d[1],o),[h,g]=wa(d[2],d[3],o);for(let e=p;e<=h;e++)for(let t=g;t<=m;t++)f.push({x:e,y:t,z:o});let _=(h+p)/2,v=(m+g)/2,y=(e,t)=>Math.abs(e-_)+Math.abs(t-v);return f.sort((e,t)=>y(e.x,e.y)-y(t.x,t.y)),f}var Oa=(e,t,n,r=!0)=>{let i=2**n,a=i-1,o=i,s=e,c=t;return r&&(s<0?s+=o:s>a&&(s%=o)),{warpX:s,warpY:c}},ka=e(la()),Aa=(e,t,n)=>new Promise((r,i)=>{var a=e=>{try{s(n.next(e))}catch(e){i(e)}},o=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,o);s((n=n.apply(e,t)).next())}),ja=class extends ka.EventEmitter{constructor(e){super(),this.tileSize=256,this.isVisible=!1,this.isCurrent=!1,this.isVisibleChange=!1,this.loadedLayers=0,this.isLayerLoaded=!1,this.isLoad=!1,this.isChildLoad=!1,this.parent=null,this.children=[],this.data=null,this.properties={},this.loadDataId=0;let{x:t,y:n,z:r,tileSize:i,warp:a=!0}=e;this.x=t,this.y=n,this.z=r,this.warp=a||!0,this.tileSize=i}get isLoading(){return this.loadStatus===da.Loading}get isLoaded(){return this.loadStatus===da.Loaded}get isFailure(){return this.loadStatus===da.Failure}setTileLayerLoaded(){this.isLayerLoaded=!0}get isCancelled(){return this.loadStatus===da.Cancelled}get isDone(){return[da.Loaded,da.Cancelled,da.Failure].includes(this.loadStatus)}get bounds(){return Ea(this.x,this.y,this.z)}get bboxPolygon(){let[e,t,n,r]=this.bounds,i=[(n-e)/2,(r-t)/2];return ca(this.bounds,{properties:{key:this.key,id:this.key,bbox:this.bounds,center:i,meta:`
      ${this.key}
      `}})}get key(){return`${this.x}_${this.y}_${this.z}`}layerLoad(){this.loadedLayers++,this.emit(`layerLoaded`)}loadData(e){return Aa(this,arguments,function*({getData:e,onLoad:t,onError:n}){this.loadDataId++;let r=this.loadDataId;this.isLoading&&this.abortLoad(),this.abortController=new AbortController,this.loadStatus=da.Loading;let i=null,a;try{let{x:t,y:n,z:r,bounds:a,tileSize:o,warp:s}=this,{warpX:c,warpY:l}=Oa(t,n,r,s),{signal:u}=this.abortController;i=yield e({x:c,y:l,z:r,bounds:a,tileSize:o,signal:u,warp:s},this)}catch(e){a=e}if(r===this.loadDataId&&!(this.isCancelled&&!i)){if(a||!i){this.loadStatus=da.Failure,n(a,this);return}this.loadStatus=da.Loaded,this.data=i,t(this)}})}reloadData(e){this.isLoading&&this.abortLoad(),this.loadData(e)}abortLoad(){this.isLoaded||this.isCancelled||(this.loadStatus=da.Cancelled,this.abortController.abort(),this.xhrCancel&&this.xhrCancel())}},Ma=(e,t)=>{let n=qi(e),r=Gi(n,t),i=85.0511287798065;return[Math.max(r[0][0],-900),Math.max(r[0][1],-i),Math.min(r[1][0],900),Math.min(r[1][1],i)]},Na=(e,t)=>{let n=qi(e),r=qi(t);return Ki(n,r)},Pa=e(la()),Fa=Object.defineProperty,Ia=Object.defineProperties,La=Object.getOwnPropertyDescriptors,Ra=Object.getOwnPropertySymbols,za=Object.prototype.hasOwnProperty,Ba=Object.prototype.propertyIsEnumerable,Va=(e,t,n)=>t in e?Fa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ha=(e,t)=>{for(var n in t||={})za.call(t,n)&&Va(e,n,t[n]);if(Ra)for(var n of Ra(t))Ba.call(t,n)&&Va(e,n,t[n]);return e},Ua=(e,t)=>Ia(e,La(t)),{throttle:Wa}=di,Ga=class extends Pa.default{constructor(e){super(),this.currentTiles=[],this.cacheTiles=new Map,this.throttleUpdate=Wa((e,t)=>{this.update(e,t)},16),this.onTileLoad=e=>{this.emit(`tile-loaded`,e),this.updateTileVisible(),this.loadFinished()},this.onTileError=(e,t)=>{this.emit(`tile-error`,{error:e,tile:t}),this.updateTileVisible(),this.loadFinished()},this.onTileUnload=e=>{this.emit(`tile-unload`,e),this.loadFinished()},this.options={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0,extent:ba,getTileData:Ca,warp:!0,updateStrategy:ua.Replace},this.updateOptions(e)}get isLoaded(){return this.currentTiles.every(e=>e.isDone)}get tiles(){return Array.from(this.cacheTiles.values()).sort((e,t)=>e.z-t.z)}updateOptions(e){let t=e.minZoom===void 0?this.options.minZoom:Math.ceil(e.minZoom),n=e.maxZoom===void 0?this.options.maxZoom:Math.floor(e.maxZoom);this.options=Ua(Ha(Ha({},this.options),e),{minZoom:t,maxZoom:n})}update(e,t){let n=Math.max(0,Math.ceil(e));if(this.lastViewStates&&this.lastViewStates.zoom===n&&Na(this.lastViewStates.latLonBoundsBuffer,t))return;let r=Ma(t,xa);this.lastViewStates={zoom:n,latLonBounds:t,latLonBoundsBuffer:r},this.currentZoom=n;let i=!1,a=this.getTileIndices(n,r).filter(e=>this.options.warp||e.x>=0&&e.x<2**n);this.emit(`tiles-load-start`),this.currentTiles=a.map(({x:e,y:t,z:n})=>{let r=this.getTile(e,t,n);return r?((r?.isFailure||r?.isCancelled)&&r.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError}),r):(r=this.createTile(e,t,n),i=!0,r)}),i&&this.resizeCacheTiles(),this.updateTileVisible(),this.pruneRequests()}reloadAll(){for(let[e,t]of this.cacheTiles){if(!this.currentTiles.includes(t)){this.cacheTiles.delete(e),this.onTileUnload(t);return}this.onTileUnload(t),t.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError})}}reloadTileById(e,t,n){let r=this.cacheTiles.get(`${t},${n},${e}`);r&&(this.onTileUnload(r),r.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError}))}reloadTileByLnglat(e,t,n){let r=this.getTileByLngLat(e,t,n);r&&this.reloadTileById(r.z,r.x,r.y)}reloadTileByExtent(e,t){this.getTileIndices(t,e).forEach(e=>{this.reloadTileById(e.z,e.x,e.y)})}pruneRequests(){let e=[];for(let t of this.cacheTiles.values())t.isLoading&&!t.isCurrent&&!t.isVisible&&e.push(t);for(;e.length>0;)e.shift().abortLoad()}getTileByLngLat(e,t,n){let{zoomOffset:r}=this.options,i=Math.ceil(n)+r,a=wa(e,t,i);return this.tiles.filter(e=>e.key===`${a[0]}_${a[1]}_${i}`)[0]}getTileExtent(e,t){return this.getTileIndices(t,e)}getTileByZXY(e,t,n){return this.tiles.filter(r=>r.key===`${t}_${n}_${e}`)[0]}clear(){for(let e of this.cacheTiles.values())e.isLoading?e.abortLoad():this.onTileUnload(e);this.lastViewStates=void 0,this.cacheTiles.clear(),this.currentTiles=[]}destroy(){this.clear(),this.removeAllListeners()}updateTileVisible(){let e=this.options.updateStrategy,t=new Map;for(let e of this.cacheTiles.values())t.set(e.key,e.isVisible),e.isCurrent=!1,e.isVisible=!1;for(let e of this.currentTiles)e.isCurrent=!0,e.isVisible=!0;let n=Array.from(this.cacheTiles.values());typeof e==`function`?e(n):Sa[e](n);let r=!1;Array.from(this.cacheTiles.values()).forEach(e=>{e.isVisible===t.get(e.key)?e.isVisibleChange=!1:(e.isVisibleChange=!0,r=!0)}),r&&this.emit(`tile-update`)}getTileIndices(e,t){let{tileSize:n,extent:r,zoomOffset:i}=this.options,a=Math.floor(this.options.maxZoom),o=Math.ceil(this.options.minZoom);return Da({maxZoom:a,minZoom:o,zoomOffset:i,tileSize:n,zoom:e,latLonBounds:t,extent:r})}getTileId(e,t,n){return`${e},${t},${n}`}loadFinished(){let e=!this.currentTiles.some(e=>!e.isDone);return e&&this.emit(`tiles-load-finished`),e}getTile(e,t,n){let r=this.getTileId(e,t,n);return this.cacheTiles.get(r)}createTile(e,t,n){let r=this.getTileId(e,t,n),i=new ja({x:e,y:t,z:n,tileSize:this.options.tileSize,warp:this.options.warp});return this.cacheTiles.set(r,i),i.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError}),i}resizeCacheTiles(){let e=5*this.currentTiles.length;if(this.cacheTiles.size>e){for(let[t,n]of this.cacheTiles)if(!n.isVisible&&!this.currentTiles.includes(n)&&(this.cacheTiles.delete(t),this.onTileUnload(n)),this.cacheTiles.size<=e)break}this.rebuildTileTree()}rebuildTileTree(){for(let e of this.cacheTiles.values())e.parent=null,e.children.length=0;for(let e of this.cacheTiles.values()){let t=this.getNearestAncestor(e.x,e.y,e.z);e.parent=t,t?.children&&t.children.push(e)}}getNearestAncestor(e,t,n){for(;n>this.options.minZoom;){e=Math.floor(e/2),t=Math.floor(t/2),--n;let r=this.getTile(e,t,n);if(r)return r}return null}};function Ka(e){let t=[],n=/\{([a-z])-([a-z])\}/.exec(e);if(n){let r=n[1].charCodeAt(0),i=n[2].charCodeAt(0),a;for(a=r;a<=i;++a)t.push(e.replace(n[0],String.fromCharCode(a)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e),n){let r=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=r;i++)t.push(e.replace(n[0],i.toString()));return t}return t.push(e),t}function qa(e,t){if(!e||!e.length)throw Error(`url is not allowed to be empty`);let{x:n,y:r,z:i}=t,a=Ka(e),o=Math.abs(n+r)%a.length;return(dr(a[o])?`${a[o]}/{z}/{x}/{y}`:a[o]).replace(/\{x\}/g,n.toString()).replace(/\{y\}/g,r.toString()).replace(/\{z\}/g,i.toString()).replace(/\{bbox\}/g,Ea(n,r,i).join(`,`)).replace(/\{-y\}/g,(2**i-r-1).toString())}function Ja(e,t){let{x:n,y:r,z:i,layer:a,version:o=`1.0.0`,style:s=`default`,format:c,service:l=`WMTS`,tileMatrixset:u}=t,d=Ka(e),f=Math.abs(n+r)%d.length;return`${d[f]}&SERVICE=${l}&REQUEST=GetTile&VERSION=${o}&LAYER=${a}&STYLE=${s}&TILEMATRIXSET=${u}&FORMAT=${c}&TILECOL=${n}&TILEROW=${r}&TILEMATRIX=${i}`}function Ya(e,t){return e??t}var Xa=e(t(((exports,t)=>{t.exports=n;function n(e,t){var i=e&&e.type,a;if(i===`FeatureCollection`)for(a=0;a<e.features.length;a++)n(e.features[a],t);else if(i===`GeometryCollection`)for(a=0;a<e.geometries.length;a++)n(e.geometries[a],t);else if(i===`Feature`)n(e.geometry,t);else if(i===`Polygon`)r(e.coordinates,t);else if(i===`MultiPolygon`)for(a=0;a<e.coordinates.length;a++)r(e.coordinates[a],t);return e}function r(e,t){if(e.length!==0){i(e[0],t);for(var n=1;n<e.length;n++)i(e[n],!t)}}function i(e,t){for(var n=0,r=0,i=0,a=e.length,o=a-1;i<a;o=i++){var s=(e[i][0]-e[o][0])*(e[o][1]+e[i][1]),c=n+s;r+=Math.abs(n)>=Math.abs(s)?n-c+s:s-c+n,n=c}n+r>=0!=!!t&&e.reverse()}}))());function Za(e,t){return e.map(e=>e[t]*1)}function Qa(e){return Array.isArray(e)?e.length===0||typeof e[0]==`number`:!1}function $a(e){let t=Object.isFrozen(e)?di.cloneDeep(e):e;return(0,Xa.default)(t,!0),t}function eo(e,t){return e||[[t[0],t[3]],[t[2],t[3]],[t[2],t[1]],[t[0],t[1]]]}var to=Object.defineProperty,no=Object.defineProperties,ro=Object.getOwnPropertyDescriptors,io=Object.getOwnPropertySymbols,ao=Object.prototype.hasOwnProperty,oo=Object.prototype.propertyIsEnumerable,so=(e,t,n)=>t in e?to(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,co=(e,t)=>{for(var n in t||={})ao.call(t,n)&&so(e,n,t[n]);if(io)for(var n of io(t))oo.call(t,n)&&so(e,n,t[n]);return e},lo=(e,t)=>no(e,ro(t));function uo(e,t){let{x:n,y:r,x1:i,y1:a,coordinates:o,geometry:s}=t,c=[];if(!Array.isArray(e))return{dataArray:[]};if(s)return e.filter(e=>e[s]&&e[s].type&&e[s].coordinates&&e[s].coordinates.length>0).forEach((e,t)=>{let n=$a(e[s]);er(n,n=>{let r=Xn(n),i=lo(co({},e),{_id:t,coordinates:r});c.push(i)})}),{dataArray:c};for(let t=0;t<e.length;t++){let s=e[t],l=[];if(o){let e=`Polygon`;Array.isArray(o[0])||(e=`Point`),Array.isArray(o[0])&&!Array.isArray(o[0][0])&&(e=`LineString`),l=$a({type:e,coordinates:s[o]}).coordinates}else if(n&&r&&i&&a){let e=[parseFloat(s[n]),parseFloat(s[r])],t=[parseFloat(s[i]),parseFloat(s[a])];l=[e,t]}else n&&r&&(l=[parseFloat(s[n]),parseFloat(s[r])]);let u=lo(co({},s),{_id:t,coordinates:l});c.push(u)}return{dataArray:c}}function fo(e,t){let n=Un(e);return uo(n,t)}var po=Object.defineProperty,mo=Object.defineProperties,ho=Object.getOwnPropertyDescriptors,go=Object.getOwnPropertySymbols,_o=Object.prototype.hasOwnProperty,vo=Object.prototype.propertyIsEnumerable,yo=(e,t,n)=>t in e?po(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bo=(e,t)=>{for(var n in t||={})_o.call(t,n)&&yo(e,n,t[n]);if(go)for(var n of go(t))vo.call(t,n)&&yo(e,n,t[n]);return e},xo=(e,t)=>mo(e,ho(t));function So(e){let t=e.toString(),n=5381,r=t.length;for(;r;)n=n*33^t.charCodeAt(--r);return n>>>0}function Co(e,t){return t===void 0?null:isNaN(e.properties[t]*1)?e.properties&&e.properties[t]?So(e.properties[t]+``)%1000019:null:e.properties[t]*1}function wo(e,t){let n=[],r={};return e.features?(e.features=e.features.filter(e=>{let t=e.geometry;return e!=null&&t&&t.type&&t.coordinates&&t.coordinates.length>0}),e=$a(e),e.features.length===0?{dataArray:[],featureKeys:r}:(er(e,(e,r)=>{let i=Co(e,t?.featureId);i===null&&(i=r);let a=i,o=Xn(e),s=xo(bo({},e.properties),{coordinates:o,_id:a});n.push(s)}),{dataArray:n,featureKeys:r})):(e.features=[],{dataArray:[]})}function To(e,t,n,r){for(var i=r,a=n-t>>1,o=n-t,s,c=e[t],l=e[t+1],u=e[n],d=e[n+1],f=t+3;f<n;f+=3){var p=Eo(e[f],e[f+1],c,l,u,d);if(p>i)s=f,i=p;else if(p===i){var m=Math.abs(f-a);m<o&&(s=f,o=m)}}i>r&&(s-t>3&&To(e,t,s,r),e[s+2]=i,n-s>3&&To(e,s,n,r))}function Eo(e,t,n,r,i,a){var o=i-n,s=a-r;if(o!==0||s!==0){var c=((e-n)*o+(t-r)*s)/(o*o+s*s);c>1?(n=i,r=a):c>0&&(n+=o*c,r+=s*c)}return o=e-n,s=t-r,o*o+s*s}function Do(e,t,n,r){var i={id:e===void 0?null:e,type:t,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return Oo(i),i}function Oo(e){var t=e.geometry,n=e.type;if(n===`Point`||n===`MultiPoint`||n===`LineString`)ko(e,t);else if(n===`Polygon`||n===`MultiLineString`)for(var r=0;r<t.length;r++)ko(e,t[r]);else if(n===`MultiPolygon`)for(r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)ko(e,t[r][i])}function ko(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function Ao(e,t){var n=[];if(e.type===`FeatureCollection`)for(var r=0;r<e.features.length;r++)jo(n,e.features[r],t,r);else e.type===`Feature`?jo(n,e,t):jo(n,{geometry:e},t);return n}function jo(e,t,n,r){if(t.geometry){var i=t.geometry.coordinates,a=t.geometry.type,o=(n.tolerance/((1<<n.maxZoom)*n.extent))**2,s=[],c=t.id;if(n.promoteId?c=t.properties[n.promoteId]:n.generateId&&(c=r||0),a===`Point`)Mo(i,s);else if(a===`MultiPoint`)for(var l=0;l<i.length;l++)Mo(i[l],s);else if(a===`LineString`)No(i,s,o,!1);else if(a===`MultiLineString`)if(n.lineMetrics){for(l=0;l<i.length;l++)s=[],No(i[l],s,o,!1),e.push(Do(c,`LineString`,s,t.properties));return}else Po(i,s,o,!1);else if(a===`Polygon`)Po(i,s,o,!0);else if(a===`MultiPolygon`)for(l=0;l<i.length;l++){var u=[];Po(i[l],u,o,!0),s.push(u)}else if(a===`GeometryCollection`){for(l=0;l<t.geometry.geometries.length;l++)jo(e,{id:c,geometry:t.geometry.geometries[l],properties:t.properties},n,r);return}else throw Error(`Input data is not a valid GeoJSON object.`);e.push(Do(c,a,s,t.properties))}}function Mo(e,t){t.push(Fo(e[0])),t.push(Io(e[1])),t.push(0)}function No(e,t,n,r){for(var i,a,o=0,s=0;s<e.length;s++){var c=Fo(e[s][0]),l=Io(e[s][1]);t.push(c),t.push(l),t.push(0),s>0&&(r?o+=(i*l-c*a)/2:o+=Math.sqrt((c-i)**2+(l-a)**2)),i=c,a=l}var u=t.length-3;t[2]=1,To(t,0,u,n),t[u+2]=1,t.size=Math.abs(o),t.start=0,t.end=t.size}function Po(e,t,n,r){for(var i=0;i<e.length;i++){var a=[];No(e[i],a,n,r),t.push(a)}}function Fo(e){return e/360+.5}function Io(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function Lo(e,t,n,r,i,a,o,s){if(n/=t,r/=t,a>=n&&o<r)return e;if(o<n||a>=r)return null;for(var c=[],l=0;l<e.length;l++){var u=e[l],d=u.geometry,f=u.type,p=i===0?u.minX:u.minY,m=i===0?u.maxX:u.maxY;if(p>=n&&m<r){c.push(u);continue}else if(m<n||p>=r)continue;var h=[];if(f===`Point`||f===`MultiPoint`)Ro(d,h,n,r,i);else if(f===`LineString`)zo(d,h,n,r,i,!1,s.lineMetrics);else if(f===`MultiLineString`)Vo(d,h,n,r,i,!1);else if(f===`Polygon`)Vo(d,h,n,r,i,!0);else if(f===`MultiPolygon`)for(var g=0;g<d.length;g++){var _=[];Vo(d[g],_,n,r,i,!0),_.length&&h.push(_)}if(h.length){if(s.lineMetrics&&f===`LineString`){for(g=0;g<h.length;g++)c.push(Do(u.id,f,h[g],u.tags));continue}(f===`LineString`||f===`MultiLineString`)&&(h.length===1?(f=`LineString`,h=h[0]):f=`MultiLineString`),(f===`Point`||f===`MultiPoint`)&&(f=h.length===3?`Point`:`MultiPoint`),c.push(Do(u.id,f,h,u.tags))}}return c.length?c:null}function Ro(e,t,n,r,i){for(var a=0;a<e.length;a+=3){var o=e[a+i];o>=n&&o<=r&&(t.push(e[a]),t.push(e[a+1]),t.push(e[a+2]))}}function zo(e,t,n,r,i,a,o){for(var s=Bo(e),c=i===0?Uo:Wo,l=e.start,u,d,f=0;f<e.length-3;f+=3){var p=e[f],m=e[f+1],h=e[f+2],g=e[f+3],_=e[f+4],v=i===0?p:m,y=i===0?g:_,b=!1;o&&(u=Math.sqrt((p-g)**2+(m-_)**2)),v<n?y>n&&(d=c(s,p,m,g,_,n),o&&(s.start=l+u*d)):v>r?y<r&&(d=c(s,p,m,g,_,r),o&&(s.start=l+u*d)):Ho(s,p,m,h),y<n&&v>=n&&(d=c(s,p,m,g,_,n),b=!0),y>r&&v<=r&&(d=c(s,p,m,g,_,r),b=!0),!a&&b&&(o&&(s.end=l+u*d),t.push(s),s=Bo(e)),o&&(l+=u)}var x=e.length-3;p=e[x],m=e[x+1],h=e[x+2],v=i===0?p:m,v>=n&&v<=r&&Ho(s,p,m,h),x=s.length-3,a&&x>=3&&(s[x]!==s[0]||s[x+1]!==s[1])&&Ho(s,s[0],s[1],s[2]),s.length&&t.push(s)}function Bo(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function Vo(e,t,n,r,i,a){for(var o=0;o<e.length;o++)zo(e[o],t,n,r,i,a,!1)}function Ho(e,t,n,r){e.push(t),e.push(n),e.push(r)}function Uo(e,t,n,r,i,a){var o=(a-t)/(r-t);return e.push(a),e.push(n+(i-n)*o),e.push(1),o}function Wo(e,t,n,r,i,a){var o=(a-n)/(i-n);return e.push(t+(r-t)*o),e.push(a),e.push(1),o}function Go(e,t){var n=t.buffer/t.extent,r=e,i=Lo(e,1,-1-n,n,0,-1,2,t),a=Lo(e,1,1-n,2+n,0,-1,2,t);return(i||a)&&(r=Lo(e,1,-n,1+n,0,-1,2,t)||[],i&&(r=Ko(i,1).concat(r)),a&&(r=r.concat(Ko(a,-1)))),r}function Ko(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],a=i.type,o;if(a===`Point`||a===`MultiPoint`||a===`LineString`)o=qo(i.geometry,t);else if(a===`MultiLineString`||a===`Polygon`){o=[];for(var s=0;s<i.geometry.length;s++)o.push(qo(i.geometry[s],t))}else if(a===`MultiPolygon`)for(o=[],s=0;s<i.geometry.length;s++){for(var c=[],l=0;l<i.geometry[s].length;l++)c.push(qo(i.geometry[s][l],t));o.push(c)}n.push(Do(i.id,a,o,i.tags))}return n}function qo(e,t){var n=[];n.size=e.size,e.start!==void 0&&(n.start=e.start,n.end=e.end);for(var r=0;r<e.length;r+=3)n.push(e[r]+t,e[r+1],e[r+2]);return n}function Jo(e,t){if(e.transformed)return e;var n=1<<e.z,r=e.x,i=e.y,a,o,s;for(a=0;a<e.features.length;a++){var c=e.features[a],l=c.geometry,u=c.type;if(c.geometry=[],u===1)for(o=0;o<l.length;o+=2)c.geometry.push(Yo(l[o],l[o+1],t,n,r,i));else for(o=0;o<l.length;o++){var d=[];for(s=0;s<l[o].length;s+=2)d.push(Yo(l[o][s],l[o][s+1],t,n,r,i));c.geometry.push(d)}}return e.transformed=!0,e}function Yo(e,t,n,r,i,a){return[Math.round(n*(e*r-i)),Math.round(n*(t*r-a))]}function Xo(e,t,n,r,i){for(var a=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),o={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){o.numFeatures++,Zo(o,e[s],a,i);var c=e[s].minX,l=e[s].minY,u=e[s].maxX,d=e[s].maxY;c<o.minX&&(o.minX=c),l<o.minY&&(o.minY=l),u>o.maxX&&(o.maxX=u),d>o.maxY&&(o.maxY=d)}return o}function Zo(e,t,n,r){var i=t.geometry,a=t.type,o=[];if(a===`Point`||a===`MultiPoint`)for(var s=0;s<i.length;s+=3)o.push(i[s]),o.push(i[s+1]),e.numPoints++,e.numSimplified++;else if(a===`LineString`)Qo(o,i,e,n,!1,!1);else if(a===`MultiLineString`||a===`Polygon`)for(s=0;s<i.length;s++)Qo(o,i[s],e,n,a===`Polygon`,s===0);else if(a===`MultiPolygon`)for(var c=0;c<i.length;c++){var l=i[c];for(s=0;s<l.length;s++)Qo(o,l[s],e,n,!0,s===0)}if(o.length){var u=t.tags||null;if(a===`LineString`&&r.lineMetrics){for(var d in u={},t.tags)u[d]=t.tags[d];u.mapbox_clip_start=i.start/i.size,u.mapbox_clip_end=i.end/i.size}var f={geometry:o,type:a===`Polygon`||a===`MultiPolygon`?3:a===`LineString`||a===`MultiLineString`?2:1,tags:u};t.id!==null&&(f.id=t.id),e.features.push(f)}}function Qo(e,t,n,r,i,a){var o=r*r;if(r>0&&t.size<(i?o:r)){n.numPoints+=t.length/3;return}for(var s=[],c=0;c<t.length;c+=3)(r===0||t[c+2]>o)&&(n.numSimplified++,s.push(t[c]),s.push(t[c+1])),n.numPoints++;i&&$o(s,a),e.push(s)}function $o(e,t){for(var n=0,r=0,i=e.length,a=i-2;r<i;a=r,r+=2)n+=(e[r]-e[a])*(e[r+1]+e[a+1]);if(n>0===t)for(r=0,i=e.length;r<i/2;r+=2){var o=e[r],s=e[r+1];e[r]=e[i-2-r],e[r+1]=e[i-1-r],e[i-2-r]=o,e[i-1-r]=s}}function es(e,t){return new ts(e,t)}function ts(e,t){t=this.options=rs(Object.create(this.options),t);var n=t.debug;if(n&&console.time(`preprocess data`),t.maxZoom<0||t.maxZoom>24)throw Error(`maxZoom should be in the 0-24 range`);if(t.promoteId&&t.generateId)throw Error(`promoteId and generateId cannot be used together.`);var r=Ao(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd(`preprocess data`),console.log(`index: maxZoom: %d, maxPoints: %d`,t.indexMaxZoom,t.indexMaxPoints),console.time(`generate tiles`),this.stats={},this.total=0),r=Go(r,t),r.length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log(`features: %d, points: %d`,this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd(`generate tiles`),console.log(`tiles generated:`,this.total,JSON.stringify(this.stats)))}ts.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ts.prototype.splitTile=function(e,t,n,r,i,a,o){for(var s=[e,t,n,r],c=this.options,l=c.debug;s.length;){r=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();var u=1<<t,d=ns(t,n,r),f=this.tiles[d];if(!f&&(l>1&&console.time(`creation`),f=this.tiles[d]=Xo(e,t,n,r,c),this.tileCoords.push({z:t,x:n,y:r}),l)){l>1&&(console.log(`tile z%d-%d-%d (features: %d, points: %d, simplified: %d)`,t,n,r,f.numFeatures,f.numPoints,f.numSimplified),console.timeEnd(`creation`));var p=`z`+t;this.stats[p]=(this.stats[p]||0)+1,this.total++}if(f.source=e,i){if(t===c.maxZoom||t===i)continue;var m=1<<i-t;if(n!==Math.floor(a/m)||r!==Math.floor(o/m))continue}else if(t===c.indexMaxZoom||f.numPoints<=c.indexMaxPoints)continue;if(f.source=null,e.length!==0){l>1&&console.time(`clipping`);var h=.5*c.buffer/c.extent,g=.5-h,_=.5+h,v=1+h,y=b=x=S=null,b,x,S,C=Lo(e,u,n-h,n+_,0,f.minX,f.maxX,c),w=Lo(e,u,n+g,n+v,0,f.minX,f.maxX,c);e=null,C&&=(y=Lo(C,u,r-h,r+_,1,f.minY,f.maxY,c),b=Lo(C,u,r+g,r+v,1,f.minY,f.maxY,c),null),w&&=(x=Lo(w,u,r-h,r+_,1,f.minY,f.maxY,c),S=Lo(w,u,r+g,r+v,1,f.minY,f.maxY,c),null),l>1&&console.timeEnd(`clipping`),s.push(y||[],t+1,n*2,r*2),s.push(b||[],t+1,n*2,r*2+1),s.push(x||[],t+1,n*2+1,r*2),s.push(S||[],t+1,n*2+1,r*2+1)}}},ts.prototype.getTile=function(e,t,n){var r=this.options,i=r.extent,a=r.debug;if(e<0||e>24)return null;var o=1<<e;t=(t%o+o)%o;var s=ns(e,t,n);if(this.tiles[s])return Jo(this.tiles[s],i);a>1&&console.log(`drilling down to z%d-%d-%d`,e,t,n);for(var c=e,l=t,u=n,d;!d&&c>0;)c--,l=Math.floor(l/2),u=Math.floor(u/2),d=this.tiles[ns(c,l,u)];return!d||!d.source?null:(a>1&&console.log(`found parent tile z%d-%d-%d`,c,l,u),a>1&&console.time(`drilling down`),this.splitTile(d.source,c,l,u,e,t,n),a>1&&console.timeEnd(`drilling down`),this.tiles[s]?Jo(this.tiles[s],i):null)};function ns(e,t,n){return((1<<e)*n+t)*32+e}function rs(e,t){for(var n in t)e[n]=t[n];return e}var os=class{constructor(e,t,n,r){this.vectorLayerCache={},this.x=t,this.y=n,this.z=r,this.vectorTile=e}getTileData(e){return!e||!this.vectorTile.layers[e]?[]:this.vectorLayerCache[e]?this.vectorLayerCache[e]:this.vectorTile.layers[e].features}getFeatureById(){throw Error(`Method not implemented.`)}},ss=Object.defineProperty,cs=Object.defineProperties,ls=Object.getOwnPropertyDescriptors,us=Object.getOwnPropertySymbols,ds=Object.prototype.hasOwnProperty,fs=Object.prototype.propertyIsEnumerable,ps=(e,t,n)=>t in e?ss(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ms=(e,t)=>{for(var n in t||={})ds.call(t,n)&&ps(e,n,t[n]);if(us)for(var n of us(t))fs.call(t,n)&&ps(e,n,t[n]);return e},hs=(e,t)=>cs(e,ls(t)),gs=(e,t,n)=>new Promise((r,i)=>{var a=e=>{try{s(n.next(e))}catch(e){i(e)}},o=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,o);s((n=n.apply(e,t)).next())}),_s={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0};function vs(e){let t=0;for(let n=0,r=e.length,i=r-1,a,o;n<r;i=n++)a=e[n],o=e[i],t+=(o.x-a.x)*(a.y+o.y);return t}function ys(e){let t=e.length;if(t<=1)return[e];let n=[],r,i;for(let a=0;a<t;a++){let t=vs(e[a]);t!==0&&(i===void 0&&(i=t<0),i===t<0?(r&&n.push(r),r=[e[a]]):r.push(e[a]))}return r&&n.push(r),n}var bs=[`Unknown`,`Point`,`LineString`,`Polygon`];function xs(e,t,n,r,i){let a=i.geometry,o=i.type,s=i.tags,c=i.id,l=e*2**r,u=e*t,d=e*n,f=bs[o],p,m;function h(e){for(let t=0;t<e.length;t++){let n=e[t];if(n[3])break;let r=180-(n[1]+d)*360/l,i=(n[0]+u)*360/l-180,a=360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90;e[t]=[i,a,0,1]}}switch(o){case 1:let e=[];for(p=0;p<a.length;p++)e[p]=a[p][0];a=e,h(a);break;case 2:for(p=0;p<a.length;p++)h(a[p]);break;case 3:for(a=ys(a),p=0;p<a.length;p++)for(m=0;m<a[p].length;m++)h(a[p][m]);break}return a.length===1?a=a[0]:f=`Multi`+f,{type:`Feature`,geometry:{type:f,coordinates:a},properties:s,id:c,relativeOrigin:[0,0],coord:``}}var Ss=(e,t,n,r)=>gs(void 0,null,function*(){return new Promise(i=>{let a=t.getTile(e.z,e.x,e.y),o={layers:{defaultLayer:{features:a?a.features.map(e=>xs(r,n.x,n.y,n.z,e)):[]}}},s=new os(o,e.x,e.y,e.z);i(s)})});function Cs(e){let t={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!0,debug:0};return e===void 0||e.geojsonvtOptions===void 0?t:ms(ms({},t),e.geojsonvtOptions)}function ws(e,t){let n=Cs(t),r=n.extent||4096,i=es(e,n),a=hs(ms(ms({},_s),t),{getTileData:(e,t)=>Ss(t,i,e,r)});return{data:e,dataArray:[],tilesetOptions:a,isTile:!0}}var Ts=Object.defineProperty,Es=Object.defineProperties,Ds=Object.getOwnPropertyDescriptors,Os=Object.getOwnPropertySymbols,ks=Object.prototype.hasOwnProperty,As=Object.prototype.propertyIsEnumerable,js=(e,t,n)=>t in e?Ts(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ms=(e,t)=>{for(var n in t||={})ks.call(t,n)&&js(e,n,t[n]);if(Os)for(var n of Os(t))As.call(t,n)&&js(e,n,t[n]);return e},Ns=(e,t)=>Es(e,Ds(t));function Ps(e,t){let{extent:n=[121.168,30.2828,121.384,30.4219],coordinates:r,requestParameters:i={}}=t,a=new Promise(t=>{e instanceof HTMLImageElement||Ai(e)?t([e]):Fs(e,i,e=>{t(e)})}),o=eo(r,n);return{originData:e,images:a,_id:1,dataArray:[{_id:0,coordinates:o}]}}function Fs(e,t,n){let r=[];if(typeof e==`string`)Sr(Ns(Ms({},t),{url:e}),(e,t)=>{t&&(r.push(t),n(r))});else{let i=e.length,a=0;e.forEach(e=>{Sr(Ns(Ms({},t),{url:e}),(e,t)=>{a++,t&&r.push(t),a===i&&n(r)})})}return Ps}var Is=Object.defineProperty,Ls=Object.defineProperties,Rs=Object.getOwnPropertyDescriptors,zs=Object.getOwnPropertySymbols,Bs=Object.prototype.hasOwnProperty,Vs=Object.prototype.propertyIsEnumerable,Hs=(e,t,n)=>t in e?Is(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Us=(e,t)=>{for(var n in t||={})Bs.call(t,n)&&Hs(e,n,t[n]);if(zs)for(var n of zs(t))Vs.call(t,n)&&Hs(e,n,t[n]);return e},Ws=(e,t)=>Ls(e,Rs(t)),Gs=(e,t,n)=>new Promise((r,i)=>{var a=e=>{try{s(n.next(e))}catch(e){i(e)}},o=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,o);s((n=n.apply(e,t)).next())}),Ks=(e,t,n,r)=>Gs(void 0,null,function*(){let i={x:t.x,y:t.y,z:t.z},a=qa(e,i);return new Promise(e=>{r?r(i,(n,r)=>{if(n||!r){let n=new os({layers:{defaultLayer:{features:[]}}},t.x,t.y,t.z);e(n)}else{let n={layers:{defaultLayer:{features:r.features}}},i=new os(n,t.x,t.y,t.z);e(i)}}):vr(Ws(Us({},n),{url:a}),(n,r)=>{if(n||!r){let n=new os({layers:{defaultLayer:{features:[]}}},t.x,t.y,t.z);e(n)}else{let n={layers:{defaultLayer:{features:JSON.parse(r)}}},i=new os(n,t.x,t.y,t.z);e(i)}})})});function qs(e,t){return{dataArray:[],tilesetOptions:Ws(Us({},t),{getTileData:(n,r)=>Ks(e,r,t?.requestParameters,t.getCustomData)}),isTile:!0}}var Js=t(((exports,t)=>{t.exports=n;function n(e,t){this.x=e,this.y=t}n.prototype={clone:function(){return new n(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,i=n*this.x+t*this.y;return this.x=r,this.y=i,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.x+n*(this.x-t.x)-r*(this.y-t.y),a=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=i,this.y=a,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},n.convert=function(e){return e instanceof n?e:Array.isArray(e)?new n(e[0],e[1]):e}})),Ys=t(((exports,t)=>{var n=Js();t.exports=r;function r(e,t,n,r,a){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=a,e.readFields(i,this,t)}function i(e,t,n){e==1?t.id=n.readVarint():e==2?a(n,t):e==3?t.type=n.readVarint():e==4&&(t._geometry=n.pos)}function a(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}r.types=[`Unknown`,`Point`,`LineString`,`Polygon`],r.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,r=1,i=0,a=0,o=0,s=[],c;e.pos<t;){if(i<=0){var l=e.readVarint();r=l&7,i=l>>3}if(i--,r===1||r===2)a+=e.readSVarint(),o+=e.readSVarint(),r===1&&(c&&s.push(c),c=[]),c.push(new n(a,o));else if(r===7)c&&c.push(c[0].clone());else throw Error(`unknown command `+r)}return c&&s.push(c),s},r.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,a=0,o=1/0,s=-1/0,c=1/0,l=-1/0;e.pos<t;){if(r<=0){var u=e.readVarint();n=u&7,r=u>>3}if(r--,n===1||n===2)i+=e.readSVarint(),a+=e.readSVarint(),i<o&&(o=i),i>s&&(s=i),a<c&&(c=a),a>l&&(l=a);else if(n!==7)throw Error(`unknown command `+n)}return[o,c,s,l]},r.prototype.toGeoJSON=function(e,t,n){var i=this.extent*2**n,a=this.extent*e,s=this.extent*t,c=this.loadGeometry(),l=r.types[this.type],u,d;function f(e){for(var t=0;t<e.length;t++){var n=e[t],r=180-(n.y+s)*360/i;e[t]=[(n.x+a)*360/i-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}switch(this.type){case 1:var p=[];for(u=0;u<c.length;u++)p[u]=c[u][0];c=p,f(c);break;case 2:for(u=0;u<c.length;u++)f(c[u]);break;case 3:for(c=o(c),u=0;u<c.length;u++)for(d=0;d<c[u].length;d++)f(c[u][d]);break}c.length===1?c=c[0]:l=`Multi`+l;var m={type:`Feature`,geometry:{type:l,coordinates:c},properties:this.properties};return`id`in this&&(m.id=this.id),m};function o(e){var t=e.length;if(t<=1)return[e];for(var n=[],r,i,a=0;a<t;a++){var o=s(e[a]);o!==0&&(i===void 0&&(i=o<0),i===o<0?(r&&n.push(r),r=[e[a]]):r.push(e[a]))}return r&&n.push(r),n}function s(e){for(var t=0,n=0,r=e.length,i=r-1,a,o;n<r;i=n++)a=e[n],o=e[i],t+=(o.x-a.x)*(a.y+o.y);return t}})),Xs=t(((exports,t)=>{var n=Ys();t.exports=r;function r(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(i,this,t),this.length=this._features.length}function i(e,t,n){e===15?t.version=n.readVarint():e===1?t.name=n.readString():e===5?t.extent=n.readVarint():e===2?t._features.push(n.pos):e===3?t._keys.push(n.readString()):e===4&&t._values.push(a(n))}function a(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=r===1?e.readString():r===2?e.readFloat():r===3?e.readDouble():r===4?e.readVarint64():r===5?e.readVarint():r===6?e.readSVarint():r===7?e.readBoolean():null}return t}r.prototype.feature=function(e){if(e<0||e>=this._features.length)throw Error(`feature index out of bounds`);this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new n(this._pbf,t,this.extent,this._keys,this._values)}})),Zs=t(((exports,t)=>{var n=Xs();t.exports=r;function r(e,t){this.layers=e.readFields(i,{},t)}function i(e,t,r){if(e===3){var i=new n(r,r.readVarint()+r.pos);i.length&&(t[i.name]=i)}}})),Qs=t(((exports,t)=>{t.exports.VectorTile=Zs(),t.exports.VectorTileFeature=Ys(),t.exports.VectorTileLayer=Xs()})),$s=t((exports=>{exports.read=function(e,t,n,r,i){var a,o,s=i*8-r-1,c=(1<<s)-1,l=c>>1,u=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,a=p&(1<<-u)-1,p>>=-u,u+=s;u>0;a=a*256+e[t+d],d+=f,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=o*256+e[t+d],d+=f,u-=8);if(a===0)a=1-l;else if(a===c)return o?NaN:(p?-1:1)*(1/0);else o+=2**r,a-=l;return(p?-1:1)*o*2**(a-r)},exports.write=function(e,t,n,r,i,a){var o,s,c,l=a*8-i-1,u=(1<<l)-1,d=u>>1,f=i===23?2**-24-2**-77:0,p=r?0:a-1,m=r?1:-1,h=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=2**-o)<1&&(o--,c*=2),o+d>=1?t+=f/c:t+=f*2**(1-d),t*c>=2&&(o++,c/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*c-1)*2**i,o+=d):(s=t*2**(d-1)*2**i,o=0));i>=8;e[n+p]=s&255,p+=m,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+p]=o&255,p+=m,o/=256,l-=8);e[n+p-m]|=h*128}})),ec=t(((exports,t)=>{t.exports=r;var n=$s();function r(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var i=65536*65536,a=1/i,o=12,s=typeof TextDecoder>`u`?null:new TextDecoder(`utf-8`);r.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n||=this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,a=this.pos;this.type=r&7,e(i,t,this),this.pos===a&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=w(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=E(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=w(this.buf,this.pos)+w(this.buf,this.pos+4)*i;return this.pos+=8,e},readSFixed64:function(){var e=w(this.buf,this.pos)+E(this.buf,this.pos+4)*i;return this.pos+=8,e},readFloat:function(){var e=n.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=n.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t=this.buf,n,r=t[this.pos++];return n=r&127,r<128||(r=t[this.pos++],n|=(r&127)<<7,r<128)||(r=t[this.pos++],n|=(r&127)<<14,r<128)||(r=t[this.pos++],n|=(r&127)<<21,r<128)?n:(r=t[this.pos],n|=(r&15)<<28,c(n,e,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=o&&s?O(this.buf,t,e):D(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==r.Bytes)return e.push(this.readVarint(t));var n=l(this);for(e||=[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==r.Bytes)return e.push(this.readSVarint());var t=l(this);for(e||=[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==r.Bytes)return e.push(this.readBoolean());var t=l(this);for(e||=[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==r.Bytes)return e.push(this.readFloat());var t=l(this);for(e||=[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==r.Bytes)return e.push(this.readDouble());var t=l(this);for(e||=[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==r.Bytes)return e.push(this.readFixed32());var t=l(this);for(e||=[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==r.Bytes)return e.push(this.readSFixed32());var t=l(this);for(e||=[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==r.Bytes)return e.push(this.readFixed64());var t=l(this);for(e||=[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==r.Bytes)return e.push(this.readSFixed64());var t=l(this);for(e||=[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=e&7;if(t===r.Varint)for(;this.buf[this.pos++]>127;);else if(t===r.Bytes)this.pos=this.readVarint()+this.pos;else if(t===r.Fixed32)this.pos+=4;else if(t===r.Fixed64)this.pos+=8;else throw Error(`Unimplemented type: `+t)},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),T(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),T(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),T(this.buf,e&-1,this.pos),T(this.buf,Math.floor(e*a),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),T(this.buf,e&-1,this.pos),T(this.buf,Math.floor(e*a),this.pos+4),this.pos+=8},writeVarint:function(e){if(e=+e||0,e>268435455||e<0){d(e,this);return}this.realloc(4),this.buf[this.pos++]=e&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127)))},writeSVarint:function(e){this.writeVarint(e<0?-e*2-1:e*2)},writeBoolean:function(e){this.writeVarint(!!e)},writeString:function(e){e=String(e),this.realloc(e.length*4),this.pos++;var t=this.pos;this.pos=k(this.buf,e,this.pos);var n=this.pos-t;n>=128&&m(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),n.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),n.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&m(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,r.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,h,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,g,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,y,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,_,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,v,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,b,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,x,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,S,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,C,t)},writeBytesField:function(e,t){this.writeTag(e,r.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,r.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,r.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,r.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,!!t)}};function c(e,t,n){var r=n.buf,i,a=r[n.pos++];if(i=(a&112)>>4,a<128||(a=r[n.pos++],i|=(a&127)<<3,a<128)||(a=r[n.pos++],i|=(a&127)<<10,a<128)||(a=r[n.pos++],i|=(a&127)<<17,a<128)||(a=r[n.pos++],i|=(a&127)<<24,a<128)||(a=r[n.pos++],i|=(a&1)<<31,a<128))return u(e,i,t);throw Error(`Expected varint not more than 10 bytes`)}function l(e){return e.type===r.Bytes?e.readVarint()+e.pos:e.pos+1}function u(e,t,n){return n?t*4294967296+(e>>>0):(t>>>0)*4294967296+(e>>>0)}function d(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(n=~(-e%4294967296),r=~(-e/4294967296),n^4294967295?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw Error(`Given varint doesn't fit into 10 bytes`);t.realloc(10),f(n,r,t),p(r,t)}function f(e,t,n){n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos]=e&127}function p(e,t){var n=(e&7)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127)))))}function m(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(Math.LN2*7));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function h(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function g(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function _(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function v(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function y(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function b(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function x(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function S(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function C(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function w(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+e[t+3]*16777216}function T(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function E(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function D(e,t,n){for(var r=``,i=t;i<n;){var a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s>n)break;var c,l,u;s===1?a<128&&(o=a):s===2?(c=e[i+1],(c&192)==128&&(o=(a&31)<<6|c&63,o<=127&&(o=null))):s===3?(c=e[i+1],l=e[i+2],(c&192)==128&&(l&192)==128&&(o=(a&15)<<12|(c&63)<<6|l&63,(o<=2047||o>=55296&&o<=57343)&&(o=null))):s===4&&(c=e[i+1],l=e[i+2],u=e[i+3],(c&192)==128&&(l&192)==128&&(u&192)==128&&(o=(a&15)<<18|(c&63)<<12|(l&63)<<6|u&63,(o<=65535||o>=1114112)&&(o=null))),o===null?(o=65533,s=1):o>65535&&(o-=65536,r+=String.fromCharCode(o>>>10&1023|55296),o=56320|o&1023),r+=String.fromCharCode(o),i+=s}return r}function O(e,t,n){return s.decode(e.subarray(t,n))}function k(e,t,n){for(var r=0,i,a;r<t.length;r++){if(i=t.charCodeAt(r),i>55295&&i<57344)if(a)if(i<56320){e[n++]=239,e[n++]=191,e[n++]=189,a=i;continue}else i=a-55296<<10|i-56320|65536,a=null;else{i>56319||r+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):a=i;continue}else a&&=(e[n++]=239,e[n++]=191,e[n++]=189,null);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(i<65536?e[n++]=i>>12|224:(e[n++]=i>>18|240,e[n++]=i>>12&63|128),e[n++]=i>>6&63|128),e[n++]=i&63|128)}return n}})),tc=e(Qs()),nc=e(ec()),rc=Object.defineProperty,ic=Object.defineProperties,ac=Object.getOwnPropertyDescriptors,oc=Object.getOwnPropertySymbols,sc=Object.prototype.hasOwnProperty,cc=Object.prototype.propertyIsEnumerable,lc=(e,t,n)=>t in e?rc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uc=(e,t)=>{for(var n in t||={})sc.call(t,n)&&lc(e,n,t[n]);if(oc)for(var n of oc(t))cc.call(t,n)&&lc(e,n,t[n]);return e},dc=(e,t)=>ic(e,ac(t)),fc=class{constructor(e,t,n,r){this.vectorLayerCache={},this.x=t,this.y=n,this.z=r,this.vectorTile=new tc.VectorTile(new nc.default(e))}getTileData(e){if(!e||!this.vectorTile.layers[e])return[];if(this.vectorLayerCache[e])return this.vectorLayerCache[e];let t=this.vectorTile.layers[e];if(Array.isArray(t.features))return this.vectorLayerCache[e]=t.features,t.features;let n=[];for(let e=0;e<t.length;e++){let r=t.feature(e).toGeoJSON(this.x,this.y,this.z);n.push(dc(uc({},r),{properties:uc({id:r.id},r.properties)}))}return this.vectorLayerCache[e]=n,n}getFeatureById(){throw Error(`Method not implemented.`)}},pc=Object.defineProperty,mc=Object.defineProperties,hc=Object.getOwnPropertyDescriptors,gc=Object.getOwnPropertySymbols,_c=Object.prototype.hasOwnProperty,vc=Object.prototype.propertyIsEnumerable,yc=(e,t,n)=>t in e?pc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bc=(e,t)=>{for(var n in t||={})_c.call(t,n)&&yc(e,n,t[n]);if(gc)for(var n of gc(t))vc.call(t,n)&&yc(e,n,t[n]);return e},xc=(e,t)=>mc(e,hc(t)),Sc=(e,t,n)=>new Promise((r,i)=>{var a=e=>{try{s(n.next(e))}catch(e){i(e)}},o=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,o);s((n=n.apply(e,t)).next())}),Cc={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0,warp:!0},wc=(e,t,n,r,i)=>Sc(void 0,null,function*(){let a=qa(e,t);return new Promise(e=>{if(i)i({x:n.x,y:n.y,z:n.z},(t,r)=>{if(t||!r)e(void 0);else{let t=new fc(r,n.x,n.y,n.z);e(t)}});else{let t=_r(xc(bc({},r),{url:a}),(t,r)=>{if(t||!r)e(void 0);else{let t=new fc(r,n.x,n.y,n.z);e(t)}});n.xhrCancel=()=>t.cancel()}})});function Tc(e,t){let n=Array.isArray(e)?e[0]:e,r=xc(bc(bc({},Cc),t),{getTileData:(e,r)=>wc(n,e,r,t?.requestParameters,t?.getCustomData)});return{data:n,dataArray:[],tilesetOptions:r,isTile:!0}}function Ec(e,t,n){switch(e){case`+`:return t+n;case`-`:return t-n;case`*`:return t*n;case`/`:return t/n;case`%`:return t%n;case`^`:return t**+n;case`abs`:return Math.abs(t);case`floor`:return Math.floor(t);case`round`:return Math.round(t);case`ceil`:return Math.ceil(t);case`sin`:return Math.sin(t);case`cos`:return Math.cos(t);case`atan`:return n===-1?Math.atan(t):Math.atan2(t,n);case`min`:return Math.min(t,n);case`max`:return Math.max(t,n);case`log10`:return Math.log(t);case`log2`:return Math.log2(t);default:return console.warn(`Calculate symbol err! Return default 0`),0}}function Dc(e,t){let{width:n,height:r}=t[0],i=t.map(e=>e.rasterData),a=n*r,o=[],s=JSON.stringify(e);for(let e=0;e<a;e++){let t=JSON.parse(s),n=Oc(t,i,e);if(typeof n==`number`)o.push(n);else{let e=Ac(t);o.push(e)}}return o}function Oc(e,t,n){if(e.length===2&&e[0]===`band`&&typeof e[1]==`number`)try{return t[e[1]][n]}catch{return console.warn(`Raster Data err!`),0}e.map((r,i)=>{if(Array.isArray(r)&&r.length>0)switch(r[0]){case`band`:try{e[i]=t[r[1]][n]}catch{console.warn(`Raster Data err!`),e[i]=0}break;default:Oc(r,t,n)}})}function kc(e){let[t,n=-1,r=-1]=e;return t===void 0?(console.warn(`Express err!`),[`+`,0,0]):[t.replace(/\s+/g,``),n,r]}function Ac(e){let t=kc(e),n=t[0],r=t[1],i=t[2];return Array.isArray(r)&&(r=Ac(e[1])),Array.isArray(i)&&(i=Ac(e[2])),Ec(n,r,i)}var jc={nd:{type:`operation`,expression:[`/`,[`-`,[`band`,1],[`band`,0]],[`+`,[`band`,1],[`band`,0]]]},rgb:{type:`function`,method:Mc}};function Mc(e,t){let n=e[0].rasterData,r=e[1].rasterData,i=e[2].rasterData,a=[],[o,s]=t?.countCut||[2,98],c=t?.RMinMax||Nc(n,o,s),l=t?.GMinMax||Nc(r,o,s),u=t?.BMinMax||Nc(i,o,s);for(let e=0;e<n.length;e++)a.push(Math.max(0,n[e]-c[0])),a.push(Math.max(0,r[e]-l[0])),a.push(Math.max(0,i[e]-u[0]));return{rasterData:a,rMinMax:c,gMinMax:l,bMinMax:u}}function Nc(e,t,n){let r=e.slice().sort((e,t)=>e-t),i=r.length,a=r[Math.ceil(i*t/100)],o=r[Math.ceil(i*n/100)];return[a,o]}var Pc=Object.defineProperty,Fc=Object.defineProperties,Ic=Object.getOwnPropertyDescriptors,Lc=Object.getOwnPropertySymbols,Rc=Object.prototype.hasOwnProperty,zc=Object.prototype.propertyIsEnumerable,Bc=(e,t,n)=>t in e?Pc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vc=(e,t)=>{for(var n in t||={})Rc.call(t,n)&&Bc(e,n,t[n]);if(Lc)for(var n of Lc(t))zc.call(t,n)&&Bc(e,n,t[n]);return e},Hc=(e,t)=>Fc(e,Ic(t)),Uc=(e,t,n)=>new Promise((r,i)=>{var a=e=>{try{s(n.next(e))}catch(e){i(e)}},o=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,o);s((n=n.apply(e,t)).next())});function Wc(e,t,n){return Uc(this,null,function*(){if(e.length===0)return{rasterData:[0],width:1,heigh:1};let r=yield Promise.all(e.map(({data:e,bands:n=[0]})=>t(e,n))),i=[];r.forEach(e=>{Array.isArray(e)?i.push(...e):i.push(e)});let{width:a,height:o}=i[0],s;switch(typeof n){case`function`:s=n(i);break;case`object`:s=Array.isArray(n)?{rasterData:Dc(n,i)}:Gc(n,i);break;default:s={rasterData:i[0].rasterData}}return Hc(Vc({},s),{width:a,height:o})})}function Gc(e,t){let n=jc[e.type];if(n.type===`function`)return n.method(t,e?.options);if(n.type===`operation`)return e.type===`rgb`?Kc(n.expression,t):{rasterData:Dc(n.expression,t)}}function Kc(e,t){e.r===void 0&&console.warn(`Channel R lost in Operation! Use band[0] to fill!`),e.g===void 0&&console.warn(`Channel G lost in Operation! Use band[0] to fill!`),e.b===void 0&&console.warn(`Channel B lost in Operation! Use band[0] to fill!`);let n=Dc(e.r||[`band`,0],t),r=Dc(e.g||[`band`,0],t),i=Dc(e.b||[`band`,0],t);return[n,r,i]}function qc(e,t,n,r){return Uc(this,null,function*(){let i=yield Wc(e,t,n);r(null,{data:i})})}function Jc(e,t){let{extent:n=[121.168,30.2828,121.384,30.4219],coordinates:r,width:i,height:a,min:o,max:s,format:c,operation:l}=t,u,d,f;c===void 0||Qa(e)?(u=Array.from(e),d=i,f=a):u=Wc(Array.isArray(e)?e:[e],c,l);let p=eo(r,n);return{_id:1,dataArray:[{_id:1,data:u,width:d,height:f,min:o,max:s,coordinates:p}]}}let Yc=function(e){return e.Normal=`normal`,e.PostProcessing=`post-processing`,e}({}),q=function(e){return e[e.DEPTH_BUFFER_BIT=256]=`DEPTH_BUFFER_BIT`,e[e.STENCIL_BUFFER_BIT=1024]=`STENCIL_BUFFER_BIT`,e[e.COLOR_BUFFER_BIT=16384]=`COLOR_BUFFER_BIT`,e[e.POINTS=0]=`POINTS`,e[e.LINES=1]=`LINES`,e[e.LINE_LOOP=2]=`LINE_LOOP`,e[e.LINE_STRIP=3]=`LINE_STRIP`,e[e.TRIANGLES=4]=`TRIANGLES`,e[e.TRIANGLE_STRIP=5]=`TRIANGLE_STRIP`,e[e.TRIANGLE_FAN=6]=`TRIANGLE_FAN`,e[e.ZERO=0]=`ZERO`,e[e.ONE=1]=`ONE`,e[e.SRC_COLOR=768]=`SRC_COLOR`,e[e.ONE_MINUS_SRC_COLOR=769]=`ONE_MINUS_SRC_COLOR`,e[e.SRC_ALPHA=770]=`SRC_ALPHA`,e[e.ONE_MINUS_SRC_ALPHA=771]=`ONE_MINUS_SRC_ALPHA`,e[e.DST_ALPHA=772]=`DST_ALPHA`,e[e.ONE_MINUS_DST_ALPHA=773]=`ONE_MINUS_DST_ALPHA`,e[e.DST_COLOR=774]=`DST_COLOR`,e[e.ONE_MINUS_DST_COLOR=775]=`ONE_MINUS_DST_COLOR`,e[e.SRC_ALPHA_SATURATE=776]=`SRC_ALPHA_SATURATE`,e[e.FUNC_ADD=32774]=`FUNC_ADD`,e[e.BLEND_EQUATION=32777]=`BLEND_EQUATION`,e[e.BLEND_EQUATION_RGB=32777]=`BLEND_EQUATION_RGB`,e[e.BLEND_EQUATION_ALPHA=34877]=`BLEND_EQUATION_ALPHA`,e[e.FUNC_SUBTRACT=32778]=`FUNC_SUBTRACT`,e[e.FUNC_REVERSE_SUBTRACT=32779]=`FUNC_REVERSE_SUBTRACT`,e[e.MAX_EXT=32776]=`MAX_EXT`,e[e.MIN_EXT=32775]=`MIN_EXT`,e[e.BLEND_DST_RGB=32968]=`BLEND_DST_RGB`,e[e.BLEND_SRC_RGB=32969]=`BLEND_SRC_RGB`,e[e.BLEND_DST_ALPHA=32970]=`BLEND_DST_ALPHA`,e[e.BLEND_SRC_ALPHA=32971]=`BLEND_SRC_ALPHA`,e[e.CONSTANT_COLOR=32769]=`CONSTANT_COLOR`,e[e.ONE_MINUS_CONSTANT_COLOR=32770]=`ONE_MINUS_CONSTANT_COLOR`,e[e.CONSTANT_ALPHA=32771]=`CONSTANT_ALPHA`,e[e.ONE_MINUS_CONSTANT_ALPHA=32772]=`ONE_MINUS_CONSTANT_ALPHA`,e[e.BLEND_COLOR=32773]=`BLEND_COLOR`,e[e.ARRAY_BUFFER=34962]=`ARRAY_BUFFER`,e[e.ELEMENT_ARRAY_BUFFER=34963]=`ELEMENT_ARRAY_BUFFER`,e[e.ARRAY_BUFFER_BINDING=34964]=`ARRAY_BUFFER_BINDING`,e[e.ELEMENT_ARRAY_BUFFER_BINDING=34965]=`ELEMENT_ARRAY_BUFFER_BINDING`,e[e.STREAM_DRAW=35040]=`STREAM_DRAW`,e[e.STATIC_DRAW=35044]=`STATIC_DRAW`,e[e.DYNAMIC_DRAW=35048]=`DYNAMIC_DRAW`,e[e.BUFFER_SIZE=34660]=`BUFFER_SIZE`,e[e.BUFFER_USAGE=34661]=`BUFFER_USAGE`,e[e.CURRENT_VERTEX_ATTRIB=34342]=`CURRENT_VERTEX_ATTRIB`,e[e.FRONT=1028]=`FRONT`,e[e.BACK=1029]=`BACK`,e[e.FRONT_AND_BACK=1032]=`FRONT_AND_BACK`,e[e.CULL_FACE=2884]=`CULL_FACE`,e[e.BLEND=3042]=`BLEND`,e[e.DITHER=3024]=`DITHER`,e[e.STENCIL_TEST=2960]=`STENCIL_TEST`,e[e.DEPTH_TEST=2929]=`DEPTH_TEST`,e[e.SCISSOR_TEST=3089]=`SCISSOR_TEST`,e[e.POLYGON_OFFSET_FILL=32823]=`POLYGON_OFFSET_FILL`,e[e.SAMPLE_ALPHA_TO_COVERAGE=32926]=`SAMPLE_ALPHA_TO_COVERAGE`,e[e.SAMPLE_COVERAGE=32928]=`SAMPLE_COVERAGE`,e[e.NO_ERROR=0]=`NO_ERROR`,e[e.INVALID_ENUM=1280]=`INVALID_ENUM`,e[e.INVALID_VALUE=1281]=`INVALID_VALUE`,e[e.INVALID_OPERATION=1282]=`INVALID_OPERATION`,e[e.OUT_OF_MEMORY=1285]=`OUT_OF_MEMORY`,e[e.CW=2304]=`CW`,e[e.CCW=2305]=`CCW`,e[e.LINE_WIDTH=2849]=`LINE_WIDTH`,e[e.ALIASED_POINT_SIZE_RANGE=33901]=`ALIASED_POINT_SIZE_RANGE`,e[e.ALIASED_LINE_WIDTH_RANGE=33902]=`ALIASED_LINE_WIDTH_RANGE`,e[e.CULL_FACE_MODE=2885]=`CULL_FACE_MODE`,e[e.FRONT_FACE=2886]=`FRONT_FACE`,e[e.DEPTH_RANGE=2928]=`DEPTH_RANGE`,e[e.DEPTH_WRITEMASK=2930]=`DEPTH_WRITEMASK`,e[e.DEPTH_CLEAR_VALUE=2931]=`DEPTH_CLEAR_VALUE`,e[e.DEPTH_FUNC=2932]=`DEPTH_FUNC`,e[e.STENCIL_CLEAR_VALUE=2961]=`STENCIL_CLEAR_VALUE`,e[e.STENCIL_FUNC=2962]=`STENCIL_FUNC`,e[e.STENCIL_FAIL=2964]=`STENCIL_FAIL`,e[e.STENCIL_PASS_DEPTH_FAIL=2965]=`STENCIL_PASS_DEPTH_FAIL`,e[e.STENCIL_PASS_DEPTH_PASS=2966]=`STENCIL_PASS_DEPTH_PASS`,e[e.STENCIL_REF=2967]=`STENCIL_REF`,e[e.STENCIL_VALUE_MASK=2963]=`STENCIL_VALUE_MASK`,e[e.STENCIL_WRITEMASK=2968]=`STENCIL_WRITEMASK`,e[e.STENCIL_BACK_FUNC=34816]=`STENCIL_BACK_FUNC`,e[e.STENCIL_BACK_FAIL=34817]=`STENCIL_BACK_FAIL`,e[e.STENCIL_BACK_PASS_DEPTH_FAIL=34818]=`STENCIL_BACK_PASS_DEPTH_FAIL`,e[e.STENCIL_BACK_PASS_DEPTH_PASS=34819]=`STENCIL_BACK_PASS_DEPTH_PASS`,e[e.STENCIL_BACK_REF=36003]=`STENCIL_BACK_REF`,e[e.STENCIL_BACK_VALUE_MASK=36004]=`STENCIL_BACK_VALUE_MASK`,e[e.STENCIL_BACK_WRITEMASK=36005]=`STENCIL_BACK_WRITEMASK`,e[e.VIEWPORT=2978]=`VIEWPORT`,e[e.SCISSOR_BOX=3088]=`SCISSOR_BOX`,e[e.COLOR_CLEAR_VALUE=3106]=`COLOR_CLEAR_VALUE`,e[e.COLOR_WRITEMASK=3107]=`COLOR_WRITEMASK`,e[e.UNPACK_ALIGNMENT=3317]=`UNPACK_ALIGNMENT`,e[e.PACK_ALIGNMENT=3333]=`PACK_ALIGNMENT`,e[e.MAX_TEXTURE_SIZE=3379]=`MAX_TEXTURE_SIZE`,e[e.MAX_VIEWPORT_DIMS=3386]=`MAX_VIEWPORT_DIMS`,e[e.SUBPIXEL_BITS=3408]=`SUBPIXEL_BITS`,e[e.RED_BITS=3410]=`RED_BITS`,e[e.GREEN_BITS=3411]=`GREEN_BITS`,e[e.BLUE_BITS=3412]=`BLUE_BITS`,e[e.ALPHA_BITS=3413]=`ALPHA_BITS`,e[e.DEPTH_BITS=3414]=`DEPTH_BITS`,e[e.STENCIL_BITS=3415]=`STENCIL_BITS`,e[e.POLYGON_OFFSET_UNITS=10752]=`POLYGON_OFFSET_UNITS`,e[e.POLYGON_OFFSET_FACTOR=32824]=`POLYGON_OFFSET_FACTOR`,e[e.TEXTURE_BINDING_2D=32873]=`TEXTURE_BINDING_2D`,e[e.SAMPLE_BUFFERS=32936]=`SAMPLE_BUFFERS`,e[e.SAMPLES=32937]=`SAMPLES`,e[e.SAMPLE_COVERAGE_VALUE=32938]=`SAMPLE_COVERAGE_VALUE`,e[e.SAMPLE_COVERAGE_INVERT=32939]=`SAMPLE_COVERAGE_INVERT`,e[e.COMPRESSED_TEXTURE_FORMATS=34467]=`COMPRESSED_TEXTURE_FORMATS`,e[e.DONT_CARE=4352]=`DONT_CARE`,e[e.FASTEST=4353]=`FASTEST`,e[e.NICEST=4354]=`NICEST`,e[e.GENERATE_MIPMAP_HINT=33170]=`GENERATE_MIPMAP_HINT`,e[e.BYTE=5120]=`BYTE`,e[e.UNSIGNED_BYTE=5121]=`UNSIGNED_BYTE`,e[e.SHORT=5122]=`SHORT`,e[e.UNSIGNED_SHORT=5123]=`UNSIGNED_SHORT`,e[e.INT=5124]=`INT`,e[e.UNSIGNED_INT=5125]=`UNSIGNED_INT`,e[e.FLOAT=5126]=`FLOAT`,e[e.DEPTH_COMPONENT=6402]=`DEPTH_COMPONENT`,e[e.ALPHA=6406]=`ALPHA`,e[e.RGB=6407]=`RGB`,e[e.RGBA=6408]=`RGBA`,e[e.LUMINANCE=6409]=`LUMINANCE`,e[e.LUMINANCE_ALPHA=6410]=`LUMINANCE_ALPHA`,e[e.RED=6403]=`RED`,e[e.UNSIGNED_SHORT_4_4_4_4=32819]=`UNSIGNED_SHORT_4_4_4_4`,e[e.UNSIGNED_SHORT_5_5_5_1=32820]=`UNSIGNED_SHORT_5_5_5_1`,e[e.UNSIGNED_SHORT_5_6_5=33635]=`UNSIGNED_SHORT_5_6_5`,e[e.FRAGMENT_SHADER=35632]=`FRAGMENT_SHADER`,e[e.VERTEX_SHADER=35633]=`VERTEX_SHADER`,e[e.MAX_VERTEX_ATTRIBS=34921]=`MAX_VERTEX_ATTRIBS`,e[e.MAX_VERTEX_UNIFORM_VECTORS=36347]=`MAX_VERTEX_UNIFORM_VECTORS`,e[e.MAX_VARYING_VECTORS=36348]=`MAX_VARYING_VECTORS`,e[e.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]=`MAX_COMBINED_TEXTURE_IMAGE_UNITS`,e[e.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]=`MAX_VERTEX_TEXTURE_IMAGE_UNITS`,e[e.MAX_TEXTURE_IMAGE_UNITS=34930]=`MAX_TEXTURE_IMAGE_UNITS`,e[e.MAX_FRAGMENT_UNIFORM_VECTORS=36349]=`MAX_FRAGMENT_UNIFORM_VECTORS`,e[e.SHADER_TYPE=35663]=`SHADER_TYPE`,e[e.DELETE_STATUS=35712]=`DELETE_STATUS`,e[e.LINK_STATUS=35714]=`LINK_STATUS`,e[e.VALIDATE_STATUS=35715]=`VALIDATE_STATUS`,e[e.ATTACHED_SHADERS=35717]=`ATTACHED_SHADERS`,e[e.ACTIVE_UNIFORMS=35718]=`ACTIVE_UNIFORMS`,e[e.ACTIVE_ATTRIBUTES=35721]=`ACTIVE_ATTRIBUTES`,e[e.SHADING_LANGUAGE_VERSION=35724]=`SHADING_LANGUAGE_VERSION`,e[e.CURRENT_PROGRAM=35725]=`CURRENT_PROGRAM`,e[e.NEVER=512]=`NEVER`,e[e.LESS=513]=`LESS`,e[e.EQUAL=514]=`EQUAL`,e[e.LEQUAL=515]=`LEQUAL`,e[e.GREATER=516]=`GREATER`,e[e.NOTEQUAL=517]=`NOTEQUAL`,e[e.GEQUAL=518]=`GEQUAL`,e[e.ALWAYS=519]=`ALWAYS`,e[e.KEEP=7680]=`KEEP`,e[e.REPLACE=7681]=`REPLACE`,e[e.INCR=7682]=`INCR`,e[e.DECR=7683]=`DECR`,e[e.INVERT=5386]=`INVERT`,e[e.INCR_WRAP=34055]=`INCR_WRAP`,e[e.DECR_WRAP=34056]=`DECR_WRAP`,e[e.VENDOR=7936]=`VENDOR`,e[e.RENDERER=7937]=`RENDERER`,e[e.VERSION=7938]=`VERSION`,e[e.NEAREST=9728]=`NEAREST`,e[e.LINEAR=9729]=`LINEAR`,e[e.NEAREST_MIPMAP_NEAREST=9984]=`NEAREST_MIPMAP_NEAREST`,e[e.LINEAR_MIPMAP_NEAREST=9985]=`LINEAR_MIPMAP_NEAREST`,e[e.NEAREST_MIPMAP_LINEAR=9986]=`NEAREST_MIPMAP_LINEAR`,e[e.LINEAR_MIPMAP_LINEAR=9987]=`LINEAR_MIPMAP_LINEAR`,e[e.TEXTURE_MAG_FILTER=10240]=`TEXTURE_MAG_FILTER`,e[e.TEXTURE_MIN_FILTER=10241]=`TEXTURE_MIN_FILTER`,e[e.TEXTURE_WRAP_S=10242]=`TEXTURE_WRAP_S`,e[e.TEXTURE_WRAP_T=10243]=`TEXTURE_WRAP_T`,e[e.TEXTURE_2D=3553]=`TEXTURE_2D`,e[e.TEXTURE=5890]=`TEXTURE`,e[e.TEXTURE_CUBE_MAP=34067]=`TEXTURE_CUBE_MAP`,e[e.TEXTURE_BINDING_CUBE_MAP=34068]=`TEXTURE_BINDING_CUBE_MAP`,e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]=`TEXTURE_CUBE_MAP_POSITIVE_X`,e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]=`TEXTURE_CUBE_MAP_NEGATIVE_X`,e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]=`TEXTURE_CUBE_MAP_POSITIVE_Y`,e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]=`TEXTURE_CUBE_MAP_NEGATIVE_Y`,e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]=`TEXTURE_CUBE_MAP_POSITIVE_Z`,e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]=`TEXTURE_CUBE_MAP_NEGATIVE_Z`,e[e.MAX_CUBE_MAP_TEXTURE_SIZE=34076]=`MAX_CUBE_MAP_TEXTURE_SIZE`,e[e.TEXTURE0=33984]=`TEXTURE0`,e[e.TEXTURE1=33985]=`TEXTURE1`,e[e.TEXTURE2=33986]=`TEXTURE2`,e[e.TEXTURE3=33987]=`TEXTURE3`,e[e.TEXTURE4=33988]=`TEXTURE4`,e[e.TEXTURE5=33989]=`TEXTURE5`,e[e.TEXTURE6=33990]=`TEXTURE6`,e[e.TEXTURE7=33991]=`TEXTURE7`,e[e.TEXTURE8=33992]=`TEXTURE8`,e[e.TEXTURE9=33993]=`TEXTURE9`,e[e.TEXTURE10=33994]=`TEXTURE10`,e[e.TEXTURE11=33995]=`TEXTURE11`,e[e.TEXTURE12=33996]=`TEXTURE12`,e[e.TEXTURE13=33997]=`TEXTURE13`,e[e.TEXTURE14=33998]=`TEXTURE14`,e[e.TEXTURE15=33999]=`TEXTURE15`,e[e.TEXTURE16=34e3]=`TEXTURE16`,e[e.TEXTURE17=34001]=`TEXTURE17`,e[e.TEXTURE18=34002]=`TEXTURE18`,e[e.TEXTURE19=34003]=`TEXTURE19`,e[e.TEXTURE20=34004]=`TEXTURE20`,e[e.TEXTURE21=34005]=`TEXTURE21`,e[e.TEXTURE22=34006]=`TEXTURE22`,e[e.TEXTURE23=34007]=`TEXTURE23`,e[e.TEXTURE24=34008]=`TEXTURE24`,e[e.TEXTURE25=34009]=`TEXTURE25`,e[e.TEXTURE26=34010]=`TEXTURE26`,e[e.TEXTURE27=34011]=`TEXTURE27`,e[e.TEXTURE28=34012]=`TEXTURE28`,e[e.TEXTURE29=34013]=`TEXTURE29`,e[e.TEXTURE30=34014]=`TEXTURE30`,e[e.TEXTURE31=34015]=`TEXTURE31`,e[e.ACTIVE_TEXTURE=34016]=`ACTIVE_TEXTURE`,e[e.REPEAT=10497]=`REPEAT`,e[e.CLAMP_TO_EDGE=33071]=`CLAMP_TO_EDGE`,e[e.MIRRORED_REPEAT=33648]=`MIRRORED_REPEAT`,e[e.FLOAT_VEC2=35664]=`FLOAT_VEC2`,e[e.FLOAT_VEC3=35665]=`FLOAT_VEC3`,e[e.FLOAT_VEC4=35666]=`FLOAT_VEC4`,e[e.INT_VEC2=35667]=`INT_VEC2`,e[e.INT_VEC3=35668]=`INT_VEC3`,e[e.INT_VEC4=35669]=`INT_VEC4`,e[e.BOOL=35670]=`BOOL`,e[e.BOOL_VEC2=35671]=`BOOL_VEC2`,e[e.BOOL_VEC3=35672]=`BOOL_VEC3`,e[e.BOOL_VEC4=35673]=`BOOL_VEC4`,e[e.FLOAT_MAT2=35674]=`FLOAT_MAT2`,e[e.FLOAT_MAT3=35675]=`FLOAT_MAT3`,e[e.FLOAT_MAT4=35676]=`FLOAT_MAT4`,e[e.SAMPLER_2D=35678]=`SAMPLER_2D`,e[e.SAMPLER_CUBE=35680]=`SAMPLER_CUBE`,e[e.VERTEX_ATTRIB_ARRAY_ENABLED=34338]=`VERTEX_ATTRIB_ARRAY_ENABLED`,e[e.VERTEX_ATTRIB_ARRAY_SIZE=34339]=`VERTEX_ATTRIB_ARRAY_SIZE`,e[e.VERTEX_ATTRIB_ARRAY_STRIDE=34340]=`VERTEX_ATTRIB_ARRAY_STRIDE`,e[e.VERTEX_ATTRIB_ARRAY_TYPE=34341]=`VERTEX_ATTRIB_ARRAY_TYPE`,e[e.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]=`VERTEX_ATTRIB_ARRAY_NORMALIZED`,e[e.VERTEX_ATTRIB_ARRAY_POINTER=34373]=`VERTEX_ATTRIB_ARRAY_POINTER`,e[e.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]=`VERTEX_ATTRIB_ARRAY_BUFFER_BINDING`,e[e.COMPILE_STATUS=35713]=`COMPILE_STATUS`,e[e.LOW_FLOAT=36336]=`LOW_FLOAT`,e[e.MEDIUM_FLOAT=36337]=`MEDIUM_FLOAT`,e[e.HIGH_FLOAT=36338]=`HIGH_FLOAT`,e[e.LOW_INT=36339]=`LOW_INT`,e[e.MEDIUM_INT=36340]=`MEDIUM_INT`,e[e.HIGH_INT=36341]=`HIGH_INT`,e[e.FRAMEBUFFER=36160]=`FRAMEBUFFER`,e[e.RENDERBUFFER=36161]=`RENDERBUFFER`,e[e.RGBA4=32854]=`RGBA4`,e[e.RGB5_A1=32855]=`RGB5_A1`,e[e.RGB565=36194]=`RGB565`,e[e.DEPTH_COMPONENT16=33189]=`DEPTH_COMPONENT16`,e[e.STENCIL_INDEX=6401]=`STENCIL_INDEX`,e[e.STENCIL_INDEX8=36168]=`STENCIL_INDEX8`,e[e.DEPTH_STENCIL=34041]=`DEPTH_STENCIL`,e[e.RENDERBUFFER_WIDTH=36162]=`RENDERBUFFER_WIDTH`,e[e.RENDERBUFFER_HEIGHT=36163]=`RENDERBUFFER_HEIGHT`,e[e.RENDERBUFFER_INTERNAL_FORMAT=36164]=`RENDERBUFFER_INTERNAL_FORMAT`,e[e.RENDERBUFFER_RED_SIZE=36176]=`RENDERBUFFER_RED_SIZE`,e[e.RENDERBUFFER_GREEN_SIZE=36177]=`RENDERBUFFER_GREEN_SIZE`,e[e.RENDERBUFFER_BLUE_SIZE=36178]=`RENDERBUFFER_BLUE_SIZE`,e[e.RENDERBUFFER_ALPHA_SIZE=36179]=`RENDERBUFFER_ALPHA_SIZE`,e[e.RENDERBUFFER_DEPTH_SIZE=36180]=`RENDERBUFFER_DEPTH_SIZE`,e[e.RENDERBUFFER_STENCIL_SIZE=36181]=`RENDERBUFFER_STENCIL_SIZE`,e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]=`FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE`,e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]=`FRAMEBUFFER_ATTACHMENT_OBJECT_NAME`,e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]=`FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL`,e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]=`FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE`,e[e.COLOR_ATTACHMENT0=36064]=`COLOR_ATTACHMENT0`,e[e.DEPTH_ATTACHMENT=36096]=`DEPTH_ATTACHMENT`,e[e.STENCIL_ATTACHMENT=36128]=`STENCIL_ATTACHMENT`,e[e.DEPTH_STENCIL_ATTACHMENT=33306]=`DEPTH_STENCIL_ATTACHMENT`,e[e.NONE=0]=`NONE`,e[e.FRAMEBUFFER_COMPLETE=36053]=`FRAMEBUFFER_COMPLETE`,e[e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]=`FRAMEBUFFER_INCOMPLETE_ATTACHMENT`,e[e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]=`FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT`,e[e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]=`FRAMEBUFFER_INCOMPLETE_DIMENSIONS`,e[e.FRAMEBUFFER_UNSUPPORTED=36061]=`FRAMEBUFFER_UNSUPPORTED`,e[e.FRAMEBUFFER_BINDING=36006]=`FRAMEBUFFER_BINDING`,e[e.RENDERBUFFER_BINDING=36007]=`RENDERBUFFER_BINDING`,e[e.MAX_RENDERBUFFER_SIZE=34024]=`MAX_RENDERBUFFER_SIZE`,e[e.INVALID_FRAMEBUFFER_OPERATION=1286]=`INVALID_FRAMEBUFFER_OPERATION`,e[e.UNPACK_FLIP_Y_WEBGL=37440]=`UNPACK_FLIP_Y_WEBGL`,e[e.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]=`UNPACK_PREMULTIPLY_ALPHA_WEBGL`,e[e.CONTEXT_LOST_WEBGL=37442]=`CONTEXT_LOST_WEBGL`,e[e.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]=`UNPACK_COLORSPACE_CONVERSION_WEBGL`,e[e.BROWSER_DEFAULT_WEBGL=37444]=`BROWSER_DEFAULT_WEBGL`,e}({});var Xc=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0.0, 1.0);
}
`,{camelCase:Zc,isNil:Qc,upperFirst:$c}=di,el=class{constructor(){I(this,`shaderModuleService`,void 0),I(this,`rendererService`,void 0),I(this,`config`,void 0),I(this,`quad`,Xc),I(this,`enabled`,!0),I(this,`renderToScreen`,!1),I(this,`model`,void 0),I(this,`name`,void 0),I(this,`optionsToUpdate`,{})}getName(){return this.name}setName(e){this.name=e}getType(){return Yc.PostProcessing}init(e,t){this.config=t,this.rendererService=e.getContainer().rendererService,this.shaderModuleService=e.getContainer().shaderModuleService;let{createAttribute:n,createBuffer:r,createModel:i}=this.rendererService,{vs:a,fs:o,uniforms:s}=this.setupShaders();this.model=i({vs:a,fs:o,attributes:{a_Position:n({buffer:r({data:[-4,-4,4,-4,0,4],type:q.FLOAT}),size:2})},uniforms:P(P({u_Texture:null},s),this.config&&this.convertOptionsToUniforms(this.config)),depth:{enable:!1},count:3,blend:{enable:this.getName()===`copy`}})}render(e,t){let n=e.multiPassRenderer.getPostProcessor(),{useFramebuffer:r,getViewportSize:i,clear:a}=this.rendererService,{width:o,height:s}=i();r(this.renderToScreen?null:n.getWriteFBO(),()=>{a({framebuffer:n.getWriteFBO(),color:[0,0,0,0],depth:1,stencil:0});let e=P({u_BloomFinal:0,u_Texture:n.getReadFBO(),u_ViewportSize:[o,s]},this.convertOptionsToUniforms(this.optionsToUpdate));t&&(e.u_BloomFinal=1,e.u_Texture2=t),this.model.draw({uniforms:e})})}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}setRenderToScreen(e){this.renderToScreen=e}updateOptions(e){this.optionsToUpdate=P(P({},this.optionsToUpdate),e)}setupShaders(){throw Error(`Method not implemented.`)}convertOptionsToUniforms(e){let t={};return Object.keys(e).forEach(n=>{Qc(e[n])||(t[`u_${$c(Zc(n))}`]=e[n])}),t}};function tl(e){let t=0;switch(e){case`vec2`:case`ivec2`:t=2;break;case`vec3`:case`ivec3`:t=3;break;case`vec4`:case`ivec4`:case`mat2`:t=4;break;case`mat3`:t=9;break;case`mat4`:t=16;break;default:}return t}var nl=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function rl(e,t=!1){let n={};return e=e.replace(nl,(e,r,i)=>{let a=i.split(`:`),o=a[0].trim(),s=``;switch(a.length>1&&(s=a[1].trim()),r){case`bool`:s=s===`true`;break;case`float`:case`int`:s=Number(s);break;case`vec2`:case`vec3`:case`vec4`:case`ivec2`:case`ivec3`:case`ivec4`:case`mat2`:case`mat3`:case`mat4`:s=s?s.replace(`[`,``).replace(`]`,``).split(`,`).reduce((e,t)=>(e.push(Number(t.trim())),e),[]):Array(tl(r)).fill(0);break;default:}return n[o]=s,`${t?`uniform `:``}${r} ${o};\n`}),{content:e,uniforms:n}}function il(e){let{content:t,uniforms:n}=rl(e,!0);return t=t.replace(/(\s*uniform\s*.*\s*){((?:\s*.*\s*)*?)};/g,(e,t,r)=>{r=r.trim().replace(/^.*$/gm,e=>`uniform ${e}`);let{content:i,uniforms:a}=rl(r);return Object.assign(n,a),`${t}{\n${i}\n};`}),{content:t,uniforms:n}}function al(e){let t={};return e.replace(nl,(e,n,r)=>{let i=r.trim();return t[i]?``:(t[i]=!0,`uniform ${n} ${i};\n`)})}var{clamp:ol}=di;const sl={ProjectionMatrix:`u_ProjectionMatrix`,ViewMatrix:`u_ViewMatrix`,ViewProjectionMatrix:`u_ViewProjectionMatrix`,Zoom:`u_Zoom`,ZoomScale:`u_ZoomScale`,FocalDistance:`u_FocalDistance`,CameraPosition:`u_CameraPosition`};let cl=function(e){return e.TOPRIGHT=`topright`,e.TOPLEFT=`topleft`,e.BOTTOMRIGHT=`bottomright`,e.BOTTOMLEFT=`bottomleft`,e.TOPCENTER=`topcenter`,e.BOTTOMCENTER=`bottomcenter`,e.LEFTCENTER=`leftcenter`,e.RIGHTCENTER=`rightcenter`,e.LEFTTOP=`lefttop`,e.RIGHTTOP=`righttop`,e.LEFTBOTTOM=`leftbottom`,e.RIGHTBOTTOM=`rightbottom`,e}({}),ll=function(e){return e[e.LNGLAT=1]=`LNGLAT`,e[e.LNGLAT_OFFSET=2]=`LNGLAT_OFFSET`,e[e.VECTOR_TILE=3]=`VECTOR_TILE`,e[e.IDENTITY=4]=`IDENTITY`,e[e.METER_OFFSET=5]=`METER_OFFSET`,e}({});const ul={CoordinateSystem:`u_CoordinateSystem`,ViewportCenter:`u_ViewportCenter`,ViewportCenterProjection:`u_ViewportCenterProjection`,PixelsPerDegree:`u_PixelsPerDegree`,PixelsPerDegree2:`u_PixelsPerDegree2`,PixelsPerMeter:`u_PixelsPerMeter`,RelativeOrigin:`u_RelativeOrigin`};var dl={MapInitStart:`mapInitStart`,LayerInitStart:`layerInitStart`,LayerInitEnd:`layerInitEnd`,SourceInitStart:`sourceInitStart`,SourceInitEnd:`sourceInitEnd`,ScaleInitStart:`scaleInitStart`,ScaleInitEnd:`scaleInitEnd`,MappingStart:`mappingStart`,MappingEnd:`mappingEnd`,BuildModelStart:`buildModelStart`,BuildModelEnd:`buildModelEnd`};let fl=function(e){return e.Hover=`hover`,e.Click=`click`,e.Select=`select`,e.Active=`active`,e.Drag=`drag`,e}({}),pl=function(e){return e.normal=`normal`,e.additive=`additive`,e.subtractive=`subtractive`,e.min=`min`,e.max=`max`,e.none=`none`,e}({}),ml=function(e){return e.MULTIPLE=`MULTIPLE`,e.SINGLE=`SINGLE`,e}({}),hl=function(e){return e.AND=`and`,e.OR=`or`,e}({}),gl=function(e){return e.INIT=`init`,e.UPDATE=`update`,e}({}),_l=function(e){return e.LINEAR=`linear`,e.SEQUENTIAL=`sequential`,e.POWER=`power`,e.LOG=`log`,e.IDENTITY=`identity`,e.TIME=`time`,e.QUANTILE=`quantile`,e.QUANTIZE=`quantize`,e.THRESHOLD=`threshold`,e.CAT=`cat`,e.DIVERGING=`diverging`,e.CUSTOM=`threshold`,e}({}),vl=function(e){return e.CONSTANT=`constant`,e.VARIABLE=`variable`,e}({}),J=function(e){return e[e.Attribute=0]=`Attribute`,e[e.InstancedAttribute=1]=`InstancedAttribute`,e[e.Uniform=2]=`Uniform`,e}({});const yl=[`mapload`,`mapchange`,`mapAfterFrameChange`];var bl=t(((exports,t)=>{t.exports=r,t.exports.default=r;var n=0x56bc75e2d63100000;function r(e,t,n,r,i,a){this.fontSize=e||24,this.buffer=t===void 0?3:t,this.cutoff=r||.25,this.fontFamily=i||`sans-serif`,this.fontWeight=a||`normal`,this.radius=n||8;var o=this.size=this.fontSize+this.buffer*2,s=o+this.buffer*2;this.canvas=document.createElement(`canvas`),this.canvas.width=this.canvas.height=o,this.ctx=this.canvas.getContext(`2d`),this.ctx.font=this.fontWeight+` `+this.fontSize+`px `+this.fontFamily,this.ctx.textAlign=`left`,this.ctx.fillStyle=`black`,this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s),this.useMetrics=this.ctx.measureText(`A`).actualBoundingBoxLeft!==void 0,this.middle=Math.round(o/2*(navigator.userAgent.indexOf(`Gecko/`)>=0?1.2:1))}function i(e,t,r,i,a,o,s){o.fill(n,0,t*r),s.fill(0,0,t*r);for(var c=(t-i)/2,l=0;l<a;l++)for(var u=0;u<i;u++){var d=(l+c)*t+u+c,f=e.data[4*(l*i+u)+3]/255;if(f===1)o[d]=0,s[d]=n;else if(f===0)o[d]=n,s[d]=0;else{var p=Math.max(0,.5-f),m=Math.max(0,f-.5);o[d]=p*p,s[d]=m*m}}}function a(e,t,n,r,i,a,o){for(var s=0;s<t*n;s++){var c=Math.sqrt(r[s])-Math.sqrt(i[s]);e[s]=Math.round(255-255*(c/a+o))}}r.prototype._draw=function(e,t){var n=this.ctx.measureText(e),r=n.width,s=2*this.buffer,c,l,u,d,f,p,m,h;t&&this.useMetrics?(f=Math.floor(n.actualBoundingBoxAscent),h=this.buffer+Math.ceil(n.actualBoundingBoxAscent),p=this.buffer,m=this.buffer,l=Math.min(this.size,Math.ceil(n.actualBoundingBoxRight-n.actualBoundingBoxLeft)),d=Math.min(this.size-p,Math.ceil(n.actualBoundingBoxAscent+n.actualBoundingBoxDescent)),c=l+s,u=d+s,this.ctx.textBaseline=`alphabetic`):(c=l=this.size,u=d=this.size,f=19*this.fontSize/24,p=m=0,h=this.middle,this.ctx.textBaseline=`middle`);var g;l&&d&&(this.ctx.clearRect(m,p,l,d),this.ctx.fillText(e,this.buffer,h),g=this.ctx.getImageData(m,p,l,d));var _=new Uint8ClampedArray(c*u);return i(g,c,u,l,d,this.gridOuter,this.gridInner),o(this.gridOuter,c,u,this.f,this.v,this.z),o(this.gridInner,c,u,this.f,this.v,this.z),a(_,c,u,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:_,metrics:{width:l,height:d,sdfWidth:c,sdfHeight:u,top:f,left:0,advance:r}}},r.prototype.draw=function(e){return this._draw(e,!1).data},r.prototype.drawWithMetrics=function(e){return this._draw(e,!0)};function o(e,t,n,r,i,a){for(var o=0;o<t;o++)s(e,o,t,n,r,i,a);for(var c=0;c<n;c++)s(e,c*t,1,t,r,i,a)}function s(e,t,r,i,a,o,s){var c,l,u,d;for(o[0]=0,s[0]=-n,s[1]=n,c=0;c<i;c++)a[c]=e[t+c*r];for(c=1,l=0,u=0;c<i;c++){do d=o[l],u=(a[c]-a[d]+c*c-d*d)/(c-d)/2;while(u<=s[l]&&--l>-1);l++,o[l]=c,s[l]=u,s[l+1]=n}for(c=0,l=0;c<i;c++){for(;s[l+1]<c;)l++;d=o[l],e[t+c*r]=a[d]+(c-d)*(c-d)}}})),xl=30;function Sl({characterSet:e,getFontWidth:t,fontHeight:n,buffer:r,maxCanvasWidth:i,mapping:a={},xOffset:o=0,yOffset:s=0}){let c=0,l=o;Array.from(e).forEach((e,n)=>{if(!a[e]){let r=t(e,n);l+xl>i&&(l=0,c++),a[e]={x:l,y:s+c*xl,width:xl,height:xl,advance:r},l+=xl}});let u=n+r*2;return{mapping:a,xOffset:l,yOffset:s+c*u,canvasHeight:Tl(s+(c+1)*u)}}function Cl(e,t,n){let r=0,i=0,a=0,o=[],s={};for(let c of e)if(!s[c.id]){let{size:e}=c;r+e+t>n&&(wl(s,o,i),r=0,i=a+i+t,a=0,o=[]),o.push({icon:c,xOffset:r}),r=r+e+t,a=Math.max(a,e)}o.length>0&&wl(s,o,i);let c=Tl(a+i+t);return{mapping:s,canvasHeight:c}}function wl(e,t,n){for(let r of t){let{icon:t,xOffset:i}=r;e[t.id]=P(P({},t),{},{x:i,y:n,image:t.image,width:t.width,height:t.height})}}function Tl(e){return 2**Math.ceil(Math.log2(e))}var El=e(bl()),Dl=e(la());const Ol=Nl();var kl=1024,Al=1,jl=1,Ml=3;function Nl(){let e=[];for(let t=32;t<128;t++)e.push(String.fromCharCode(t));return e}function Pl(e,t,n,r){e.font=`${r} ${n}px ${t}`,e.fillStyle=`black`,e.textBaseline=`middle`}function Fl(e,t){for(let n=0;n<e.length;n++)t.data[4*n+3]=e[n]}var Il=class extends Dl.EventEmitter{constructor(...e){super(...e),I(this,`fontAtlas`,void 0),I(this,`iconFontMap`,void 0),I(this,`iconFontGlyphs`,{}),I(this,`fontOptions`,void 0),I(this,`key`,void 0),I(this,`cache`,new ea(Ml))}get scale(){return jl}get canvas(){let e=this.cache.get(this.key);return e&&e.data}get mapping(){let e=this.cache.get(this.key);return e&&e.mapping||{}}getCanvasByKey(e){let t=this.cache.get(e);return t&&t.data}getMappingByKey(e){let t=this.cache.get(e);return t&&t.mapping||{}}init(){this.cache.clear(),this.fontOptions={fontFamily:`sans-serif`,fontWeight:`normal`,characterSet:Ol,fontSize:24,buffer:3,sdf:!0,cutoff:.25,radius:8,iconfont:!1},this.key=``,this.iconFontMap=new Map}addIconGlyphs(e){e.forEach(e=>{this.iconFontGlyphs[e.name]=e.unicode})}addIconFont(e,t){this.iconFontMap.set(e,t)}getIconFontKey(e){return this.iconFontMap.get(e)||e}getGlyph(e){return this.iconFontGlyphs[e]?String.fromCharCode(parseInt(this.iconFontGlyphs[e],16)):``}setFontOptions(e){this.fontOptions=P(P({},this.fontOptions),e),this.key=this.getKey();let t=this.getNewChars(this.key,this.fontOptions.characterSet),n=this.cache.get(this.key);if(n&&t.length===0)return;let r=this.generateFontAtlas(this.key,t,n);this.fontAtlas=r,this.cache.set(this.key,r)}addFontFace(e,t){let n=document.createElement(`style`);n.type=`text/css`,n.innerText=`
        @font-face{
            font-family: '${e}';
            src: url('${t}') format('woff2'),
            url('${t}') format('woff'),
            url('${t}') format('truetype');
        }`,n.onload=()=>{if(document.fonts)try{document.fonts.load(`24px ${e}`,`L7text`),document.fonts.ready.then(()=>{this.emit(`fontloaded`,{fontFamily:e})})}catch(e){console.warn(`当前环境不支持 document.fonts !`),console.warn(`当前环境不支持 iconfont !`),console.warn(e)}},document.getElementsByTagName(`head`)[0].appendChild(n)}destroy(){this.cache.clear(),this.iconFontMap.clear()}generateFontAtlas(e,t,n){let{fontFamily:r,fontWeight:i,fontSize:a,buffer:o,sdf:s,radius:c,cutoff:l,iconfont:u}=this.fontOptions,d=n&&n.data;d||(d=window.document.createElement(`canvas`),d.width=kl);let f=d.getContext(`2d`,{willReadFrequently:!0});Pl(f,r,a,i);let{mapping:p,canvasHeight:m,xOffset:h,yOffset:g}=Sl(P({getFontWidth:e=>f.measureText(e).width,fontHeight:a*jl,buffer:o,characterSet:t,maxCanvasWidth:kl},n&&{mapping:n.mapping,xOffset:n.xOffset,yOffset:n.yOffset})),_=f.getImageData(0,0,d.width,d.height);if(d.height=m,f.putImageData(_,0,0),Pl(f,r,a,i),s){let e=new El.default(a,o,c,l,r,i),n=f.getImageData(0,0,e.size,e.size);for(let r of t){if(u){let t=String.fromCharCode(parseInt(r.replace(`&#x`,``).replace(`;`,``),16)),i=e.draw(t);Fl(i,n)}else Fl(e.draw(r),n);f.putImageData(n,p[r].x,p[r].y)}}else for(let e of t)f.fillText(e,p[e].x,p[e].y+a*Al);return{xOffset:h,yOffset:g,mapping:p,data:d,width:d.width,height:d.height}}getKey(){let{fontFamily:e,fontWeight:t}=this.fontOptions;return`${e}_${t}`}getNewChars(e,t){let n=this.cache.get(e);if(!n)return t;let r=[],i=n.mapping,a=new Set(Object.keys(i));return new Set(t).forEach(e=>{a.has(e)||r.push(e)}),r}};function Ll(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(e){n(e);return}s.done?t(c):Promise.resolve(c).then(r,i)}function Y(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){Ll(a,r,i,o,s,`next`,e)}function s(e){Ll(a,r,i,o,s,`throw`,e)}o(void 0)})}}var Rl=e(la()),zl=3,Bl=1024,Vl=64,Hl=class extends Rl.EventEmitter{constructor(...e){super(...e),I(this,`canvasHeight`,128),I(this,`texture`,void 0),I(this,`canvas`,void 0),I(this,`iconData`,void 0),I(this,`iconMap`,void 0),I(this,`ctx`,void 0),I(this,`loadingImageCount`,0)}isLoading(){return this.loadingImageCount===0}init(){this.iconData=[],this.iconMap={},this.canvas=window.document.createElement(`canvas`),this.canvas.width=128,this.canvas.height=128,this.ctx=this.canvas.getContext(`2d`)}addImage(e,t){var n=this;return Y(function*(){let r=new Image;n.loadingImageCount++,n.hasImage(e)?console.warn(`Image Id already exists`):n.iconData.push({id:e,size:Vl}),n.updateIconMap(),r=yield n.loadImage(t);let i=n.iconData.find(t=>t.id===e);i&&(i.image=r,i.width=r.width,i.height=r.height),n.update()})()}addImageMini(e,t,n){let r=n.getSceneConfig().canvas,i=r.createImage();if(this.loadingImageCount++,this.hasImage(e))throw Error(`Image Id already exists`);this.iconData.push({id:e,size:Vl}),this.updateIconMap(),this.loadImageMini(t,r).then(t=>{i=t;let n=this.iconData.find(t=>t.id===e);n&&(n.image=i,n.width=i.width,n.height=i.height),this.update()})}getTexture(){return this.texture}getIconMap(){return this.iconMap}getCanvas(){return this.canvas}hasImage(e){return this.iconMap.hasOwnProperty(e)}removeImage(e){this.hasImage(e)&&(this.iconData=this.iconData.filter(t=>t.id!==e),delete this.iconMap[e],this.update())}destroy(){this.removeAllListeners(`imageUpdate`),this.iconData=[],this.iconMap={}}loadImage(e){return new Promise((t,n)=>{if(e instanceof HTMLImageElement){t(e);return}let r=new Image;r.crossOrigin=`anonymous`,r.onload=()=>{t(r)},r.onerror=()=>{n(Error(`Could not load image at `+e))},r.src=e instanceof File?URL.createObjectURL(e):e})}update(){this.updateIconMap(),this.updateIconAtlas(),this.loadingImageCount--,this.loadingImageCount===0&&this.emit(`imageUpdate`)}updateIconAtlas(){this.canvas.width=Bl,this.canvas.height=this.canvasHeight,Object.keys(this.iconMap).forEach(e=>{let{x:t,y:n,image:r,width:i=64,height:a=64}=this.iconMap[e],o=Math.max(i,a)/Vl,s=a/o,c=i/o;r&&this.ctx.drawImage(r,t+(Vl-c)/2,n+(Vl-s)/2,c,s)})}updateIconMap(){let{mapping:e,canvasHeight:t}=Cl(this.iconData,zl,Bl);this.iconMap=e,this.canvasHeight=t}loadImageMini(e,t){return new Promise((n,r)=>{let i=t.createImage();i.crossOrigin=`anonymous`,i.onload=()=>{n(i)},i.onerror=()=>{r(Error(`Could not load image at `+e))},i.src=e})}},Ul=class{constructor(){I(this,`viewport`,void 0),I(this,`overridedViewProjectionMatrix`,void 0),I(this,`viewMatrixInverse`,void 0),I(this,`cameraPosition`,void 0)}init(){}update(e){this.viewport=e,this.viewMatrixInverse=cn(),un(this.viewMatrixInverse,e.getViewMatrix()),this.cameraPosition=[this.viewMatrixInverse[12],this.viewMatrixInverse[13],this.viewMatrixInverse[14]]}getProjectionMatrix(){return this.viewport.getProjectionMatrix()}getModelMatrix(){return this.viewport.getModelMatrix()}getViewMatrix(){return this.viewport.getViewMatrix()}getViewMatrixUncentered(){return this.viewport.getViewMatrixUncentered()}getViewProjectionMatrixUncentered(){return this.viewport.getViewProjectionMatrixUncentered()}getViewProjectionMatrix(){return this.overridedViewProjectionMatrix||this.viewport.getViewProjectionMatrix()}getZoom(){return this.viewport.getZoom()}getZoomScale(){return this.viewport.getZoomScale()}getCenter(){let[e,t]=this.viewport.getCenter();return[e,t]}getFocalDistance(){return this.viewport.getFocalDistance()}getCameraPosition(){return this.cameraPosition}projectFlat(e,t){return this.viewport.projectFlat(e,t)}setViewProjectionMatrix(e){this.overridedViewProjectionMatrix=e}},Wl={topleft:`column`,topright:`column`,bottomright:`column`,bottomleft:`column`,leftcenter:`column`,rightcenter:`column`,topcenter:`row`,bottomcenter:`row`,lefttop:`row`,righttop:`row`,leftbottom:`row`,rightbottom:`row`},Gl=class{constructor(){I(this,`container`,void 0),I(this,`controlCorners`,void 0),I(this,`controlContainer`,void 0),I(this,`scene`,void 0),I(this,`mapsService`,void 0),I(this,`controls`,[]),I(this,`unAddControls`,[])}init(e,t){this.container=e.container,this.scene=t,this.mapsService=t.mapService,this.initControlPos()}addControl(e,t){t.mapService.map?(e.addTo(this.scene),this.controls.push(e)):this.unAddControls.push(e)}getControlByName(e){return this.controls.find(t=>t.controlOption.name===e)}removeControl(e){let t=this.controls.indexOf(e);return t>-1&&this.controls.splice(t,1),e.remove(),this}addControls(){this.unAddControls.forEach(e=>{e.addTo(this.scene),this.controls.push(e)}),this.unAddControls=[]}destroy(){for(let e of this.controls)e.remove();this.controls=[],this.clearControlPos()}initControlPos(){let e=this.controlCorners={},t=this.controlContainer=_i(`div`,`l7-control-container`,this.container);function n(n=[]){let r=n.map(e=>`l7-`+e).join(` `);e[n.filter(e=>![`row`,`column`].includes(e)).join(``)]=_i(`div`,r,t)}function r(e){return[...e.replace(/^(top|bottom|left|right|center)/,`$1-`).split(`-`),Wl[e]]}Object.values(cl).forEach(e=>{n(r(e))}),this.checkCornerOverlap()}clearControlPos(){for(let e in this.controlCorners)this.controlCorners[e]&&vi(this.controlCorners[e]);this.controlContainer&&vi(this.controlContainer)}checkCornerOverlap(){let e=window.MutationObserver;if(e)for(let t of Object.keys(this.controlCorners)){let n=t.match(/^(top|bottom)(left|right)$/);if(n){let[,t,r]=n,i=this.controlCorners[`${t}${r}`];new e(([{target:e}])=>{i&&(i.style[t]=e.clientHeight+`px`)}).observe(this.controlCorners[`${r}${t}`],{childList:!0,attributes:!0})}}}},Kl=class{constructor(){I(this,`container`,void 0),I(this,`scene`,void 0),I(this,`mapsService`,void 0),I(this,`markers`,[]),I(this,`markerLayers`,[]),I(this,`unAddMarkers`,[]),I(this,`unAddMarkerLayers`,[])}addMarkerLayer(e){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markerLayers.push(e),e.addTo(this.scene)):this.unAddMarkerLayers.push(e)}removeMarkerLayer(e){e.destroy(),this.markerLayers.indexOf(e);let t=this.markerLayers.indexOf(e);t>-1&&this.markerLayers.splice(t,1)}addMarker(e){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markers.push(e),e.addTo(this.scene)):this.unAddMarkers.push(e)}addMarkers(){this.unAddMarkers.forEach(e=>{e.addTo(this.scene),this.markers.push(e)}),this.unAddMarkers=[]}addMarkerLayers(){this.unAddMarkerLayers.forEach(e=>{this.markerLayers.push(e),e.addTo(this.scene)}),this.unAddMarkers=[]}removeMarker(e){e.remove(),this.markers.indexOf(e);let t=this.markers.indexOf(e);t>-1&&this.markers.splice(t,1)}removeAllMarkers(){this.destroy()}init(e){this.scene=e,this.mapsService=e.mapService}destroy(){this.markers.forEach(e=>{e.remove()}),this.markers=[],this.markerLayers.forEach(e=>{e.destroy()}),this.markerLayers=[]}removeMakerLayerMarker(e){e.destroy()}},ql=class{constructor(){I(this,`scene`,void 0),I(this,`mapsService`,void 0),I(this,`popups`,[]),I(this,`unAddPopups`,[])}get isMarkerReady(){return this.mapsService.map&&this.mapsService.getMarkerContainer()}removePopup(e){e!=null&&e.isOpen()&&e.remove();let t=this.popups.indexOf(e);t>-1&&this.popups.splice(t,1);let n=this.unAddPopups.indexOf(e);n>-1&&this.unAddPopups.splice(n,1)}destroy(){this.popups.forEach(e=>e.remove())}addPopup(e){e&&e.getOptions().autoClose&&[...this.popups,...this.unAddPopups].forEach(e=>{e.getOptions().autoClose&&this.removePopup(e)}),this.isMarkerReady?(e.addTo(this.scene),this.popups.push(e)):this.unAddPopups.push(e),e.on(`close`,()=>{this.removePopup(e)})}initPopup(){this.unAddPopups.length&&this.unAddPopups.forEach(e=>{this.addPopup(e),this.unAddPopups=[]})}init(e){this.scene=e,this.mapsService=e.mapService}},Jl={MapToken:`您正在使用 Demo 测试 Token, 生产环境务必自行注册 Token 确保服务稳定 高德地图申请地址 https://lbs.amap.com/api/javascript-api/guide/abc/prepare  Mapbox地图申请地址 https://docs.mapbox.com/help/glossary/access-token/`,SDK:`请确认引入了mapbox-gl api且在L7之前引入`},{merge:Yl}=di,Xl={id:`map`,logoPosition:`bottomleft`,logoVisible:!0,antialias:!0,stencil:!0,preserveDrawingBuffer:!1,pickBufferScale:1,fitBoundsOptions:{animate:!1}},Zl={colors:[`rgb(103,0,31)`,`rgb(178,24,43)`,`rgb(214,96,77)`,`rgb(244,165,130)`,`rgb(253,219,199)`,`rgb(247,247,247)`,`rgb(209,229,240)`,`rgb(146,197,222)`,`rgb(67,147,195)`,`rgb(33,102,172)`,`rgb(5,48,97)`],size:10,shape:`circle`,scales:{},shape2d:[`circle`,`triangle`,`square`,`pentagon`,`hexagon`,`octogon`,`hexagram`,`rhombus`,`vesica`],shape3d:[`cylinder`,`triangleColumn`,`hexagonColumn`,`squareColumn`],minZoom:-1,maxZoom:24,visible:!0,autoFit:!1,pickingBuffer:0,enablePropagation:!1,zIndex:0,blend:`normal`,maskLayers:[],enableMask:!0,maskOperation:hl.AND,pickedFeatureID:-1,enableMultiPassRenderer:!1,enablePicking:!0,active:!1,activeColor:`#2f54eb`,enableHighlight:!1,enableSelect:!1,highlightColor:`#2f54eb`,activeMix:0,selectColor:`blue`,selectMix:0,enableLighting:!1,animateOption:{enable:!1,interval:.2,duration:4,trailLength:.15},forward:!0},Ql=class{constructor(){I(this,`sceneConfigCache`,{}),I(this,`layerConfigCache`,{}),I(this,`layerAttributeConfigCache`,{})}getSceneConfig(e){return this.sceneConfigCache[e]}getSceneWarninfo(e){return Jl[e]}setSceneConfig(e,t){this.sceneConfigCache[e]=P(P({},Xl),t)}getLayerConfig(e){return this.layerConfigCache[e]}setLayerConfig(e,t,n){this.layerConfigCache[t]=P({},Yl({},this.sceneConfigCache[e],Zl,n))}getAttributeConfig(e){return this.layerAttributeConfigCache[e]}setAttributeConfig(e,t){this.layerAttributeConfigCache[e]=P(P({},this.layerAttributeConfigCache[e]),t)}clean(){this.sceneConfigCache={},this.layerConfigCache={}}},$l=Math.PI/180,eu=512,tu=4003e4;function nu({latitude:e=0,zoom:t=0,scale:n,highPrecision:r=!1,flipY:i=!1}){n=n===void 0?2**t:n;let a={},o=eu*n,s=Math.cos(e*$l),c=o/360,l=c/s,u=o/tu/s;if(a.pixelsPerMeter=[u,-u,u],a.metersPerPixel=[1/u,-1/u,1/u],a.pixelsPerDegree=[c,-l,u],a.degreesPerPixel=[1/c,-1/l,1/u],r){let t=$l*Math.tan(e*$l)/s,n=c*t/2,r=o/tu*t,d=r/l*u;a.pixelsPerDegree2=[0,-n,r],a.pixelsPerMeter2=[d,0,d],i&&(a.pixelsPerDegree2[1]=-a.pixelsPerDegree2[1],a.pixelsPerMeter2[1]=-a.pixelsPerMeter2[1])}return i&&(a.pixelsPerMeter[1]=-a.pixelsPerMeter[1],a.metersPerPixel[1]=-a.metersPerPixel[1],a.pixelsPerDegree[1]=-a.pixelsPerDegree[1],a.degreesPerPixel[1]=-a.degreesPerPixel[1]),a}var ru=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],iu=class{constructor(e){I(this,`needRefresh`,!0),I(this,`coordinateSystem`,void 0),I(this,`viewportCenter`,void 0),I(this,`viewportCenterProjection`,void 0),I(this,`pixelsPerDegree`,void 0),I(this,`pixelsPerDegree2`,void 0),I(this,`pixelsPerMeter`,void 0),this.cameraService=e}refresh(e){let t=this.cameraService.getZoom(),n=e||this.cameraService.getCenter(),{pixelsPerMeter:r,pixelsPerDegree:i}=nu({latitude:n[1],zoom:t});this.viewportCenter=n,this.viewportCenterProjection=[0,0,0,0],this.pixelsPerMeter=r,this.pixelsPerDegree=i,this.pixelsPerDegree2=[0,0,0],this.coordinateSystem===ll.LNGLAT?this.cameraService.setViewProjectionMatrix(void 0):this.coordinateSystem===ll.LNGLAT_OFFSET&&this.calculateLnglatOffset(n,t),this.needRefresh=!1}getCoordinateSystem(){return this.coordinateSystem}setCoordinateSystem(e){this.coordinateSystem=e}getViewportCenter(){return this.viewportCenter}setViewportCenter(e){this.refresh(e)}getViewportCenterProjection(){return this.viewportCenterProjection}getPixelsPerDegree(){return this.pixelsPerDegree}getPixelsPerDegree2(){return this.pixelsPerDegree2}getPixelsPerMeter(){return this.pixelsPerMeter}calculateLnglatOffset(e,t,n,r){let{pixelsPerMeter:i,pixelsPerDegree:a,pixelsPerDegree2:o}=nu({latitude:e[1],zoom:t,scale:n,flipY:r,highPrecision:!0}),s=this.cameraService.getViewMatrix(),c=this.cameraService.getProjectionMatrix(),l=dn([],c,s),u=this.cameraService.projectFlat([Math.fround(e[0]),Math.fround(e[1])],2**t);this.viewportCenterProjection=Cn([],[u[0],u[1],0,1],l),s=this.cameraService.getViewMatrixUncentered()||s,l=dn([],c,s),l=dn([],l,ru),this.cameraService.setViewProjectionMatrix(l),this.pixelsPerMeter=i,this.pixelsPerDegree=a,this.pixelsPerDegree2=o}},au=e(la()),ou=class extends au.EventEmitter{constructor(...e){super(...e),I(this,`renderMap`,new Map),I(this,`enable`,!1),I(this,`renderEnable`,!1),I(this,`cacheLogs`,{})}setEnable(e){this.enable=!!e}log(e,t){if(!this.enable)return;let n=e.split(`.`),r=null;n.forEach((e,i)=>{r===null?(this.cacheLogs[e]||(this.cacheLogs[e]={}),i!==n.length-1&&(r=this.cacheLogs[e])):(r[e]||(r[e]={}),i!==n.length-1&&(r=r[e])),i===n.length-1&&(r[e]=P(P({time:Date.now()},r[e]),t))})}getLog(e){switch(typeof e){case`string`:return this.cacheLogs[e];case`object`:return e.map(e=>this.cacheLogs[e]).filter(e=>e!==void 0);case`undefined`:return this.cacheLogs}}removeLog(e){delete this.cacheLogs[e]}generateRenderUid(){return this.renderEnable?$i():``}renderDebug(e){this.renderEnable=e}renderStart(e){if(!this.renderEnable||!this.enable)return;let t=this.renderMap.get(e)||{};this.renderMap.set(e,P(P({},t),{},{renderUid:e,renderStart:Date.now()}))}renderEnd(e){if(!this.renderEnable||!this.enable)return;let t=this.renderMap.get(e);if(t){let n=t.renderStart,r=Date.now();this.emit(`renderEnd`,P(P({},t),{},{renderEnd:r,renderDuration:r-n})),this.renderMap.delete(e)}}destroy(){this.cacheLogs=null,this.renderMap.clear()}},su=t(((exports,t)=>{
/*! Hammer.JS - v2.0.7 - 2016-04-22
* http://hammerjs.github.io/
*
* Copyright (c) 2016 Jorik Tangelder;
* Licensed under the MIT license */
(function(e,n,r,i){var a=[``,`webkit`,`Moz`,`MS`,`ms`,`o`],o=n.createElement(`div`),s=`function`,c=Math.round,l=Math.abs,u=Date.now;function d(e,t,n){return setTimeout(y(e,n),t)}function f(e,t,n){return Array.isArray(e)?(p(e,n[t],n),!0):!1}function p(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==i)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function m(t,n,r){var i=`DEPRECATED METHOD: `+n+`
`+r+` AT 
`;return function(){var n=Error(`get-stack-trace`),r=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,``).replace(/^\s+at\s+/gm,``).replace(/^Object.<anonymous>\s*\(/gm,`{anonymous}()@`):`Unknown Stack Trace`,a=e.console&&(e.console.warn||e.console.log);return a&&a.call(e.console,i,r),t.apply(this,arguments)}}var h=typeof Object.assign==`function`?Object.assign:function(e){if(e===i||e===null)throw TypeError(`Cannot convert undefined or null to object`);for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==i&&r!==null)for(var a in r)r.hasOwnProperty(a)&&(t[a]=r[a])}return t},g=m(function(e,t,n){for(var r=Object.keys(t),a=0;a<r.length;)(!n||n&&e[r[a]]===i)&&(e[r[a]]=t[r[a]]),a++;return e},`extend`,"Use `assign`."),_=m(function(e,t){return g(e,t,!0)},`merge`,"Use `assign`.");function v(e,t,n){var r=t.prototype,i=e.prototype=Object.create(r);i.constructor=e,i._super=r,n&&h(i,n)}function y(e,t){return function(){return e.apply(t,arguments)}}function b(e,t){return typeof e==s?e.apply(t&&t[0]||i,t):e}function x(e,t){return e===i?t:e}function S(e,t,n){p(E(t),function(t){e.addEventListener(t,n,!1)})}function C(e,t,n){p(E(t),function(t){e.removeEventListener(t,n,!1)})}function w(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function T(e,t){return e.indexOf(t)>-1}function E(e){return e.trim().split(/\s+/g)}function D(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function O(e){return Array.prototype.slice.call(e,0)}function k(e,t,n){for(var r=[],i=[],a=0;a<e.length;){var o=t?e[a][t]:e[a];D(i,o)<0&&r.push(e[a]),i[a]=o,a++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}function A(e,t){for(var n,r,o=t[0].toUpperCase()+t.slice(1),s=0;s<a.length;){if(n=a[s],r=n?n+o:t,r in e)return r;s++}return i}var j=1;function M(){return j++}function N(t){var n=t.ownerDocument||t;return n.defaultView||n.parentWindow||e}var P=/mobile|tablet|ip(ad|hone|od)|android/i,F=`ontouchstart`in e,ee=A(e,`PointerEvent`)!==i,I=F&&P.test(navigator.userAgent),te=`touch`,L=`pen`,ne=`mouse`,re=`kinect`,ie=25,R=1,ae=2,oe=4,se=8,ce=1,le=2,ue=4,de=8,fe=16,pe=le|ue,me=de|fe,he=pe|me,ge=[`x`,`y`],_e=[`clientX`,`clientY`];function z(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){b(e.options.enable,[e])&&n.handler(t)},this.init()}z.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(N(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(N(this.element),this.evWin,this.domHandler)}};function ve(e){var t;return t=e.options.inputClass||(ee?ze:I?Ge:F?Ye:Pe),new t(e,ye)}function ye(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,a=t&R&&r-i===0,o=t&(oe|se)&&r-i===0;n.isFirst=!!a,n.isFinal=!!o,a&&(e.session={}),n.eventType=t,be(e,n),e.emit(`hammer.input`,n),e.recognize(n),e.session.prevInput=n}function be(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||=Ce(t),i>1&&!n.firstMultiple?n.firstMultiple=Ce(t):i===1&&(n.firstMultiple=!1);var a=n.firstInput,o=n.firstMultiple,s=o?o.center:a.center,c=t.center=we(r);t.timeStamp=u(),t.deltaTime=t.timeStamp-a.timeStamp,t.angle=Oe(s,c),t.distance=De(s,c),xe(n,t),t.offsetDirection=Ee(t.deltaX,t.deltaY);var d=Te(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=d.x,t.overallVelocityY=d.y,t.overallVelocity=l(d.x)>l(d.y)?d.x:d.y,t.scale=o?Ae(o.pointers,r):1,t.rotation=o?ke(o.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,Se(n,t);var f=e.element;w(t.srcEvent.target,f)&&(f=t.srcEvent.target),t.target=f}function xe(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},a=e.prevInput||{};(t.eventType===R||a.eventType===oe)&&(i=e.prevDelta={x:a.deltaX||0,y:a.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}function Se(e,t){var n=e.lastInterval||t,r=t.timeStamp-n.timeStamp,a,o,s,c;if(t.eventType!=se&&(r>ie||n.velocity===i)){var u=t.deltaX-n.deltaX,d=t.deltaY-n.deltaY,f=Te(r,u,d);o=f.x,s=f.y,a=l(f.x)>l(f.y)?f.x:f.y,c=Ee(u,d),e.lastInterval=t}else a=n.velocity,o=n.velocityX,s=n.velocityY,c=n.direction;t.velocity=a,t.velocityX=o,t.velocityY=s,t.direction=c}function Ce(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:c(e.pointers[n].clientX),clientY:c(e.pointers[n].clientY)},n++;return{timeStamp:u(),pointers:t,center:we(t),deltaX:e.deltaX,deltaY:e.deltaY}}function we(e){var t=e.length;if(t===1)return{x:c(e[0].clientX),y:c(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:c(n/t),y:c(r/t)}}function Te(e,t,n){return{x:t/e||0,y:n/e||0}}function Ee(e,t){return e===t?ce:l(e)>=l(t)?e<0?le:ue:t<0?de:fe}function De(e,t,n){n||=ge;var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function Oe(e,t,n){n||=ge;var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.atan2(i,r)*180/Math.PI}function ke(e,t){return Oe(t[1],t[0],_e)+Oe(e[1],e[0],_e)}function Ae(e,t){return De(t[0],t[1],_e)/De(e[0],e[1],_e)}var je={mousedown:R,mousemove:ae,mouseup:oe},Me=`mousedown`,Ne=`mousemove mouseup`;function Pe(){this.evEl=Me,this.evWin=Ne,this.pressed=!1,z.apply(this,arguments)}v(Pe,z,{handler:function(e){var t=je[e.type];t&R&&e.button===0&&(this.pressed=!0),t&ae&&e.which!==1&&(t=oe),this.pressed&&(t&oe&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:ne,srcEvent:e}))}});var Fe={pointerdown:R,pointermove:ae,pointerup:oe,pointercancel:se,pointerout:se},Ie={2:te,3:L,4:ne,5:re},Le=`pointerdown`,Re=`pointermove pointerup pointercancel`;e.MSPointerEvent&&!e.PointerEvent&&(Le=`MSPointerDown`,Re=`MSPointerMove MSPointerUp MSPointerCancel`);function ze(){this.evEl=Le,this.evWin=Re,z.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}v(ze,z,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace(`ms`,``),i=Fe[r],a=Ie[e.pointerType]||e.pointerType,o=a==te,s=D(t,e.pointerId,`pointerId`);i&R&&(e.button===0||o)?s<0&&(t.push(e),s=t.length-1):i&(oe|se)&&(n=!0),!(s<0)&&(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:a,srcEvent:e}),n&&t.splice(s,1))}});var Be={touchstart:R,touchmove:ae,touchend:oe,touchcancel:se},Ve=`touchstart`,He=`touchstart touchmove touchend touchcancel`;function B(){this.evTarget=Ve,this.evWin=He,this.started=!1,z.apply(this,arguments)}v(B,z,{handler:function(e){var t=Be[e.type];if(t===R&&(this.started=!0),this.started){var n=V.call(this,e,t);t&(oe|se)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:te,srcEvent:e})}}});function V(e,t){var n=O(e.touches),r=O(e.changedTouches);return t&(oe|se)&&(n=k(n.concat(r),`identifier`,!0)),[n,r]}var Ue={touchstart:R,touchmove:ae,touchend:oe,touchcancel:se},We=`touchstart touchmove touchend touchcancel`;function Ge(){this.evTarget=We,this.targetIds={},z.apply(this,arguments)}v(Ge,z,{handler:function(e){var t=Ue[e.type],n=Ke.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:te,srcEvent:e})}});function Ke(e,t){var n=O(e.touches),r=this.targetIds;if(t&(R|ae)&&n.length===1)return r[n[0].identifier]=!0,[n,n];var i,a,o=O(e.changedTouches),s=[],c=this.target;if(a=n.filter(function(e){return w(e.target,c)}),t===R)for(i=0;i<a.length;)r[a[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&s.push(o[i]),t&(oe|se)&&delete r[o[i].identifier],i++;if(s.length)return[k(a.concat(s),`identifier`,!0),s]}var qe=2500,Je=25;function Ye(){z.apply(this,arguments);var e=y(this.handler,this);this.touch=new Ge(this.manager,e),this.mouse=new Pe(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}v(Ye,z,{handler:function(e,t,n){var r=n.pointerType==te,i=n.pointerType==ne;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)H.call(this,t,n);else if(i&&Ze.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function H(e,t){e&R?(this.primaryTouch=t.changedPointers[0].identifier,Xe.call(this,t)):e&(oe|se)&&Xe.call(this,t)}function Xe(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)},qe)}}function Ze(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],a=Math.abs(t-i.x),o=Math.abs(n-i.y);if(a<=Je&&o<=Je)return!0}return!1}var Qe=A(o.style,`touchAction`),$e=Qe!==i,et=`compute`,tt=`auto`,nt=`manipulation`,rt=`none`,it=`pan-x`,at=`pan-y`,ot=lt();function st(e,t){this.manager=e,this.set(t)}st.prototype={set:function(e){e==et&&(e=this.compute()),$e&&this.manager.element.style&&ot[e]&&(this.manager.element.style[Qe]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return p(this.manager.recognizers,function(t){b(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),ct(e.join(` `))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented){t.preventDefault();return}var r=this.actions,i=T(r,rt)&&!ot[rt],a=T(r,at)&&!ot[at],o=T(r,it)&&!ot[it];if(i){var s=e.pointers.length===1,c=e.distance<2,l=e.deltaTime<250;if(s&&c&&l)return}if(!(o&&a)&&(i||a&&n&pe||o&&n&me))return this.preventSrc(t)},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};function ct(e){if(T(e,rt))return rt;var t=T(e,it),n=T(e,at);return t&&n?rt:t||n?t?it:at:T(e,nt)?nt:tt}function lt(){if(!$e)return!1;var t={},n=e.CSS&&e.CSS.supports;return[`auto`,`manipulation`,`pan-y`,`pan-x`,`pan-x pan-y`,`none`].forEach(function(r){t[r]=n?e.CSS.supports(`touch-action`,r):!0}),t}var ut=1,dt=2,ft=4,pt=8,mt=pt,ht=16,gt=32;function _t(e){this.options=h({},this.defaults,e||{}),this.id=M(),this.manager=null,this.options.enable=x(this.options.enable,!0),this.state=ut,this.simultaneous={},this.requireFail=[]}_t.prototype={defaults:{},set:function(e){return h(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(f(e,`recognizeWith`,this))return this;var t=this.simultaneous;return e=bt(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return f(e,`dropRecognizeWith`,this)?this:(e=bt(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(f(e,`requireFailure`,this))return this;var t=this.requireFail;return e=bt(e,this),D(t,e)===-1&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(f(e,`dropRequireFailure`,this))return this;e=bt(e,this);var t=D(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<pt&&r(t.options.event+vt(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=pt&&r(t.options.event+vt(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=gt},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(gt|ut)))return!1;e++}return!0},recognize:function(e){var t=h({},e);if(!b(this.options.enable,[this,t])){this.reset(),this.state=gt;return}this.state&(mt|ht|gt)&&(this.state=ut),this.state=this.process(t),this.state&(dt|ft|pt|ht)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}};function vt(e){return e&ht?`cancel`:e&pt?`end`:e&ft?`move`:e&dt?`start`:``}function yt(e){return e==fe?`down`:e==de?`up`:e==le?`left`:e==ue?`right`:``}function bt(e,t){var n=t.manager;return n?n.get(e):e}function xt(){_t.apply(this,arguments)}v(xt,_t,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return t===0||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(dt|ft),i=this.attrTest(e);return r&&(n&se||!i)?t|ht:r||i?n&oe?t|pt:t&dt?t|ft:dt:gt}});function St(){xt.apply(this,arguments),this.pX=null,this.pY=null}v(St,xt,{defaults:{event:`pan`,threshold:10,pointers:1,direction:he},getTouchAction:function(){var e=this.options.direction,t=[];return e&pe&&t.push(at),e&me&&t.push(it),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,a=e.deltaX,o=e.deltaY;return i&t.direction||(t.direction&pe?(i=a===0?ce:a<0?le:ue,n=a!=this.pX,r=Math.abs(e.deltaX)):(i=o===0?ce:o<0?de:fe,n=o!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return xt.prototype.attrTest.call(this,e)&&(this.state&dt||!(this.state&dt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=yt(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}});function Ct(){xt.apply(this,arguments)}v(Ct,xt,{defaults:{event:`pinch`,threshold:0,pointers:2},getTouchAction:function(){return[rt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&dt)},emit:function(e){if(e.scale!==1){var t=e.scale<1?`in`:`out`;e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}});function wt(){_t.apply(this,arguments),this._timer=null,this._input=null}v(wt,_t,{defaults:{event:`press`,pointers:1,time:251,threshold:9},getTouchAction:function(){return[tt]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(oe|se)&&!i)this.reset();else if(e.eventType&R)this.reset(),this._timer=d(function(){this.state=mt,this.tryEmit()},t.time,this);else if(e.eventType&oe)return mt;return gt},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===mt&&(e&&e.eventType&oe?this.manager.emit(this.options.event+`up`,e):(this._input.timeStamp=u(),this.manager.emit(this.options.event,this._input)))}});function Tt(){xt.apply(this,arguments)}v(Tt,xt,{defaults:{event:`rotate`,threshold:0,pointers:2},getTouchAction:function(){return[rt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&dt)}});function Et(){xt.apply(this,arguments)}v(Et,xt,{defaults:{event:`swipe`,threshold:10,velocity:.3,direction:pe|me,pointers:1},getTouchAction:function(){return St.prototype.getTouchAction.call(this)},attrTest:function(e){var t=this.options.direction,n;return t&(pe|me)?n=e.overallVelocity:t&pe?n=e.overallVelocityX:t&me&&(n=e.overallVelocityY),this._super.attrTest.call(this,e)&&t&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&l(n)>this.options.velocity&&e.eventType&oe},emit:function(e){var t=yt(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}});function Dt(){_t.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}v(Dt,_t,{defaults:{event:`tap`,pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[nt]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&R&&this.count===0)return this.failTimeout();if(r&&i&&n){if(e.eventType!=oe)return this.failTimeout();var a=this.pTime?e.timeStamp-this.pTime<t.interval:!0,o=!this.pCenter||De(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,!o||!a?this.count=1:this.count+=1,this._input=e,this.count%t.taps===0)return this.hasRequireFailures()?(this._timer=d(function(){this.state=mt,this.tryEmit()},t.interval,this),dt):mt}return gt},failTimeout:function(){return this._timer=d(function(){this.state=gt},this.options.interval,this),gt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==mt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Ot(e,t){return t||={},t.recognizers=x(t.recognizers,Ot.defaults.preset),new jt(e,t)}Ot.VERSION=`2.0.7`,Ot.defaults={domEvents:!1,touchAction:et,enable:!0,inputTarget:null,inputClass:null,preset:[[Tt,{enable:!1}],[Ct,{enable:!1},[`rotate`]],[Et,{direction:pe}],[St,{direction:pe},[`swipe`]],[Dt],[Dt,{event:`doubletap`,taps:2},[`tap`]],[wt]],cssProps:{userSelect:`none`,touchSelect:`none`,touchCallout:`none`,contentZooming:`none`,userDrag:`none`,tapHighlightColor:`rgba(0,0,0,0)`}};var kt=1,At=2;function jt(e,t){this.options=h({},Ot.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=ve(this),this.touchAction=new st(this,this.options.touchAction),Mt(this,!0),p(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}jt.prototype={set:function(e){return h(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?At:kt},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,r=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&mt)&&(i=t.curRecognizer=null);for(var a=0;a<r.length;)n=r[a],t.stopped!==At&&(!i||n==i||n.canRecognizeWith(i))?n.recognize(e):n.reset(),!i&&n.state&(dt|ft|pt)&&(i=t.curRecognizer=n),a++}},get:function(e){if(e instanceof _t)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(f(e,`add`,this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(f(e,`remove`,this))return this;if(e=this.get(e),e){var t=this.recognizers,n=D(t,e);n!==-1&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==i&&t!==i){var n=this.handlers;return p(E(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==i){var n=this.handlers;return p(E(e),function(e){t?n[e]&&n[e].splice(D(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&Nt(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(!(!n||!n.length)){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&Mt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Mt(e,t){var n=e.element;if(n.style){var r;p(e.options.cssProps,function(i,a){r=A(n.style,a),t?(e.oldCssProps[r]=n.style[r],n.style[r]=i):n.style[r]=e.oldCssProps[r]||``}),t||(e.oldCssProps={})}}function Nt(e,t){var r=n.createEvent(`Event`);r.initEvent(e,!0,!0),r.gesture=t,t.target.dispatchEvent(r)}h(Ot,{INPUT_START:R,INPUT_MOVE:ae,INPUT_END:oe,INPUT_CANCEL:se,STATE_POSSIBLE:ut,STATE_BEGAN:dt,STATE_CHANGED:ft,STATE_ENDED:pt,STATE_RECOGNIZED:mt,STATE_CANCELLED:ht,STATE_FAILED:gt,DIRECTION_NONE:ce,DIRECTION_LEFT:le,DIRECTION_RIGHT:ue,DIRECTION_UP:de,DIRECTION_DOWN:fe,DIRECTION_HORIZONTAL:pe,DIRECTION_VERTICAL:me,DIRECTION_ALL:he,Manager:jt,Input:z,TouchAction:st,TouchInput:Ge,MouseInput:Pe,PointerEventInput:ze,TouchMouseInput:Ye,SingleTouchInput:B,Recognizer:_t,AttrRecognizer:xt,Tap:Dt,Pan:St,Swipe:Et,Pinch:Ct,Rotate:Tt,Press:wt,on:S,off:C,each:p,merge:_,extend:g,assign:h,inherit:v,bindFn:y,prefixed:A});var Pt=e===void 0?typeof self<`u`?self:{}:e;Pt.Hammer=Ot,typeof define==`function`&&define.amd?define(function(){return Ot}):t!==void 0&&t.exports?t.exports=Ot:e[r]=Ot})(window,document,`Hammer`)})),cu=e(la()),lu=e(su()),uu={panstart:`dragstart`,panmove:`dragging`,panend:`dragend`,pancancel:`dragcancel`},du=class extends cu.default{get mapService(){return this.container.mapService}constructor(e){super(),I(this,`indragging`,!1),I(this,`hammertime`,void 0),I(this,`lastClickTime`,0),I(this,`lastClickXY`,[-1,-1]),I(this,`clickTimer`,void 0),I(this,`$containter`,void 0),I(this,`onDrag`,e=>{let t=this.interactionEvent(e);t.type=uu[t.type],t.type===`dragging`?this.indragging=!0:this.indragging=!1,this.emit(fl.Drag,t)}),I(this,`onHammer`,e=>{e.srcEvent.stopPropagation();let t=this.interactionEvent(e);this.emit(fl.Hover,t)}),I(this,`onTouch`,e=>{let t=e.touches[0];this.onHover({clientX:t.clientX,clientY:t.clientY,type:`touchstart`})}),I(this,`onTouchEnd`,e=>{if(e.changedTouches.length>0){let t=e.changedTouches[0];this.onHover({clientX:t.clientX,clientY:t.clientY,type:`touchend`})}}),I(this,`onTouchMove`,e=>{let t=e.changedTouches[0];this.onHover({clientX:t.clientX,clientY:t.clientY,type:`touchmove`})}),I(this,`onHover`,e=>{let{clientX:t,clientY:n}=e,r=t,i=n,a=e.type,o=this.mapService.getMapContainer();if(o){let{top:e,left:t}=o.getBoundingClientRect();r=r-t-o.clientLeft,i=i-e-o.clientTop}let s=this.mapService.containerToLngLat([r,i]);if(a===`click`){this.isDoubleTap(r,i,s);return}if(a===`touch`){this.isDoubleTap(r,i,s);return}a!==`click`&&a!==`dblclick`&&this.emit(fl.Hover,{x:r,y:i,lngLat:s,type:a,target:e})}),this.container=e}init(){this.addEventListenerOnMap(),this.$containter=this.mapService.getMapContainer()}destroy(){this.hammertime&&this.hammertime.destroy(),this.removeEventListenerOnMap(),this.off(fl.Hover)}triggerHover({x:e,y:t}){this.emit(fl.Hover,{x:e,y:t})}triggerSelect(e){this.emit(fl.Select,{featureId:e})}triggerActive(e){this.emit(fl.Active,{featureId:e})}addEventListenerOnMap(){let e=this.mapService.getMapContainer();if(e){let t=new lu.default.Manager(e);t.add(new lu.default.Tap({event:`dblclick`,taps:2})),t.add(new lu.default.Tap({event:`click`})),t.add(new lu.default.Pan({threshold:0,pointers:0})),t.add(new lu.default.Press({})),t.on(`dblclick click`,this.onHammer),t.on(`panstart panmove panend pancancel`,this.onDrag),e.addEventListener(`touchstart`,this.onTouch),e.addEventListener(`touchend`,this.onTouchEnd),e.addEventListener(`mousemove`,this.onHover),e.addEventListener(`touchmove`,this.onTouchMove),e.addEventListener(`mousedown`,this.onHover,!0),e.addEventListener(`mouseup`,this.onHover),e.addEventListener(`contextmenu`,this.onHover),this.hammertime=t}}removeEventListenerOnMap(){let e=this.mapService.getMapContainer();e&&(e.removeEventListener(`mousemove`,this.onHover),this.hammertime.off(`dblclick click`,this.onHammer),this.hammertime.off(`panstart panmove panend pancancel`,this.onDrag),e.removeEventListener(`touchstart`,this.onTouch),e.removeEventListener(`touchend`,this.onTouchEnd),e.removeEventListener(`mousedown`,this.onHover),e.removeEventListener(`mouseup`,this.onHover),e.removeEventListener(`contextmenu`,this.onHover))}interactionEvent(e){let{type:t,pointerType:n}=e,r,i;n===`touch`?(i=Math.floor(e.pointers[0].clientY),r=Math.floor(e.pointers[0].clientX)):(i=Math.floor(e.srcEvent.y),r=Math.floor(e.srcEvent.x));let a=this.mapService.getMapContainer();if(a){let{top:e,left:t}=a.getBoundingClientRect();r-=t,i-=e}let o=this.mapService.containerToLngLat([r,i]);return{x:r,y:i,lngLat:o,type:t,target:e.srcEvent}}isDoubleTap(e,t,n){let r=new Date().getTime(),i=`click`;r-this.lastClickTime<400&&Math.abs(this.lastClickXY[0]-e)<10&&Math.abs(this.lastClickXY[1]-t)<10?(this.lastClickTime=0,this.lastClickXY=[-1,-1],this.clickTimer&&clearTimeout(this.clickTimer),i=`dblclick`,this.emit(fl.Hover,{x:e,y:t,lngLat:n,type:i})):(this.lastClickTime=r,this.lastClickXY=[e,t],this.clickTimer=setTimeout(()=>{i=`click`,this.emit(fl.Hover,{x:e,y:t,lngLat:n,type:i})},400))}},fu=0;function pu(e){let t=e;if(typeof e==`string`&&(t=document.getElementById(e)),t){let e=document.createElement(`div`);return e.style.cssText+=`
      position: absolute;
      z-index:2;
      height: 100%;
      width: 100%;
      pointer-events: none;
    `,e.id=`l7-scene-${fu++}`,e.classList.add(`l7-scene`),t.appendChild(e),e}return null}function mu(e){var t;let n=!0;if((e==null||(t=e.target)==null?void 0:t.target)instanceof HTMLElement){var r;let t=e==null||(r=e.target)==null?void 0:r.target;for(;t;){let e=Array.from(t.classList);if(e.includes(`l7-marker`)||e.includes(`l7-popup`)){n=!1;break}t=t?.parentElement}}return n}let hu=function(e){return e[e.SAMPLED=0]=`SAMPLED`,e[e.RENDER_TARGET=1]=`RENDER_TARGET`,e}({});var gu=class{constructor(e){var t=this;I(this,`pickedColors`,void 0),I(this,`pickedTileLayers`,[]),I(this,`pickingFBO`,void 0),I(this,`width`,0),I(this,`height`,0),I(this,`alreadyInPicking`,!1),I(this,`pickBufferScale`,1),I(this,`pickFromPickingFBO`,function(){var e=Y(function*(e,{x:n,y:r,lngLat:i,type:a,target:o}){let s=!1,{readPixels:c,readPixelsAsync:l,getViewportSize:u,queryVerdorInfo:d}=t.rendererService,{width:f,height:p}=u(),{enableHighlight:m,enableSelect:h}=e.getLayerConfig(),g=n*G,_=r*G;if(g>f-1*G||g<0||_>p-1*G||_<0)return!1;let v;if(v=d()===`WebGPU`?yield l({x:Math.floor(g/t.pickBufferScale),y:Math.floor((p-(r+1)*G)/t.pickBufferScale),width:1,height:1,data:new Uint8Array(4),framebuffer:t.pickingFBO}):c({x:Math.floor(g/t.pickBufferScale),y:Math.floor((p-(r+1)*G)/t.pickBufferScale),width:1,height:1,data:new Uint8Array(4),framebuffer:t.pickingFBO}),t.pickedColors=v,v[0]!==0||v[1]!==0||v[2]!==0){let c=ni(v),l=e.layerPickService.getFeatureById(c);c!==e.getCurrentPickId()&&a===`mousemove`&&(a=`mouseenter`);let u={x:n,y:r,type:a,lngLat:i,featureId:c,feature:l,target:o};l&&(s=!0,e.setCurrentPickId(c),t.triggerHoverOnLayer(e,u))}else{let s={x:n,y:r,lngLat:i,type:e.getCurrentPickId()!==null&&a===`mousemove`?`mouseout`:`un`+a,featureId:null,target:o,feature:null};t.triggerHoverOnLayer(e,P(P({},s),{},{type:`unpick`})),t.triggerHoverOnLayer(e,s),e.setCurrentPickId(null)}if(m&&e.layerPickService.highlightPickedFeature(v),h&&a===`click`&&v?.toString()!==[0,0,0,0].toString()){let t=ni(v);e.getCurrentSelectedId()===null||t!==e.getCurrentSelectedId()?(e.layerPickService.selectFeature(v),e.setCurrentSelectedId(t)):(e.layerPickService.selectFeature(new Uint8Array([0,0,0,0])),e.setCurrentSelectedId(null))}return s});return function(t,n){return e.apply(this,arguments)}}()),this.container=e}get mapService(){return this.container.mapService}get rendererService(){return this.container.rendererService}get configService(){return this.container.globalConfigService}get interactionService(){return this.container.interactionService}get layerService(){return this.container.layerService}init(e){let{createTexture2D:t,createFramebuffer:n,getViewportSize:r}=this.rendererService,{width:i,height:a}=r();this.pickBufferScale=this.configService.getSceneConfig(e).pickBufferScale||1,i=Math.round(i/this.pickBufferScale),a=Math.round(a/this.pickBufferScale);let o=t({width:i,height:a,usage:hu.RENDER_TARGET,label:`Picking Texture`});this.pickingFBO=n({color:o,depth:!0,width:i,height:a}),this.interactionService.on(fl.Hover,this.pickingAllLayer.bind(this))}boxPickLayer(e,t,n){var r=this;return Y(function*(){let{useFramebufferAsync:i,clear:a}=r.rendererService;r.resizePickingFBO(),e.hooks.beforePickingEncode.call(),yield i(r.pickingFBO,Y(function*(){a({framebuffer:r.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),e.renderModels({ispick:!0})})),e.hooks.afterPickingEncode.call();let o=yield r.pickBox(e,t);n(o)})()}pickBox(e,t){var n=this;return Y(function*(){let[r,i,a,o]=t.map(e=>{let t=e<0?0:e;return Math.floor(t*G/n.pickBufferScale)}),{readPixelsAsync:s,getViewportSize:c}=n.rendererService,{width:l,height:u}=c();if(r>(l-1)*G/n.pickBufferScale||a<0||i>(u-1)*G/n.pickBufferScale||o<0)return[];let d=Math.min(l/n.pickBufferScale,a)-r,f=Math.min(u/n.pickBufferScale,o)-i,p=yield s({x:r,y:Math.floor(u/n.pickBufferScale-(o+1)),width:d,height:f,data:new Uint8Array(d*f*4),framebuffer:n.pickingFBO}),m=[],h={};for(let t=0;t<p.length/4;t+=1){let n=p.slice(t*4,t*4+4),r=ni(n);if(r!==-1&&!h[r]){let t=e.layerPickService.getFeatureById(r);m.push(P(P({},t),{},{pickedFeatureIdx:r})),h[r]=!0}}return m})()}handleCursor(e,t){let{cursor:n=``,cursorEnabled:r}=e.getLayerConfig();if(r){let e=this.mapService.getType()===`amap`?this.mapService.getMapContainer():this.mapService.getMarkerContainer(),r=e?.style.getPropertyValue(`cursor`);t===`unmousemove`&&r!==``?e?.style.setProperty(`cursor`,``):t===`mousemove`&&e?.style.setProperty(`cursor`,n)}}destroy(){this.pickingFBO.destroy(),this.pickingFBO=null}pickingAllLayer(e){var t=this;return Y(function*(){!t.layerService.needPick(e.type)||!t.isPickingAllLayer()||(t.alreadyInPicking=!0,yield t.pickingLayers(e),t.layerService.renderLayers(),t.alreadyInPicking=!1)})()}isPickingAllLayer(){return!(this.alreadyInPicking||this.layerService.alreadyInRendering||this.interactionService.indragging||!this.layerService.getShaderPickStat())}resizePickingFBO(){let{getViewportSize:e}=this.rendererService,{width:t,height:n}=e();(this.width!==t||this.height!==n)&&(this.pickingFBO.resize({width:Math.round(t/this.pickBufferScale),height:Math.round(n/this.pickBufferScale)}),this.width=t,this.height=n)}pickingLayers(e){var t=this;return Y(function*(){let{clear:n,useFramebufferAsync:r}=t.rendererService;t.resizePickingFBO();let i=t.layerService.getRenderList();for(let a of i.filter(t=>t.needPick(e.type)).reverse()){yield r(t.pickingFBO,Y(function*(){n({framebuffer:t.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),a.layerPickService.pickRender(e)}));let i=yield t.pickFromPickingFBO(a,e);if(t.layerService.pickedLayerId=i?+a.id:-1,i&&!a.getLayerConfig().enablePropagation)break}})()}triggerHoverOnLayer(e,t){mu(t)&&(this.handleCursor(e,t.type),e.emit(t.type,t))}},_u=class{constructor(e=!0){I(this,`autoStart`,void 0),I(this,`startTime`,0),I(this,`oldTime`,0),I(this,`running`,!1),I(this,`elapsedTime`,0),this.autoStart=e}start(){this.startTime=(typeof performance>`u`?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=(typeof performance>`u`?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}},vu=e(la()),{throttle:yu}=di,bu=class extends vu.EventEmitter{get renderService(){return this.container.rendererService}get mapService(){return this.container.mapService}get debugService(){return this.container.debugService}constructor(e){super(),I(this,`pickedLayerId`,-1),I(this,`clock`,new _u),I(this,`alreadyInRendering`,!1),I(this,`layers`,[]),I(this,`layerList`,[]),I(this,`layerRenderID`,void 0),I(this,`sceneInited`,!1),I(this,`animateInstanceCount`,0),I(this,`shaderPicking`,!0),I(this,`enableRender`,!0),I(this,`reRender`,yu(()=>{this.renderLayers()},32)),I(this,`throttleRenderLayers`,yu(()=>{this.renderLayers()},16)),this.container=e}needPick(e){return this.updateLayerRenderList(),this.layerList.some(t=>t.needPick(e))}add(e){this.layers.push(e),this.sceneInited&&e.init().then(()=>{this.renderLayers()})}addMask(e){this.sceneInited&&e.init().then(()=>{this.renderLayers()})}initLayers(){var e=this;return Y(function*(){e.sceneInited=!0,e.layers.forEach(function(){var t=Y(function*(t){t.startInit||(yield t.init(),e.updateLayerRenderList())});return function(e){return t.apply(this,arguments)}}())})()}getSceneInited(){return this.sceneInited}getRenderList(){return this.layerList}getLayers(){return this.layers}getLayer(e){return this.layers.find(t=>t.id===e)}getLayerByName(e){return this.layers.find(t=>t.name===e)}remove(e,t){var n=this;return Y(function*(){if(t){t.layerChildren||=[];let n=t.layerChildren.findIndex(t=>t.id===e.id);n>-1&&t.layerChildren.splice(n,1)}else{let t=n.layers.findIndex(t=>t.id===e.id);t>-1&&n.layers.splice(t,1)}e.destroy(),n.reRender(),n.emit(`layerChange`,n.layers)})()}removeAllLayers(){var e=this;return Y(function*(){e.destroy(),e.reRender()})()}setEnableRender(e){this.enableRender=e}renderLayers(){var e=this;return Y(function*(){if(e.alreadyInRendering||!e.enableRender)return;e.updateLayerRenderList();let t=e.debugService.generateRenderUid();e.debugService.renderStart(t),e.alreadyInRendering=!0,e.clear();for(let t of e.layerList)t.prerender();e.renderService.beginFrame();for(let t of e.layerList){let{enableMask:n}=t.getLayerConfig();t.masks.filter(e=>e.inited).length>0&&n&&e.renderMask(t.masks),t.getLayerConfig().enableMultiPassRenderer?yield t.renderMultiPass():t.render()}e.renderService.endFrame(),e.debugService.renderEnd(t),e.alreadyInRendering=!1})()}renderMask(e){let t=0;this.renderService.clear({stencil:0,depth:1,framebuffer:null});let n=e.length>1?ml.MULTIPLE:ml.SINGLE;for(let r of e)r.render({isStencil:!0,stencilType:n,stencilIndex:t++})}beforeRenderData(e){var t=this;return Y(function*(){(yield e.hooks.beforeRenderData.promise())&&t.renderLayers()})()}renderTileLayerMask(e){let t=0,{enableMask:n=!0}=e.getLayerConfig(),r=e.tileMask?1:0,i=e.masks.filter(e=>e.inited);r+=n?i.length:1;let a=r>1?ml.MULTIPLE:ml.SINGLE;if((e.tileMask||i.length&&n)&&this.renderService.clear({stencil:0,depth:1,framebuffer:null}),i.length&&n)for(let e of i)e.render({isStencil:!0,stencilType:a,stencilIndex:t++});e.tileMask&&e.tileMask.render({isStencil:!0,stencilType:a,stencilIndex:t++,stencilOperation:hl.OR})}renderTileLayer(e){var t=this;return Y(function*(){t.renderTileLayerMask(e),e.getLayerConfig().enableMultiPassRenderer?yield e.renderMultiPass():yield e.render()})()}updateLayerRenderList(){this.layerList=[],this.layers.filter(e=>e.inited).filter(e=>e.isVisible()).sort((e,t)=>e.zIndex-t.zIndex).forEach(e=>{this.layerList.push(e)})}destroy(){this.layers.forEach(e=>{e.destroy()}),this.layers=[],this.layerList=[],this.emit(`layerChange`,this.layers)}startAnimate(){this.animateInstanceCount++===0&&(this.clock.start(),this.runRender())}stopAnimate(){--this.animateInstanceCount===0&&(this.stopRender(),this.clock.stop())}getOESTextureFloat(){return this.renderService.extensionObject.OES_texture_float}enableShaderPick(){this.shaderPicking=!0}disableShaderPick(){this.shaderPicking=!1}getShaderPickStat(){return this.shaderPicking}clear(){let e=ti(this.mapService.bgColor);this.renderService.clear({color:e,depth:1,stencil:0,framebuffer:null})}runRender(){this.renderLayers(),this.layerRenderID=window.requestAnimationFrame(this.runRender.bind(this))}stopRender(){window.cancelAnimationFrame(this.layerRenderID)}};function xu(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Su(e,t){if(e==null)return{};var n,r,i=xu(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var{isNil:Cu}=di,wu=class{constructor(e){I(this,`name`,void 0),I(this,`type`,void 0),I(this,`scale`,void 0),I(this,`descriptor`,void 0),I(this,`featureBufferLayout`,[]),I(this,`needRescale`,!1),I(this,`needRemapping`,!1),I(this,`needRegenerateVertices`,!1),I(this,`featureRange`,{startIndex:0,endIndex:1/0}),I(this,`vertexAttribute`,void 0),I(this,`defaultCallback`,e=>e.length===0?this.scale?.defaultValues||[]:e.map((e,t)=>(this.scale?.scalers[t].func)(e))),this.setProps(e)}setProps(e){Object.assign(this,e)}mapping(e){var t;if((t=this.scale)!=null&&t.callback){let t=this.scale?.callback(...e);if(!Cu(t))return[t]}return this.defaultCallback(e)}resetDescriptor(){this.descriptor&&(this.descriptor.buffer.data=[])}},Tu=[`buffer`,`update`,`name`],Eu=[`buffer`,`update`,`name`],Du={[q.FLOAT]:4,[q.UNSIGNED_BYTE]:1,[q.UNSIGNED_SHORT]:2},Ou=class{constructor(e){I(this,`attributesAndIndices`,void 0),I(this,`attributes`,[]),I(this,`triangulation`,void 0),I(this,`featureLayout`,{sizePerElement:0,elements:[]}),this.rendererService=e}registerStyleAttribute(e){let t=this.getLayerStyleAttribute(e.name||``);return t?t.setProps(e):(t=new wu(e),this.attributes.push(t)),t}unRegisterStyleAttribute(e){let t=this.attributes.findIndex(t=>t.name===e);t>-1&&this.attributes.splice(t,1)}updateScaleAttribute(e){this.attributes.forEach(t=>{let n=t.name,r=t.scale?.field;(e[n]||r&&e[r])&&(t.needRescale=!0,t.needRemapping=!0,t.needRegenerateVertices=!0)})}updateStyleAttribute(e,t,n){let r=this.getLayerStyleAttribute(e);r||=this.registerStyleAttribute(P(P({},t),{},{name:e}));let{scale:i}=t;i&&r&&(r.scale=i,r.needRescale=!0,r.needRemapping=!0,r.needRegenerateVertices=!0,n&&n.featureRange&&(r.featureRange=n.featureRange))}getLayerStyleAttributes(){return this.attributes}getLayerStyleAttribute(e){return this.attributes.find(t=>t.name===e)}getLayerAttributeScale(e){var t;let n=this.getLayerStyleAttribute(e),r=n==null||(t=n.scale)==null?void 0:t.scalers;return r&&r[0]?r[0].func:null}updateAttributeByFeatureRange(e,t,n=0,r,i){let a=this.attributes.find(t=>t.name===e);if(a&&a.descriptor){let{descriptor:o}=a,{update:s,buffer:c,size:l=0}=o,u=Du[c.type||q.FLOAT];if(s){let{elements:o,sizePerElement:c}=this.featureLayout,d=o.slice(n,r);if(!d.length)return;let{offset:f}=d[0],p=f*l*u,m=d.map(({featureIdx:e,vertices:n,normals:r},i)=>{let a=n.length/c,o=[];for(let l=0;l<a;l++){let a=r?r.slice(l*3,l*3+3):[];o.push(...s(t[e],e,n.slice(l*c,l*c+c),i,a))}return o}).flat();a.vertexAttribute.updateBuffer({data:m,offset:p}),i?.emit(`legend:${e}`,i.getLegend(e))}}}createAttributesAndIndices(e,t,n,r){this.featureLayout={sizePerElement:0,elements:[]},t&&(this.triangulation=t);let i=this.attributes.map(e=>(e.resetDescriptor(),e.descriptor)),a=0,o=0,s=[],c=3;e.forEach((e,t)=>{let{indices:r,vertices:l,normals:u,size:d,indexes:f,count:p}=this.triangulation(e,n);typeof p==`number`&&(o+=p),r.forEach(e=>{s.push(e+a)}),c=d;let m=l.length/d;this.featureLayout.sizePerElement=c,this.featureLayout.elements.push({featureIdx:t,vertices:l,normals:u,offset:a}),a+=m;for(let n=0;n<m;n++){let r=u?.slice(n*3,n*3+3)||[],a=l.slice(n*d,n*d+d),o=0;f&&f[n]!==void 0&&(o=f[n]),i.forEach((i,s)=>{i&&i.update&&i.buffer.data.push(...i.update(e,t,a,n,r,o))})}});let{createAttribute:l,createBuffer:u,createElements:d}=this.rendererService,f={};i.forEach((e,t)=>{if(e){let{buffer:n,update:r,name:i}=e,a=Su(e,Tu),o=l(P({buffer:u(n)},a));f[e.name||``]=o,this.attributes[t].vertexAttribute=o}});let p=d({data:s,type:q.UNSIGNED_INT,count:s.length});return this.attributesAndIndices={attributes:f,elements:p,count:o},Object.values(this.attributes).filter(e=>e.scale).forEach(e=>{let t=e.name;r?.emit(`legend:${t}`,r.getLegend(t))}),this.attributesAndIndices}createAttributes(e,t){this.featureLayout={sizePerElement:0,elements:[]},t&&(this.triangulation=t);let n=this.attributes.map(e=>(e.resetDescriptor(),e.descriptor)),r=0,i=[],a=3;e.forEach((e,t)=>{let{indices:o,vertices:s,normals:c,size:l,indexes:u}=this.triangulation(e);o.forEach(e=>{i.push(e+r)}),a=l;let d=s.length/l;this.featureLayout.sizePerElement=a,this.featureLayout.elements.push({featureIdx:t,vertices:s,normals:c,offset:r}),r+=d;for(let r=0;r<d;r++){let i=c?.slice(r*3,r*3+3)||[],a=s.slice(r*l,r*l+l),o=0;u&&u[r]!==void 0&&(o=u[r]),n.forEach((n,s)=>{n&&n.update&&n.buffer.data.push(...n.update(e,t,a,r,i,o))})}});let{createAttribute:o,createBuffer:s}=this.rendererService,c={};return n.forEach((e,t)=>{if(e){let{buffer:n,update:r,name:i}=e,a=Su(e,Eu),l=o(P({buffer:s(n)},a));c[e.name||``]=l,this.attributes[t].vertexAttribute=l}}),{attributes:c}}clearAllAttributes(){var e;this.attributes.forEach(e=>{e.vertexAttribute&&e.vertexAttribute.destroy()}),(e=this.attributesAndIndices)==null||e.elements.destroy(),this.attributes=[]}};function ku(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})}function Au(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==`function`&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return c([e,t])}}function c(o){if(r)throw TypeError(`Generator is already executing.`);for(;n;)try{if(r=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,i=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if((a=n.trys,!(a=a.length>0&&a[a.length-1]))&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){n.label=o[1];break}if(o[0]===6&&n.label<a[1]){n.label=a[1],a=o;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(o);break}a[2]&&n.ops.pop(),n.trys.pop();continue}o=t.call(e,n)}catch(e){o=[6,e],i=0}finally{r=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function ju(e,t){var n=typeof Symbol==`function`&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function Mu(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||=Array.prototype.slice.call(t,0,r),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Nu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,`default`)?e.default:e}var Pu={exports:{}},Fu={exports:{}},Iu={exports:{}};(function(e,t){Object.defineProperty(t,`__esModule`,{value:!0}),t.default=n;function n(e){return e&&typeof e.length==`number`&&e.length>=0&&e.length%1==0}e.exports=t.default})(Iu,Iu.exports);var Lu={},Ru={exports:{}},zu={exports:{}};(function(e,t){Object.defineProperty(t,`__esModule`,{value:!0}),t.default=function(e){return function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=t.pop();return e.call(this,t,r)}},e.exports=t.default})(zu,zu.exports);var Bu={};Object.defineProperty(Bu,`__esModule`,{value:!0}),Bu.fallback=Wu,Bu.wrap=Gu;var Vu=Bu.hasQueueMicrotask=typeof queueMicrotask==`function`&&queueMicrotask,Hu=Bu.hasSetImmediate=typeof setImmediate==`function`&&setImmediate,Uu=Bu.hasNextTick=typeof process==`object`&&typeof process.nextTick==`function`;function Wu(e){setTimeout(e,0)}function Gu(e){return function(t){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return e(function(){return t.apply(void 0,n)})}}var Ku=Vu?queueMicrotask:Hu?setImmediate:Uu?process.nextTick:Wu;Bu.default=Gu(Ku),(function(e,t){Object.defineProperty(t,`__esModule`,{value:!0}),t.default=s;var n=zu.exports,r=o(n),i=o(Bu),a=Lu;function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return(0,a.isAsync)(e)?function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=t.pop(),i=e.apply(this,t);return c(i,r)}:(0,r.default)(function(t,n){var r;try{r=e.apply(this,t)}catch(e){return n(e)}if(r&&typeof r.then==`function`)return c(r,n);n(null,r)})}function c(e,t){return e.then(function(e){l(t,null,e)},function(e){l(t,e&&e.message?e:Error(e))})}function l(e,t,n){try{e(t,n)}catch(e){(0,i.default)(function(e){throw e},e)}}e.exports=t.default})(Ru,Ru.exports),Object.defineProperty(Lu,`__esModule`,{value:!0}),Lu.isAsyncIterable=Lu.isAsyncGenerator=Lu.isAsync=void 0;var qu=Ru.exports,Ju=Yu(qu);function Yu(e){return e&&e.__esModule?e:{default:e}}function Xu(e){return e[Symbol.toStringTag]===`AsyncFunction`}function Zu(e){return e[Symbol.toStringTag]===`AsyncGenerator`}function Qu(e){return typeof e[Symbol.asyncIterator]==`function`}function $u(e){if(typeof e!=`function`)throw Error(`expected a function`);return Xu(e)?(0,Ju.default)(e):e}Lu.default=$u,Lu.isAsync=Xu,Lu.isAsyncGenerator=Zu,Lu.isAsyncIterable=Qu;var ed={exports:{}};(function(e,t){Object.defineProperty(t,`__esModule`,{value:!0}),t.default=n;function n(e,t){if(t===void 0&&(t=e.length),!t)throw Error(`arity is undefined`);function n(){for(var n=this,r=[],i=arguments.length;i--;)r[i]=arguments[i];return typeof r[t-1]==`function`?e.apply(this,r):new Promise(function(i,a){r[t-1]=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(e)return a(e);i(t.length>1?t:t[0])},e.apply(n,r)})}return n}e.exports=t.default})(ed,ed.exports),(function(e,t){Object.defineProperty(t,`__esModule`,{value:!0});var n=Iu.exports,r=s(n),i=s(Lu),a=ed.exports,o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)(function(e,t,n){var a=(0,r.default)(t)?[]:{};e(t,function(e,t,n){(0,i.default)(e)(function(e){for(var r,i=[],o=arguments.length-1;o-- >0;)i[o]=arguments[o+1];i.length<2&&(r=i,i=r[0]),a[t]=i,n(e)})},function(e){return n(e,a)})},3),e.exports=t.default})(Fu,Fu.exports);var td={exports:{}},nd={exports:{}},rd={exports:{}},id={exports:{}};(function(e,t){Object.defineProperty(t,`__esModule`,{value:!0}),t.default=n;function n(e){function t(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(e!==null){var r=e;e=null,r.apply(this,t)}}return Object.assign(t,e),t}e.exports=t.default})(id,id.exports);var ad={exports:{}},od={exports:{}};(function(e,t){Object.defineProperty(t,`__esModule`,{value:!0}),t.default=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()},e.exports=t.default})(od,od.exports),(function(e,t){Object.defineProperty(t,`__esModule`,{value:!0}),t.default=u;var n=Iu.exports,r=o(n),i=od.exports,a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}function c(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}function l(e){var t=e?Object.keys(e):[],n=-1,r=t.length;return function i(){var a=t[++n];return a===`__proto__`?i():n<r?{value:e[a],key:a}:null}}function u(e){if((0,r.default)(e))return s(e);var t=(0,a.default)(e);return t?c(t):l(e)}e.exports=t.default})(ad,ad.exports);var sd={exports:{}};(function(e,t){Object.defineProperty(t,`__esModule`,{value:!0}),t.default=n;function n(e){return function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(e===null)throw Error(`Callback was already called.`);var r=e;e=null,r.apply(this,t)}}e.exports=t.default})(sd,sd.exports);var cd={exports:{}},ld={exports:{}};(function(e,t){Object.defineProperty(t,`__esModule`,{value:!0}),t.default={},e.exports=t.default})(ld,ld.exports),(function(e,t){Object.defineProperty(t,`__esModule`,{value:!0}),t.default=a;var n=ld.exports,r=i(n);function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,i){var a=!1,o=!1,s=!1,c=0,l=0;function u(){c>=t||s||a||(s=!0,e.next().then(function(e){var t=e.value,r=e.done;if(!(o||a)){if(s=!1,r){a=!0,c<=0&&i(null);return}c++,n(t,l,d),l++,u()}}).catch(f))}function d(e,t){if(--c,!o){if(e)return f(e);if(e===!1){a=!0,o=!0;return}if(t===r.default||a&&c<=0)return a=!0,i(null);u()}}function f(e){o||(s=!1,a=!0,i(e))}u()}e.exports=t.default})(cd,cd.exports),(function(e,t){Object.defineProperty(t,`__esModule`,{value:!0});var n=id.exports,r=p(n),i=ad.exports,a=p(i),o=sd.exports,s=p(o),c=Lu,l=cd.exports,u=p(l),d=ld.exports,f=p(d);function p(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(t,n,i){if(i=(0,r.default)(i),e<=0)throw RangeError(`concurrency limit cannot be less than 1`);if(!t)return i(null);if((0,c.isAsyncGenerator)(t))return(0,u.default)(t,e,n,i);if((0,c.isAsyncIterable)(t))return(0,u.default)(t[Symbol.asyncIterator](),e,n,i);var o=(0,a.default)(t),l=!1,d=!1,p=0,m=!1;function h(e,t){if(!d)if(--p,e)l=!0,i(e);else if(e===!1)l=!0,d=!0;else if(t===f.default||l&&p<=0)return l=!0,i(null);else m||g()}function g(){for(m=!0;p<e&&!l;){var t=o();if(t===null){l=!0,p<=0&&i(null);return}p+=1,n(t.value,t.key,(0,s.default)(h))}m=!1}g()}},e.exports=t.default})(rd,rd.exports),(function(e,t){Object.defineProperty(t,`__esModule`,{value:!0});var n=rd.exports,r=s(n),i=s(Lu),a=ed.exports,o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){return(0,r.default)(t)(e,(0,i.default)(n),a)}t.default=(0,o.default)(c,4),e.exports=t.default})(nd,nd.exports),(function(e,t){Object.defineProperty(t,`__esModule`,{value:!0});var n=nd.exports,r=o(n),i=ed.exports,a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return(0,r.default)(e,1,t,n)}t.default=(0,a.default)(s,3),e.exports=t.default})(td,td.exports),(function(e,t){Object.defineProperty(t,`__esModule`,{value:!0}),t.default=s;var n=Fu.exports,r=o(n),i=td.exports,a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return(0,r.default)(a.default,e,t)}e.exports=t.default})(Pu,Pu.exports);var ud=Nu(Pu.exports),dd=function(){function e(){this.args=[],this.tasks=[]}return e.prototype.call=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return this.args=t,ud(this.tasks)},e.prototype.tap=function(e,t){var n=this;this.tasks.push(function(r){t.apply(void 0,Mu([],ju(n.args),!1)),r(null,e)})},e}(),fd={exports:{}},pd={exports:{}};(function(e,t){Object.defineProperty(t,`__esModule`,{value:!0});var n=Iu.exports,r=h(n),i=ld.exports,a=h(i),o=nd.exports,s=h(o),c=id.exports,l=h(c),u=sd.exports,d=h(u),f=h(Lu),p=ed.exports,m=h(p);function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n){n=(0,l.default)(n);var r=0,i=0,o=e.length,s=!1;o===0&&n(null);function c(e,t){e===!1&&(s=!0),s!==!0&&(e?n(e):(++i===o||t===a.default)&&n(null))}for(;r<o;r++)t(e[r],r,(0,d.default)(c))}function _(e,t,n){return(0,s.default)(e,1/0,t,n)}function v(e,t,n){return((0,r.default)(e)?g:_)(e,(0,f.default)(t),n)}t.default=(0,m.default)(v,3),e.exports=t.default})(pd,pd.exports),(function(e,t){Object.defineProperty(t,`__esModule`,{value:!0}),t.default=s;var n=pd.exports,r=o(n),i=Fu.exports,a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return(0,a.default)(r.default,e,t)}e.exports=t.default})(fd,fd.exports);var md=Nu(fd.exports);(function(){function e(){this.tasks=[]}return e.prototype.promise=function(){return md(this.tasks)},e.prototype.tapPromise=function(e,t){var n=this;this.tasks.push(function(r){return ku(n,void 0,void 0,function(){return Au(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return n.sent(),r(null,e),[2]}})})})},e})();var hd={exports:{}};(function(e,t){Object.defineProperty(t,`__esModule`,{value:!0});var n=id.exports,r=l(n),i=sd.exports,a=l(i),o=l(Lu),s=ed.exports,c=l(s);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(t=(0,r.default)(t),!Array.isArray(e))return t(Error(`First argument to waterfall must be an array of functions`));if(!e.length)return t();var n=0;function i(t){(0,o.default)(e[n++]).apply(void 0,t.concat([(0,a.default)(s)]))}function s(r){for(var a=[],o=arguments.length-1;o-- >0;)a[o]=arguments[o+1];if(r!==!1){if(r||n===e.length)return t.apply(void 0,[r].concat(a));i(a)}}i([])}t.default=(0,c.default)(u),e.exports=t.default})(hd,hd.exports);var gd=Nu(hd.exports);(function(){function e(){this.tasks=[]}return e.prototype.call=function(){return gd(this.tasks)},e.prototype.tap=function(e,t){this.tasks.length===0?this.tasks.push(function(e){var n=t();e(n?null:!1,n)}):this.tasks.push(function(n,r){var i=t.apply(void 0,Mu([],ju(n),!1));r(i?null:!1,e)})},e})();var _d=function(){function e(){this.tasks=[]}return e.prototype.call=function(){return ud(this.tasks)},e.prototype.tap=function(e,t){this.tasks.push(function(n){var r=t();n(r,e)})},e}(),vd=function(){function e(){this.args=[],this.tasks=[]}return e.prototype.promise=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return this.args=t,ud(this.tasks)},e.prototype.tapPromise=function(e,t){var n=this;this.tasks.push(function(r){return ku(n,void 0,void 0,function(){return Au(this,function(n){switch(n.label){case 0:return[4,t.apply(void 0,Mu([],ju(this.args),!1))];case 1:return n.sent(),r(null,e),[2]}})})})},e}(),yd=function(){function e(){this.args=[],this.tasks=[]}return e.prototype.promise=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return this.args=t,ud(this.tasks)},e.prototype.tapPromise=function(e,t){var n=this;this.tasks.push(function(r){return ku(n,void 0,void 0,function(){var n;return Au(this,function(i){switch(i.label){case 0:return[4,t.apply(void 0,Mu([],ju(this.args),!1))];case 1:return n=i.sent(),r(n,e),[2]}})})})},e}(),bd=function(){function e(){this.tasks=[]}return e.prototype.promise=function(){return gd(this.tasks)},e.prototype.tapPromise=function(e,t){this.tasks.length===0?this.tasks.push(function(e){t().then(function(t){e(null,t)})}):this.tasks.push(function(e,n){t(e).then(function(e){n(null,e)})})},e}(),xd=t(((exports,t)=>{var n=t.exports={};n.forEach=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}}})),Sd=t(((exports,t)=>{t.exports=function(e){var t=e.stateHandler.getState;function n(e){var n=t(e);return n&&!!n.isDetectable}function r(e){t(e).isDetectable=!0}function i(e){return!!t(e).busy}function a(e,n){t(e).busy=!!n}return{isDetectable:n,markAsDetectable:r,isBusy:i,markBusy:a}}})),Cd=t(((exports,t)=>{t.exports=function(e){var t={};function n(n){var r=e.get(n);return r===void 0?[]:t[r]||[]}function r(n,r){var i=e.get(n);t[i]||(t[i]=[]),t[i].push(r)}function i(e,t){for(var r=n(e),i=0,a=r.length;i<a;++i)if(r[i]===t){r.splice(i,1);break}}function a(e){var t=n(e);t&&(t.length=0)}return{get:n,add:r,removeListener:i,removeAllListeners:a}}})),wd=t(((exports,t)=>{t.exports=function(){var e=1;function t(){return e++}return{generate:t}}})),Td=t(((exports,t)=>{t.exports=function(e){var t=e.idGenerator,n=e.stateHandler.getState;function r(e){var t=n(e);return t&&t.id!==void 0?t.id:null}function i(e){var r=n(e);if(!r)throw Error(`setId required the element to have a resize detection state.`);var i=t.generate();return r.id=i,i}return{get:r,set:i}}})),Ed=t(((exports,t)=>{t.exports=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var r=function(e,t){e[t]=function(){var e=console[t];if(e.apply)e.apply(console,arguments);else for(var n=0;n<arguments.length;n++)e(arguments[n])}};r(n,`log`),r(n,`warn`),r(n,`error`)}return n}})),Dd=t(((exports,t)=>{var n=t.exports={};n.isIE=function(e){function t(){var e=navigator.userAgent.toLowerCase();return e.indexOf(`msie`)!==-1||e.indexOf(`trident`)!==-1||e.indexOf(` edge/`)!==-1}if(!t())return!1;if(!e)return!0;var n=function(){var e,t=3,n=document.createElement(`div`),r=n.getElementsByTagName(`i`);do n.innerHTML=`<!--[if gt IE `+ ++t+`]><i></i><![endif]-->`;while(r[0]);return t>4?t:e}();return e===n},n.isLegacyOpera=function(){return!!window.opera}})),Od=t(((exports,t)=>{var n=t.exports={};n.getOption=r;function r(e,t,n){var r=e[t];return r==null&&n!==void 0?n:r}})),kd=t(((exports,t)=>{var n=Od();t.exports=function(e){e||={};var t=e.reporter,i=n.getOption(e,`async`,!0),a=n.getOption(e,`auto`,!0);a&&!i&&(t&&t.warn(`Invalid options combination. auto=true and async=false is invalid. Setting async=true.`),i=!0);var o=r(),s,c=!1;function l(e,t){!c&&a&&i&&o.size()===0&&f(),o.add(e,t)}function u(){for(c=!0;o.size();){var e=o;o=r(),e.process()}c=!1}function d(e){c||(e===void 0&&(e=i),s&&=(p(s),null),e?f():u())}function f(){s=m(u)}function p(e){return clearTimeout(e)}function m(e){return function(e){return setTimeout(e,0)}(e)}return{add:l,force:d}};function r(){var e={},t=0,n=0,r=0;function i(i,a){a||(a=i,i=0),i>n?n=i:i<r&&(r=i),e[i]||(e[i]=[]),e[i].push(a),t++}function a(){for(var t=r;t<=n;t++)for(var i=e[t],a=0;a<i.length;a++){var o=i[a];o()}}function o(){return t}return{add:i,process:a,size:o}}})),Ad=t(((exports,t)=>{var n=`_erd`;function r(e){return e[n]={},i(e)}function i(e){return e[n]}function a(e){delete e[n]}t.exports={initState:r,getState:i,cleanState:a}})),jd=t(((exports,t)=>{var n=Dd();t.exports=function(e){e||={};var t=e.reporter,r=e.batchProcessor,i=e.stateHandler.getState;if(!t)throw Error(`Missing required dependency: reporter.`);function a(e,t){function r(){t(e)}if(n.isIE(8))i(e).object={proxy:r},e.attachEvent(`onresize`,r);else{var a=c(e);if(!a)throw Error(`Element is not detectable by this strategy.`);a.contentDocument.defaultView.addEventListener(`resize`,r)}}function o(t){var n=e.important?` !important; `:`; `;return(t.join(n)+n).trim()}function s(e,a,s){s||(s=a,a=e,e=null),e||={},e.debug;function c(a,s){var c=o([`display: block`,`position: absolute`,`top: 0`,`left: 0`,`width: 100%`,`height: 100%`,`border: none`,`padding: 0`,`margin: 0`,`opacity: 0`,`z-index: -1000`,`pointer-events: none`]),l=!1,u=window.getComputedStyle(a),d=a.offsetWidth,f=a.offsetHeight;i(a).startSize={width:d,height:f};function p(){function r(){if(u.position===`static`){a.style.setProperty(`position`,`relative`,e.important?`important`:``);var n=function(t,n,r,i){function a(e){return e.replace(/[^-\d\.]/g,``)}var o=r[i];o!==`auto`&&a(o)!==`0`&&(t.warn(`An element that is positioned static has style.`+i+`=`+o+` which is ignored due to the static positioning. The element will need to be positioned relative, so the style.`+i+` will be set to 0. Element: `,n),n.style.setProperty(i,`0`,e.important?`important`:``))};n(t,a,u,`top`),n(t,a,u,`right`),n(t,a,u,`bottom`),n(t,a,u,`left`)}}function o(){l||r();function e(t,n){if(!t.contentDocument){var r=i(t);r.checkForObjectDocumentTimeoutId&&window.clearTimeout(r.checkForObjectDocumentTimeoutId),r.checkForObjectDocumentTimeoutId=setTimeout(function(){r.checkForObjectDocumentTimeoutId=0,e(t,n)},100);return}n(t.contentDocument)}e(this,function(e){s(a)})}u.position!==``&&(r(u),l=!0);var d=document.createElement(`object`);d.style.cssText=c,d.tabIndex=-1,d.type=`text/html`,d.setAttribute(`aria-hidden`,`true`),d.onload=o,n.isIE()||(d.data=`about:blank`),i(a)&&(a.appendChild(d),i(a).object=d,n.isIE()&&(d.data=`about:blank`))}r?r.add(p):p()}n.isIE(8)?s(a):c(a,s)}function c(e){return i(e).object}function l(e){if(i(e)){var t=c(e);t&&(n.isIE(8)?e.detachEvent(`onresize`,t.proxy):e.removeChild(t),i(e).checkForObjectDocumentTimeoutId&&window.clearTimeout(i(e).checkForObjectDocumentTimeoutId),delete i(e).object)}}return{makeDetectable:s,addListener:a,uninstall:l}}})),Md=t(((exports,t)=>{var n=xd().forEach;t.exports=function(e){e||={};var t=e.reporter,r=e.batchProcessor,i=e.stateHandler.getState;e.stateHandler.hasState;var a=e.idHandler;if(!r)throw Error(`Missing required dependency: batchProcessor`);if(!t)throw Error(`Missing required dependency: reporter.`);var o=d(),s=`erd_scroll_detection_scrollbar_style`,c=`erd_scroll_detection_container`;function l(e){f(e,s,c)}l(window.document);function u(t){var n=e.important?` !important; `:`; `;return(t.join(n)+n).trim()}function d(){var e=500,t=500,n=document.createElement(`div`);n.style.cssText=u([`position: absolute`,`width: `+e*2+`px`,`height: `+t*2+`px`,`visibility: hidden`,`margin: 0`,`padding: 0`]);var r=document.createElement(`div`);r.style.cssText=u([`position: absolute`,`width: `+e+`px`,`height: `+t+`px`,`overflow: scroll`,`visibility: none`,`top: `+-e*3+`px`,`left: `+-t*3+`px`,`visibility: hidden`,`margin: 0`,`padding: 0`]),r.appendChild(n),document.body.insertBefore(r,document.body.firstChild);var i=e-r.clientWidth,a=t-r.clientHeight;return document.body.removeChild(r),{width:i,height:a}}function f(e,t,n){function r(n,r){r||=function(t){e.head.appendChild(t)};var i=e.createElement(`style`);return i.innerHTML=n,i.id=t,r(i),i}if(!e.getElementById(t)){var i=n+`_animation`,a=n+`_animation_active`,o=`/* Created by the element-resize-detector library. */
`;o+=`.`+n+` > div::-webkit-scrollbar { `+u([`display: none`])+` }

`,o+=`.`+a+` { `+u([`-webkit-animation-duration: 0.1s`,`animation-duration: 0.1s`,`-webkit-animation-name: `+i,`animation-name: `+i])+` }
`,o+=`@-webkit-keyframes `+i+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,o+=`@keyframes `+i+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }`,r(o)}}function p(e){e.className+=` `+c+`_animation_active`}function m(e,n,r){if(e.addEventListener)e.addEventListener(n,r);else if(e.attachEvent)e.attachEvent(`on`+n,r);else return t.error(`[scroll] Don't know how to add event listeners.`)}function h(e,n,r){if(e.removeEventListener)e.removeEventListener(n,r);else if(e.detachEvent)e.detachEvent(`on`+n,r);else return t.error(`[scroll] Don't know how to remove event listeners.`)}function g(e){return i(e).container.childNodes[0].childNodes[0].childNodes[0]}function _(e){return i(e).container.childNodes[0].childNodes[0].childNodes[1]}function v(e,t){if(!i(e).listeners.push)throw Error(`Cannot add listener to an element that is not detectable.`);i(e).listeners.push(t)}function y(e,s,l){l||(l=s,s=e,e=null),e||={};function d(){if(e.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(a.get(s),`Scroll: `),t.log.apply)t.log.apply(null,n);else for(var r=0;r<n.length;r++)t.log(n[r])}}function f(e){function t(e){var t=e.getRootNode&&e.getRootNode().contains(e);return e===e.ownerDocument.body||e.ownerDocument.body.contains(e)||t}return!t(e)||window.getComputedStyle(e)===null}function h(e){var t=i(e).container.childNodes[0],n=window.getComputedStyle(t);return!n.width||n.width.indexOf(`px`)===-1}function v(){var e=window.getComputedStyle(s),t={};return t.position=e.position,t.width=s.offsetWidth,t.height=s.offsetHeight,t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left,t.widthCSS=e.width,t.heightCSS=e.height,t}function y(){var e=v();i(s).startSize={width:e.width,height:e.height},d(`Element start size`,i(s).startSize)}function b(){i(s).listeners=[]}function x(){if(d(`storeStyle invoked.`),!i(s)){d(`Aborting because element has been uninstalled`);return}var e=v();i(s).style=e}function S(e,t,n){i(e).lastWidth=t,i(e).lastHeight=n}function C(e){return g(e).childNodes[0]}function w(){return 2*o.width+1}function T(){return 2*o.height+1}function E(e){return e+10+w()}function D(e){return e+10+T()}function O(e){return e*2+w()}function k(e){return e*2+T()}function A(e,t,n){var r=g(e),i=_(e),a=E(t),o=D(n),s=O(t),c=k(n);r.scrollLeft=a,r.scrollTop=o,i.scrollLeft=s,i.scrollTop=c}function j(){var e=i(s).container;if(!e){e=document.createElement(`div`),e.className=c,e.style.cssText=u([`visibility: hidden`,`display: inline`,`width: 0px`,`height: 0px`,`z-index: -1`,`overflow: hidden`,`margin: 0`,`padding: 0`]),i(s).container=e,p(e),s.appendChild(e);var t=function(){i(s).onRendered&&i(s).onRendered()};m(e,`animationstart`,t),i(s).onAnimationStart=t}return e}function M(){function n(){var n=i(s).style;if(n.position===`static`){s.style.setProperty(`position`,`relative`,e.important?`important`:``);var r=function(e,t,n,r){function i(e){return e.replace(/[^-\d\.]/g,``)}var a=n[r];a!==`auto`&&i(a)!==`0`&&(e.warn(`An element that is positioned static has style.`+r+`=`+a+` which is ignored due to the static positioning. The element will need to be positioned relative, so the style.`+r+` will be set to 0. Element: `,t),t.style[r]=0)};r(t,s,n,`top`),r(t,s,n,`right`),r(t,s,n,`bottom`),r(t,s,n,`left`)}}function r(e,t,n,r){return e=e?e+`px`:`0`,t=t?t+`px`:`0`,n=n?n+`px`:`0`,r=r?r+`px`:`0`,[`left: `+e,`top: `+t,`right: `+r,`bottom: `+n]}if(d(`Injecting elements`),!i(s)){d(`Aborting because element has been uninstalled`);return}n();var a=i(s).container;a||=j();var l=o.width,f=o.height,p=u([`position: absolute`,`flex: none`,`overflow: hidden`,`z-index: -1`,`visibility: hidden`,`width: 100%`,`height: 100%`,`left: 0px`,`top: 0px`]),h=u([`position: absolute`,`flex: none`,`overflow: hidden`,`z-index: -1`,`visibility: hidden`].concat(r(-(1+l),-(1+f),-f,-l))),g=u([`position: absolute`,`flex: none`,`overflow: scroll`,`z-index: -1`,`visibility: hidden`,`width: 100%`,`height: 100%`]),_=u([`position: absolute`,`flex: none`,`overflow: scroll`,`z-index: -1`,`visibility: hidden`,`width: 100%`,`height: 100%`]),v=u([`position: absolute`,`left: 0`,`top: 0`]),y=u([`position: absolute`,`width: 200%`,`height: 200%`]),b=document.createElement(`div`),x=document.createElement(`div`),S=document.createElement(`div`),C=document.createElement(`div`),w=document.createElement(`div`),T=document.createElement(`div`);b.dir=`ltr`,b.style.cssText=p,b.className=c,x.className=c,x.style.cssText=h,S.style.cssText=g,C.style.cssText=v,w.style.cssText=_,T.style.cssText=y,S.appendChild(C),w.appendChild(T),x.appendChild(S),x.appendChild(w),b.appendChild(x),a.appendChild(b);function E(){var e=i(s);e&&e.onExpand?e.onExpand():d(`Aborting expand scroll handler: element has been uninstalled`)}function D(){var e=i(s);e&&e.onShrink?e.onShrink():d(`Aborting shrink scroll handler: element has been uninstalled`)}m(S,`scroll`,E),m(w,`scroll`,D),i(s).onExpandScroll=E,i(s).onShrinkScroll=D}function N(){function o(t,n,r){var i=C(t),a=E(n),o=D(r);i.style.setProperty(`width`,a+`px`,e.important?`important`:``),i.style.setProperty(`height`,o+`px`,e.important?`important`:``)}function c(n){var c=s.offsetWidth,u=s.offsetHeight,f=c!==i(s).lastWidth||u!==i(s).lastHeight;d(`Storing current size`,c,u),S(s,c,u),r.add(0,function(){if(f){if(!i(s)){d(`Aborting because element has been uninstalled`);return}if(!l()){d(`Aborting because element container has not been initialized`);return}if(e.debug){var n=s.offsetWidth,r=s.offsetHeight;(n!==c||r!==u)&&t.warn(a.get(s),`Scroll: Size changed before updating detector elements.`)}o(s,c,u)}}),r.add(1,function(){if(!i(s)){d(`Aborting because element has been uninstalled`);return}if(!l()){d(`Aborting because element container has not been initialized`);return}A(s,c,u)}),f&&n&&r.add(2,function(){if(!i(s)){d(`Aborting because element has been uninstalled`);return}if(!l()){d(`Aborting because element container has not been initialized`);return}n()})}function l(){return!!i(s).container}function u(){function e(){return i(s).lastNotifiedWidth===void 0}d(`notifyListenersIfNeeded invoked`);var t=i(s);if(e()&&t.lastWidth===t.startSize.width&&t.lastHeight===t.startSize.height)return d(`Not notifying: Size is the same as the start size, and there has been no notification yet.`);if(t.lastWidth===t.lastNotifiedWidth&&t.lastHeight===t.lastNotifiedHeight)return d(`Not notifying: Size already notified`);d(`Current size not notified, notifying...`),t.lastNotifiedWidth=t.lastWidth,t.lastNotifiedHeight=t.lastHeight,n(i(s).listeners,function(e){e(s)})}function f(){if(d(`startanimation triggered.`),h(s)){d(`Ignoring since element is still unrendered...`);return}d(`Element rendered.`);var e=g(s),t=_(s);(e.scrollLeft===0||e.scrollTop===0||t.scrollLeft===0||t.scrollTop===0)&&(d(`Scrollbars out of sync. Updating detector elements...`),c(u))}function p(){if(d(`Scroll detected.`),h(s)){d(`Scroll event fired while unrendered. Ignoring...`);return}c(u)}if(d(`registerListenersAndPositionElements invoked.`),!i(s)){d(`Aborting because element has been uninstalled`);return}i(s).onRendered=f,i(s).onExpand=p,i(s).onShrink=p;var m=i(s).style;o(s,m.width,m.height)}function P(){if(d(`finalizeDomMutation invoked.`),!i(s)){d(`Aborting because element has been uninstalled`);return}var e=i(s).style;S(s,e.width,e.height),A(s,e.width,e.height)}function F(){l(s)}function ee(){d(`Installing...`),b(),y(),r.add(0,x),r.add(1,M),r.add(2,N),r.add(3,P),r.add(4,F)}d(`Making detectable...`),f(s)?(d(`Element is detached`),j(),d(`Waiting until element is attached...`),i(s).onRendered=function(){d(`Element is now attached`),ee()}):ee()}function b(e){var t=i(e);t&&(t.onExpandScroll&&h(g(e),`scroll`,t.onExpandScroll),t.onShrinkScroll&&h(_(e),`scroll`,t.onShrinkScroll),t.onAnimationStart&&h(t.container,`animationstart`,t.onAnimationStart),t.container&&e.removeChild(t.container))}return{makeDetectable:y,addListener:v,uninstall:b,initDocument:l}}})),Nd=e(t(((exports,t)=>{var n=xd().forEach,r=Sd(),i=Cd(),a=wd(),o=Td(),s=Ed(),c=Dd(),l=kd(),u=Ad(),d=jd(),f=Md();function p(e){return Array.isArray(e)||e.length!==void 0}function m(e){if(Array.isArray(e))return e;var t=[];return n(e,function(e){t.push(e)}),t}function h(e){return e&&e.nodeType===1}t.exports=function(e){e||={};var t;if(e.idHandler)t={get:function(t){return e.idHandler.get(t,!0)},set:e.idHandler.set};else{var _=a();t=o({idGenerator:_,stateHandler:u})}var v=e.reporter;v||=s(v===!1);var y=g(e,`batchProcessor`,l({reporter:v})),b={};b.callOnAdd=!!g(e,`callOnAdd`,!0),b.debug=!!g(e,`debug`,!1);var x=i(t),S=r({stateHandler:u}),C,w=g(e,`strategy`,`object`),T=g(e,`important`,!1),E={reporter:v,batchProcessor:y,stateHandler:u,idHandler:t,important:T};if(w===`scroll`&&(c.isLegacyOpera()?(v.warn(`Scroll strategy is not supported on legacy Opera. Changing to object strategy.`),w=`object`):c.isIE(9)&&(v.warn(`Scroll strategy is not supported on IE9. Changing to object strategy.`),w=`object`)),w===`scroll`)C=f(E);else if(w===`object`)C=d(E);else throw Error(`Invalid strategy name: `+w);var D={};function O(e,r,i){function a(e){var t=x.get(e);n(t,function(t){t(e)})}function o(e,t,n){x.add(t,n),e&&n(t)}if(i||(i=r,r=e,e={}),!r)throw Error(`At least one element required.`);if(!i)throw Error(`Listener required.`);if(h(r))r=[r];else if(p(r))r=m(r);else return v.error(`Invalid arguments. Must be a DOM element or a collection of DOM elements.`);var s=0,c=g(e,`callOnAdd`,b.callOnAdd),l=g(e,`onReady`,function(){}),d=g(e,`debug`,b.debug);n(r,function(e){u.getState(e)||(u.initState(e),t.set(e));var f=t.get(e);if(d&&v.log(`Attaching listener to element`,f,e),!S.isDetectable(e)){if(d&&v.log(f,`Not detectable.`),S.isBusy(e)){d&&v.log(f,`System busy making it detectable`),o(c,e,i),D[f]=D[f]||[],D[f].push(function(){s++,s===r.length&&l()});return}return d&&v.log(f,`Making detectable...`),S.markBusy(e,!0),C.makeDetectable({debug:d,important:T},e,function(e){if(d&&v.log(f,`onElementDetectable`),u.getState(e)){S.markAsDetectable(e),S.markBusy(e,!1),C.addListener(e,a),o(c,e,i);var t=u.getState(e);if(t&&t.startSize){var p=e.offsetWidth,m=e.offsetHeight;(t.startSize.width!==p||t.startSize.height!==m)&&a(e)}D[f]&&n(D[f],function(e){e()})}else d&&v.log(f,`Element uninstalled before being detectable.`);delete D[f],s++,s===r.length&&l()})}d&&v.log(f,`Already detecable, adding listener.`),o(c,e,i),s++}),s===r.length&&l()}function k(e){if(!e)return v.error(`At least one element is required.`);if(h(e))e=[e];else if(p(e))e=m(e);else return v.error(`Invalid arguments. Must be a DOM element or a collection of DOM elements.`);n(e,function(e){x.removeAllListeners(e),C.uninstall(e),u.cleanState(e)})}function A(e){C.initDocument&&C.initDocument(e)}return{listenTo:O,removeListener:x.removeListener,removeAllListeners:x.removeAllListeners,uninstall:k,initDocument:A}};function g(e,t,n){var r=e[t];return r==null&&n!==void 0?n:r}}))()),Pd=e(la()),Fd=class extends Pd.EventEmitter{get iconService(){return this.container.iconService}get fontService(){return this.container.fontService}get controlService(){return this.container.controlService}get configService(){return this.container.globalConfigService}get map(){return this.container.mapService}get coordinateSystemService(){return this.container.coordinateSystemService}get rendererService(){return this.container.rendererService}get layerService(){return this.container.layerService}get debugService(){return this.container.debugService}get cameraService(){return this.container.cameraService}get interactionService(){return this.container.interactionService}get pickingService(){return this.container.pickingService}get shaderModuleService(){return this.container.shaderModuleService}get markerService(){return this.container.markerService}get popupService(){return this.container.popupService}constructor(e){super(),I(this,`destroyed`,!1),I(this,`loaded`,!1),I(this,`id`,void 0),I(this,`inited`,!1),I(this,`rendering`,!1),I(this,`$container`,void 0),I(this,`canvas`,void 0),I(this,`markerContainer`,void 0),I(this,`resizeDetector`,void 0),I(this,`hooks`,void 0),I(this,`handleWindowResized`,()=>{this.emit(`resize`),this.$container&&(this.initContainer(),this.coordinateSystemService.needRefresh=!0,this.render())}),I(this,`handleMapCameraChanged`,e=>{this.cameraService.update(e),this.render()}),this.container=e,this.hooks={init:new vd},this.id=e.id}init(e){var t=this;this.configService.setSceneConfig(this.id,e),this.shaderModuleService.registerBuiltinModules(),this.iconService.init(),this.iconService.on(`imageUpdate`,()=>this.render()),this.fontService.init(),this.hooks.init.tapPromise(`initMap`,Y(function*(){t.debugService.log(`map.mapInitStart`,{type:t.map.version}),yield new Promise(e=>{t.map.onCameraChanged(n=>{t.cameraService.init(),t.cameraService.update(n),e()}),t.map.init()}),t.map.onCameraChanged(t.handleMapCameraChanged),t.map.addMarkerContainer(),t.markerService.addMarkers(),t.markerService.addMarkerLayers(),t.popupService.initPopup(),t.interactionService.init(),t.interactionService.on(fl.Drag,t.addSceneEvent.bind(t))})),this.hooks.init.tapPromise(`initRenderer`,Y(function*(){let n=t.map?.getOverlayContainer()||void 0;if(n?t.$container=n:t.$container=pu(t.configService.getSceneConfig(t.id).id||``),t.$container){let{canvas:n}=e;if(t.canvas=n||_i(`canvas`,``,t.$container),t.setCanvas(),yield t.rendererService.init(t.canvas,t.configService.getSceneConfig(t.id),e.gl),t.registerContextLost(),t.initContainer(),t.resizeDetector=(0,Nd.default)({strategy:`scroll`}),t.resizeDetector.listenTo(t.$container,t.handleWindowResized),window.matchMedia){var r;(r=window.matchMedia(`screen and (-webkit-min-device-pixel-ratio: 1.5)`))==null||r.addListener(t.handleWindowResized.bind(`screen`))}}else console.error(`容器 id 不存在`);t.pickingService.init(t.id)})),this.render()}registerContextLost(){let e=this.rendererService.getCanvas();e&&e.addEventListener(`webglcontextlost`,()=>this.emit(`webglcontextlost`))}addLayer(e){this.layerService.sceneService=this,this.layerService.add(e)}addMask(e){this.layerService.sceneService=this,this.layerService.addMask(e)}render(){var e=this;return Y(function*(){e.rendering||e.destroyed||(e.rendering=!0,e.inited?(yield e.layerService.initLayers(),yield e.layerService.renderLayers()):(yield e.hooks.init.promise(),e.destroyed&&e.destroy(),yield e.layerService.initLayers(),e.layerService.renderLayers(),e.controlService.addControls(),e.loaded=!0,e.emit(`loaded`),e.inited=!0),e.rendering=!1)})()}addFontFace(e,t){this.fontService.addFontFace(e,t)}getSceneContainer(){return this.$container}exportPng(e){var t=this;return Y(function*(){let n=t.$container?.getElementsByTagName(`canvas`)[0];return yield t.render(),e===`jpg`?n?.toDataURL(`image/jpeg`):n?.toDataURL(`image/png`)})()}getSceneConfig(){return this.configService.getSceneConfig(this.id)}getPointSizeRange(){return this.rendererService.getPointSizeRange()}addMarkerContainer(){let e=this.$container.parentElement;e!==null&&(this.markerContainer=_i(`div`,`l7-marker-container`,e))}getMarkerContainer(){return this.markerContainer}destroy(){var e;if(!this.inited){this.destroyed=!0;return}this.resizeDetector.removeListener(this.$container,this.handleWindowResized),this.pickingService.destroy(),this.layerService.destroy(),this.interactionService.destroy(),this.controlService.destroy(),this.markerService.destroy(),this.fontService.destroy(),this.iconService.destroy(),this.removeAllListeners(),this.inited=!1,this.map.destroy(),setTimeout(()=>{var e;(e=this.$container)==null||e.removeChild(this.canvas),this.canvas=null,this.rendererService.destroy()}),(e=this.$container)==null||(e=e.parentNode)==null||e.removeChild(this.$container),this.emit(`destroy`)}initContainer(){let e=G,t=this.$container?.clientWidth||400,n=this.$container?.clientHeight||300,r=this.canvas;r&&(r.width=t*e,r.height=n*e),this.rendererService.viewport({x:0,y:0,width:e*t,height:e*n})}setCanvas(){let e=G,t=this.$container?.clientWidth||400,n=this.$container?.clientHeight||300,r=this.canvas;r.width=t*e,r.height=n*e,r.style.width=`100%`,r.style.height=`100%`}addSceneEvent(e){this.emit(e.type,e)}},{uniq:Id}=di,Ld=`#define PI (3.14159265359)
`,Rd=`#define ambientRatio (0.5)
#define diffuseRatio (0.3)
#define specularRatio (0.2)

float calc_lighting(vec4 pos) {
  vec3 worldPos = vec3(pos * u_ModelMatrix);

  vec3 worldNormal = a_Normal;
  // //cal light weight
  vec3 viewDir = normalize(u_CameraPosition - worldPos);

  vec3 lightDir = normalize(vec3(1, -10.5, 12));

  vec3 halfDir = normalize(viewDir + lightDir);
  // //lambert
  float lambert = dot(worldNormal, lightDir);
  //specular
  float specular = pow(max(0.0, dot(worldNormal, halfDir)), 32.0);
  //sum to light weight
  float lightWeight = ambientRatio + diffuseRatio * lambert + specularRatio * specular;

  return lightWeight;
}
`,zd=`#define SHIFT_RIGHT17 (1.0 / 131072.0)
#define SHIFT_RIGHT18 (1.0 / 262144.0)
#define SHIFT_RIGHT19 (1.0 / 524288.0)
#define SHIFT_RIGHT20 (1.0 / 1048576.0)
#define SHIFT_RIGHT21 (1.0 / 2097152.0)
#define SHIFT_RIGHT22 (1.0 / 4194304.0)
#define SHIFT_RIGHT23 (1.0 / 8388608.0)
#define SHIFT_RIGHT24 (1.0 / 16777216.0)

#define SHIFT_LEFT17 (131072.0)
#define SHIFT_LEFT18 (262144.0)
#define SHIFT_LEFT19 (524288.0)
#define SHIFT_LEFT20 (1048576.0)
#define SHIFT_LEFT21 (2097152.0)
#define SHIFT_LEFT22 (4194304.0)
#define SHIFT_LEFT23 (8388608.0)
#define SHIFT_LEFT24 (16777216.0)

vec2 unpack_float(float packedValue) {
  int packedIntValue = int(packedValue);
  int v0 = packedIntValue / 256;
  return vec2(v0, packedIntValue - v0 * 256);
}

vec4 decode_color(vec2 encodedColor) {
  return vec4(unpack_float(encodedColor[0]) / 255.0, unpack_float(encodedColor[1]) / 255.0);
}
`,Bd=`// Blinn-Phong model
// apply lighting in vertex shader instead of fragment shader
// @see https://learnopengl.com/Advanced-Lighting/Advanced-Lighting
uniform float u_Ambient : 1.0;
uniform float u_Diffuse : 1.0;
uniform float u_Specular : 1.0;
uniform int u_NumOfDirectionalLights : 1;
uniform int u_NumOfSpotLights : 0;

#define SHININESS 32.0
#define MAX_NUM_OF_DIRECTIONAL_LIGHTS 3
#define MAX_NUM_OF_SPOT_LIGHTS 3

struct DirectionalLight {
  vec3 direction;
  vec3 ambient;
  vec3 diffuse;
  vec3 specular;
};

struct SpotLight {
  vec3 position;
  vec3 direction;
  vec3 ambient;
  vec3 diffuse;
  vec3 specular;
  float constant;
  float linear;
  float quadratic;
  float angle;
  float blur;
  float exponent;
};

uniform DirectionalLight u_DirectionalLights[MAX_NUM_OF_DIRECTIONAL_LIGHTS];
uniform SpotLight u_SpotLights[MAX_NUM_OF_SPOT_LIGHTS];

vec3 calc_directional_light(DirectionalLight light, vec3 normal, vec3 viewDir) {
  vec3 lightDir = normalize(light.direction);
  // diffuse shading
  float diff = max(dot(normal, lightDir), 0.0);
  // Blinn-Phong specular shading
  vec3 halfwayDir = normalize(lightDir + viewDir);
  float spec = pow(max(dot(normal, halfwayDir), 0.0), SHININESS);

  vec3 ambient = light.ambient * u_Ambient;
  vec3 diffuse = light.diffuse * diff * u_Diffuse;
  vec3 specular = light.specular * spec * u_Specular;

  return ambient + diffuse + specular;
}


vec3 calc_lighting(vec3 position, vec3 normal, vec3 viewDir) {
  vec3 weight = vec3(0.0);
  for (int i = 0; i < MAX_NUM_OF_DIRECTIONAL_LIGHTS; i++) {
    if (i >= u_NumOfDirectionalLights) {
      break;
    }
    weight += calc_directional_light(u_DirectionalLights[i], normal, viewDir);
  }
  return weight;
}
`,Vd=`in vec4 v_PickingResult;

#pragma include "picking_uniforms"

#define PICKING_NONE (0.0)
#define PICKING_ENCODE (1.0)
#define PICKING_HIGHLIGHT (2.0)
#define COLOR_SCALE (1.0 / 255.0)

#define HIGHLIGHT (1.0)
#define SELECT (2.0)

/*
 * Returns highlight color if this item is selected.
 */
vec4 filterHighlightColor(vec4 color, float weight) {
  float activeType = v_PickingResult.a;
  if (activeType > 0.0) {
    vec4 highLightColor = activeType > 1.5 ? u_SelectColor : u_HighlightColor;
    highLightColor = highLightColor * COLOR_SCALE;
    float highLightAlpha = highLightColor.a;
    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));
    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);
    return vec4(mix(resultRGB * weight, color.rgb, u_activeMix), color.a);
  } else {
    return color;
  }

}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 filterPickingColor(vec4 color) {
  vec3 pickingColor = v_PickingResult.rgb;
  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {
    discard;
  }
  return u_PickingStage == PICKING_ENCODE
    ? vec4(pickingColor, step(0.001, color.a))
    : color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 filterColor(vec4 color) {
  // 过滤多余的 shader 计算
  // return color;
  if (u_shaderPick < 0.5) {
    return color; // 暂时去除 直接取消计算在选中时拖拽地图会有问题
  } else {
    return filterPickingColor(filterHighlightColor(color, 1.0));
  }

}

vec4 filterColorAlpha(vec4 color, float alpha) {
  // 过滤多余的 shader 计算
  // return color;
  if (u_shaderPick < 0.5) {
    return color; // 暂时去除 直接取消计算在选中时拖拽地图会有问题
  } else {
    return filterPickingColor(filterHighlightColor(color, alpha));
  }
}

`,Hd=`layout(location = ATTRIBUTE_LOCATION_PICKING_COLOR) in vec3 a_PickingColor;
out vec4 v_PickingResult;

#pragma include "picking_uniforms"

#define PICKING_NONE 0.0
#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

#define NORMAL 0.0
#define HIGHLIGHT 1.0
#define SELECT 2.0

bool isVertexPicked(vec3 vertexColor) {
  return distance(vertexColor,u_PickingColor.rgb) < 0.01;
}

// 判断当前点是否已经被 select 选中
bool isVertexSelected(vec3 vertexColor) {
  return distance(vertexColor,u_CurrentSelectedId.rgb) < 0.01;
}

void setPickingColor(vec3 pickingColor) {
  if(u_shaderPick < 0.5) {
    return;
  }
  // compares only in highlight stage

  if(u_PickingStage == PICKING_HIGHLIGHT) {
    if(isVertexPicked(pickingColor)) {
       v_PickingResult = vec4(pickingColor.rgb * COLOR_SCALE,HIGHLIGHT);
       return;
    }
    if(isVertexSelected(pickingColor)) {
     v_PickingResult = vec4(u_CurrentSelectedId.rgb * COLOR_SCALE,SELECT);
      return;
    }

  } else {
      v_PickingResult= vec4(pickingColor.rgb * COLOR_SCALE,NORMAL);
      return;
  }

  // // v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && (isVertexPicked(pickingColor) || isVertexPicked(u_CurrentSelectedId)));

  // // Stores the picking color so that the fragment shader can render it during picking
  // v_PickingResult.rgb = pickingColor * COLOR_SCALE;
}

float setPickingSize(float x) {
   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;
}

float setPickingOrder(float z) {
   bool selected = bool(v_PickingResult.a);
   return selected ? z + 1. : 0.;
}
`,Ud=`layout(std140) uniform PickingUniforms {
  vec4 u_HighlightColor;
  vec4 u_SelectColor;
  vec3 u_PickingColor;
  float u_PickingStage;
  vec3 u_CurrentSelectedId;
  float u_PickingThreshold;
  float u_PickingBuffer;
  float u_shaderPick;
  float u_activeMix;
};
`,Wd=`#define E (2.718281828459045)
vec2 ProjectFlat(vec2 lnglat) {
  float maxs = 85.0511287798;
  float lat = max(min(maxs, lnglat.y), -maxs);
  float scale = 268435456.0;
  float d = PI / 180.0;
  float x = lnglat.x * d;
  float y = lat * d;
  y = log(tan(PI / 4.0 + y / 2.0));

  float a = 0.5 / PI,
    b = 0.5,
    c = -0.5 / PI;
  d = 0.5;
  x = scale * (a * x + b);
  y = scale * (c * y + d);
  return vec2(x, y);
}

vec2 unProjectFlat(vec2 px) {
  float a = 0.5 / PI;
  float b = 0.5;
  float c = -0.5 / PI;
  float d = 0.5;
  float scale = 268435456.0;
  float x = (px.x / scale - b) / a;
  float y = (px.y / scale - d) / c;
  y = (atan(pow(E, y)) - PI / 4.0) * 2.0;
  d = PI / 180.0;
  float lat = y / d;
  float lng = x / d;
  return vec2(lng, lat);
}

float pixelDistance(vec2 from, vec2 to) {
  vec2 a1 = ProjectFlat(from);
  vec2 b1 = ProjectFlat(to);
  return distance(a1, b1);
}

// gaode2.0
vec2 customProject(vec2 lnglat) {
  // 经纬度 => 平面坐标
  float t = lnglat.x;
  float e = lnglat.y;
  float Sm = 180.0 / PI;
  float Tm = 6378137.0;
  float Rm = PI / 180.0;
  float r = 85.0511287798;
  e = max(min(r, e), -r);
  t *= Rm;
  e *= Rm;
  e = log(tan(PI / 4.0 + e / 2.0));
  return vec2(t * Tm, e * Tm);
}

vec2 unProjCustomCoord(vec2 point) {
  // 平面坐标 => 经纬度
  float Sm = 57.29577951308232; //180 / Math.PI
  float Tm = 6378137.0;
  float t = point.x;
  float e = point.y;
  return vec2(t / Tm * Sm, (2.0 * atan(exp(e / Tm)) - PI / 2.0) * Sm);
}

float customPixelDistance(vec2 from, vec2 to) {
  vec2 a1 = ProjectFlat(from);
  vec2 b1 = ProjectFlat(to);
  return distance(a1, b1);
}
`,Gd=`#define TILE_SIZE (512.0)
#define PI (3.1415926536)
#define WORLD_SCALE (TILE_SIZE / (PI * 2.0))
#define EARTH_CIRCUMFERENCE (40.03e6)

#define COORDINATE_SYSTEM_LNGLAT (1.0) // mapbox
#define COORDINATE_SYSTEM_LNGLAT_OFFSET (2.0) // mapbox offset
#define COORDINATE_SYSTEM_VECTOR_TILE (3.0)
#define COORDINATE_SYSTEM_IDENTITY (4.0)
#define COORDINATE_SYSTEM_METER_OFFSET (5.0)

#pragma include "scene_uniforms"

const vec2 ZERO_64_XY_LOW = vec2(0.0, 0.0);

// web mercator coords -> world coords
vec2 project_mercator(vec2 lnglat) {
  float x = lnglat.x;
  return vec2(radians(x) + PI, PI - log(tan(PI * 0.25 + radians(lnglat.y) * 0.5)));
}

float project_scale(float meters) {
  return meters * u_PixelsPerMeter.z;
}

// offset coords -> world coords
vec4 project_offset(vec4 offset) {
  float dy = offset.y;
  dy = clamp(dy, -1.0, 1.0);
  vec3 pixels_per_unit = u_PixelsPerDegree + u_PixelsPerDegree2 * dy;
  return vec4(offset.xyz * pixels_per_unit, offset.w);
}

vec3 project_normal(vec3 normal) {
  vec4 normal_modelspace = u_ModelMatrix * vec4(normal, 0.0);
  return normalize(normal_modelspace.xyz * u_PixelsPerMeter);
}

vec3 project_offset_normal(vec3 vector) {
  if (
    u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 &&
      u_CoordinateSystem > COORDINATE_SYSTEM_LNGLAT - 0.01 ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // normals generated by the polygon tesselator are in lnglat offsets instead of meters
    return normalize(vector * u_PixelsPerDegree);
  }
  return project_normal(vector);
}

vec4 project_position(vec4 position, vec2 position64xyLow) {
  // 检查是否使用了图层相对坐标转换
  bool usingRelativeCoords = abs(u_RelativeOrigin.x) > 0.0001 || abs(u_RelativeOrigin.y) > 0.0001;

  if (usingRelativeCoords) {
    // 相对坐标系的特殊处理：CPU侧已确保ViewportCenter=RelativeOrigin
    // 在高缩放级别时直接使用相对坐标，避免精度问题

    if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      // 高缩放级别：直接使用相对坐标作为偏移
      // 由于ViewportCenter已被设置为RelativeOrigin，可以直接使用position
      float X = position.x;
      float Y = position.y;
      return project_offset(
        vec4(X + position64xyLow.x, Y + position64xyLow.y, position.z, position.w)
      );
    } else {
      // 低缩放级别：转换为绝对坐标后使用墨卡托投影
      vec2 absolutePos = position.xy + u_RelativeOrigin.xy;
      return vec4(
        project_mercator(absolutePos) * WORLD_SCALE * u_ZoomScale,
        project_scale(position.z),
        position.w
      );
    }
  }

  // 处理普通坐标系（非相对坐标）
  vec4 absolutePosition = position;
  vec2 absolutePosition64xyLow = position64xyLow;

  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    // 在偏移坐标系下
    vec2 center = u_ViewportCenter;
    float X = absolutePosition.x - center.x;
    float Y = absolutePosition.y - center.y;
    return project_offset(
      vec4(
        X + absolutePosition64xyLow.x,
        Y + absolutePosition64xyLow.y,
        absolutePosition.z,
        absolutePosition.w
      )
    );
  }
  if (
    u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 &&
    u_CoordinateSystem > COORDINATE_SYSTEM_LNGLAT - 0.01
  ) {
    // 在经纬度坐标系下使用墨卡托投影
    return vec4(
      project_mercator(absolutePosition.xy) * WORLD_SCALE * u_ZoomScale,
      project_scale(absolutePosition.z),
      absolutePosition.w
    );
  }

  return absolutePosition;
}

vec4 project_position(vec4 position) {
  return project_position(position, ZERO_64_XY_LOW);
}

vec2 project_pixel_size_to_clipspace(vec2 pixels) {
  vec2 offset = pixels / u_ViewportSize * u_DevicePixelRatio * 2.0;
  return offset * u_FocalDistance;
}

// 适配纹理贴图的等像素大小
float project_pixel_texture(float pixel) {
  // mapbox zoom > 12
  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    return pixel * pow(0.5, u_Zoom) * u_FocalDistance;
  }

  return pixel * 2.0 * u_FocalDistance;
}

// 在不论什么底图下需要统一处理的时候使用
float project_float_pixel(float pixel) {
  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // mapbox 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减1
    return pixel * pow(2.0, 19.0 - u_Zoom) * u_FocalDistance;
  }

  return pixel * u_FocalDistance;
}

// Project meter into the unit of pixel which used in the camera world space
float project_float_meter(float meter) {
  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // Since the zoom level uniform is updated by mapservice and it's alread been subtracted by 1
    // Not sure if we are supposed to do that again
    return meter;
  } else {
    return project_float_pixel(meter);
  }

  // TODO: change the following code to make adaptations for amap
  // return u_FocalDistance * TILE_SIZE * pow(2.0, u_Zoom) * meter / EARTH_CIRCUMFERENCE;

}

float project_pixel(float pixel) {
  return pixel * u_FocalDistance;
}

vec2 project_pixel(vec2 pixel) {
  return pixel * -1.0 * u_FocalDistance;
}

vec3 project_pixel(vec3 pixel) {
  return pixel * -1.0 * u_FocalDistance;
}

vec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {
  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // Needs to be divided with project_uCommonUnitsPerMeter
    position.w *= u_PixelsPerMeter.z;
  }

  return viewProjectionMatrix * position + center;
}

// Projects from common space coordinates to clip space
vec4 project_common_position_to_clipspace(vec4 position) {
  return project_common_position_to_clipspace(
    position,
    u_ViewProjectionMatrix,
    u_ViewportCenterProjection
  );
}

vec4 unproject_clipspace_to_position(vec4 clipspacePos, mat4 u_InverseViewProjectionMatrix) {
  vec4 pos = u_InverseViewProjectionMatrix * (clipspacePos - u_ViewportCenterProjection);

  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // Needs to be divided with project_uCommonUnitsPerMeter
    pos.w = pos.w / u_PixelsPerMeter.z;
  }
  return pos;
}

bool isEqual(float a, float b) {
  return a < b + 0.001 && a > b - 0.001;
}

`,Kd=`vec2 rotate_matrix(vec2 v, float a) {
  float b = a / 180.0 * 3.1415926535897932384626433832795;
  float s = sin(b);
  float c = cos(b);
  mat2 m = mat2(c, s, -s, c);
  return m * v;
}
`,qd=`layout(std140) uniform SceneUniforms {
  mat4 u_ViewMatrix;
  mat4 u_ProjectionMatrix;
  mat4 u_ViewProjectionMatrix;
  mat4 u_ModelMatrix;
  vec4 u_ViewportCenterProjection;
  vec3 u_PixelsPerDegree;
  float u_Zoom;
  vec3 u_PixelsPerDegree2;
  float u_ZoomScale;
  vec3 u_PixelsPerMeter;
  float u_CoordinateSystem;
  vec3 u_CameraPosition;
  float u_DevicePixelRatio;
  vec2 u_ViewportCenter;
  vec2 u_ViewportSize;
  float u_FocalDistance;
  vec2 u_RelativeOrigin;
  float u_Reserved3;
};
`,Jd=`/**
 * 2D signed distance field functions
 * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
 */

float ndot(vec2 a, vec2 b) {
  return a.x * b.x - a.y * b.y;
}

float sdCircle(vec2 p, float r) {
  return length(p) - r;
}

float sdEquilateralTriangle(vec2 p) {
  float k = sqrt(3.0);
  p.x = abs(p.x) - 1.0;
  p.y = p.y + 1.0 / k;
  if (p.x + k * p.y > 0.0) p = vec2(p.x - k * p.y, -k * p.x - p.y) / 2.0;
  p.x -= clamp(p.x, -2.0, 0.0);
  return -length(p) * sign(p.y);
}

float sdBox(vec2 p, vec2 b) {
  vec2 d = abs(p) - b;
  return length(max(d, vec2(0))) + min(max(d.x, d.y), 0.0);
}

float sdPentagon(vec2 p, float r) {
  vec3 k = vec3(0.809016994, 0.587785252, 0.726542528);
  p.x = abs(p.x);
  p -= 2.0 * min(dot(vec2(-k.x, k.y), p), 0.0) * vec2(-k.x, k.y);
  p -= 2.0 * min(dot(vec2(k.x, k.y), p), 0.0) * vec2(k.x, k.y);
  p -= vec2(clamp(p.x, -r * k.z, r * k.z), r);
  return length(p) * sign(p.y);
}

float sdHexagon(vec2 p, float r) {
  vec3 k = vec3(-0.866025404, 0.5, 0.577350269);
  p = abs(p);
  p -= 2.0 * min(dot(k.xy, p), 0.0) * k.xy;
  p -= vec2(clamp(p.x, -k.z * r, k.z * r), r);
  return length(p) * sign(p.y);
}

float sdOctogon(vec2 p, float r) {
  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623);
  p = abs(p);
  p -= 2.0 * min(dot(vec2(k.x, k.y), p), 0.0) * vec2(k.x, k.y);
  p -= 2.0 * min(dot(vec2(-k.x, k.y), p), 0.0) * vec2(-k.x, k.y);
  p -= vec2(clamp(p.x, -k.z * r, k.z * r), r);
  return length(p) * sign(p.y);
}

float sdHexagram(vec2 p, float r) {
  vec4 k = vec4(-0.5, 0.8660254038, 0.5773502692, 1.7320508076);
  p = abs(p);
  p -= 2.0 * min(dot(k.xy, p), 0.0) * k.xy;
  p -= 2.0 * min(dot(k.yx, p), 0.0) * k.yx;
  p -= vec2(clamp(p.x, r * k.z, r * k.w), r);
  return length(p) * sign(p.y);
}

float sdRhombus(vec2 p, vec2 b) {
  vec2 q = abs(p);
  float h = clamp((-2.0 * ndot(q, b) + ndot(b, b)) / dot(b, b), -1.0, 1.0);
  float d = length(q - 0.5 * b * vec2(1.0 - h, 1.0 + h));
  return d * sign(q.x * b.y + q.y * b.x - b.x * b.y);
}

float sdVesica(vec2 p, float r, float d) {
  p = abs(p);
  float b = sqrt(r * r - d * d); // can delay this sqrt
  return (p.y - b) * d > p.x * b
    ? length(p - vec2(0.0, b))
    : length(p - vec2(-d, 0.0)) - r;
}
`,Yd=/precision\s+(high|low|medium)p\s+float/,Xd=`#ifdef GL_FRAGMENT_PRECISION_HIGH
 precision highp float;
 #else
 precision mediump float;
#endif
`,Zd=/#pragma include (["^+"]?["[a-zA-Z_0-9](.*)"]*?)/g,Qd=/void\s+main\s*\([^)]*\)\s*\{\n?/,$d=class{constructor(){I(this,`moduleCache`,{}),I(this,`rawContentCache`,{})}registerBuiltinModules(){this.destroy(),this.registerModule(`common`,{vs:Ld,fs:Ld}),this.registerModule(`decode`,{vs:zd,fs:``}),this.registerModule(`scene_uniforms`,{vs:qd,fs:qd}),this.registerModule(`picking_uniforms`,{vs:Ud,fs:Ud}),this.registerModule(`projection`,{vs:Gd,fs:Gd}),this.registerModule(`project`,{vs:Wd,fs:``}),this.registerModule(`sdf_2d`,{vs:``,fs:Jd}),this.registerModule(`lighting`,{vs:Bd,fs:``}),this.registerModule(`light`,{vs:Rd,fs:``}),this.registerModule(`picking`,{vs:Hd,fs:Vd}),this.registerModule(`rotation_2d`,{vs:Kd,fs:``})}registerModule(e,t){t.vs=t.vs.replace(/\r\n/g,`
`),t.fs=t.fs.replace(/\r\n/g,`
`);let{vs:n,fs:r,uniforms:i,defines:a,inject:o}=t,{content:s,uniforms:c}=il(n),{content:l,uniforms:u}=il(r);this.rawContentCache[e]={fs:l,defines:a,inject:o,uniforms:P(P(P({},c),u),i),vs:s}}getModule(e){let t=this.rawContentCache[e].vs,n=this.rawContentCache[e].fs,{defines:r={},inject:i={}}=this.rawContentCache[e],a={};i[`vs:#decl`]&&(t=i[`vs:#decl`]+t,a=il(i[`vs:#decl`]).uniforms),i[`vs:#main-start`]&&(t=t.replace(Qd,e=>e+i[`vs:#main-start`])),i[`fs:#decl`]&&(n=i[`fs:#decl`]+n),t=ef(r)+t;let{content:o,includeList:s}=this.processModule(t,[],`vs`),{content:c,includeList:l}=this.processModule(n,[],`fs`),u=Id(s.concat(l).concat(e)).reduce((e,t)=>P(P({},e),this.rawContentCache[t].uniforms),P({},a)),d=(Yd.test(c)?``:Xd)+o,f=(Yd.test(c)?``:Xd)+c;return this.moduleCache[e]={vs:d.trim(),fs:f.trim(),uniforms:u},this.moduleCache[e]}destroy(){this.moduleCache={},this.rawContentCache={}}processModule(e,t,n){return{content:e.replace(Zd,(e,r)=>{let i=r.split(` `)[0].replace(/"/g,``);if(t.indexOf(i)>-1)return``;let a=this.rawContentCache[i][n];t.push(i);let{content:o}=this.processModule(a,t,n);return o}),includeList:t}}};function ef(e){return Object.keys(e).reduce((t,n)=>t+`#define ${n.toUpperCase()} ${e[n]}\n`,`
`)}var tf=class{constructor(){I(this,`shaderModuleService`,void 0),I(this,`rendererService`,void 0),I(this,`cameraService`,void 0),I(this,`mapService`,void 0),I(this,`interactionService`,void 0),I(this,`layerService`,void 0),I(this,`config`,void 0)}getName(){return``}getType(){return Yc.Normal}init(e,t){this.config=t,this.rendererService=e.getContainer().rendererService,this.cameraService=e.getContainer().cameraService,this.mapService=e.getContainer().mapService,this.interactionService=e.getContainer().interactionService,this.layerService=e.getContainer().layerService,this.shaderModuleService=e.getContainer().shaderModuleService}render(e){}},nf=class extends tf{getName(){return`clear`}init(e,t){super.init(e,t)}render(){this.rendererService.clear({color:[0,0,0,0],depth:1,framebuffer:null})}},rf=class{constructor(e){I(this,`passes`,[]),I(this,`layer`,void 0),I(this,`renderFlag`,void 0),I(this,`width`,0),I(this,`height`,0),this.postProcessor=e}setLayer(e){this.layer=e}setRenderFlag(e){this.renderFlag=e}getRenderFlag(){return this.renderFlag}getPostProcessor(){return this.postProcessor}render(){var e=this;return Y(function*(){for(let t of e.passes)yield t.render(e.layer);yield e.postProcessor.render(e.layer)})()}resize(e,t){(this.width!==e||this.height!==t)&&(this.postProcessor.resize(e,t),this.width=e,this.height=t)}add(e,t){e.getType()===Yc.PostProcessing?this.postProcessor.add(e,this.layer,t):(e.init(this.layer,t),this.passes.push(e))}insert(e,t,n){e.init(this.layer,t),this.passes.splice(n,0,e)}destroy(){this.passes.length=0}},af=class extends tf{constructor(...e){var t;super(...e),t=this,I(this,`pickingFBO`,void 0),I(this,`layer`,void 0),I(this,`width`,0),I(this,`height`,0),I(this,`alreadyInRendering`,!1),I(this,`pickFromPickingFBO`,({x:e,y:n,lngLat:r,type:i})=>{if(!this.layer.isVisible()||!this.layer.needPick(i))return;let{getViewportSize:a,readPixelsAsync:o,useFramebuffer:s}=this.rendererService,{width:c,height:l}=a(),{enableHighlight:u,enableSelect:d}=this.layer.getLayerConfig(),f=e*G,p=n*G;if(f>c||f<0||p>l||p<0)return;let m;s(this.pickingFBO,Y(function*(){if(m=yield o({x:Math.round(f),y:Math.round(l-(n+1)*G),width:1,height:1,data:new Uint8Array(4),framebuffer:t.pickingFBO}),m[0]!==0||m[1]!==0||m[2]!==0){let a=ni(m),o=t.layer.getSource().getFeatureById(a),s={x:e,y:n,type:i,lngLat:r,featureId:a,feature:o};o&&(t.layer.setCurrentPickId(a),t.triggerHoverOnLayer(s))}else{let a={x:e,y:n,lngLat:r,type:t.layer.getCurrentPickId()===null?`un`+i:`mouseout`,featureId:null,feature:null};t.triggerHoverOnLayer(P(P({},a),{},{type:`unpick`})),t.triggerHoverOnLayer(a),t.layer.setCurrentPickId(null)}u&&t.highlightPickedFeature(m),d&&i===`click`&&m?.toString()!==[0,0,0,0].toString()&&t.selectFeature(m)}))})}getType(){return Yc.Normal}getName(){return`pixelPicking`}init(e,t){super.init(e,t),this.layer=e;let{createTexture2D:n,createFramebuffer:r,getViewportSize:i}=this.rendererService,{width:a,height:o}=i(),s=n({width:a,height:o,wrapS:q.CLAMP_TO_EDGE,wrapT:q.CLAMP_TO_EDGE,label:`Picking Texture`});this.pickingFBO=r({color:s}),this.interactionService.on(fl.Hover,this.pickFromPickingFBO),this.interactionService.on(fl.Select,this.selectFeatureHandle.bind(this)),this.interactionService.on(fl.Active,this.highlightFeatureHandle.bind(this))}render(e){if(this.alreadyInRendering)return;let{getViewportSize:t,useFramebuffer:n,clear:r}=this.rendererService,{width:i,height:a}=t();this.alreadyInRendering=!0,(this.width!==i||this.height!==a)&&(this.pickingFBO.resize({width:i,height:a}),this.width=i,this.height=a),n(this.pickingFBO,()=>{r({framebuffer:this.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});let t=this.layer.multiPassRenderer.getRenderFlag();this.layer.multiPassRenderer.setRenderFlag(!1),e.hooks.beforePickingEncode.call(),e.render(),e.hooks.afterPickingEncode.call(),this.layer.multiPassRenderer.setRenderFlag(t),this.alreadyInRendering=!1})}triggerHoverOnLayer(e){this.layer.emit(e.type,e)}highlightPickedFeature(e){let[t,n,r]=e;this.layer.hooks.beforeHighlight.call([t,n,r]),this.layerService.renderLayers()}selectFeature(e){let[t,n,r]=e;this.layer.hooks.beforeSelect.call([t,n,r]),this.layerService.renderLayers()}selectFeatureHandle({featureId:e}){let t=ri(e);this.selectFeature(new Uint8Array(t))}highlightFeatureHandle({featureId:e}){let t=ri(e);this.highlightPickedFeature(new Uint8Array(t))}},sf=class{constructor(e){I(this,`passes`,[]),I(this,`readFBO`,void 0),I(this,`writeFBO`,void 0),this.rendererService=e,this.init()}getReadFBO(){return this.readFBO}getWriteFBO(){return this.writeFBO}getCurrentFBOTex(){let{getViewportSize:e,createTexture2D:t}=this.rendererService,{width:n,height:r}=e();return t({x:0,y:0,width:n,height:r,copy:!0})}getReadFBOTex(){var e=this;let{useFramebuffer:t}=this.rendererService;return new Promise(n=>{t(this.readFBO,Y(function*(){n(e.getCurrentFBOTex())}))})}renderBloomPass(e,t){var n=this;return Y(function*(){let r=yield n.getReadFBOTex(),i=0;for(;i<4;)yield t.render(e,r),n.swap(),i++})()}render(e){var t=this;return Y(function*(){for(let n=0;n<t.passes.length;n++){let r=t.passes[n];r.setRenderToScreen(t.isLastEnabledPass(n)),r.getName()===`bloom`?yield t.renderBloomPass(e,r):(yield r.render(e),n!==t.passes.length-1&&t.swap())}})()}resize(e,t){this.readFBO.resize({width:e,height:t}),this.writeFBO.resize({width:e,height:t})}add(e,t,n){e.init(t,n),this.passes.push(e)}insert(e,t,n,r){e.init(n,r),this.passes.splice(t,0,e)}getPostProcessingPassByName(e){return this.passes.find(t=>t.getName()===e)}init(){let{createFramebuffer:e,createTexture2D:t}=this.rendererService;this.readFBO=e({color:t({width:1,height:1,wrapS:q.CLAMP_TO_EDGE,wrapT:q.CLAMP_TO_EDGE,usage:hu.RENDER_TARGET})}),this.writeFBO=e({color:t({width:1,height:1,wrapS:q.CLAMP_TO_EDGE,wrapT:q.CLAMP_TO_EDGE,usage:hu.RENDER_TARGET})})}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].isEnabled())return!1;return!0}swap(){let e=this.readFBO;this.readFBO=this.writeFBO,this.writeFBO=e}},cf=class extends tf{getType(){return Yc.Normal}getName(){return`render`}init(e,t){super.init(e,t)}render(e){let{useFramebuffer:t,clear:n}=this.rendererService,r=e.multiPassRenderer.getPostProcessor().getReadFBO();t(r,()=>{n({color:[0,0,0,0],depth:1,stencil:0,framebuffer:r}),e.multiPassRenderer.setRenderFlag(!1),e.models.forEach(t=>{t.draw({uniforms:e.layerModel.getUninforms()})}),e.multiPassRenderer.setRenderFlag(!0)})}},lf=`varying vec2 v_UV;

uniform float u_BloomFinal: 0.0;
uniform sampler2D u_Texture;
uniform sampler2D u_Texture2;

uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform float u_radius: 5.0;
uniform float u_intensity: 0.3;
uniform float u_baseRadio: 0.5;

// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl
vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

float luminance(vec4 color) {
  return  0.2125 * color.r + 0.7154 * color.g + 0.0721 * color.b;
}

void main() {
  // vec4 baseColor = texture2D(u_Texture, v_UV);

  float r = sqrt(u_radius);

  vec4 c1 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(u_radius, 0.0));
  // c1 *= luminance(c1);
  vec4 c2 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(0.0, u_radius));
  // c2 *= luminance(c2);
  vec4 c3 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(r, r));
  // c3 *= luminance(c3);
  vec4 c4 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(r, -r));
  // c4 *= luminance(c4);
  vec4 inbloomColor = (c1 + c2 + c3 + c4) * 0.25;

  // float lum = luminance(inbloomColor);
  // inbloomColor.rgb *= lum;

  if(u_BloomFinal > 0.0) {
    vec4 baseColor = texture2D(u_Texture2, v_UV);
    float baselum = luminance(baseColor);
    gl_FragColor = mix(inbloomColor, baseColor, u_baseRadio);
    if(baselum <= 0.2) {
      gl_FragColor = inbloomColor * u_intensity;
    }
  } else {
    gl_FragColor = inbloomColor;
  }
}`,uf=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0.0, 1.0);
}
`,{isNil:df}=di,ff=class extends el{setupShaders(){this.shaderModuleService.registerModule(`blur-pass`,{vs:uf,fs:lf});let{vs:e,fs:t,uniforms:n}=this.shaderModuleService.getModule(`blur-pass`),{width:r,height:i}=this.rendererService.getViewportSize();return{vs:e,fs:t,uniforms:P(P({},n),{},{u_ViewportSize:[r,i]})}}convertOptionsToUniforms(e){let t={};return df(e.bloomRadius)||(t.u_radius=e.bloomRadius),df(e.bloomIntensity)||(t.u_intensity=e.bloomIntensity),df(e.bloomBaseRadio)||(t.u_baseRadio=e.bloomBaseRadio),t}},pf=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_BlurDir: [1.0, 0.0];

// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl
vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

void main() {
  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);
}`,mf=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0.0, 1.0);
}
`,{isNil:hf}=di,gf=class extends el{setupShaders(){this.shaderModuleService.registerModule(`blur-pass`,{vs:mf,fs:pf});let{vs:e,fs:t,uniforms:n}=this.shaderModuleService.getModule(`blur-pass`),{width:r,height:i}=this.rendererService.getViewportSize();return{vs:e,fs:t,uniforms:P(P({},n),{},{u_ViewportSize:[r,i]})}}convertOptionsToUniforms(e){let t={};return hf(e.blurRadius)||(t.u_BlurDir=[e.blurRadius,0]),t}},_f=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_BlurDir: [1.0, 0.0];

// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl
vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

void main() {
  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);
}`,vf=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0.0, 1.0);
}
`,{isNil:yf}=di,bf=class extends el{setupShaders(){this.shaderModuleService.registerModule(`blur-pass`,{vs:vf,fs:_f});let{vs:e,fs:t,uniforms:n}=this.shaderModuleService.getModule(`blur-pass`),{width:r,height:i}=this.rendererService.getViewportSize();return{vs:e,fs:t,uniforms:P(P({},n),{},{u_ViewportSize:[r,i]})}}convertOptionsToUniforms(e){let t={};return yf(e.blurRadius)||(t.u_BlurDir=[0,e.blurRadius]),t}},xf=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_Center : [0.5, 0.5];
uniform float u_Angle : 0;
uniform float u_Size : 8;

#pragma include "common"

float scale = PI / u_Size;

float pattern(float u_Angle, vec2 texSize, vec2 texCoord) {
  float s = sin(u_Angle), c = cos(u_Angle);
  vec2 tex = texCoord * texSize - u_Center * texSize;
  vec2 point = vec2(
    c * tex.x - s * tex.y,
    s * tex.x + c * tex.y
  ) * scale;
  return (sin(point.x) * sin(point.y)) * 4.0;
}

// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/colorhalftone.js
vec4 colorHalftone_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {
  vec3 cmy = 1.0 - color.rgb;
  float k = min(cmy.x, min(cmy.y, cmy.z));
  cmy = (cmy - k) / (1.0 - k);
  cmy = clamp(
    cmy * 10.0 - 3.0 + vec3(
      pattern(u_Angle + 0.26179, texSize, texCoord),
      pattern(u_Angle + 1.30899, texSize, texCoord),
      pattern(u_Angle, texSize, texCoord)
    ),
    0.0,
    1.0
  );
  k = clamp(k * 10.0 - 5.0 + pattern(u_Angle + 0.78539, texSize, texCoord), 0.0, 1.0);
  return vec4(1.0 - cmy - k, color.a);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = colorHalftone_filterColor(gl_FragColor, u_ViewportSize, v_UV);
}`,Sf=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0.0, 1.0);
}
`,Cf=class extends el{setupShaders(){this.shaderModuleService.registerModule(`colorhalftone-pass`,{vs:Sf,fs:xf});let{vs:e,fs:t,uniforms:n}=this.shaderModuleService.getModule(`colorhalftone-pass`),{width:r,height:i}=this.rendererService.getViewportSize();return{vs:e,fs:t,uniforms:P(P({},n),{},{u_ViewportSize:[r,i]})}}},wf=`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}
`,Tf=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0.0, 1.0);
}
`,Ef=class extends el{setupShaders(){return this.shaderModuleService.registerModule(`copy-pass`,{vs:Tf,fs:wf}),this.shaderModuleService.getModule(`copy-pass`)}},Df=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_Center : [0.5, 0.5];
uniform float u_Scale : 10;

// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/hexagonalpixelate.js
vec4 hexagonalPixelate_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {
  vec2 tex = (texCoord * texSize - u_Center * texSize) / u_Scale;
  tex.y /= 0.866025404;
  tex.x -= tex.y * 0.5;
  vec2 a;
  if (tex.x + tex.y - floor(tex.x) - floor(tex.y) < 1.0) {
    a = vec2(floor(tex.x), floor(tex.y));
  }
  else a = vec2(ceil(tex.x), ceil(tex.y));
  vec2 b = vec2(ceil(tex.x), floor(tex.y));
  vec2 c = vec2(floor(tex.x), ceil(tex.y));
  vec3 TEX = vec3(tex.x, tex.y, 1.0 - tex.x - tex.y);
  vec3 A = vec3(a.x, a.y, 1.0 - a.x - a.y);
  vec3 B = vec3(b.x, b.y, 1.0 - b.x - b.y);
  vec3 C = vec3(c.x, c.y, 1.0 - c.x - c.y);
  float alen = length(TEX - A);
  float blen = length(TEX - B);
  float clen = length(TEX - C);
  vec2 choice;
  if (alen < blen) {
    if (alen < clen) choice = a;
    else choice = c;
  } else {
    if (blen < clen) choice = b;
    else choice = c;
  }
  choice.x += choice.y * 0.5;
  choice.y *= 0.866025404;
  choice *= u_Scale / texSize;
  return texture2D(texture, choice + u_Center);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = hexagonalPixelate_sampleColor(u_Texture, u_ViewportSize, v_UV);
}`,Of=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0.0, 1.0);
}
`,kf=class extends el{setupShaders(){this.shaderModuleService.registerModule(`hexagonalpixelate-pass`,{vs:Of,fs:Df});let{vs:e,fs:t,uniforms:n}=this.shaderModuleService.getModule(`hexagonalpixelate-pass`),{width:r,height:i}=this.rendererService.getViewportSize();return{vs:e,fs:t,uniforms:P(P({},n),{},{u_ViewportSize:[r,i]})}}},Af=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform float u_Strength : 0.6;

vec4 ink_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {
  vec2 dx = vec2(1.0 / texSize.x, 0.0);
  vec2 dy = vec2(0.0, 1.0 / texSize.y);
  vec4 color = texture2D(texture, texCoord);
  float bigTotal = 0.0;
  float smallTotal = 0.0;
  vec3 bigAverage = vec3(0.0);
  vec3 smallAverage = vec3(0.0);
  for (float x = -2.0; x <= 2.0; x += 1.0) {
    for (float y = -2.0; y <= 2.0; y += 1.0) {
      vec3 sample = texture2D(texture, texCoord + dx * x + dy * y).rgb;
      bigAverage += sample;
      bigTotal += 1.0;
      if (abs(x) + abs(y) < 2.0) {
        smallAverage += sample;
        smallTotal += 1.0;
      }
    }
  }
  vec3 edge = max(vec3(0.0), bigAverage / bigTotal - smallAverage / smallTotal);
  float power = u_Strength * u_Strength * u_Strength * u_Strength * u_Strength;
  return vec4(color.rgb - dot(edge, edge) * power * 100000.0, color.a);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = ink_sampleColor(u_Texture, u_ViewportSize, v_UV);
}`,jf=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0.0, 1.0);
}
`,Mf=class extends el{setupShaders(){this.shaderModuleService.registerModule(`ink-pass`,{vs:jf,fs:Af});let{vs:e,fs:t,uniforms:n}=this.shaderModuleService.getModule(`ink-pass`),{width:r,height:i}=this.rendererService.getViewportSize();return{vs:e,fs:t,uniforms:P(P({},n),{},{u_ViewportSize:[r,i]})}}},Nf=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform float u_Amount : 0.5;

float rand(vec2 co) {
  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);
}

// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/noise.js
vec4 noise_filterColor(vec4 color, vec2 texCoord) {
  float diff = (rand(texCoord) - 0.5) * u_Amount;
  color.r += diff;
  color.g += diff;
  color.b += diff;
  return color;
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = noise_filterColor(gl_FragColor, v_UV);
}`,Pf=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0.0, 1.0);
}
`,Ff=class extends el{setupShaders(){return this.shaderModuleService.registerModule(`noise-pass`,{vs:Pf,fs:Nf}),this.shaderModuleService.getModule(`noise-pass`)}},If=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0.0, 1.0);
}
`,Lf=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform float u_Amount : 0.5;

// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/sepia.js
vec4 sepia_filterColor(vec4 color) {
  float r = color.r;
  float g = color.g;
  float b = color.b;
  color.r =
    min(1.0, (r * (1.0 - (0.607 * u_Amount))) + (g * (0.769 * u_Amount)) + (b * (0.189 * u_Amount)));
  color.g = min(1.0, (r * 0.349 * u_Amount) + (g * (1.0 - (0.314 * u_Amount))) + (b * 0.168 * u_Amount));
  color.b = min(1.0, (r * 0.272 * u_Amount) + (g * 0.534 * u_Amount) + (b * (1.0 - (0.869 * u_Amount))));
  return color;
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = sepia_filterColor(gl_FragColor);
}`,Rf=class extends el{setupShaders(){return this.shaderModuleService.registerModule(`sepia-pass`,{vs:If,fs:Lf}),this.shaderModuleService.getModule(`sepia-pass`)}};const zf=new Ql;var Bf=0;function Vf(){let e=new $d,t=new ou,n=new Ul,r=new iu(n),i=new Il,a=new Hl,o=new Kl,s=new ql,c=new Gl,l={id:`${Bf++}`,globalConfigService:zf,shaderModuleService:e,debugService:t,cameraService:n,coordinateSystemService:r,fontService:i,iconService:a,markerService:o,popupService:s,controlService:c,customRenderService:{}};l.layerService=new bu(l),l.sceneService=new Fd(l),l.interactionService=new du(l),l.pickingService=new gu(l);let u={clear:new nf,pixelPicking:new af,render:new cf};l.normalPassFactory=e=>u[e];let d={copy:new Ef,bloom:new ff,blurH:new gf,blurV:new bf,noise:new Ff,sepia:new Rf,colorHalftone:new Cf,hexagonalPixelate:new kf,ink:new Mf};return l.postProcessingPass=d,l.postProcessingPassFactory=e=>d[e],l}function Hf(e){let t=P({},e);return t.postProcessor=new sf(t.rendererService),t.multiPassRenderer=new rf(t.postProcessor),t.styleAttributeService=new Ou(t.rendererService),t}const Uf=[`loaded`,`fontloaded`,`maploaded`,`resize`,`destroy`,`dragstart`,`dragging`,`dragend`,`dragcancel`];let Wf=function(e){return e.IMAGE=`image`,e.CUSTOMIMAGE=`customImage`,e.ARRAYBUFFER=`arraybuffer`,e.RGB=`rgb`,e.TERRAINRGB=`terrainRGB`,e.CUSTOMRGB=`customRGB`,e.CUSTOMARRAYBUFFER=`customArrayBuffer`,e.CUSTOMTERRAINRGB=`customTerrainRGB`,e}({});var Gf=(e,t,n)=>new Promise((r,i)=>{var a=e=>{try{s(n.next(e))}catch(e){i(e)}},o=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,o);s((n=n.apply(e,t)).next())}),Kf=(e,t,n,r)=>Gf(void 0,null,function*(){return new Promise((i,a)=>{t({x:e.x,y:e.y,z:e.z},(e,t)=>{if(e||t.length===0){a(e);return}t&&qc([{data:t,bands:[0]}],n,r,(e,t)=>{e?a(e):t&&i(t)})})})}),qf=(e,t)=>Gf(void 0,null,function*(){return new Promise((n,r)=>{t({x:e.x,y:e.y,z:e.z},(e,t)=>{if(e||!t){r(e);return}t instanceof ArrayBuffer?Cr(t,(e,t)=>{e&&r(e),n(t)}):t instanceof HTMLImageElement?n(t):r(e)})})});function Jf(e,t){return Array.isArray(e)?typeof e[0]==`string`?e.map(e=>qa(e,t)):e.map(e=>({url:qa(e.url,t),bands:e.bands||[0]})):qa(e,t)}function Yf(e){return typeof e==`string`?[{url:e,bands:[0]}]:typeof e[0]==`string`?e.map(e=>({url:e,bands:[0]})):e}function Xf(e,t){e.xhrCancel=()=>{t.map(e=>{e.abort()})}}var Zf=Object.defineProperty,Qf=Object.defineProperties,$f=Object.getOwnPropertyDescriptors,ep=Object.getOwnPropertySymbols,tp=Object.prototype.hasOwnProperty,np=Object.prototype.propertyIsEnumerable,rp=(e,t,n)=>t in e?Zf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ip=(e,t)=>{for(var n in t||={})tp.call(t,n)&&rp(e,n,t[n]);if(ep)for(var n of ep(t))np.call(t,n)&&rp(e,n,t[n]);return e},ap=(e,t)=>Qf(e,$f(t)),op=(e,t,n)=>new Promise((r,i)=>{var a=e=>{try{s(n.next(e))}catch(e){i(e)}},o=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,o);s((n=n.apply(e,t)).next())}),sp=(e,t,n,r,i)=>op(void 0,null,function*(){let a=Yf(t.url);if(a.length>1){let{rasterFiles:o,xhrList:s,errList:c}=yield cp(a,t);if(Xf(e,s),c.length>0){n(c,null);return}qc(o,r,i,n)}else{let o=_r(t,(e,t)=>{if(e)n(e);else if(t){let e=[{data:t,bands:a[0].bands}];qc(e,r,i,n)}});Xf(e,[o])}});function cp(e,t){return op(this,null,function*(){let n=[],r=[],i=[];for(let a=0;a<e.length;a++){let o=e[a],s=ap(ip({},t),{url:o.url}),c=o.bands,{err:l,data:u,xhr:d}=yield mr(ap(ip({},s),{type:`arrayBuffer`}));l&&i.push(l),r.push(d),n.push({data:u,bands:c})}return{rasterFiles:n,xhrList:r,errList:i}})}var lp=Object.defineProperty,up=Object.defineProperties,dp=Object.getOwnPropertyDescriptors,fp=Object.getOwnPropertySymbols,pp=Object.prototype.hasOwnProperty,mp=Object.prototype.propertyIsEnumerable,hp=(e,t,n)=>t in e?lp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gp=(e,t)=>{for(var n in t||={})pp.call(t,n)&&hp(e,n,t[n]);if(fp)for(var n of fp(t))mp.call(t,n)&&hp(e,n,t[n]);return e},_p=(e,t)=>up(e,dp(t)),vp=(e,t,n)=>new Promise((r,i)=>{var a=e=>{try{s(n.next(e))}catch(e){i(e)}},o=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,o);s((n=n.apply(e,t)).next())}),yp=(e,t,n,r)=>vp(void 0,null,function*(){let{format:i=xp,operation:a,requestParameters:o={}}=r,s=_p(gp({},o),{url:Jf(e,t)});return new Promise((e,t)=>{sp(n,s,(n,r)=>{n?t(n):r&&e(r)},i,a)})}),bp=(e,t,n,r)=>vp(void 0,null,function*(){let i,a=Array.isArray(e)?e[0]:e;return i=r.wmtsOptions?(r?.getURLFromTemplate||Ja)(a,gp(gp({},t),r.wmtsOptions)):(r?.getURLFromTemplate||qa)(a,t),new Promise((e,t)=>{let a=Sr(_p(gp({},r?.requestParameters),{url:i,type:r?.requestParameters?.type||`arrayBuffer`}),(n,r)=>{n?t(n):r&&e(r)},r.transformResponse);n.xhrCancel=()=>a.cancel()})}),xp=()=>({rasterData:new Uint8Array([0]),width:1,height:1}),Sp=Object.defineProperty,Cp=Object.defineProperties,wp=Object.getOwnPropertyDescriptors,Tp=Object.getOwnPropertySymbols,Ep=Object.prototype.hasOwnProperty,Dp=Object.prototype.propertyIsEnumerable,Op=(e,t,n)=>t in e?Sp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kp=(e,t)=>{for(var n in t||={})Ep.call(t,n)&&Op(e,n,t[n]);if(Tp)for(var n of Tp(t))Dp.call(t,n)&&Op(e,n,t[n]);return e},Ap=(e,t)=>Cp(e,wp(t)),jp={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0,warp:!0};Wf.ARRAYBUFFER,Wf.RGB;function Mp(e){return!!(Array.isArray(e)&&e.length===0||!Array.isArray(e)&&typeof e!=`string`)}function Np(e,t={}){if(Mp(e))throw Error(`tile server url is error`);let{extent:n=[1/0,1/0,-1/0,-1/0],coordinates:r}=t,i=t?.dataType||Wf.IMAGE;i===Wf.RGB&&(i=Wf.ARRAYBUFFER);let a=Ap(kp(kp({},jp),t),{getTileData:(n,r)=>{switch(i){case Wf.IMAGE:return bp(e,n,r,t);case Wf.CUSTOMIMAGE:case Wf.CUSTOMTERRAINRGB:return qf(r,t?.getCustomData);case Wf.ARRAYBUFFER:return yp(e,n,r,t);case Wf.CUSTOMARRAYBUFFER:case Wf.CUSTOMRGB:return Kf(r,t?.getCustomData,t?.format||xp,t?.operation);default:return bp(e,n,r,t)}}}),o=eo(r,n);return{data:e,dataArray:[{_id:1,coordinates:o}],tilesetOptions:a,isTile:!0}}var Pp=Object.defineProperty,Fp=Object.defineProperties,Ip=Object.getOwnPropertyDescriptors,Lp=Object.getOwnPropertySymbols,Rp=Object.prototype.hasOwnProperty,zp=Object.prototype.propertyIsEnumerable,Bp=(e,t,n)=>t in e?Pp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vp=(e,t)=>{for(var n in t||={})Rp.call(t,n)&&Bp(e,n,t[n]);if(Lp)for(var n of Lp(t))zp.call(t,n)&&Bp(e,n,t[n]);return e},Hp=(e,t)=>Fp(e,Ip(t)),Up=(e,t)=>{var n={};for(var r in e)Rp.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Lp)for(var r of Lp(e))t.indexOf(r)<0&&zp.call(e,r)&&(n[r]=e[r]);return n};function Wp(e,t){let n=t,{extent:r=[121.168,30.2828,121.384,30.4219],coordinates:i,width:a,height:o}=n,s=Up(n,[`extent`,`coordinates`,`width`,`height`]);e.length<2&&console.warn(`RGB解析需要2个波段的数据`);let[c,l]=s.bands||[0,1],u=[e[c],e[l]],d=[];for(let e=0;e<u[0].length;e++)d.push((u[1][e]-u[0][e])/(u[1][e]+u[0][e]));let f=eo(i,r);return{_id:1,dataArray:[Hp(Vp({_id:1,data:d,width:a,height:o},s),{coordinates:f})]}}var Gp=Object.defineProperty,Kp=Object.defineProperties,qp=Object.getOwnPropertyDescriptors,Jp=Object.getOwnPropertySymbols,Yp=Object.prototype.hasOwnProperty,Xp=Object.prototype.propertyIsEnumerable,Zp=(e,t,n)=>t in e?Gp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qp=(e,t)=>{for(var n in t||={})Yp.call(t,n)&&Zp(e,n,t[n]);if(Jp)for(var n of Jp(t))Xp.call(t,n)&&Zp(e,n,t[n]);return e},$p=(e,t)=>Kp(e,qp(t)),em=(e,t)=>{var n={};for(var r in e)Yp.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Jp)for(var r of Jp(e))t.indexOf(r)<0&&Xp.call(e,r)&&(n[r]=e[r]);return n};function tm(e,t){let n=t,{extent:r,coordinates:i,width:a,height:o}=n,s=em(n,[`extent`,`coordinates`,`width`,`height`]);e.length<3&&console.warn(`RGB解析需要三个波段的数据`);let[c,l,u]=s.bands||[0,1,2],d=[e[c],e[l],e[u]],f=[],[p,m]=s?.countCut||[2,98],h=s?.RMinMax||Nc(d[0],p,m),g=s?.GMinMax||Nc(d[1],p,m),_=s?.BMinMax||Nc(d[2],p,m);for(let e=0;e<d[0].length;e++)f.push(Math.max(0,d[0][e]-h[0])),f.push(Math.max(0,d[1][e]-g[0])),f.push(Math.max(0,d[2][e]-_[0]));let v=eo(i,r);return{_id:1,dataArray:[$p(Qp({_id:1,data:f,width:a,height:o,rMinMax:h,gMinMax:g,bMinMax:_},s),{coordinates:v})]}}var nm=Object.defineProperty,rm=Object.defineProperties,im=Object.getOwnPropertyDescriptors,am=Object.getOwnPropertySymbols,om=Object.prototype.hasOwnProperty,sm=Object.prototype.propertyIsEnumerable,cm=(e,t,n)=>t in e?nm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lm=(e,t)=>{for(var n in t||={})om.call(t,n)&&cm(e,n,t[n]);if(am)for(var n of am(t))sm.call(t,n)&&cm(e,n,t[n]);return e},um=(e,t)=>rm(e,im(t)),dm=(e,t)=>{var n={};for(var r in e)om.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&am)for(var r of am(e))t.indexOf(r)<0&&sm.call(e,r)&&(n[r]=e[r]);return n};function fm(e,t){let n=t,{extent:r,coordinates:i,min:a,max:o,width:s,height:c,format:l,operation:u}=n,d=dm(n,[`extent`,`coordinates`,`min`,`max`,`width`,`height`,`format`,`operation`]),f;f=l===void 0||Qa(e)?Array.from(e):Wc(Array.isArray(e)?e:[e],l,u);let p=eo(i,r);return{_id:1,dataArray:[um(lm({_id:1,data:f,width:s,height:c},d),{min:a,max:o,coordinates:p})]}}var pm=Object.defineProperty,mm=Object.defineProperties,hm=Object.getOwnPropertyDescriptors,gm=Object.getOwnPropertySymbols,_m=Object.prototype.hasOwnProperty,vm=Object.prototype.propertyIsEnumerable,ym=(e,t,n)=>t in e?pm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bm=(e,t)=>{for(var n in t||={})_m.call(t,n)&&ym(e,n,t[n]);if(gm)for(var n of gm(t))vm.call(t,n)&&ym(e,n,t[n]);return e},xm=(e,t)=>mm(e,hm(t)),Sm=(e,t,n)=>new Promise((r,i)=>{var a=e=>{try{s(n.next(e))}catch(e){i(e)}},o=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,o);s((n=n.apply(e,t)).next())}),Cm={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0},wm=e=>Sm(void 0,null,function*(){return new Promise(t=>{let[n,r,i,a]=e.bounds,o={layers:{testTile:{features:[{type:`Feature`,properties:{key:e.x+`/`+e.y+`/`+e.z,x:(n+i)/2,y:(r+a)/2},geometry:{type:`LineString`,coordinates:[[i,a],[i,r],[n,r],[n,r]]}}]}}};t(o)})});function Tm(e,t){let n=xm(bm(bm({},Cm),t),{getTileData:e=>wm(e)});return{data:e,dataArray:[],tilesetOptions:n,isTile:!0}}var Em=t(((exports,t)=>{(function(n,r){typeof exports==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):(n=typeof globalThis<`u`?globalThis:n||self,n.Supercluster=r())})(exports,(function(){function e(n,r,i,a,o,s){if(!(o-a<=i)){var c=a+o>>1;t(n,r,c,a,o,s%2),e(n,r,i,a,c-1,s+1),e(n,r,i,c+1,o,s+1)}}function t(e,r,i,a,o,s){for(;o>a;){if(o-a>600){var c=o-a+1,l=i-a+1,u=Math.log(c),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(c-d)/c)*(l-c/2<0?-1:1),p=Math.max(a,Math.floor(i-l*d/c+f)),m=Math.min(o,Math.floor(i+(c-l)*d/c+f));t(e,r,i,p,m,s)}var h=r[2*i+s],g=a,_=o;for(n(e,r,a,i),r[2*o+s]>h&&n(e,r,a,o);g<_;){for(n(e,r,g,_),g++,_--;r[2*g+s]<h;)g++;for(;r[2*_+s]>h;)_--}r[2*a+s]===h?n(e,r,a,_):(_++,n(e,r,_,o)),_<=i&&(a=_+1),i<=_&&(o=_-1)}}function n(e,t,n,i){r(e,n,i),r(t,2*n,2*i),r(t,2*n+1,2*i+1)}function r(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function i(e,t,n,r,i,a,o){for(var s=[0,e.length-1,0],c=[],l,u;s.length;){var d=s.pop(),f=s.pop(),p=s.pop();if(f-p<=o){for(var m=p;m<=f;m++)l=t[2*m],u=t[2*m+1],l>=n&&l<=i&&u>=r&&u<=a&&c.push(e[m]);continue}var h=Math.floor((p+f)/2);l=t[2*h],u=t[2*h+1],l>=n&&l<=i&&u>=r&&u<=a&&c.push(e[h]);var g=(d+1)%2;(d===0?n<=l:r<=u)&&(s.push(p),s.push(h-1),s.push(g)),(d===0?i>=l:a>=u)&&(s.push(h+1),s.push(f),s.push(g))}return c}function a(e,t,n,r,i,a){for(var s=[0,e.length-1,0],c=[],l=i*i;s.length;){var u=s.pop(),d=s.pop(),f=s.pop();if(d-f<=a){for(var p=f;p<=d;p++)o(t[2*p],t[2*p+1],n,r)<=l&&c.push(e[p]);continue}var m=Math.floor((f+d)/2),h=t[2*m],g=t[2*m+1];o(h,g,n,r)<=l&&c.push(e[m]);var _=(u+1)%2;(u===0?n-i<=h:r-i<=g)&&(s.push(f),s.push(m-1),s.push(_)),(u===0?n+i>=h:r+i>=g)&&(s.push(m+1),s.push(d),s.push(_))}return c}function o(e,t,n,r){var i=e-n,a=t-r;return i*i+a*a}var s=function(e){return e[0]},c=function(e){return e[1]},l=function(t,n,r,i,a){n===void 0&&(n=s),r===void 0&&(r=c),i===void 0&&(i=64),a===void 0&&(a=Float64Array),this.nodeSize=i,this.points=t;for(var o=this.ids=new(t.length<65536?Uint16Array:Uint32Array)(t.length),l=this.coords=new a(t.length*2),u=0;u<t.length;u++)o[u]=u,l[2*u]=n(t[u]),l[2*u+1]=r(t[u]);e(o,l,i,0,o.length-1,0)};l.prototype.range=function(e,t,n,r){return i(this.ids,this.coords,e,t,n,r,this.nodeSize)},l.prototype.within=function(e,t,n){return a(this.ids,this.coords,e,t,n,this.nodeSize)};var u={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},d=Math.fround||(function(e){return(function(t){return e[0]=+t,e[0]})})(new Float32Array(1)),f=function(e){this.options=x(Object.create(u),e),this.trees=Array(this.options.maxZoom+1)};f.prototype.load=function(e){var t=this.options,n=t.log,r=t.minZoom,i=t.maxZoom,a=t.nodeSize;n&&console.time(`total time`);var o=`prepare `+e.length+` points`;n&&console.time(o),this.points=e;for(var s=[],c=0;c<e.length;c++)e[c].geometry&&s.push(m(e[c],c));this.trees[i+1]=new l(s,S,C,a,Float32Array),n&&console.timeEnd(o);for(var u=i;u>=r;u--){var d=+Date.now();s=this._cluster(s,u),this.trees[u]=new l(s,S,C,a,Float32Array),n&&console.log(`z%d: %d clusters in %dms`,u,s.length,+Date.now()-d)}return n&&console.timeEnd(`total time`),this},f.prototype.getClusters=function(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),i=e[2]===180?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){var o=this.getClusters([n,r,180,a],t),s=this.getClusters([-180,r,i,a],t);return o.concat(s)}for(var c=this.trees[this._limitZoom(t)],l=c.range(_(n),v(a),_(i),v(r)),u=[],d=0,f=l;d<f.length;d+=1){var p=f[d],m=c.points[p];u.push(m.numPoints?h(m):this.points[m.index])}return u},f.prototype.getChildren=function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r=`No cluster with the specified id.`,i=this.trees[n];if(!i)throw Error(r);var a=i.points[t];if(!a)throw Error(r);for(var o=this.options.radius/(this.options.extent*2**(n-1)),s=i.within(a.x,a.y,o),c=[],l=0,u=s;l<u.length;l+=1){var d=u[l],f=i.points[d];f.parentId===e&&c.push(f.numPoints?h(f):this.points[f.index])}if(c.length===0)throw Error(r);return c},f.prototype.getLeaves=function(e,t,n){t||=10,n||=0;var r=[];return this._appendLeaves(r,e,t,n,0),r},f.prototype.getTile=function(e,t,n){var r=this.trees[this._limitZoom(e)],i=2**e,a=this.options,o=a.extent,s=a.radius/o,c=(n-s)/i,l=(n+1+s)/i,u={features:[]};return this._addTileFeatures(r.range((t-s)/i,c,(t+1+s)/i,l),r.points,t,n,i,u),t===0&&this._addTileFeatures(r.range(1-s/i,c,1,l),r.points,i,n,i,u),t===i-1&&this._addTileFeatures(r.range(0,c,s/i,l),r.points,-1,n,i,u),u.features.length?u:null},f.prototype.getClusterExpansionZoom=function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,n.length!==1)break;e=n[0].properties.cluster_id}return t},f.prototype._appendLeaves=function(e,t,n,r,i){for(var a=this.getChildren(t),o=0,s=a;o<s.length;o+=1){var c=s[o],l=c.properties;if(l&&l.cluster?i+l.point_count<=r?i+=l.point_count:i=this._appendLeaves(e,l.cluster_id,n,r,i):i<r?i++:e.push(c),e.length===n)break}return i},f.prototype._addTileFeatures=function(e,t,n,r,i,a){for(var o=0,s=e;o<s.length;o+=1){var c=s[o],l=t[c],u=l.numPoints,d=void 0,f=void 0,p=void 0;if(u)d=g(l),f=l.x,p=l.y;else{var m=this.points[l.index];d=m.properties,f=_(m.geometry.coordinates[0]),p=v(m.geometry.coordinates[1])}var h={type:1,geometry:[[Math.round(this.options.extent*(f*i-n)),Math.round(this.options.extent*(p*i-r))]],tags:d},y=void 0;u?y=l.id:this.options.generateId?y=l.index:this.points[l.index].id&&(y=this.points[l.index].id),y!==void 0&&(h.id=y),a.features.push(h)}},f.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))},f.prototype._cluster=function(e,t){for(var n=[],r=this.options,i=r.radius,a=r.extent,o=r.reduce,s=r.minPoints,c=i/(a*2**t),l=0;l<e.length;l++){var u=e[l];if(!(u.zoom<=t)){u.zoom=t;for(var d=this.trees[t+1],f=d.within(u.x,u.y,c),m=u.numPoints||1,h=m,g=0,_=f;g<_.length;g+=1){var v=_[g],y=d.points[v];y.zoom>t&&(h+=y.numPoints||1)}if(h>m&&h>=s){for(var b=u.x*m,x=u.y*m,S=o&&m>1?this._map(u,!0):null,C=(l<<5)+(t+1)+this.points.length,w=0,T=f;w<T.length;w+=1){var E=T[w],D=d.points[E];if(!(D.zoom<=t)){D.zoom=t;var O=D.numPoints||1;b+=D.x*O,x+=D.y*O,D.parentId=C,o&&(S||=this._map(u,!0),o(S,this._map(D)))}}u.parentId=C,n.push(p(b/h,x/h,C,h,S))}else if(n.push(u),h>1)for(var k=0,A=f;k<A.length;k+=1){var j=A[k],M=d.points[j];M.zoom<=t||(M.zoom=t,n.push(M))}}}return n},f.prototype._getOriginId=function(e){return e-this.points.length>>5},f.prototype._getOriginZoom=function(e){return(e-this.points.length)%32},f.prototype._map=function(e,t){if(e.numPoints)return t?x({},e.properties):e.properties;var n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?x({},r):r};function p(e,t,n,r,i){return{x:d(e),y:d(t),zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function m(e,t){var n=e.geometry.coordinates,r=n[0],i=n[1];return{x:d(_(r)),y:d(v(i)),zoom:1/0,index:t,parentId:-1}}function h(e){return{type:`Feature`,id:e.id,properties:g(e),geometry:{type:`Point`,coordinates:[y(e.x),b(e.y)]}}}function g(e){var t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+`k`:t>=1e3?Math.round(t/100)/10+`k`:t;return x(x({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function _(e){return e/360+.5}function v(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function y(e){return(e-.5)*360}function b(e){var t=(180-e*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function x(e,t){for(var n in t)e[n]=t[n];return e}function S(e){return e.x}function C(e){return e.y}return f}))})),Dm=e(Em()),Om=Object.defineProperty,km=Object.getOwnPropertySymbols,Am=Object.prototype.hasOwnProperty,jm=Object.prototype.propertyIsEnumerable,Mm=(e,t,n)=>t in e?Om(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nm=(e,t)=>{for(var n in t||={})Am.call(t,n)&&Mm(e,n,t[n]);if(km)for(var n of km(t))jm.call(t,n)&&Mm(e,n,t[n]);return e};function Pm(e,t){let{radius:n=40,maxZoom:r=18,minZoom:i=0,zoom:a=2}=t;if(e.pointIndex){let t=e.pointIndex.getClusters(e.extent,Math.floor(a));return e.dataArray=Fm(t),e}let o=new Dm.default({radius:n,minZoom:i,maxZoom:r}),s={type:`FeatureCollection`,features:[]};return s.features=e.dataArray.map(e=>({type:`Feature`,geometry:{type:`Point`,coordinates:e.coordinates},properties:Nm({},e)})),o.load(s.features),o}function Fm(e){return e.map((e,t)=>Nm({coordinates:e.geometry.coordinates,_id:t+1},e.properties))}function Im(e){if(e.length===0)throw Error(`max requires at least one data point`);let t=e[0];for(let n=1;n<e.length;n++)e[n]>t&&(t=e[n]);return t}function Lm(e){if(e.length===0)throw Error(`min requires at least one data point`);let t=e[0];for(let n=1;n<e.length;n++)e[n]<t&&(t=e[n]);return t}function Rm(e){if(e.length===0)return 0;let t=e[0],n=0,r;for(let i=1;i<e.length;i++)r=t+e[i]*1,Math.abs(t)>=Math.abs(e[i])?n+=t-r+e[i]:n+=e[i]-r+t,t=r;return t+n*1}function zm(e){if(e.length===0)throw Error(`mean requires at least one data point`);return Rm(e)/e.length}var Bm={min:Lm,max:Im,mean:zm,sum:Rm},Vm=e(la()),Hm=Object.defineProperty,Um=Object.getOwnPropertySymbols,Wm=Object.prototype.hasOwnProperty,Gm=Object.prototype.propertyIsEnumerable,Km=(e,t,n)=>t in e?Hm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qm=(e,t)=>{for(var n in t||={})Wm.call(t,n)&&Km(e,n,t[n]);if(Um)for(var n of Um(t))Gm.call(t,n)&&Km(e,n,t[n]);return e},Jm=(e,t,n)=>new Promise((r,i)=>{var a=e=>{try{s(n.next(e))}catch(e){i(e)}},o=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,o);s((n=n.apply(e,t)).next())}),{cloneDeep:Ym,isFunction:Xm,isString:Zm,mergeWith:Qm}=di;function $m(e,t){if(Array.isArray(t))return t}var eh=class extends Vm.EventEmitter{constructor(e,t){super(),this.type=`source`,this.isTile=!1,this.inited=!1,this.hooks={init:new dd},this.parser={type:`geojson`},this.transforms=[],this.cluster=!1,this.clusterOptions={enable:!1,radius:40,maxZoom:20,zoom:-99,method:`count`},this.invalidExtent=!1,this.dataArrayChanged=!1,this.cfg={autoRender:!0},this.originData=e,this.initCfg(t),this.init().then(()=>{this.inited=!0,this.emit(`update`,{type:`inited`})})}getSourceCfg(){return this.cfg}getClusters(e){return this.clusterIndex.getClusters(this.caculClusterExtent(2),e)}getClustersLeaves(e){return this.clusterIndex.getLeaves(e,1/0)}getParserType(){return this.parser.type}updateClusterData(e){let{method:t=`sum`,field:n}=this.clusterOptions,r=this.clusterIndex.getClusters(this.caculClusterExtent(2),Math.floor(e));this.clusterOptions.zoom=e,r.forEach(e=>{e.id||(e.properties.point_count=1)}),(n||Xm(t))&&(r=r.map(e=>{let r=e.id;if(r){let i=this.clusterIndex.getLeaves(r,1/0).map(e=>e.properties),a;if(Zm(t)&&n){let e=Za(i,n);a=Bm[t](e)}Xm(t)&&(a=t(i)),e.properties.stat=a}else e.properties.point_count=1;return e})),this.data=En(`geojson`)({type:`FeatureCollection`,features:r}),this.executeTrans()}getFeatureById(e){let{type:t=`geojson`,geometry:n}=this.parser;if(t===`geojson`&&!this.cluster){let t=e<this.originData.features.length?this.originData.features[e]:`null`,n=Ym(t);return n?.properties&&(this.transforms.length!==0||this.dataArrayChanged)&&(n.properties=this.data.dataArray.find(t=>t._id===e)),n}else if(t===`json`&&n)return this.data.dataArray.find(t=>t._id===e);else return e<this.data.dataArray.length?this.data.dataArray[e]:`null`}updateFeaturePropertiesById(e,t){this.data.dataArray=this.data.dataArray.map(n=>n._id===e?qm(qm({},n),t):n),this.dataArrayChanged=!0,this.emit(`update`,{type:`update`})}getFeatureId(e,t){return this.data.dataArray.find(n=>n[e]===t)?._id}setData(e,t){this.originData=e,this.dataArrayChanged=!1,this.initCfg(t),this.init().then(()=>{this.emit(`update`,{type:`update`})})}reloadAllTile(){var e;(e=this.tileset)==null||e.reloadAll()}reloadTilebyId(e,t,n){var r;(r=this.tileset)==null||r.reloadTileById(e,t,n)}reloadTileByLnglat(e,t,n){var r;(r=this.tileset)==null||r.reloadTileByLnglat(e,t,n)}getTileExtent(e,t){return this.tileset?.getTileExtent(e,t)}getTileByZXY(e,t,n){return this.tileset?.getTileByZXY(e,t,n)}reloadTileByExtent(e,t){var n;(n=this.tileset)==null||n.reloadTileByExtent(e,t)}destroy(){var e;this.removeAllListeners(),this.originData=null,this.clusterIndex=null,this.data=null,(e=this.tileset)==null||e.destroy()}processData(){return Jm(this,null,function*(){return new Promise((e,t)=>{try{this.excuteParser(),this.initCluster(),this.executeTrans(),e({})}catch(e){t(e)}})})}initCfg(e){this.cfg=Qm(this.cfg,e,$m);let t=this.cfg;t&&(t.parser&&(this.parser=t.parser),t.transforms&&(this.transforms=t.transforms),this.cluster=t.cluster||!1,t.clusterOptions&&(this.cluster=!0,this.clusterOptions=qm(qm({},this.clusterOptions),t.clusterOptions)))}init(){return Jm(this,null,function*(){this.inited=!1,yield this.processData(),this.inited=!0})}excuteParser(){let e=this.parser,t=e.type||`geojson`;this.data=En(t)(this.originData,e),this.tileset=this.initTileset(),!e.cancelExtent&&(this.extent=Ri(this.data.dataArray),this.setCenter(this.extent),this.invalidExtent=this.extent[0]===this.extent[2]||this.extent[1]===this.extent[3])}setCenter(e){this.center=[(e[0]+e[2])/2,(e[1]+e[3])/2],(isNaN(this.center[0])||isNaN(this.center[1]))&&(this.center=[108.92361111111111,34.54083333333333])}initTileset(){let{tilesetOptions:e}=this.data;if(e)return this.isTile=!0,this.tileset?(this.tileset.updateOptions(e),this.tileset):new Ga(qm({},e))}executeTrans(){this.transforms.forEach(e=>{let{type:t}=e,n=On(t)(this.data,e);Object.assign(this.data,n)})}initCluster(){if(!this.cluster)return;let e=this.clusterOptions||{};this.clusterIndex=Pm(this.data,e)}caculClusterExtent(e){let t=[[-1/0,-1/0],[1/0,1/0]];return this.invalidExtent||(t=Gi(qi(this.extent),e)),t[0].concat(t[1])}};function th(e,t){let{callback:n}=t;return n&&(e.dataArray=e.dataArray.filter(n)),e}var nh=6378e3;function rh(e,t){let n=e.dataArray,{size:r=10}=t,i=r/(2*Math.PI*nh)*(256<<20)/2,{gridHash:a,gridOffset:o}=ih(n,r),s=ch(a,o,t);return{yOffset:i,xOffset:i,radius:i,type:`grid`,dataArray:s}}function ih(e,t){let n=1/0,r=-1/0,i;for(let t of e)i=t.coordinates[1],Number.isFinite(i)&&(n=i<n?i:n,r=i>r?i:r);let a=(n+r)/2,o=ah(t,a);if(o.xOffset<=0||o.yOffset<=0)return{gridHash:{},gridOffset:o};let s={};for(let t of e){let e=t.coordinates[1],n=t.coordinates[0];if(Number.isFinite(e)&&Number.isFinite(n)){let r=Math.floor((e+90)/o.yOffset),i=Math.floor((n+180)/o.xOffset),a=`${r}-${i}`;s[a]=s[a]||{count:0,points:[]},s[a].count+=1,s[a].points.push(t)}}return{gridHash:s,gridOffset:o}}function ah(e,t){let n=oh(e),r=sh(t,e);return{yOffset:n,xOffset:r}}function oh(e){return e/nh*(180/Math.PI)}function sh(e,t){return t/nh*(180/Math.PI)/Math.cos(e*Math.PI/180)}function ch(e,t,n){return Object.keys(e).reduce((r,i,a)=>{let o=i.split(`-`),s=parseInt(o[0],10),c=parseInt(o[1],10),l={};if(n.field&&n.method){let t=sa(e[i].points,n.field);l[n.method]=oa[n.method](t)}return Object.assign(l,{_id:a,coordinates:Wi([-180+t.xOffset*(c+.5),-90+t.yOffset*(s+.5)]),rawData:e[i].points,count:e[i].count}),r.push(l),r},[])}var lh=Math.PI/3,uh=[0,lh,2*lh,3*lh,4*lh,5*lh];function dh(e){return e[0]}function fh(e){return e[1]}function ph(){var e=0,t=0,n=1,r=1,i=dh,a=fh,o,s,c;function l(e){var t={},n=[],r,o=e.length;for(r=0;r<o;++r)if(!(isNaN(u=+i.call(null,l=e[r],r,e))||isNaN(d=+a.call(null,l,r,e)))){var l,u,d,f=Math.round(d/=c),p=Math.round(u=u/s-(f&1)/2),m=d-f;if(Math.abs(m)*3>1){var h=u-p,g=p+(u<p?-1:1)/2,_=f+(d<f?-1:1),v=u-g,y=d-_;h*h+m*m>v*v+y*y&&(p=g+(f&1?1:-1)/2,f=_)}var b=p+`-`+f,x=t[b];x?x.push(l):(n.push(x=t[b]=[l]),x.x=(p+(f&1)/2)*s,x.y=f*c)}return n}function u(e){var t=0,n=0;return uh.map(function(r){var i=Math.sin(r)*e,a=-Math.cos(r)*e,o=i-t,s=a-n;return t=i,n=a,[o,s]})}return l.hexagon=function(e){return`m`+u(e==null?o:+e).join(`l`)+`z`},l.centers=function(){for(var i=[],a=Math.round(t/c),l=Math.round(e/s),u=a*c;u<r+o;u+=c,++a)for(var d=l*s+(a&1)*s/2;d<n+s/2;d+=s)i.push([d,u]);return i},l.mesh=function(){var e=u(o).slice(0,4).join(`l`);return l.centers().map(function(t){return`M`+t+`m`+e}).join(``)},l.x=function(e){return arguments.length?(i=e,l):i},l.y=function(e){return arguments.length?(a=e,l):a},l.radius=function(e){return arguments.length?(o=+e,s=o*2*Math.sin(lh),c=o*1.5,l):o},l.size=function(i){return arguments.length?(e=t=0,n=+i[0],r=+i[1],l):[n-e,r-t]},l.extent=function(i){return arguments.length?(e=+i[0][0],t=+i[0][1],n=+i[1][0],r=+i[1][1],l):[[e,t],[n,r]]},l.radius(1)}var mh=Object.defineProperty,hh=Object.defineProperties,gh=Object.getOwnPropertyDescriptors,_h=Object.getOwnPropertySymbols,vh=Object.prototype.hasOwnProperty,yh=Object.prototype.propertyIsEnumerable,bh=(e,t,n)=>t in e?mh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xh=(e,t)=>{for(var n in t||={})vh.call(t,n)&&bh(e,n,t[n]);if(_h)for(var n of _h(t))yh.call(t,n)&&bh(e,n,t[n]);return e},Sh=(e,t)=>hh(e,gh(t)),Ch=6378e3;function wh(e,t){let n=e.dataArray,{size:r=10,method:i=`sum`}=t,a=r/(2*Math.PI*Ch)*(256<<20)/2,o=n.map(e=>{let[t,n]=Wi(e.coordinates);return Sh(xh({},e),{coordinates:[t,n]})});return{dataArray:ph().radius(a).x(e=>e.coordinates[0]).y(e=>e.coordinates[1])(o).map((e,n)=>{if(t.field&&i){let n=sa(e,t.field);e[i]=oa[i](n)}return{[t.method]:e[i],count:e.length,rawData:e,coordinates:[e.x,e.y],_id:n}}),radius:a,xOffset:a,yOffset:a,type:`hexagon`}}var Th=Object.defineProperty,Eh=Object.getOwnPropertySymbols,Dh=Object.prototype.hasOwnProperty,Oh=Object.prototype.propertyIsEnumerable,kh=(e,t,n)=>t in e?Th(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ah=(e,t)=>{for(var n in t||={})Dh.call(t,n)&&kh(e,n,t[n]);if(Eh)for(var n of Eh(t))Oh.call(t,n)&&kh(e,n,t[n]);return e};function jh(e,t){let{sourceField:n,targetField:r,data:i}=t,a={};return i.forEach(e=>{a[e[n]]=e}),e.dataArray=e.dataArray.map(e=>{let t=e[r];return Ah(Ah({},e),a[t])}),e}function Mh(e,t){let{callback:n}=t;return n&&(e.dataArray=e.dataArray.map(n)),e}var Nh=Object.defineProperty,Ph=Object.defineProperties,Fh=Object.getOwnPropertyDescriptors,Ih=Object.getOwnPropertySymbols,Lh=Object.prototype.hasOwnProperty,Rh=Object.prototype.propertyIsEnumerable,zh=(e,t,n)=>t in e?Nh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bh=(e,t)=>{for(var n in t||={})Lh.call(t,n)&&zh(e,n,t[n]);if(Ih)for(var n of Ih(t))Rh.call(t,n)&&zh(e,n,t[n]);return e},Vh=(e,t)=>Ph(e,Fh(t));function Hh(e){let t=1/0,n=-1/0,r=1/0,i=-1/0;e.forEach(e=>{let a=e.coordinates;if(!a)return;let o=e=>{if(typeof e[0]==`number`&&typeof e[1]==`number`){let[a,o]=e;t=Math.min(t,a),n=Math.max(n,a),r=Math.min(r,o),i=Math.max(i,o)}else Array.isArray(e[0])&&e.forEach(o)};o(a)});let a=(t+n)/2,o=(r+i)/2;return[a,o]}function Uh(e,t){let[n,r]=t;return e.map(e=>{if(!e.coordinates)return e;let t=e=>{if(typeof e[0]==`number`&&typeof e[1]==`number`){let t=Number((e[0]-n).toPrecision(15)),i=Number((e[1]-r).toPrecision(15));return[t,i,...e.slice(2)||[]]}else if(Array.isArray(e[0]))return e.map(t);return e};return Vh(Bh({},e),{coordinates:t(e.coordinates)})})}function Wh(e,t={}){let{enableRelativeCoordinates:n=!1,relativeOrigin:r}=t;if(!n)return{dataArray:e,relativeOrigin:[0,0],originalExtent:[0,0,0,0]};let i=1/0,a=-1/0,o=1/0,s=-1/0;e.forEach(e=>{let t=e.coordinates;if(!t)return;let n=e=>{if(typeof e[0]==`number`&&typeof e[1]==`number`){let[t,n]=e;i=Math.min(i,t),a=Math.max(a,t),o=Math.min(o,n),s=Math.max(s,n)}else Array.isArray(e[0])&&e.forEach(n)};n(t)});let c=[i,o,a,s],l=r||Hh(e);return{dataArray:Uh(e,l),relativeOrigin:l,originalExtent:c}}Dn(`rasterTile`,Np),Dn(`mvt`,Tc),Dn(`geojsonvt`,ws),Dn(`testTile`,Tm),Dn(`geojson`,wo),Dn(`jsonTile`,qs),Dn(`image`,Ps),Dn(`csv`,fo),Dn(`json`,uo),Dn(`raster`,Jc),Dn(`rasterRgb`,fm),Dn(`rgb`,tm),Dn(`ndi`,Wp),kn(`cluster`,Pm),kn(`filter`,th),kn(`join`,jh),kn(`map`,Mh),kn(`grid`,rh),kn(`hexagon`,wh);var Gh=eh;la(),la(),Em();var{merge:Kh}=di;window._iconfont_svg_string_3580659=`<svg><symbol id="l7-icon-area1" viewBox="0 0 1024 1024"><path d="M796.444444 56.888889a113.777778 113.777778 0 0 1 43.064889 219.136l38.798223 466.261333a113.777778 113.777778 0 1 1-133.518223 145.237334H279.210667a113.777778 113.777778 0 1 1-60.302223-137.272889L697.856 227.555556A113.777778 113.777778 0 0 1 796.444444 56.888889z m56.888889 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-682.666666 0a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m577.592889-534.072889L269.198222 796.444444c4.152889 7.168 7.509333 14.791111 10.012445 22.812445h465.578666a114.119111 114.119111 0 0 1 65.479111-71.224889l-38.798222-466.261333a112.924444 112.924444 0 0 1-23.210666-7.964445zM796.444444 125.155556a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-area" viewBox="0 0 1024 1024"><path d="M796.444444 56.888889a113.777778 113.777778 0 0 1 43.008 219.136l38.855112 466.261333a113.777778 113.777778 0 0 1-16.497778 224.540445L853.333333 967.111111a113.777778 113.777778 0 0 1-108.544-79.644444H279.210667a113.834667 113.834667 0 0 1-100.067556 79.36L170.666667 967.111111a113.777778 113.777778 0 0 1-17.066667-226.304l30.492444-351.175111a113.777778 113.777778 0 0 1 34.986667-218.680889L227.555556 170.666667a113.777778 113.777778 0 0 1 99.896888 59.221333l355.84-71.395556a113.777778 113.777778 0 0 1 104.675556-101.262222L796.444444 56.888889z m56.888889 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-682.666666 0a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m526.051555-582.314666L340.650667 296.903111a113.891556 113.891556 0 0 1-88.462223 98.645333l-30.947555 355.84c27.477333 13.653333 48.64 38.115556 58.026667 67.754667h465.521777a114.119111 114.119111 0 0 1 65.536-71.168l-38.855111-466.261333a113.948444 113.948444 0 0 1-74.752-56.206222zM227.555556 238.933333a45.511111 45.511111 0 1 0 0 91.022223 45.511111 45.511111 0 0 0 0-91.022223z m568.888888-113.777777a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-delete" viewBox="0 0 1024 1024"><path d="M705.422222 85.333333a34.133333 34.133333 0 0 1 34.133334 34.133334V227.555556h136.533333a34.133333 34.133333 0 0 1 0 68.266666h-25.543111l-24.348445 610.076445a34.133333 34.133333 0 0 1-34.133333 32.768H231.936a34.133333 34.133333 0 0 1-34.076444-32.768L173.340444 295.822222H147.911111a34.133333 34.133333 0 1 1 0-68.266666H284.444444V119.466667a34.133333 34.133333 0 0 1 34.133334-34.133334h386.844444zM241.720889 295.822222l22.983111 574.577778h494.535111l23.04-574.577778H241.720889zM671.288889 153.6H352.711111V227.555556h318.577778V153.6z"  ></path></symbol><symbol id="l7-icon-color" viewBox="0 0 1024 1024"><path d="M512 56.888889c9.841778 0 19.626667 0.341333 29.354667 0.910222 69.176889 4.437333 119.068444 62.577778 124.302222 131.072l0.455111 9.386667c0.739556 44.600889 15.303111 84.935111 44.999111 114.631111 27.022222 27.022222 62.805333 41.528889 102.570667 44.430222l12.060444 0.568889c72.476444 1.194667 135.793778 52.451556 140.458667 124.757333 1.137778 18.261333 1.251556 36.807111 0.170667 55.637334-13.198222 233.585778-211.399111 424.220444-445.326223 428.714666L512 967.111111a455.111111 455.111111 0 0 1-455.054222-464.156444c4.551111-233.927111 195.185778-432.128 428.771555-445.326223C494.535111 57.116444 503.296 56.888889 512 56.888889z m0 68.266667a385.706667 385.706667 0 0 0-22.414222 0.625777C291.726222 136.988444 129.080889 305.948444 125.155556 504.263111c-4.152889 212.366222 163.100444 387.185778 372.508444 394.353778l13.425778 0.227555 8.533333-0.113777c198.371556-3.811556 367.331556-166.456889 378.538667-364.373334a396.174222 396.174222 0 0 0-0.170667-47.331555c-1.991111-31.232-29.127111-56.604444-67.128889-60.472889l-8.248889-0.455111-14.051555-0.682667c-56.547556-4.209778-107.406222-25.884444-145.806222-64.284444-38.855111-38.798222-60.416-90.225778-64.284445-145.749334l-0.910222-21.333333c-2.901333-38.001778-28.785778-66.048-60.302222-68.096A433.891556 433.891556 0 0 0 512 125.155556zM438.044444 682.666667a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z m-170.666666-227.555556a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z m142.222222-227.555555a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z"  ></path></symbol><symbol id="l7-icon-base-map" viewBox="0 0 1024 1024"><path d="M923.761778 115.029333A34.133333 34.133333 0 0 1 967.111111 147.911111v624.128a34.133333 34.133333 0 0 1-22.186667 32.028445l-278.755555 103.992888a34.133333 34.133333 0 0 1-23.665778 0.056889L381.724444 812.714667a34.133333 34.133333 0 0 0-23.665777 0.113777L102.968889 908.060444a34.133333 34.133333 0 0 1-45.738667-26.965333L56.888889 876.088889V251.960889a34.133333 34.133333 0 0 1 22.186667-32.028445l278.755555-103.992888a34.133333 34.133333 0 0 1 20.992-0.967112l266.183111 72.988445a34.133333 34.133333 0 0 0 18.204445 0zM403.911111 192.625778v555.576889l216.177778 79.075555V251.960889l-216.177778-59.335111z m-68.266667 4.380444L125.155556 275.569778v551.310222l210.432-78.506667V197.006222zM898.844444 192.853333l-210.545777 58.936889v575.089778l210.545777-78.563556V192.853333z"  ></path></symbol><symbol id="l7-icon-dot" viewBox="0 0 1024 1024"><path d="M341.333333 739.555556a113.777778 113.777778 0 0 1 8.533334 227.271111L341.333333 967.111111a113.777778 113.777778 0 0 1-8.533333-227.271111L341.333333 739.555556z m0 68.266666a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM910.222222 341.333333a113.777778 113.777778 0 0 1 8.533334 227.271111L910.222222 568.888889a113.777778 113.777778 0 0 1-8.533333-227.271111L910.222222 341.333333z m0 68.266667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM227.555556 56.888889a113.777778 113.777778 0 0 1 8.533333 227.271111L227.555556 284.444444a113.777778 113.777778 0 0 1-8.533334-227.271111L227.555556 56.888889z m0 68.266667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-display" viewBox="0 0 1024 1024"><path d="M512 170.666667c284.444444 0 455.111111 227.555556 455.111111 341.333333s-170.666667 341.333333-455.111111 341.333333-455.111111-227.555556-455.111111-341.333333 170.666667-341.333333 455.111111-341.333333z m0 68.266666C303.729778 238.933333 125.155556 401.237333 125.155556 512c0 110.762667 178.574222 273.066667 386.844444 273.066667s386.844444-162.304 386.844444-273.066667c0-110.762667-178.574222-273.066667-386.844444-273.066667zM512 341.333333a170.666667 170.666667 0 1 1 0 341.333334 170.666667 170.666667 0 0 1 0-341.333334z m0 68.266667a102.4 102.4 0 1 0 0 204.8 102.4 102.4 0 0 0 0-204.8z"  ></path></symbol><symbol id="l7-icon-enlarge" viewBox="0 0 1024 1024"><path d="M546.133333 147.911111l-0.056889 329.955556H876.088889a34.133333 34.133333 0 0 1 0 68.266666H546.076444v329.955556a34.133333 34.133333 0 0 1-68.266666 0V546.133333H147.911111a34.133333 34.133333 0 1 1 0-68.266666h329.898667V147.911111a34.133333 34.133333 0 0 1 68.266666 0z"  ></path></symbol><symbol id="l7-icon-export-picture" viewBox="0 0 1024 1024"><path d="M883.873684 161.684211a32.336842 32.336842 0 0 1 32.336842 32.336842v582.063158a32.336842 32.336842 0 0 1-32.336842 32.336842H86.231579a32.336842 32.336842 0 0 1-32.336842-32.336842V194.021053a32.336842 32.336842 0 0 1 32.336842-32.336842h797.642105z m-32.336842 64.673684H118.568421v517.389473h170.792421a32.175158 32.175158 0 0 1 0.431158-0.646736l3.772632-4.473264 330.320842-330.374736a32.336842 32.336842 0 0 1 38.588631-5.389474l4.473263 3.018105 184.589474 147.725474V226.357895z m-202.428631 248.131368L379.850105 743.747368H851.536842v-107.304421l-202.428631-161.953684zM323.368421 323.368421a107.789474 107.789474 0 1 1 0 215.578947 107.789474 107.789474 0 0 1 0-215.578947z m0 64.673684a43.115789 43.115789 0 1 0 0 86.231579 43.115789 43.115789 0 0 0 0-86.231579z"  ></path></symbol><symbol id="l7-icon-exit-fullscreen" viewBox="0 0 1024 1024"><path d="M841.955556 591.644444a34.133333 34.133333 0 0 1 5.518222 67.811556l-5.518222 0.455111h-133.745778l192 192.056889a34.133333 34.133333 0 0 1-38.343111 55.182222l-5.176889-2.958222-4.721778-3.982222L659.911111 708.266667V841.955556a34.133333 34.133333 0 0 1-28.615111 33.678222L625.777778 876.088889a34.133333 34.133333 0 0 1-33.678222-28.615111L591.644444 841.955556V625.777778a34.133333 34.133333 0 0 1 28.615112-33.678222L625.777778 591.644444h216.177778z m-443.733334 0a34.133333 34.133333 0 0 1 33.678222 28.615112L432.355556 625.777778v216.177778a34.133333 34.133333 0 0 1-67.811556 5.518222L364.088889 841.955556v-133.745778l-192.056889 192a34.133333 34.133333 0 0 1-52.224-43.52l3.982222-4.721778L315.847111 659.911111H182.044444a34.133333 34.133333 0 0 1-33.678222-28.615111L147.911111 625.777778a34.133333 34.133333 0 0 1 28.615111-33.678222L182.044444 591.644444H398.222222zM167.310222 119.808l4.721778 3.982222L364.088889 315.847111V182.044444a34.133333 34.133333 0 0 1 28.615111-33.678222L398.222222 147.911111a34.133333 34.133333 0 0 1 33.678222 28.615111L432.355556 182.044444V398.222222a34.133333 34.133333 0 0 1-28.615112 33.678222L398.222222 432.355556H182.044444a34.133333 34.133333 0 0 1-5.518222-67.811556L182.044444 364.088889h133.802667L123.790222 172.032a34.133333 34.133333 0 0 1 43.52-52.224z m732.899556 3.982222a34.133333 34.133333 0 0 1 3.982222 43.52l-3.982222 4.721778L708.266667 364.088889H841.955556a34.133333 34.133333 0 0 1 33.678222 28.615111L876.088889 398.222222a34.133333 34.133333 0 0 1-28.615111 33.678222L841.955556 432.355556H625.777778a34.133333 34.133333 0 0 1-33.678222-28.615112L591.644444 398.222222V182.044444a34.133333 34.133333 0 0 1 67.811556-5.518222l0.455111 5.518222v133.802667l192.056889-192.056889a34.133333 34.133333 0 0 1 48.241778 0z"  ></path></symbol><symbol id="l7-icon-line" viewBox="0 0 1024 1024"><path d="M853.333333 56.888889a113.777778 113.777778 0 0 1 8.533334 227.271111L853.333333 284.444444c-19.000889 0-36.864-4.664889-52.622222-12.856888l-529.123555 529.066666a113.777778 113.777778 0 0 1-92.387556 166.115556L170.666667 967.111111a113.777778 113.777778 0 0 1-8.533334-227.271111L170.666667 739.555556c19.000889 0 36.864 4.664889 52.622222 12.856888l529.123555-529.066666a113.777778 113.777778 0 0 1 92.387556-166.115556L853.333333 56.888889zM170.666667 807.822222a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m682.666666-682.666666a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-layer" viewBox="0 0 1024 1024"><path d="M767.089778 625.777778l180.167111 82.773333a34.133333 34.133333 0 0 1 4.892444 59.278222l-4.892444 2.730667-420.977778 193.422222a34.133333 34.133333 0 0 1-22.983111 1.991111l-5.575111-1.991111-420.977778-193.422222a34.133333 34.133333 0 0 1-4.892444-59.278222l4.892444-2.730667L256.853333 625.777778l81.749334 37.546666L172.771556 739.555556 512 895.374222 851.171556 739.555556l-165.831112-76.231112 81.749334-37.546666z m0-227.555556l180.167111 82.773334a34.133333 34.133333 0 0 1 4.892444 59.278222l-4.892444 2.730666-420.977778 193.422223a34.133333 34.133333 0 0 1-22.983111 1.991111l-5.575111-1.991111-420.977778-193.422223a34.133333 34.133333 0 0 1-4.892444-59.278222l4.892444-2.730666L256.853333 398.222222l81.749334 37.546667-165.831111 76.174222L512 667.818667l339.171556-155.875556-165.831112-76.174222L767.089778 398.222222zM497.720889 60.017778a34.133333 34.133333 0 0 1 28.558222 0l420.977778 193.422222a34.133333 34.133333 0 0 1 0 62.008889l-420.977778 193.422222a34.133333 34.133333 0 0 1-28.558222 0l-420.977778-193.422222a34.133333 34.133333 0 0 1 0-62.008889zM512 128.568889L172.771556 284.387556 512 440.263111l339.171556-155.875555L512 128.568889z"  ></path></symbol><symbol id="l7-icon-narrow" viewBox="0 0 1024 1024"><path d="M910.222222 512a34.133333 34.133333 0 0 1-34.133333 34.133333H147.911111a34.133333 34.133333 0 1 1 0-68.266666h728.177778a34.133333 34.133333 0 0 1 34.133333 34.133333z"  ></path></symbol><symbol id="l7-icon-fullscreen" viewBox="0 0 1024 1024"><path d="M645.176889 597.674667l4.721778 3.982222L841.955556 793.6l0.056888-133.688889a34.133333 34.133333 0 0 1 28.615112-33.678222L876.088889 625.777778a34.133333 34.133333 0 0 1 33.678222 28.615111L910.222222 659.911111v216.177778a34.133333 34.133333 0 0 1-28.615111 33.678222L876.088889 910.222222h-216.177778a34.133333 34.133333 0 0 1-5.518222-67.811555l5.518222-0.455111h133.745778l-192-192.056889a34.133333 34.133333 0 0 1 43.52-52.224z m-222.833778 3.982222a34.133333 34.133333 0 0 1 3.982222 43.52l-3.982222 4.721778L230.286222 841.955556H364.088889a34.133333 34.133333 0 0 1 33.678222 28.615111L398.222222 876.088889a34.133333 34.133333 0 0 1-28.615111 33.678222L364.088889 910.222222H147.911111a34.133333 34.133333 0 0 1-33.678222-28.615111L113.777778 876.088889v-216.177778a34.133333 34.133333 0 0 1 67.811555-5.518222l0.455111 5.518222-0.056888 133.745778 192.113777-192a34.133333 34.133333 0 0 1 48.241778 0zM364.088889 113.777778a34.133333 34.133333 0 0 1 5.518222 67.811555L364.088889 182.044444H230.343111l192 192.056889a34.133333 34.133333 0 0 1-43.52 52.224l-4.721778-3.982222-192.113777-192.056889L182.044444 364.088889a34.133333 34.133333 0 0 1-28.615111 33.678222L147.911111 398.222222a34.133333 34.133333 0 0 1-33.678222-28.615111L113.777778 364.088889V147.911111a34.133333 34.133333 0 0 1 28.615111-33.678222L147.911111 113.777778h216.177778z m512 0a34.133333 34.133333 0 0 1 33.678222 28.615111L910.222222 147.911111v216.177778a34.133333 34.133333 0 0 1-67.811555 5.518222L841.955556 364.088889l-0.056889-133.745778-192 192a34.133333 34.133333 0 0 1-52.224-43.52l3.982222-4.721778L793.6 182.044444H659.911111a34.133333 34.133333 0 0 1-33.678222-28.615111L625.777778 147.911111a34.133333 34.133333 0 0 1 28.615111-33.678222L659.911111 113.777778h216.177778z"  ></path></symbol><symbol id="l7-icon-hide" viewBox="0 0 1024 1024"><path d="M875.52 87.836444a34.133333 34.133333 0 0 1 7.281778 43.121778l-3.527111 5.006222-682.666667 796.444445a34.133333 34.133333 0 0 1-55.409778-39.367111l3.527111-5.006222 97.166223-113.379556C123.164444 697.969778 56.888889 582.940444 56.888889 512c0-113.777778 170.666667-341.333333 455.111111-341.333333a496.64 496.64 0 0 1 208.952889 45.112889l106.439111-124.188445a34.133333 34.133333 0 0 1 48.128-3.754667z m-38.684444 202.524445C921.031111 362.951111 967.111111 452.835556 967.111111 512c0 113.777778-170.666667 341.333333-455.111111 341.333333-50.631111 0-97.678222-7.224889-140.8-19.740444l50.232889-58.595556A417.393778 417.393778 0 0 0 512 785.066667c208.270222 0 386.844444-162.304 386.844444-273.066667 0-52.849778-40.675556-117.418667-105.813333-170.496l43.804445-51.2zM512 238.933333C303.729778 238.933333 125.155556 401.237333 125.155556 512c0 66.787556 64.853333 152.291556 162.133333 209.692444L377.173333 616.675556a170.666667 170.666667 0 0 1 217.713778-253.895112l78.620445-91.704888A432.924444 432.924444 0 0 0 512 238.933333z m166.684444 236.088889a170.666667 170.666667 0 0 1-177.664 207.303111l177.607112-207.303111zM512 409.6a102.4 102.4 0 0 0-88.746667 153.486222L548.864 416.426667A102.172444 102.172444 0 0 0 512 409.6z"  ></path></symbol><symbol id="l7-icon-rectangle" viewBox="0 0 1024 1024"><path d="M170.666667 56.888889a113.777778 113.777778 0 0 1 108.544 79.644444H853.333333a34.133333 34.133333 0 0 1 33.678223 28.615111L887.466667 170.666667v574.122666a113.777778 113.777778 0 1 1-142.677334 142.734223L170.666667 887.466667a34.133333 34.133333 0 0 1-33.678223-28.615111L136.533333 853.333333V279.210667A113.777778 113.777778 0 0 1 170.666667 56.888889z m682.666666 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-34.133333-603.022222H279.210667a114.062222 114.062222 0 0 1-74.353778 74.410667L204.8 819.2h539.989333a114.062222 114.062222 0 0 1 74.410667-74.410667V204.8zM170.666667 125.155556a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-ranging" viewBox="0 0 1024 1024"><path d="M723.171556 50.403556l250.424888 250.424888a31.061333 31.061333 0 0 1 0 43.918223L344.746667 973.596444a31.061333 31.061333 0 0 1-43.918223 0L50.403556 723.171556a31.061333 31.061333 0 0 1 0-43.918223L679.253333 50.403556a31.061333 31.061333 0 0 1 43.918223 0z m-21.959112 74.524444l-39.765333 39.822222 98.986667 98.872889a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-63.886222 63.886222 62.179556 62.122667a34.133333 34.133333 0 0 1-44.088889 51.882667L563.2 387.242667 501.077333 325.063111 437.191111 388.949333l98.986667 98.929778a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-63.886222 63.886222L387.242667 563.2a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.584-62.122667-62.179556-63.886222 63.886222 98.986667 98.929778a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-39.765333 39.822222 197.802667 197.745778 576.284444-576.284444-197.802667-197.745778z"  ></path></symbol><symbol id="l7-icon-reposition" viewBox="0 0 1024 1024"><path d="M512 56.888889a34.133333 34.133333 0 0 1 34.133333 34.133333v24.177778A398.336 398.336 0 0 1 908.856889 477.866667h24.177778a34.133333 34.133333 0 0 1 0 68.266666h-24.177778A398.336 398.336 0 0 1 546.133333 908.856889L546.133333 932.977778a34.133333 34.133333 0 0 1-68.266666 0v-24.177778A398.336 398.336 0 0 1 115.2 546.133333L91.022222 546.133333a34.133333 34.133333 0 1 1 0-68.266666h24.177778A398.336 398.336 0 0 1 477.866667 115.2V91.022222A34.133333 34.133333 0 0 1 512 56.888889z m34.190222 126.862222L546.133333 193.422222a34.133333 34.133333 0 1 1-68.266666 0v-9.671111A330.069333 330.069333 0 0 0 183.751111 477.866667h9.671111a34.133333 34.133333 0 1 1 0 68.266666l-9.671111 0.056889A330.069333 330.069333 0 0 0 477.866667 840.248889V830.577778a34.133333 34.133333 0 0 1 68.266666 0l0.056889 9.671111A330.069333 330.069333 0 0 0 840.248889 546.133333L830.577778 546.133333a34.133333 34.133333 0 0 1 0-68.266666h9.671111A330.069333 330.069333 0 0 0 546.133333 183.751111zM512 341.333333a170.666667 170.666667 0 1 1 0 341.333334 170.666667 170.666667 0 0 1 0-341.333334z m0 68.266667a102.4 102.4 0 1 0 0 204.8 102.4 102.4 0 0 0 0-204.8z"  ></path></symbol><symbol id="l7-icon-round" viewBox="0 0 1024 1024"><path d="M512 56.888889a455.111111 455.111111 0 0 1 391.395556 687.502222 113.777778 113.777778 0 0 1-159.061334 158.890667A455.111111 455.111111 0 0 1 120.604444 279.608889 113.777778 113.777778 0 0 1 279.608889 120.604444 452.835556 452.835556 0 0 1 512 56.888889z m0 68.266667a384.910222 384.910222 0 0 0-191.715556 50.744888A113.777778 113.777778 0 0 1 175.957333 320.284444a386.844444 386.844444 0 0 0 527.815111 527.758223 113.777778 113.777778 0 0 1 144.270223-144.440889A386.844444 386.844444 0 0 0 512 125.155556z m299.406222 640.739555a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM212.593778 167.082667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-guanbi" viewBox="0 0 1024 1024"><path d="M576 512l277.333333 277.333333-64 64-277.333333-277.333333L234.666667 853.333333 170.666667 789.333333l277.333333-277.333333L170.666667 234.666667 234.666667 170.666667l277.333333 277.333333L789.333333 170.666667 853.333333 234.666667 576 512z"  ></path></symbol></svg>`,function(e){try{var t=(t=document.getElementsByTagName(`script`))[t.length-1],n=t.getAttribute(`data-injectcss`),t=t.getAttribute(`data-disable-injectsvg`);if(!t){var r,i,a,o,s,c=function(e,t){t.parentNode.insertBefore(e,t)};if(n&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write(`<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>`)}catch(e){console&&console.log(e)}}r=function(){var t,n=document.createElement(`div`);n.innerHTML=e._iconfont_svg_string_3580659,(n=n.getElementsByTagName(`svg`)[0])&&(n.setAttribute(`aria-hidden`,`true`),n.style.position=`absolute`,n.style.width=0,n.style.height=0,n.style.overflow=`hidden`,n=n,(t=document.body).firstChild?c(n,t.firstChild):t.appendChild(n))},document.addEventListener?~[`complete`,`loaded`,`interactive`].indexOf(document.readyState)?setTimeout(r,0):(i=function(){document.removeEventListener(`DOMContentLoaded`,i,!1),r()},document.addEventListener(`DOMContentLoaded`,i,!1)):document.attachEvent&&(a=r,o=e.document,s=!1,u(),o.onreadystatechange=function(){o.readyState==`complete`&&(o.onreadystatechange=null,l())})}function l(){s||(s=!0,a())}function u(){try{o.documentElement.doScroll(`left`)}catch{setTimeout(u,50);return}l()}}catch{}}(window);var qh=e(la()),Jh=class e extends qh.default{constructor(t){super(),I(this,`controlOption`,void 0),I(this,`container`,void 0),I(this,`isShow`,void 0),I(this,`sceneContainer`,void 0),I(this,`scene`,void 0),I(this,`mapsService`,void 0),I(this,`renderService`,void 0),I(this,`layerService`,void 0),I(this,`controlService`,void 0),I(this,`configService`,void 0),e.controlCount++,this.controlOption=P(P({},this.getDefault(t)),t||{})}getOptions(){return this.controlOption}setOptions(e){let t=this.getDefault(e);Object.entries(e).forEach(([n,r])=>{r===void 0&&(e[n]=t[n])}),`position`in e&&this.setPosition(e.position),`className`in e&&this.setClassName(e.className),`style`in e&&this.setStyle(e.style),this.controlOption=P(P({},this.controlOption),e)}addTo(e){this.mapsService=e.mapService,this.renderService=e.rendererService,this.layerService=e.layerService,this.controlService=e.controlService,this.configService=e.globalConfigService,this.scene=e.sceneService,this.sceneContainer=e,this.isShow=!0,this.container=this.onAdd(),yi(this.container,`l7-control`);let{className:t,style:n}=this.controlOption;return t&&this.setClassName(t),n&&this.setStyle(n),this.insertContainer(),this.emit(`add`,this),this}remove(){if(!this.mapsService)return this;vi(this.container),this.onRemove(),this.emit(`remove`,this)}onAdd(){return _i(`div`)}onRemove(){}show(){let e=this.container;bi(e,`l7-control--hide`),this.isShow=!0,this.emit(`show`,this)}hide(){let e=this.container;yi(e,`l7-control--hide`),this.isShow=!1,this.emit(`hide`,this)}getDefault(t){return{position:cl.TOPRIGHT,name:`${e.controlCount}`}}getContainer(){return this.container}getIsShow(){return this.isShow}_refocusOnMap(e){if(this.mapsService&&e&&e.screenX>0&&e.screenY>0){let e=this.mapsService.getContainer();e!==null&&e.focus()}}setPosition(e=cl.TOPLEFT){let t=this.controlService;return t&&t.removeControl(this),this.controlOption.position=e,t&&t.addControl(this,this.sceneContainer),this}setClassName(e){let t=this.container,{className:n}=this.controlOption;n&&bi(t,n),e&&yi(t,e)}setStyle(e){let t=this.container;e?t.setAttribute(`style`,e):t.removeAttribute(`style`)}insertContainer(){let e=this.controlOption.position,t=this.container;if(e instanceof Element)e.appendChild(t);else{let n=this.controlService.controlCorners[e];[`bottomleft`,`bottomright`,`righttop`,`rightbottom`].includes(e)?n.insertBefore(t,n.firstChild):n.appendChild(t)}}checkUpdateOption(e,t){return t.some(t=>t in e)}};I(Jh,`controlCount`,0);var Yh=e(la()),Xh=class e extends Yh.EventEmitter{get buttonRect(){return this.button.getBoundingClientRect()}constructor(t,n){super(),I(this,`popperDOM`,void 0),I(this,`contentDOM`,void 0),I(this,`button`,void 0),I(this,`option`,void 0),I(this,`isShow`,!1),I(this,`content`,void 0),I(this,`timeout`,null),I(this,`show`,()=>this.isShow||!this.contentDOM.innerHTML?this:(this.resetPopperPosition(),bi(this.popperDOM,`l7-popper-hide`),this.isShow=!0,this.option.unique&&e.conflictPopperList.forEach(e=>{e!==this&&e.isShow&&e.hide()}),this.emit(`show`),window.addEventListener(`pointerdown`,this.onPopperUnClick),this)),I(this,`hide`,()=>this.isShow?(yi(this.popperDOM,`l7-popper-hide`),this.isShow=!1,this.emit(`hide`),window.removeEventListener(`pointerdown`,this.onPopperUnClick),this):this),I(this,`setHideTimeout`,()=>{this.timeout||=window.setTimeout(()=>{this.isShow&&(this.hide(),this.timeout=null)},300)}),I(this,`clearHideTimeout`,()=>{this.timeout&&=(window.clearTimeout(this.timeout),null)}),I(this,`onBtnClick`,()=>{this.isShow?this.hide():this.show()}),I(this,`onPopperUnClick`,e=>{ki(e.target,[`.l7-button-control`,`.l7-popper-content`])||this.hide()}),I(this,`onBtnMouseLeave`,()=>{this.setHideTimeout()}),I(this,`onBtnMouseMove`,()=>{this.clearHideTimeout(),!this.isShow&&this.show()}),this.button=t,this.option=n,this.init(),n.unique&&e.conflictPopperList.push(this)}getPopperDOM(){return this.popperDOM}getIsShow(){return this.isShow}getContent(){return this.content}setContent(e){typeof e==`string`?this.contentDOM.innerHTML=e:e instanceof HTMLElement&&(Di(this.contentDOM),this.contentDOM.appendChild(e)),this.content=e}init(){let{trigger:e}=this.option;this.popperDOM=this.createPopper(),e===`click`?this.button.addEventListener(`click`,this.onBtnClick):(this.button.addEventListener(`mousemove`,this.onBtnMouseMove),this.button.addEventListener(`mouseleave`,this.onBtnMouseLeave),this.popperDOM.addEventListener(`mousemove`,this.onBtnMouseMove),this.popperDOM.addEventListener(`mouseleave`,this.onBtnMouseLeave))}destroy(){this.button.removeEventListener(`click`,this.onBtnClick),this.button.removeEventListener(`mousemove`,this.onBtnMouseMove),this.button.removeEventListener(`mousemove`,this.onBtnMouseLeave),this.popperDOM.removeEventListener(`mousemove`,this.onBtnMouseMove),this.popperDOM.removeEventListener(`mouseleave`,this.onBtnMouseLeave),vi(this.popperDOM)}resetPopperPosition(){let e={},{container:t,offset:n=[0,0],placement:r}=this.option,[i,a]=n,o=this.button.getBoundingClientRect(),s=t.getBoundingClientRect(),{left:c,right:l,top:u,bottom:d}=Ei(o,s),f=!1,p=!1;/^(left|right)/.test(r)?(r.includes(`left`)?e.right=`${o.width+l}px`:r.includes(`right`)&&(e.left=`${o.width+c}px`),r.includes(`start`)?e.top=`${u}px`:r.includes(`end`)?e.bottom=`${d}px`:(e.top=`${u+o.height/2}px`,p=!0,e.transform=`translate(${i}px, calc(${a}px - 50%))`)):/^(top|bottom)/.test(r)&&(r.includes(`top`)?e.bottom=`${o.height+d}px`:r.includes(`bottom`)&&(e.top=`${o.height+u}px`),r.includes(`start`)?e.left=`${c}px`:r.includes(`end`)?e.right=`${l}px`:(e.left=`${c+o.width/2}px`,f=!0,e.transform=`translate(calc(${i}px - 50%), ${a}px)`)),e.transform=`translate(calc(${i}px - ${f?`50%`:`0%`}), calc(${a}px - ${p?`50%`:`0%`})`;let m=r.split(`-`);m.length&&yi(this.popperDOM,m.map(e=>`l7-popper-${e}`).join(` `)),K(this.popperDOM,Ti(e))}createPopper(){let{container:e,className:t=``,content:n}=this.option,r=_i(`div`,`l7-popper l7-popper-hide ${t}`),i=_i(`div`,`l7-popper-content`),a=_i(`div`,`l7-popper-arrow`);return r.appendChild(i),r.appendChild(a),e.appendChild(r),this.popperDOM=r,this.contentDOM=i,n&&this.setContent(n),r}};I(Xh,`conflictPopperList`,[]);var Zh=[[`requestFullscreen`,`exitFullscreen`,`fullscreenElement`,`fullscreenEnabled`,`fullscreenchange`,`fullscreenerror`],[`webkitRequestFullscreen`,`webkitExitFullscreen`,`webkitFullscreenElement`,`webkitFullscreenEnabled`,`webkitfullscreenchange`,`webkitfullscreenerror`],[`webkitRequestFullScreen`,`webkitCancelFullScreen`,`webkitCurrentFullScreenElement`,`webkitCancelFullScreen`,`webkitfullscreenchange`,`webkitfullscreenerror`],[`mozRequestFullScreen`,`mozCancelFullScreen`,`mozFullScreenElement`,`mozFullScreenEnabled`,`mozfullscreenchange`,`mozfullscreenerror`],[`msRequestFullscreen`,`msExitFullscreen`,`msFullscreenElement`,`msFullscreenEnabled`,`MSFullscreenChange`,`MSFullscreenError`]],Qh=(()=>{if(typeof document>`u`)return!1;let e=Zh[0],t={};for(let n of Zh)if(n?.[1]in document){for(let[r,i]of n.entries())t[e[r]]=i;return t}return!1})(),$h={change:Qh.fullscreenchange,error:Qh.fullscreenerror},eg={request(e=document.documentElement,t){return new Promise((n,r)=>{let i=()=>{eg.off(`change`,i),n()};eg.on(`change`,i);let a=e[Qh.requestFullscreen](t);a instanceof Promise&&a.then(i).catch(r)})},exit(){return new Promise((e,t)=>{if(!eg.isFullscreen){e();return}let n=()=>{eg.off(`change`,n),e()};eg.on(`change`,n);let r=document[Qh.exitFullscreen]();r instanceof Promise&&r.then(n).catch(t)})},toggle(e,t){return eg.isFullscreen?eg.exit():eg.request(e,t)},onchange(e){eg.on(`change`,e)},onerror(e){eg.on(`error`,e)},on(e,t){let n=$h[e];n&&document.addEventListener(n,t,!1)},off(e,t){let n=$h[e];n&&document.removeEventListener(n,t,!1)},raw:Qh};Object.defineProperties(eg,{isFullscreen:{get:()=>!!document[Qh.fullscreenElement]},element:{enumerable:!0,get:()=>document[Qh.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[Qh.fullscreenEnabled]}}),Qh||(eg={isEnabled:!1});var tg=class extends Jh{getDefault(){return{position:cl.BOTTOMLEFT,name:`logo`,href:`https://l7.antv.antgroup.com/`,img:`https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*GRb1TKp4HcMAAAAAAAAAAAAAARQnAQ`}}onAdd(){let e=_i(`div`,`l7-control-logo`);return this.setLogoContent(e),e}onRemove(){return null}setOptions(e){super.setOptions(e),this.checkUpdateOption(e,[`img`,`href`])&&(Di(this.container),this.setLogoContent(this.container))}setLogoContent(e){let{href:t,img:n}=this.controlOption,r=_i(`img`);if(r.setAttribute(`src`,n),r.setAttribute(`aria-label`,`AntV logo`),Oi(r),t){let n=_i(`a`,`l7-control-logo-link`);n.target=`_blank`,n.href=t,n.rel=`noopener nofollow`,n.setAttribute(`rel`,`noopener nofollow`),n.appendChild(r),e.appendChild(n)}else e.appendChild(r)}},ng=class{constructor(){I(this,`mapService`,void 0),I(this,`fontService`,void 0)}apply(e,{styleAttributeService:t,mapService:n,fontService:r}){var i=this;this.mapService=n,this.fontService=r,e.hooks.init.tapPromise(`DataMappingPlugin`,Y(function*(){e.log(dl.MappingStart,gl.INIT),i.generateMaping(e,{styleAttributeService:t}),e.log(dl.MappingEnd,gl.INIT)})),e.hooks.beforeRenderData.tapPromise(`DataMappingPlugin`,function(){var n=Y(function*(n){if(!n)return n;e.dataState.dataMappingNeedUpdate=!1,e.log(dl.MappingStart,gl.UPDATE);let r=i.generateMaping(e,{styleAttributeService:t});return e.log(dl.MappingEnd,gl.UPDATE),r});return function(e){return n.apply(this,arguments)}}()),e.hooks.beforeRender.tap(`DataMappingPlugin`,()=>{let n=e.getSource();if(e.layerModelNeedUpdate||!n||!n.inited)return;let r=t.getLayerStyleAttributes()||[],i=t.getLayerStyleAttribute(`filter`),{dataArray:a}=n.data;if(Array.isArray(a)&&a.length===0)return;let o=r.filter(e=>e.needRemapping),s=a;if(i!=null&&i.needRemapping&&i!=null&&i.scale&&(s=a.filter(e=>this.applyAttributeMapping(i,e)[0])),o.length){let t=this.mapping(e,o,s,e.getEncodedData());e.setEncodedData(t)}})}generateMaping(e,{styleAttributeService:t}){let n=t.getLayerStyleAttributes()||[],r=t.getLayerStyleAttribute(`filter`),{dataArray:i}=e.getSource().data,a=i;r!=null&&r.scale&&(a=i.filter(e=>this.applyAttributeMapping(r,e)[0])),a=e.processData(a);let o=this.mapping(e,n,a,void 0);return e.setEncodedData(o),e.emit(`dataUpdate`,null),!0}mapping(e,t,n,r){let i=t.filter(e=>e.scale!==void 0).filter(e=>e.name!==`filter`),a=n.map((e,t)=>{let n=r?r[t]:{},a=P({id:e._id,coordinates:e.coordinates},n);return i.forEach(t=>{let n=this.applyAttributeMapping(t,e);(t.name===`color`||t.name===`stroke`)&&(n=n.map(e=>ti(e))),a[t.name]=Array.isArray(n)&&n.length===1?n[0]:n,t.name===`shape`&&(a.shape=this.fontService.getIconFontKey(a[t.name]))}),a});return t.forEach(e=>{e.needRemapping=!1}),this.adjustData2SimpleCoordinates(a),a}adjustData2SimpleCoordinates(e){e.length>0&&this.mapService.version===`SIMPLE`&&e.map(e=>{e.simpleCoordinate||=(e.coordinates=this.unProjectCoordinates(e.coordinates),!0)})}unProjectCoordinates(e){if(typeof e[0]==`number`)return this.mapService.simpleMapCoord.unproject(e);if(e[0]&&e[0][0]instanceof Array){let t=[];return e.map(e=>{let n=[];e.map(e=>{n.push(this.mapService.simpleMapCoord.unproject(e))}),t.push(n)}),t}else{let t=[];return e.map(e=>{t.push(this.mapService.simpleMapCoord.unproject(e))}),t}}applyAttributeMapping(e,t){var n;if(!e.scale)return[];let r=(e==null||(n=e.scale)==null?void 0:n.scalers)||[],i=[];return r.forEach(({field:n})=>{(t.hasOwnProperty(n)||e.scale?.type===`variable`)&&i.push(t[n])}),e.mapping?e.mapping(i):[]}getArrowPoints(e,t){let n=[t[0]-e[0],t[1]-e[1]],r=Ji(n);return[e[0]+r[0]*1e-4,e[1]+r[1]*1e-4]}},rg=class{constructor(){I(this,`mapService`,void 0)}apply(e){var t=this;this.mapService=e.getContainer().mapService,e.hooks.init.tapPromise(`DataSourcePlugin`,Y(function*(){e.log(dl.SourceInitStart,gl.INIT);let n=e.getSource();if(!n){let{data:t,options:r}=e.sourceOption||e.defaultSourceConfig;n=new Gh(t,r),e.setSource(n)}n.inited?(t.updateClusterData(e),e.log(dl.SourceInitEnd,gl.INIT)):yield new Promise(r=>{n.on(`update`,n=>{n.type===`inited`&&(t.updateClusterData(e),e.log(dl.SourceInitEnd,gl.INIT)),r(null)})})})),e.hooks.beforeRenderData.tapPromise(`DataSourcePlugin`,Y(function*(){let n=t.updateClusterData(e),r=e.dataState.dataSourceNeedUpdate;return e.dataState.dataSourceNeedUpdate=!1,n||r}))}updateClusterData(e){if(e.isTileLayer||e.tileLayer||!e.getSource())return!1;let t=e.getSource(),n=t.cluster,{zoom:r=0}=t.clusterOptions,i=this.mapService.getZoom()-1,a=e.dataState.dataSourceNeedUpdate;return n&&a&&t.updateClusterData(Math.floor(i)),n&&Math.abs(e.clusterZoom-i)>=1?(r!==Math.floor(i)&&t.updateClusterData(Math.floor(i)),e.clusterZoom=i,!0):!1}};function ig(e,t){let n,r;if(t===void 0)for(let t of e)t!=null&&(n===void 0?t>=t&&(n=r=t):(n>t&&(n=t),r<t&&(r=t)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}function ag(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}function og(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return ag((n-r/t)*t,o,i,a,s)}}function sg(e){return function(){return e}}function cg(e,t){return function(n){return e+n*t}}function lg(e,t,n){return e**=+n,t=t**+n-e,n=1/n,function(r){return(e+r*t)**+n}}function ug(e){return(e=+e)==1?dg:function(t,n){return n-t?lg(t,n,e):sg(isNaN(t)?n:t)}}function dg(e,t){var n=t-e;return n?cg(e,n):sg(isNaN(e)?t:e)}var fg=(function e(t){var n=ug(t);function r(e,t){var r=n((e=qr(e)).r,(t=qr(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=dg(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+``}}return r.gamma=e,r})(1);function pg(e){return function(t){var n=t.length,r=Array(n),i=Array(n),a=Array(n),o,s;for(o=0;o<n;++o)s=qr(t[o]),r[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return r=e(r),i=e(i),a=e(a),s.opacity=1,function(e){return s.r=r(e),s.g=i(e),s.b=a(e),s+``}}}var mg=pg(og);function hg(e,t){t||=[];var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function gg(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function _g(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=Array(r),a=Array(n),o;for(o=0;o<r;++o)i[o]=Eg(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(e){for(o=0;o<r;++o)a[o]=i[o](e);return a}}function vg(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function yg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function bg(e,t){var n={},r={},i;for(i in(typeof e!=`object`||!e)&&(e={}),(typeof t!=`object`||!t)&&(t={}),t)i in e?n[i]=Eg(e[i],t[i]):r[i]=t[i];return function(e){for(i in n)r[i]=n[i](e);return r}}var xg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sg=new RegExp(xg.source,`g`);function Cg(e){return function(){return e}}function wg(e){return function(t){return e(t)+``}}function Tg(e,t){var n=xg.lastIndex=Sg.lastIndex=0,r,i,a,o=-1,s=[],c=[];for(e+=``,t+=``;(r=xg.exec(e))&&(i=Sg.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:yg(r,i)})),n=Sg.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?wg(c[0].x):Cg(t):(t=c.length,function(e){for(var n=0,r;n<t;++n)s[(r=c[n]).i]=r.x(e);return s.join(``)})}function Eg(e,t){var n=typeof t,r;return t==null||n===`boolean`?sg(t):(n===`number`?yg:n===`string`?(r=Ur(t))?(t=r,fg):Tg:t instanceof Ur?fg:t instanceof Date?vg:gg(t)?hg:Array.isArray(t)?_g:typeof t.valueOf!=`function`&&typeof t.toString!=`function`||isNaN(t)?bg:yg)(e,t)}function Dg(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Og(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function kg(e){return e.length===1&&(e=Ag(e)),{left:function(t,n,r,i){for(r??=0,i??=t.length;r<i;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(r??=0,i??=t.length;r<i;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}}function Ag(e){return function(t,n){return Og(e(t),n)}}var jg=kg(Og),Mg=jg.right;jg.left;var Ng=Mg;function Pg(e){return e===null?NaN:+e}var Fg=Array.prototype;Fg.slice,Fg.map;var Ig=Math.sqrt(50),Lg=Math.sqrt(10),Rg=Math.sqrt(2);function zg(e,t,n){var r,i=-1,a,o,s;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(a=e,e=t,t=a),(s=Bg(e,t,n))===0||!isFinite(s))return[];if(s>0)for(e=Math.ceil(e/s),t=Math.floor(t/s),o=Array(a=Math.ceil(t-e+1));++i<a;)o[i]=(e+i)*s;else for(e=Math.floor(e*s),t=Math.ceil(t*s),o=Array(a=Math.ceil(e-t+1));++i<a;)o[i]=(e-i)/s;return r&&o.reverse(),o}function Bg(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/10**i;return i>=0?(a>=Ig?10:a>=Lg?5:a>=Rg?2:1)*10**i:-(10**-i)/(a>=Ig?10:a>=Lg?5:a>=Rg?2:1)}function Vg(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=10**Math.floor(Math.log(r)/Math.LN10),a=r/i;return a>=Ig?i*=10:a>=Lg?i*=5:a>=Rg&&(i*=2),t<e?-i:i}function Hg(e,t,n){if(n??=Pg,r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function Ug(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Wg(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e);break}return this}function Gg(){}Gg.prototype=Kg.prototype={constructor:Gg,has:function(e){return`$`+e in this},get:function(e){return this[`$`+e]},set:function(e,t){return this[`$`+e]=t,this},remove:function(e){var t=`$`+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===`$`&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===`$`&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===`$`&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===`$`&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===`$`&&++e;return e},empty:function(){for(var e in this)if(e[0]===`$`)return!1;return!0},each:function(e){for(var t in this)t[0]===`$`&&e(this[t],t.slice(1),this)}};function Kg(e,t){var n=new Gg;if(e instanceof Gg)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var r=-1,i=e.length,a;if(t==null)for(;++r<i;)n.set(r,e[r]);else for(;++r<i;)n.set(t(a=e[r],r,e),a)}else if(e)for(var o in e)n.set(o,e[o]);return n}var qg=Kg;function Jg(){}var Yg=qg.prototype;Jg.prototype=Xg.prototype={constructor:Jg,has:Yg.has,add:function(e){return e+=``,this[`$`+e]=e,this},remove:Yg.remove,clear:Yg.clear,values:Yg.keys,size:Yg.size,empty:Yg.empty,each:Yg.each};function Xg(e,t){var n=new Jg;if(e instanceof Jg)e.each(function(e){n.add(e)});else if(e){var r=-1,i=e.length;if(t==null)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}var Zg=Array.prototype,Qg=Zg.map,$g=Zg.slice,e_={name:`implicit`};function t_(){var e=qg(),t=[],n=[],r=e_;function i(i){var a=i+``,o=e.get(a);if(!o){if(r!==e_)return r;e.set(a,o=t.push(i))}return n[(o-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=qg();for(var r=-1,a=n.length,o,s;++r<a;)e.has(s=(o=n[r])+``)||e.set(s,t.push(o));return i},i.range=function(e){return arguments.length?(n=$g.call(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return t_(t,n).unknown(r)},Ug.apply(i,arguments),i}function n_(e){return function(){return e}}function r_(e){return+e}var i_=[0,1];function a_(e){return e}function o_(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:n_(isNaN(t)?NaN:.5)}function s_(e){var t=e[0],n=e[e.length-1],r;return t>n&&(r=t,t=n,n=r),function(e){return Math.max(t,Math.min(n,e))}}function c_(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=o_(i,r),a=n(o,a)):(r=o_(r,i),a=n(a,o)),function(e){return a(r(e))}}function l_(e,t,n){var r=Math.min(e.length,t.length)-1,i=Array(r),a=Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=o_(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=Ng(e,t,1,r)-1;return a[n](i[n](t))}}function u_(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function d_(){var e=i_,t=i_,n=Eg,r,i,a,o=a_,s,c,l;function u(){return s=Math.min(e.length,t.length)>2?l_:c_,c=l=null,d}function d(i){return isNaN(i=+i)?a:(c||=s(e.map(r),t,n))(r(o(i)))}return d.invert=function(n){return o(i((l||=s(t,e.map(r),yg))(n)))},d.domain=function(t){return arguments.length?(e=Qg.call(t,r_),o===a_||(o=s_(e)),u()):e.slice()},d.range=function(e){return arguments.length?(t=$g.call(e),u()):t.slice()},d.rangeRound=function(e){return t=$g.call(e),n=Dg,u()},d.clamp=function(t){return arguments.length?(o=t?s_(e):a_,d):o!==a_},d.interpolate=function(e){return arguments.length?(n=e,u()):n},d.unknown=function(e){return arguments.length?(a=e,d):a},function(e,t){return r=e,i=t,u()}}function f_(e,t){return d_()(e,t)}function p_(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString(`en`).replace(/,/g,``):e.toString(10)}function m_(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf(`e`))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function h_(e){return e=m_(Math.abs(e)),e?e[1]:NaN}function g_(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),a.push(n.substring(i-=s,i+s)),!((c+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function __(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}var v_=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function y_(e){if(!(t=v_.exec(e)))throw Error(`invalid format: `+e);var t;return new b_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}y_.prototype=b_.prototype;function b_(e){this.fill=e.fill===void 0?` `:e.fill+``,this.align=e.align===void 0?`>`:e.align+``,this.sign=e.sign===void 0?`-`:e.sign+``,this.symbol=e.symbol===void 0?``:e.symbol+``,this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?``:e.type+``}b_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?`0`:``)+(this.width===void 0?``:Math.max(1,this.width|0))+(this.comma?`,`:``)+(this.precision===void 0?``:`.`+Math.max(0,this.precision|0))+(this.trim?`~`:``)+this.type};function x_(e){out:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case`.`:r=i=n;break;case`0`:r===0&&(r=n),i=n;break;default:if(!+e[n])break out;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var S_;function C_(e,t){var n=m_(e,t);if(!n)return e+``;var r=n[0],i=n[1],a=i-(S_=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+Array(a-o+1).join(`0`):a>0?r.slice(0,a)+`.`+r.slice(a):`0.`+Array(1-a).join(`0`)+m_(e,Math.max(0,t+a-1))[0]}function w_(e,t){var n=m_(e,t);if(!n)return e+``;var r=n[0],i=n[1];return i<0?`0.`+Array(-i).join(`0`)+r:r.length>i+1?r.slice(0,i+1)+`.`+r.slice(i+1):r+Array(i-r.length+2).join(`0`)}var T_={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+``},d:p_,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return w_(e*100,t)},r:w_,s:C_,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function E_(e){return e}var D_=Array.prototype.map,O_=[`y`,`z`,`a`,`f`,`p`,`n`,`µ`,`m`,``,`k`,`M`,`G`,`T`,`P`,`E`,`Z`,`Y`];function k_(e){var t=e.grouping===void 0||e.thousands===void 0?E_:g_(D_.call(e.grouping,Number),e.thousands+``),n=e.currency===void 0?``:e.currency[0]+``,r=e.currency===void 0?``:e.currency[1]+``,i=e.decimal===void 0?`.`:e.decimal+``,a=e.numerals===void 0?E_:__(D_.call(e.numerals,String)),o=e.percent===void 0?`%`:e.percent+``,s=e.minus===void 0?`-`:e.minus+``,c=e.nan===void 0?`NaN`:e.nan+``;function l(e){e=y_(e);var l=e.fill,u=e.align,d=e.sign,f=e.symbol,p=e.zero,m=e.width,h=e.comma,g=e.precision,_=e.trim,v=e.type;v===`n`?(h=!0,v=`g`):T_[v]||(g===void 0&&(g=12),_=!0,v=`g`),(p||l===`0`&&u===`=`)&&(p=!0,l=`0`,u=`=`);var y=f===`$`?n:f===`#`&&/[boxX]/.test(v)?`0`+v.toLowerCase():``,b=f===`$`?r:/[%p]/.test(v)?o:``,x=T_[v],S=/[defgprs%]/.test(v);g=g===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function C(e){var n=y,r=b,o,f,C;if(v===`c`)r=x(e)+r,e=``;else{e=+e;var w=e<0||1/e<0;if(e=isNaN(e)?c:x(Math.abs(e),g),_&&(e=x_(e)),w&&+e==0&&d!==`+`&&(w=!1),n=(w?d===`(`?d:s:d===`-`||d===`(`?``:d)+n,r=(v===`s`?O_[8+S_/3]:``)+r+(w&&d===`(`?`)`:``),S){for(o=-1,f=e.length;++o<f;)if(C=e.charCodeAt(o),48>C||C>57){r=(C===46?i+e.slice(o+1):e.slice(o))+r,e=e.slice(0,o);break}}}h&&!p&&(e=t(e,1/0));var T=n.length+e.length+r.length,E=T<m?Array(m-T+1).join(l):``;switch(h&&p&&(e=t(E+e,E.length?m-r.length:1/0),E=``),u){case`<`:e=n+e+r+E;break;case`=`:e=n+E+e+r;break;case`^`:e=E.slice(0,T=E.length>>1)+n+e+r+E.slice(T);break;default:e=E+n+e+r;break}return a(e)}return C.toString=function(){return e+``},C}function u(e,t){var n=l((e=y_(e),e.type=`f`,e)),r=Math.max(-8,Math.min(8,Math.floor(h_(t)/3)))*3,i=10**-r,a=O_[8+r/3];return function(e){return n(i*e)+a}}return{format:l,formatPrefix:u}}var A_,j_,M_;N_({decimal:`.`,thousands:`,`,grouping:[3],currency:[`$`,``],minus:`-`});function N_(e){return A_=k_(e),j_=A_.format,M_=A_.formatPrefix,A_}function P_(e){return Math.max(0,-h_(Math.abs(e)))}function F_(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(h_(t)/3)))*3-h_(Math.abs(e)))}function I_(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,h_(t)-h_(e))+1}function L_(e,t,n,r){var i=Vg(e,t,n),a;switch(r=y_(r??`,f`),r.type){case`s`:var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=F_(i,o))&&(r.precision=a),M_(r,o);case``:case`e`:case`g`:case`p`:case`r`:r.precision==null&&!isNaN(a=I_(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type===`e`));break;case`f`:case`%`:r.precision==null&&!isNaN(a=P_(i))&&(r.precision=a-(r.type===`%`)*2);break}return j_(r)}function R_(e){var t=e.domain;return e.ticks=function(e){var n=t();return zg(n[0],n[n.length-1],e??10)},e.tickFormat=function(e,n){var r=t();return L_(r[0],r[r.length-1],e??10,n)},e.nice=function(n){n??=10;var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],c;return s<o&&(c=o,o=s,s=c,c=i,i=a,a=c),c=Bg(o,s,n),c>0?(o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c,c=Bg(o,s,n)):c<0&&(o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c,c=Bg(o,s,n)),c>0?(r[i]=Math.floor(o/c)*c,r[a]=Math.ceil(s/c)*c,t(r)):c<0&&(r[i]=Math.ceil(o*c)/c,r[a]=Math.floor(s*c)/c,t(r)),e},e}function z_(){var e=f_(a_,a_);return e.copy=function(){return u_(e,z_())},Ug.apply(e,arguments),R_(e)}function B_(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function V_(e){return Math.log(e)}function H_(e){return Math.exp(e)}function U_(e){return-Math.log(-e)}function W_(e){return-Math.exp(-e)}function G_(e){return isFinite(e)?+(`1e`+e):e<0?0:e}function K_(e){return e===10?G_:e===Math.E?Math.exp:function(t){return e**+t}}function q_(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function J_(e){return function(t){return-e(-t)}}function Y_(e){var t=e(V_,H_),n=t.domain,r=10,i,a;function o(){return i=q_(r),a=K_(r),n()[0]<0?(i=J_(i),a=J_(a),e(U_,W_)):e(V_,H_),t}return t.base=function(e){return arguments.length?(r=+e,o()):r},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=function(e){var t=n(),o=t[0],s=t[t.length-1],c;(c=s<o)&&(l=o,o=s,s=l);var l=i(o),u=i(s),d,f,p,m=e==null?10:+e,h=[];if(!(r%1)&&u-l<m){if(l=Math.round(l)-1,u=Math.round(u)+1,o>0){for(;l<u;++l)for(f=1,d=a(l);f<r;++f)if(p=d*f,!(p<o)){if(p>s)break;h.push(p)}}else for(;l<u;++l)for(f=r-1,d=a(l);f>=1;--f)if(p=d*f,!(p<o)){if(p>s)break;h.push(p)}}else h=zg(l,u,Math.min(u-l,m)).map(a);return c?h.reverse():h},t.tickFormat=function(e,n){if(n??=r===10?`.0e`:`,`,typeof n!=`function`&&(n=j_(n)),e===1/0)return n;e??=10;var o=Math.max(1,r*e/t.ticks().length);return function(e){var t=e/a(Math.round(i(e)));return t*r<r-.5&&(t*=r),t<=o?n(e):``}},t.nice=function(){return n(B_(n(),{floor:function(e){return a(Math.floor(i(e)))},ceil:function(e){return a(Math.ceil(i(e)))}}))},t}function X_(){var e=Y_(d_()).domain([1,10]);return e.copy=function(){return u_(e,X_()).base(e.base())},Ug.apply(e,arguments),e}function Z_(e){return function(t){return t<0?-((-t)**+e):t**+e}}function Q_(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function $_(e){return e<0?-e*e:e*e}function ev(e){var t=e(a_,a_),n=1;function r(){return n===1?e(a_,a_):n===.5?e(Q_,$_):e(Z_(n),Z_(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},R_(t)}function tv(){var e=ev(d_());return e.copy=function(){return u_(e,tv()).exponent(e.exponent())},Ug.apply(e,arguments),e}function nv(){var e=[],t=[],n=[],r;function i(){var r=0,i=Math.max(1,t.length);for(n=Array(i-1);++r<i;)n[r-1]=Hg(e,r/i);return a}function a(e){return isNaN(e=+e)?r:t[Ng(n,e)]}return a.invertExtent=function(r){var i=t.indexOf(r);return i<0?[NaN,NaN]:[i>0?n[i-1]:e[0],i<n.length?n[i]:e[e.length-1]]},a.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n=0,r=t.length,a;n<r;++n)a=t[n],a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Og),i()},a.range=function(e){return arguments.length?(t=$g.call(e),i()):t.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return nv().domain(e).range(t).unknown(r)},Ug.apply(a,arguments)}function rv(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(e){return e<=e?i[Ng(r,e,0,n)]:a}function s(){var i=-1;for(r=Array(n);++i<n;)r[i]=((i+1)*t-(i-n)*e)/(n+1);return o}return o.domain=function(n){return arguments.length?(e=+n[0],t=+n[1],s()):[e,t]},o.range=function(e){return arguments.length?(n=(i=$g.call(e)).length-1,s()):i.slice()},o.invertExtent=function(a){var o=i.indexOf(a);return o<0?[NaN,NaN]:o<1?[e,r[0]]:o>=n?[r[n-1],t]:[r[o-1],r[o]]},o.unknown=function(e){return arguments.length&&(a=e),o},o.thresholds=function(){return r.slice()},o.copy=function(){return rv().domain([e,t]).range(i).unknown(a)},Ug.apply(R_(o),arguments)}function iv(){var e=[.5],t=[0,1],n,r=1;function i(i){return i<=i?t[Ng(e,i,0,r)]:n}return i.domain=function(n){return arguments.length?(e=$g.call(n),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(n){return arguments.length?(t=$g.call(n),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(n){var r=t.indexOf(n);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(n=e,i):n},i.copy=function(){return iv().domain(e).range(t).unknown(n)},Ug.apply(i,arguments)}var av=new Date,ov=new Date;function sv(e,t,n,r){function i(t){return e(t=arguments.length===0?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),n==null?1:Math.floor(n)),e},i.range=function(n,r,a){var o=[],s;if(n=i.ceil(n),a=a==null?1:Math.floor(a),!(n<r)||!(a>0))return o;do o.push(s=new Date(+n)),t(n,a),e(n);while(s<n&&n<r);return o},i.filter=function(n){return sv(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(i.count=function(t,r){return av.setTime(+t),ov.setTime(+r),e(av),e(ov),Math.floor(n(av,ov))},i.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i}),i}var cv=sv(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});cv.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?sv(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):cv};var lv=cv;cv.range;var uv=1e3,dv=6e4,fv=36e5,pv=864e5,mv=6048e5,hv=sv(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*uv)},function(e,t){return(t-e)/uv},function(e){return e.getUTCSeconds()}),gv=hv;hv.range;var _v=sv(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*uv)},function(e,t){e.setTime(+e+t*dv)},function(e,t){return(t-e)/dv},function(e){return e.getMinutes()}),vv=_v;_v.range;var yv=sv(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*uv-e.getMinutes()*dv)},function(e,t){e.setTime(+e+t*fv)},function(e,t){return(t-e)/fv},function(e){return e.getHours()}),bv=yv;yv.range;var xv=sv(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*dv)/pv},function(e){return e.getDate()-1}),Sv=xv;xv.range;function Cv(e){return sv(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t*7)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*dv)/mv})}var wv=Cv(0),Tv=Cv(1),Ev=Cv(2),Dv=Cv(3),Ov=Cv(4),kv=Cv(5),Av=Cv(6);wv.range,Tv.range,Ev.range,Dv.range,Ov.range,kv.range,Av.range;var jv=sv(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()}),Mv=jv;jv.range;var Nv=sv(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Nv.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:sv(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)})};var Pv=Nv;Nv.range;var Fv=sv(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/pv},function(e){return e.getUTCDate()-1}),Iv=Fv;Fv.range;function Lv(e){return sv(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t*7)},function(e,t){return(t-e)/mv})}var Rv=Lv(0),zv=Lv(1),Bv=Lv(2),Vv=Lv(3),Hv=Lv(4),Uv=Lv(5),Wv=Lv(6);Rv.range,zv.range,Bv.range,Vv.range,Hv.range,Uv.range,Wv.range;var Gv=sv(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Gv.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:sv(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})};var Kv=Gv;Gv.range;function qv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Jv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Yv(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Xv(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,c=e.shortMonths,l=ry(i),u=iy(i),d=ry(a),f=iy(a),p=ry(o),m=iy(o),h=ry(s),g=iy(s),_=ry(c),v=iy(c),y={a:N,A:P,b:F,B:ee,c:null,d:Ey,e:Ey,f:jy,g:Hy,G:Wy,H:Dy,I:Oy,j:ky,L:Ay,m:My,M:Ny,p:I,q:te,Q:pb,s:mb,S:Py,u:Fy,U:Iy,V:Ry,w:zy,W:By,x:null,X:null,y:Vy,Y:Uy,Z:Gy,"%":fb},b={a:L,A:ne,b:re,B:ie,c:null,d:Ky,e:Ky,f:Zy,g:cb,G:ub,H:qy,I:Jy,j:Yy,L:Xy,m:Qy,M:$y,p:R,q:ae,Q:pb,s:mb,S:eb,u:tb,U:nb,V:ib,w:ab,W:ob,x:null,X:null,y:sb,Y:lb,Z:db,"%":fb},x={a:E,A:D,b:O,B:k,c:A,d:gy,e:gy,f:Sy,g:dy,G:uy,H:vy,I:vy,j:_y,L:xy,m:hy,M:yy,p:T,q:py,Q:wy,s:Ty,S:by,u:oy,U:sy,V:cy,w:ay,W:ly,x:j,X:M,y:dy,Y:uy,Z:fy,"%":Cy};y.x=S(n,y),y.X=S(r,y),y.c=S(t,y),b.x=S(n,b),b.X=S(r,b),b.c=S(t,b);function S(e,t){return function(n){var r=[],i=-1,a=0,o=e.length,s,c,l;for(n instanceof Date||(n=new Date(+n));++i<o;)e.charCodeAt(i)===37&&(r.push(e.slice(a,i)),(c=Zv[s=e.charAt(++i)])==null?c=s===`e`?` `:`0`:s=e.charAt(++i),(l=t[s])&&(s=l(n,c)),r.push(s),a=i+1);return r.push(e.slice(a,i)),r.join(``)}}function C(e,t){return function(n){var r=Yv(1900,void 0,1),i=w(r,e,n+=``,0),a,o;if(i!=n.length)return null;if(`Q`in r)return new Date(r.Q);if(`s`in r)return new Date(r.s*1e3+(`L`in r?r.L:0));if(t&&!(`Z`in r)&&(r.Z=0),`p`in r&&(r.H=r.H%12+r.p*12),r.m===void 0&&(r.m=`q`in r?r.q:0),`V`in r){if(r.V<1||r.V>53)return null;`w`in r||(r.w=1),`Z`in r?(a=Jv(Yv(r.y,0,1)),o=a.getUTCDay(),a=o>4||o===0?zv.ceil(a):zv(a),a=Iv.offset(a,(r.V-1)*7),r.y=a.getUTCFullYear(),r.m=a.getUTCMonth(),r.d=a.getUTCDate()+(r.w+6)%7):(a=qv(Yv(r.y,0,1)),o=a.getDay(),a=o>4||o===0?Tv.ceil(a):Tv(a),a=Sv.offset(a,(r.V-1)*7),r.y=a.getFullYear(),r.m=a.getMonth(),r.d=a.getDate()+(r.w+6)%7)}else (`W`in r||`U`in r)&&(`w`in r||(r.w=`u`in r?r.u%7:`W`in r?1:0),o=`Z`in r?Jv(Yv(r.y,0,1)).getUTCDay():qv(Yv(r.y,0,1)).getDay(),r.m=0,r.d=`W`in r?(r.w+6)%7+r.W*7-(o+5)%7:r.w+r.U*7-(o+6)%7);return`Z`in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,Jv(r)):qv(r)}}function w(e,t,n,r){for(var i=0,a=t.length,o=n.length,s,c;i<a;){if(r>=o)return-1;if(s=t.charCodeAt(i++),s===37){if(s=t.charAt(i++),c=x[s in Zv?t.charAt(i++):s],!c||(r=c(e,n,r))<0)return-1}else if(s!=n.charCodeAt(r++))return-1}return r}function T(e,t,n){var r=l.exec(t.slice(n));return r?(e.p=u[r[0].toLowerCase()],n+r[0].length):-1}function E(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=m[r[0].toLowerCase()],n+r[0].length):-1}function D(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=f[r[0].toLowerCase()],n+r[0].length):-1}function O(e,t,n){var r=_.exec(t.slice(n));return r?(e.m=v[r[0].toLowerCase()],n+r[0].length):-1}function k(e,t,n){var r=h.exec(t.slice(n));return r?(e.m=g[r[0].toLowerCase()],n+r[0].length):-1}function A(e,n,r){return w(e,t,n,r)}function j(e,t,r){return w(e,n,t,r)}function M(e,t,n){return w(e,r,t,n)}function N(e){return o[e.getDay()]}function P(e){return a[e.getDay()]}function F(e){return c[e.getMonth()]}function ee(e){return s[e.getMonth()]}function I(e){return i[+(e.getHours()>=12)]}function te(e){return 1+~~(e.getMonth()/3)}function L(e){return o[e.getUTCDay()]}function ne(e){return a[e.getUTCDay()]}function re(e){return c[e.getUTCMonth()]}function ie(e){return s[e.getUTCMonth()]}function R(e){return i[+(e.getUTCHours()>=12)]}function ae(e){return 1+~~(e.getUTCMonth()/3)}return{format:function(e){var t=S(e+=``,y);return t.toString=function(){return e},t},parse:function(e){var t=C(e+=``,!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+=``,b);return t.toString=function(){return e},t},utcParse:function(e){var t=C(e+=``,!0);return t.toString=function(){return e},t}}}var Zv={"-":``,_:` `,0:`0`},Qv=/^\s*\d+/,$v=/^%/,ey=/[\\^$*+?|[\]().{}]/g;function ty(e,t,n){var r=e<0?`-`:``,i=(r?-e:e)+``,a=i.length;return r+(a<n?Array(n-a+1).join(t)+i:i)}function ny(e){return e.replace(ey,`\\$&`)}function ry(e){return RegExp(`^(?:`+e.map(ny).join(`|`)+`)`,`i`)}function iy(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function ay(e,t,n){var r=Qv.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function oy(e,t,n){var r=Qv.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function sy(e,t,n){var r=Qv.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function cy(e,t,n){var r=Qv.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function ly(e,t,n){var r=Qv.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function uy(e,t,n){var r=Qv.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function dy(e,t,n){var r=Qv.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function fy(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||`00`)),n+r[0].length):-1}function py(e,t,n){var r=Qv.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function hy(e,t,n){var r=Qv.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function gy(e,t,n){var r=Qv.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function _y(e,t,n){var r=Qv.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function vy(e,t,n){var r=Qv.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function yy(e,t,n){var r=Qv.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function by(e,t,n){var r=Qv.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function xy(e,t,n){var r=Qv.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Sy(e,t,n){var r=Qv.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Cy(e,t,n){var r=$v.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function wy(e,t,n){var r=Qv.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Ty(e,t,n){var r=Qv.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Ey(e,t){return ty(e.getDate(),t,2)}function Dy(e,t){return ty(e.getHours(),t,2)}function Oy(e,t){return ty(e.getHours()%12||12,t,2)}function ky(e,t){return ty(1+Sv.count(Pv(e),e),t,3)}function Ay(e,t){return ty(e.getMilliseconds(),t,3)}function jy(e,t){return Ay(e,t)+`000`}function My(e,t){return ty(e.getMonth()+1,t,2)}function Ny(e,t){return ty(e.getMinutes(),t,2)}function Py(e,t){return ty(e.getSeconds(),t,2)}function Fy(e){var t=e.getDay();return t===0?7:t}function Iy(e,t){return ty(wv.count(Pv(e)-1,e),t,2)}function Ly(e){var t=e.getDay();return t>=4||t===0?Ov(e):Ov.ceil(e)}function Ry(e,t){return e=Ly(e),ty(Ov.count(Pv(e),e)+(Pv(e).getDay()===4),t,2)}function zy(e){return e.getDay()}function By(e,t){return ty(Tv.count(Pv(e)-1,e),t,2)}function Vy(e,t){return ty(e.getFullYear()%100,t,2)}function Hy(e,t){return e=Ly(e),ty(e.getFullYear()%100,t,2)}function Uy(e,t){return ty(e.getFullYear()%1e4,t,4)}function Wy(e,t){var n=e.getDay();return e=n>=4||n===0?Ov(e):Ov.ceil(e),ty(e.getFullYear()%1e4,t,4)}function Gy(e){var t=e.getTimezoneOffset();return(t>0?`-`:(t*=-1,`+`))+ty(t/60|0,`0`,2)+ty(t%60,`0`,2)}function Ky(e,t){return ty(e.getUTCDate(),t,2)}function qy(e,t){return ty(e.getUTCHours(),t,2)}function Jy(e,t){return ty(e.getUTCHours()%12||12,t,2)}function Yy(e,t){return ty(1+Iv.count(Kv(e),e),t,3)}function Xy(e,t){return ty(e.getUTCMilliseconds(),t,3)}function Zy(e,t){return Xy(e,t)+`000`}function Qy(e,t){return ty(e.getUTCMonth()+1,t,2)}function $y(e,t){return ty(e.getUTCMinutes(),t,2)}function eb(e,t){return ty(e.getUTCSeconds(),t,2)}function tb(e){var t=e.getUTCDay();return t===0?7:t}function nb(e,t){return ty(Rv.count(Kv(e)-1,e),t,2)}function rb(e){var t=e.getUTCDay();return t>=4||t===0?Hv(e):Hv.ceil(e)}function ib(e,t){return e=rb(e),ty(Hv.count(Kv(e),e)+(Kv(e).getUTCDay()===4),t,2)}function ab(e){return e.getUTCDay()}function ob(e,t){return ty(zv.count(Kv(e)-1,e),t,2)}function sb(e,t){return ty(e.getUTCFullYear()%100,t,2)}function cb(e,t){return e=rb(e),ty(e.getUTCFullYear()%100,t,2)}function lb(e,t){return ty(e.getUTCFullYear()%1e4,t,4)}function ub(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Hv(e):Hv.ceil(e),ty(e.getUTCFullYear()%1e4,t,4)}function db(){return`+0000`}function fb(){return`%`}function pb(e){return+e}function mb(e){return Math.floor(e/1e3)}var hb,gb;_b({dateTime:`%x, %X`,date:`%-m/%-d/%Y`,time:`%-I:%M:%S %p`,periods:[`AM`,`PM`],days:[`Sunday`,`Monday`,`Tuesday`,`Wednesday`,`Thursday`,`Friday`,`Saturday`],shortDays:[`Sun`,`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`],months:[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`],shortMonths:[`Jan`,`Feb`,`Mar`,`Apr`,`May`,`Jun`,`Jul`,`Aug`,`Sep`,`Oct`,`Nov`,`Dec`]});function _b(e){return hb=Xv(e),gb=hb.format,hb.parse,hb.utcFormat,hb.utcParse,hb}var vb=1e3,yb=vb*60,bb=yb*60,xb=bb*24,Sb=xb*7,Cb=xb*30,wb=xb*365;function Tb(e){return new Date(e)}function Eb(e){return e instanceof Date?+e:+new Date(+e)}function Db(e,t,n,r,i,a,o,s,c){var l=f_(a_,a_),u=l.invert,d=l.domain,f=c(`.%L`),p=c(`:%S`),m=c(`%I:%M`),h=c(`%I %p`),g=c(`%a %d`),_=c(`%b %d`),v=c(`%B`),y=c(`%Y`),b=[[o,1,vb],[o,5,5*vb],[o,15,15*vb],[o,30,30*vb],[a,1,yb],[a,5,5*yb],[a,15,15*yb],[a,30,30*yb],[i,1,bb],[i,3,3*bb],[i,6,6*bb],[i,12,12*bb],[r,1,xb],[r,2,2*xb],[n,1,Sb],[t,1,Cb],[t,3,3*Cb],[e,1,wb]];function x(s){return(o(s)<s?f:a(s)<s?p:i(s)<s?m:r(s)<s?h:t(s)<s?n(s)<s?g:_:e(s)<s?v:y)(s)}function S(t,n,r,i){if(t??=10,typeof t==`number`){var a=Math.abs(r-n)/t,o=kg(function(e){return e[2]}).right(b,a);o===b.length?(i=Vg(n/wb,r/wb,t),t=e):o?(o=b[a/b[o-1][2]<b[o][2]/a?o-1:o],i=o[1],t=o[0]):(i=Math.max(Vg(n,r,t),1),t=s)}return i==null?t:t.every(i)}return l.invert=function(e){return new Date(u(e))},l.domain=function(e){return arguments.length?d(Qg.call(e,Eb)):d().map(Tb)},l.ticks=function(e,t){var n=d(),r=n[0],i=n[n.length-1],a=i<r,o;return a&&(o=r,r=i,i=o),o=S(e,r,i,t),o=o?o.range(r,i+1):[],a?o.reverse():o},l.tickFormat=function(e,t){return t==null?x:c(t)},l.nice=function(e,t){var n=d();return(e=S(e,n[0],n[n.length-1],t))?d(B_(n,e)):l},l.copy=function(){return u_(l,Db(e,t,n,r,i,a,o,s,c))},l}function Ob(){return Ug.apply(Db(Pv,Mv,wv,Sv,bv,vv,gv,lv,gb).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kb(){var e=0,t=1,n,r,i,a,o=a_,s=!1,c;function l(e){return isNaN(e=+e)?c:o(i===0?.5:(e=(a(e)-n)*i,s?Math.max(0,Math.min(1,e)):e))}return l.domain=function(o){return arguments.length?(n=a(e=+o[0]),r=a(t=+o[1]),i=n===r?0:1/(r-n),l):[e,t]},l.clamp=function(e){return arguments.length?(s=!!e,l):s},l.interpolator=function(e){return arguments.length?(o=e,l):o},l.unknown=function(e){return arguments.length?(c=e,l):c},function(o){return a=o,n=o(e),r=o(t),i=n===r?0:1/(r-n),l}}function Ab(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function jb(){var e=R_(kb()(a_));return e.copy=function(){return Ab(e,jb())},Wg.apply(e,arguments)}function Mb(){var e=0,t=.5,n=1,r,i,a,o,s,c=a_,l,u=!1,d;function f(e){return isNaN(e=+e)?d:(e=.5+((e=+l(e))-i)*(e<i?o:s),c(u?Math.max(0,Math.min(1,e)):e))}return f.domain=function(c){return arguments.length?(r=l(e=+c[0]),i=l(t=+c[1]),a=l(n=+c[2]),o=r===i?0:.5/(i-r),s=i===a?0:.5/(a-i),f):[e,t,n]},f.clamp=function(e){return arguments.length?(u=!!e,f):u},f.interpolator=function(e){return arguments.length?(c=e,f):c},f.unknown=function(e){return arguments.length?(d=e,f):d},function(c){return l=c,r=c(e),i=c(t),a=c(n),o=r===i?0:.5/(i-r),s=i===a?0:.5/(a-i),f}}function Nb(){var e=R_(Mb()(a_));return e.copy=function(){return Ab(e,Nb())},Wg.apply(e,arguments)}function Pb(e){let t,n=[];function r(e){return e??t}return r.invert=r,r.domain=r.range=e=>e?(n=e,e):n,r.unknown=e=>e?(t=e,e):t,r.copy=()=>Pb(e).unknown(t),r}var{isNil:Fb,isString:Ib,uniq:Lb}=di,Rb=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,zb={[_l.LINEAR]:z_,[_l.POWER]:tv,[_l.LOG]:X_,[_l.IDENTITY]:Pb,[_l.SEQUENTIAL]:jb,[_l.TIME]:Ob,[_l.QUANTILE]:nv,[_l.QUANTIZE]:rv,[_l.THRESHOLD]:iv,[_l.CAT]:t_,[_l.DIVERGING]:Nb},Bb=class{constructor(){I(this,`scaleOptions`,{})}apply(e,{styleAttributeService:t}){var n=this;e.hooks.init.tapPromise(`FeatureScalePlugin`,Y(function*(){e.log(dl.ScaleInitStart,gl.INIT),n.scaleOptions=e.getScaleOptions();let r=t.getLayerStyleAttributes(),i=e.getSource()?.data.dataArray;Array.isArray(i)&&i.length===0||(n.caculateScalesForAttributes(r||[],i),e.log(dl.ScaleInitEnd,gl.INIT))})),e.hooks.beforeRenderData.tapPromise(`FeatureScalePlugin`,function(){var r=Y(function*(r){if(!r)return r;e.log(dl.ScaleInitStart,gl.UPDATE),n.scaleOptions=e.getScaleOptions();let i=t.getLayerStyleAttributes(),a=e.getSource().data.dataArray;return Array.isArray(a)&&a.length===0?!0:(n.caculateScalesForAttributes(i||[],a),e.log(dl.ScaleInitEnd,gl.UPDATE),e.layerModelNeedUpdate=!0,!0)});return function(e){return r.apply(this,arguments)}}()),e.hooks.beforeRender.tap(`FeatureScalePlugin`,()=>{if(e.layerModelNeedUpdate)return;this.scaleOptions=e.getScaleOptions();let n=t.getLayerStyleAttributes(),r=e.getSource().data.dataArray;if(!(Array.isArray(r)&&r.length===0)&&n){let e=n.filter(e=>e.needRescale);e.length&&this.caculateScalesForAttributes(e,r)}})}isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}caculateScalesForAttributes(e,t){e.forEach(e=>{if(e.scale){let n=e.scale,r=e.scale.field;n.names=this.parseFields(Fb(r)?[]:r);let i=[];n.names.forEach(n=>{i.push(this.createScale(n,e.name,e.scale?.values,t))}),i.some(e=>e.type===vl.VARIABLE)?(n.type=vl.VARIABLE,i.forEach(e=>{if(!n.callback&&n.values!==`text`)switch(e.option?.type){case _l.LOG:case _l.LINEAR:case _l.POWER:if(n.values&&n.values.length>2){let t=e.scale.ticks(n.values.length);e.scale.domain(t)}n.values?e.scale.range(n.values):e.scale.range(e.option.domain);break;case _l.QUANTILE:case _l.QUANTIZE:case _l.THRESHOLD:e.scale.range(n.values);break;case _l.IDENTITY:break;case _l.CAT:n.values?e.scale.range(n.values):e.scale.range(e.option.domain);break;case _l.DIVERGING:case _l.SEQUENTIAL:e.scale.interpolator(mg(n.values));break}n.values===`text`&&e.scale.range(e.option?.domain)})):(n.type=vl.CONSTANT,n.defaultValues=i.map((e,t)=>e.scale(n.names[t]))),n.scalers=i.map(e=>({field:e.field,func:e.scale,option:e.option})),e.needRescale=!1}})}parseFields(e){return Array.isArray(e)?e:Ib(e)?e.split(`*`):[e]}createScale(e,t,n,r){let i=this.scaleOptions[t]&&this.scaleOptions[t]?.field===e?this.scaleOptions[t]:this.scaleOptions[e],a={field:e,scale:void 0,type:vl.VARIABLE,option:i};if(!r||!r.length)return i&&i.type?a.scale=this.createDefaultScale(i):(a.scale=t_([e]),a.type=vl.CONSTANT),a;let o=r.find(t=>!Fb(t[e]))?.[e];if(this.isNumber(e)||Fb(o)&&!i)a.scale=t_([e]),a.type=vl.CONSTANT;else{let t=i&&i.type||this.getDefaultType(o);n===`text`&&(t=_l.CAT),n===void 0&&(t=_l.IDENTITY);let s=this.createScaleConfig(t,e,i,r);a.scale=this.createDefaultScale(s),a.option=s}return a}getDefaultType(e){let t=_l.LINEAR;return typeof e==`string`&&(t=Rb.test(e)?_l.TIME:_l.CAT),t}createScaleConfig(e,t,n,r){let i=P(P({},n),{},{type:e});if(i!=null&&i.domain)return i;let a=[];if(e===_l.QUANTILE){let e=new Map;r?.forEach(n=>{e.set(n._id,n[t])}),a=Array.from(e.values())}else a=r?.map(e=>e[t])||[];if(e===_l.CAT||e===_l.IDENTITY)i.domain=Lb(a);else if(e===_l.QUANTILE)i.domain=a;else if(e===_l.DIVERGING){let e=ig(a),t=n?.neutral===void 0?(e[0]+e[1])/2:n?.neutral;i.domain=[e[0],t,e[1]]}else i.domain=ig(a);return i}createDefaultScale({type:e,domain:t,unknown:n,clamp:r,nice:i}){let a=zb[e]();return t&&a.domain&&a.domain(t),n&&a.unknown(n),r!==void 0&&a.clamp&&a.clamp(r),i!==void 0&&a.nice&&a.nice(i),a}},Vb=class{apply(e){e.hooks.beforeRender.tap(`LayerAnimateStylePlugin`,()=>{e.animateStatus&&e.models.forEach(t=>{t.addUniforms(P({},e.layerModel.getAnimateUniforms()))})})}},Hb=class{apply(e){e.hooks.afterInit.tap(`LayerMaskPlugin`,()=>{let{maskLayers:t,enableMask:n}=e.getLayerConfig();!e.tileLayer&&t&&t.length>0&&e.updateLayerConfig({mask:n})})}},Ub=class{build(e){return Y(function*(){e.prepareBuildModel(),yield e.buildModels()})()}initLayerModel(e){var t=this;return Y(function*(){yield t.build(e),e.styleNeedUpdate=!1})()}prepareLayerModel(e){var t=this;return Y(function*(){yield t.build(e),e.styleNeedUpdate=!1})()}apply(e){var t=this;e.hooks.init.tapPromise(`LayerModelPlugin`,Y(function*(){if(e.getSource().isTile){e.prepareBuildModel();return}e.log(dl.BuildModelStart,gl.INIT),yield t.initLayerModel(e),e.log(dl.BuildModelEnd,gl.INIT)})),e.hooks.beforeRenderData.tapPromise(`LayerModelPlugin`,function(){var n=Y(function*(n){return!n||e.getSource().isTile?!1:(e.log(dl.BuildModelStart,gl.UPDATE),yield t.prepareLayerModel(e),e.log(dl.BuildModelEnd,gl.UPDATE),!0)});return function(e){return n.apply(this,arguments)}}())}},Wb=class{apply(e){e.hooks.afterInit.tap(`LayerStylePlugin`,()=>{let{autoFit:t,fitBoundsOptions:n}=e.getLayerConfig();t&&e.fitBounds(n),e.styleNeedUpdate=!1})}},Gb=[`type`],Kb={directional:{lights:`u_DirectionalLights`,num:`u_NumOfDirectionalLights`},spot:{lights:`u_SpotLights`,num:`u_NumOfSpotLights`}},qb={type:`directional`,direction:[1,10.5,12],ambient:[.2,.2,.2],diffuse:[.6,.6,.6],specular:[.1,.1,.1]},Jb={direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0]},Yb={position:[0,0,0],direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0],constant:1,linear:0,quadratic:0,angle:14,exponent:40,blur:5};function Xb(e){let t={u_DirectionalLights:[,,,].fill(P({},Jb)),u_NumOfDirectionalLights:0,u_SpotLights:[,,,].fill(P({},Yb)),u_NumOfSpotLights:0};return(!e||!e.length)&&(e=[qb]),e.forEach(e=>{let{type:n=`directional`}=e,r=Su(e,Gb),i=Kb[n].lights,a=Kb[n].num,o=t[a];t[i][o]=P(P({},t[i][o]),r),t[a]++}),t}var Zb=class{apply(e){e.hooks.beforeRender.tap(`LightingPlugin`,()=>{let{enableLighting:t}=e.getLayerConfig();t&&e.models.forEach(e=>e.addUniforms(P({},Xb())))})}};function Qb(e){return e.map(e=>(typeof e==`string`&&(e=[e,{}]),e))}function $b(e,t,n,r){let i=e.multiPassRenderer;return i.add(r(`render`)),Qb(t).forEach(e=>{let[t,r]=e;i.add(n(t),r)}),i.add(n(`copy`)),i}var ex=class{constructor(){I(this,`enabled`,void 0)}apply(e,{rendererService:t,postProcessingPassFactory:n,normalPassFactory:r}){e.hooks.init.tapPromise(`MultiPassRendererPlugin`,()=>{let{enableMultiPassRenderer:t,passes:i=[]}=e.getLayerConfig();this.enabled=!!t&&e.getLayerConfig().enableMultiPassRenderer!==!1,this.enabled&&(e.multiPassRenderer=$b(e,i,n,r),e.multiPassRenderer.setRenderFlag(!0))}),e.hooks.beforeRender.tap(`MultiPassRendererPlugin`,()=>{if(this.enabled){let{width:n,height:r}=t.getViewportSize();e.multiPassRenderer.resize(n,r)}})}};const tx={POSITION:0,POSITION_64LOW:1,COLOR:2,PICKING_COLOR:3,STROKE:4,OPACITY:5,OFFSETS:6,ROTATION:7,MAX:8};function nx(e){switch(e){case`rotation`:return{name:`Rotation`,type:J.Attribute,descriptor:{name:`a_Rotation`,shaderLocation:tx.ROTATION,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:1,update:e=>{let{rotation:t=0}=e;return Array.isArray(t)?[t[0]]:[t]}}};case`stroke`:return{name:`stroke`,type:J.Attribute,descriptor:{name:`a_Stroke`,shaderLocation:tx.STROKE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:4,update:e=>{let{stroke:t=[1,1,1,1]}=e;return t}}};case`opacity`:return{name:`opacity`,type:J.Attribute,descriptor:{name:`a_Opacity`,shaderLocation:tx.OPACITY,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:1,update:e=>{let{opacity:t=1}=e;return[t]}}};case`offsets`:return{name:`offsets`,type:J.Attribute,descriptor:{name:`a_Offsets`,shaderLocation:tx.OFFSETS,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:2,update:e=>{let{offsets:t}=e;return t}}};default:return}}var{isNumber:rx}=di,ix={NONE:0,ENCODE:1,HIGHLIGHT:2},ax=class{constructor(){I(this,`pickingUniformMap`,void 0)}pickOption2Array(){let e=[];return this.pickingUniformMap.forEach(t=>{rx(t)?e.push(t):e.push(...t)}),e}updatePickOption(e,t){Object.keys(e).forEach(t=>{this.pickingUniformMap.set(t,e[t])});let n=t.getLayerConfig().pickingBuffer||0,r=Number(t.getShaderPickStat());this.pickingUniformMap.set(`u_PickingBuffer`,n),this.pickingUniformMap.set(`u_shaderPick`,r),t.getPickingUniformBuffer().subData({offset:0,data:this.pickOption2Array()})}apply(e,{styleAttributeService:t}){this.pickingUniformMap=new Map([[`u_HighlightColor`,[1,0,0,1]],[`u_SelectColor`,[1,0,0,1]],[`u_PickingColor`,[0,0,0]],[`u_PickingStage`,0],[`u_CurrentSelectedId`,[0,0,0]],[`u_PickingThreshold`,10],[`u_PickingBuffer`,0],[`u_shaderPick`,0],[`u_activeMix`,0]]),e.hooks.init.tapPromise(`PixelPickingPlugin`,()=>{let{enablePicking:n}=e.getLayerConfig();t.registerStyleAttribute({name:`pickingColor`,type:J.Attribute,descriptor:{name:`a_PickingColor`,shaderLocation:tx.PICKING_COLOR,buffer:{data:[],type:q.FLOAT},size:3,update:e=>{let{id:t}=e;return n?ri(t):[0,0,0]}}})}),e.hooks.beforePickingEncode.tap(`PixelPickingPlugin`,()=>{let{enablePicking:t}=e.getLayerConfig();t&&e.isVisible()&&(this.updatePickOption({u_PickingStage:ix.ENCODE},e),e.models.forEach(e=>e.addUniforms({u_PickingStage:ix.ENCODE})))}),e.hooks.afterPickingEncode.tap(`PixelPickingPlugin`,()=>{let{enablePicking:t}=e.getLayerConfig();t&&e.isVisible()&&(this.updatePickOption({u_PickingStage:ix.HIGHLIGHT},e),e.models.forEach(e=>e.addUniforms({u_PickingStage:ix.HIGHLIGHT})))}),e.hooks.beforeHighlight.tap(`PixelPickingPlugin`,t=>{let{highlightColor:n,activeMix:r=0}=e.getLayerConfig(),i=typeof n==`string`?ti(n):n||[1,0,0,1];e.updateLayerConfig({pickedFeatureID:ni(new Uint8Array(t))});let a={u_PickingStage:ix.HIGHLIGHT,u_PickingColor:t,u_HighlightColor:i.map(e=>e*255),u_activeMix:r};this.updatePickOption(a,e),e.models.forEach(e=>e.addUniforms(a))}),e.hooks.beforeSelect.tap(`PixelPickingPlugin`,t=>{let{selectColor:n,selectMix:r=0}=e.getLayerConfig(),i=typeof n==`string`?ti(n):n||[1,0,0,1];e.updateLayerConfig({pickedFeatureID:ni(new Uint8Array(t))});let a={u_PickingStage:ix.HIGHLIGHT,u_PickingColor:t,u_HighlightColor:i.map(e=>e*255),u_activeMix:r,u_CurrentSelectedId:t,u_SelectColor:i.map(e=>e*255)};this.updatePickOption(a,e),e.models.forEach(e=>e.addUniforms(a))})}};const ox=[`mvt`,`geojsonvt`,`testTile`];function sx(e){let t=e.getSource();return ox.includes(t.parser.type)}var cx=class{apply(e,{styleAttributeService:t}){e.hooks.init.tapPromise(`RegisterStyleAttributePlugin`,()=>{sx(e)||this.registerBuiltinAttributes(t,e)})}registerBuiltinAttributes(e,t){if(t.type===`MaskLayer`){this.registerPositionAttribute(e);return}this.registerPositionAttribute(e),this.registerColorAttribute(e)}registerPositionAttribute(e){e.registerStyleAttribute({name:`position`,type:J.Attribute,descriptor:{name:`a_Position`,shaderLocation:tx.POSITION,buffer:{data:[],type:q.FLOAT},size:3,update:(e,t,n)=>n.length===2?[n[0],n[1],0]:[n[0],n[1],n[2]]}})}registerColorAttribute(e){e.registerStyleAttribute({name:`color`,type:J.Attribute,descriptor:{name:`a_Color`,shaderLocation:tx.COLOR,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:4,update:e=>{let{color:t}=e;return!t||!t.length?[1,1,1,1]:t}}})}},lx=class{constructor(){I(this,`cameraService`,void 0),I(this,`coordinateSystemService`,void 0),I(this,`rendererService`,void 0),I(this,`mapService`,void 0),I(this,`layerService`,void 0)}apply(e,{rendererService:t,mapService:n,layerService:r,coordinateSystemService:i,cameraService:a}){this.rendererService=t,this.mapService=n,this.layerService=r,this.coordinateSystemService=i,this.cameraService=a;let o;this.rendererService.uniformBuffers[0]||(o=this.rendererService.createBuffer({data:new Float32Array(96),isUBO:!0,label:`renderUniformBuffer`}),this.rendererService.uniformBuffers[0]=o),e.hooks.beforeRender.tap(`ShaderUniformPlugin`,()=>{let t=e.getRelativeOrigin&&e.getRelativeOrigin()||[0,0];this.coordinateSystemService.refresh(),t&&(Math.abs(t[0])>1e-4||Math.abs(t[1])>1e-4)&&this.coordinateSystemService.getCoordinateSystem()===2&&this.coordinateSystemService.setViewportCenter(t);let{width:n,height:r}=this.rendererService.getViewportSize(),{data:i,uniforms:a}=this.generateUBO(n,r,t);this.layerService.alreadyInRendering&&this.rendererService.uniformBuffers[0]&&this.rendererService.uniformBuffers[0].subData({offset:0,data:i}),this.rendererService.queryVerdorInfo()===`WebGL1`&&e.models.forEach(t=>{t.addUniforms(P(P({},a),{},{u_PickingBuffer:e.getLayerConfig().pickingBuffer||0,u_shaderPick:Number(e.getShaderPickStat())}))})})}generateUBO(e,t,n){let r=this.cameraService.getProjectionMatrix(),i=this.cameraService.getViewMatrix(),a=this.cameraService.getViewProjectionMatrix(),o=this.cameraService.getModelMatrix(),s=this.coordinateSystemService.getViewportCenterProjection(),c=this.coordinateSystemService.getPixelsPerDegree(),l=this.cameraService.getZoom(),u=this.coordinateSystemService.getPixelsPerDegree2(),d=this.cameraService.getZoomScale(),f=this.coordinateSystemService.getPixelsPerMeter(),p=this.coordinateSystemService.getCoordinateSystem(),m=this.cameraService.getCameraPosition(),h=window.devicePixelRatio,g=this.coordinateSystemService.getViewportCenter(),_=[e,t],v=this.cameraService.getFocalDistance(),y=n&&n.length>=2?[n[0],n[1]]:[0,0];return{data:[...i,...r,...a,...o,...s,...c,l,...u,d,...f,p,...m,h,...g,..._,v,...y,0],uniforms:{[sl.ProjectionMatrix]:r,[sl.ViewMatrix]:i,[sl.ViewProjectionMatrix]:a,[sl.Zoom]:l,[sl.ZoomScale]:d,[sl.FocalDistance]:v,[sl.CameraPosition]:m,[ul.CoordinateSystem]:p,[ul.ViewportCenter]:g,[ul.ViewportCenterProjection]:s,[ul.PixelsPerDegree]:c,[ul.PixelsPerDegree2]:u,[ul.PixelsPerMeter]:f,u_ViewportSize:_,u_ModelMatrix:o,u_DevicePixelRatio:h,u_RelativeOrigin:y}}}},ux=class{apply(e){e.hooks.beforeRender.tap(`UpdateModelPlugin`,()=>{e.layerModel&&e.layerModel.needUpdate().then(t=>{t&&e.renderLayers()})}),e.hooks.afterRender.tap(`UpdateModelPlugin`,()=>{e.layerModelNeedUpdate=!1})}},dx=class{apply(e,{styleAttributeService:t}){e.hooks.init.tapPromise(`UpdateStyleAttributePlugin`,()=>{this.initStyleAttribute(e,{styleAttributeService:t})}),e.hooks.beforeRender.tap(`UpdateStyleAttributePlugin`,()=>{e.layerModelNeedUpdate||e.inited&&this.updateStyleAttribute(e,{styleAttributeService:t})})}updateStyleAttribute(e,{styleAttributeService:t}){let n=t.getLayerStyleAttributes()||[],r=t.getLayerStyleAttribute(`filter`);if(r&&r.needRegenerateVertices){e.layerModelNeedUpdate=!0,n.forEach(e=>e.needRegenerateVertices=!1);return}n.filter(e=>e.needRegenerateVertices).forEach(n=>{t.updateAttributeByFeatureRange(n.name,e.getEncodedData(),n.featureRange.startIndex,n.featureRange.endIndex,e),n.needRegenerateVertices=!1})}initStyleAttribute(e,{styleAttributeService:t}){(t.getLayerStyleAttributes()||[]).filter(e=>e.needRegenerateVertices).forEach(n=>{t.updateAttributeByFeatureRange(n.name,e.getEncodedData(),n.featureRange.startIndex,n.featureRange.endIndex),n.needRegenerateVertices=!1})}};function fx(){return[new rg,new cx,new Bb,new ng,new Wb,new Hb,new dx,new ux,new ex,new lx,new Vb,new Zb,new ax,new Ub]}const px={[pl.additive]:{enable:!0,func:{srcRGB:q.ONE,dstRGB:q.ONE,srcAlpha:1,dstAlpha:1}},[pl.none]:{enable:!1},[pl.normal]:{enable:!0,func:{srcRGB:q.SRC_ALPHA,dstRGB:q.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}},[pl.subtractive]:{enable:!0,func:{srcRGB:q.ONE,dstRGB:q.ONE,srcAlpha:q.ZERO,dstAlpha:q.ONE_MINUS_SRC_COLOR},equation:{rgb:q.FUNC_SUBTRACT,alpha:q.FUNC_SUBTRACT}},[pl.max]:{enable:!0,func:{srcRGB:q.ONE,dstRGB:q.ONE},equation:{rgb:q.MAX_EXT}},[pl.min]:{enable:!0,func:{srcRGB:q.ONE,dstRGB:q.ONE},equation:{rgb:q.MIN_EXT}}};var mx=class{constructor(e){I(this,`layer`,void 0),this.layer=e}pickRender(e){let t=this.layer.getContainer().layerService,n=this.layer;if(n.tileLayer)return n.tileLayer.pickRender(e);n.hooks.beforePickingEncode.call(),t.renderTileLayerMask(n),n.renderModels({ispick:!0}),n.hooks.afterPickingEncode.call()}pick(e,t){var n=this;return Y(function*(){let r=n.layer.getContainer().pickingService;return e.type===`RasterLayer`?n.pickRasterLayer(e,t):(n.pickRender(t),r.pickFromPickingFBO(e,t))})()}pickRasterLayer(e,t,n){let r=this.layer.getContainer(),i=r.pickingService,a=r.mapService,o=this.layer.getSource().extent,s=Li(t.lngLat,o),c={x:t.x,y:t.y,type:t.type,lngLat:t.lngLat,target:t,rasterValue:null},l=n||e;return s?(c.rasterValue=this.readRasterValue(e,o,a,t.x,t.y),i.triggerHoverOnLayer(l,c),!0):(c.type=t.type===`mousemove`?`mouseout`:`un`+t.type,i.triggerHoverOnLayer(l,P(P({},c),{},{type:`unpick`})),i.triggerHoverOnLayer(l,c),!1)}readRasterValue(e,t,n,r,i){let a=e.getSource().data.dataArray[0],[o=0,s=0,c=10,l=-10]=t,u=n.lngLatToContainer([o,s]),d=n.lngLatToContainer([c,l]),f=d.x-u.x,p=u.y-d.y,m=[(r-u.x)/f,(i-d.y)/p],h=a.width||1,g=a.height||1,_=Math.floor(m[0]*h),v=Math.floor(m[1]*g),y=Math.max(0,v-1)*h+_;return a.data[y]}selectFeature(e){let t=this.layer,[n,r,i]=e;t.hooks.beforeSelect.call([n,r,i])}highlightPickedFeature(e){let[t,n,r]=e;this.layer.hooks.beforeHighlight.call([t,n,r])}getFeatureById(e){return this.layer.getSource().getFeatureById(e)}},hx=class{constructor(e){I(this,`layer`,void 0),I(this,`rendererService`,void 0),I(this,`colorTexture`,void 0),I(this,`key`,void 0),this.layer=e,this.rendererService=this.layer.getContainer().rendererService}getColorTexture(e,t){let n=this.getTextureKey(e,t);return this.key===n?this.colorTexture:(this.createColorTexture(e,t),this.key=n,this.colorTexture)}createColorTexture(e,t){let{createTexture2D:n}=this.rendererService,r=this.getColorRampBar(e,t),i=n({data:new Uint8Array(r.data),width:r.width,height:r.height,flipY:!1,unorm:!0});return this.colorTexture=i,i}setColorTexture(e,t,n){this.key=this.getTextureKey(t,n),this.colorTexture=e}destroy(){var e;(e=this.colorTexture)==null||e.destroy()}getColorRampBar(e,t){switch(e.type){case`cat`:return oi(e);case`quantize`:return si(e);case`custom`:return ci(e,t);case`linear`:return ai(e,t);default:return ii(e)}}getTextureKey(e,t){var n;return`${e.colors.join(`_`)}_${e==null||(n=e.positions)==null?void 0:n.join(`_`)}_${e.type}_${t?.join(`_`)}`}},gx=e(la()),_x=[`passes`],vx=[`moduleName`,`vertexShader`,`fragmentShader`,`defines`,`inject`,`triangulation`,`styleOption`,`pickingEnabled`],{isEqual:yx,isFunction:bx,isNumber:xx,isObject:Sx,isPlainObject:Cx,isUndefined:Tx}=di,Ex=0,Dx=class extends gx.EventEmitter{get shaderModuleService(){return this.container.shaderModuleService}get cameraService(){return this.container.cameraService}get coordinateService(){return this.container.coordinateSystemService}get iconService(){return this.container.iconService}get fontService(){return this.container.fontService}get pickingService(){return this.container.pickingService}get rendererService(){return this.container.rendererService}get layerService(){return this.container.layerService}get debugService(){return this.container.debugService}get interactionService(){return this.container.interactionService}get mapService(){return this.container?.mapService}get normalPassFactory(){return this.container.normalPassFactory}constructor(e={}){super(),I(this,`id`,`${Ex++}`),I(this,`name`,`${Ex}`),I(this,`parent`,void 0),I(this,`coordCenter`,void 0),I(this,`type`,void 0),I(this,`visible`,!0),I(this,`zIndex`,0),I(this,`minZoom`,void 0),I(this,`maxZoom`,void 0),I(this,`inited`,!1),I(this,`layerModelNeedUpdate`,!1),I(this,`pickedFeatureID`,null),I(this,`selectedFeatureID`,null),I(this,`styleNeedUpdate`,!1),I(this,`rendering`,void 0),I(this,`forceRender`,!1),I(this,`clusterZoom`,0),I(this,`layerType`,void 0),I(this,`triangulation`,void 0),I(this,`layerPickService`,void 0),I(this,`textureService`,void 0),I(this,`defaultSourceConfig`,{data:[],options:{parser:{type:`json`}}}),I(this,`dataState`,{dataSourceNeedUpdate:!1,dataMappingNeedUpdate:!1,filterNeedUpdate:!1,featureScaleNeedUpdate:!1,StyleAttrNeedUpdate:!1}),I(this,`hooks`,{init:new yd,afterInit:new _d,beforeRender:new _d,beforeRenderData:new bd,afterRender:new dd,beforePickingEncode:new dd,afterPickingEncode:new dd,beforeHighlight:new dd([`pickedColor`]),afterHighlight:new dd,beforeSelect:new dd([`pickedColor`]),afterSelect:new dd,beforeDestroy:new dd,afterDestroy:new dd}),I(this,`models`,[]),I(this,`multiPassRenderer`,void 0),I(this,`plugins`,void 0),I(this,`startInit`,!1),I(this,`sourceOption`,void 0),I(this,`layerModel`,void 0),I(this,`shapeOption`,void 0),I(this,`tileLayer`,void 0),I(this,`layerChildren`,[]),I(this,`masks`,[]),I(this,`configService`,zf),I(this,`styleAttributeService`,void 0),I(this,`layerSource`,void 0),I(this,`postProcessingPassFactory`,void 0),I(this,`animateOptions`,{enable:!1}),I(this,`relativeOrigin`,[0,0]),I(this,`originalExtent`,[0,0,0,0]),I(this,`absoluteDataArray`,[]),I(this,`container`,void 0),I(this,`encodedData`,void 0),I(this,`currentPickId`,null),I(this,`rawConfig`,void 0),I(this,`needUpdateConfig`,void 0),I(this,`encodeStyleAttribute`,{}),I(this,`enableShaderEncodeStyles`,[]),I(this,`enableDataEncodeStyles`,[]),I(this,`pendingStyleAttributes`,[]),I(this,`scaleOptions`,{}),I(this,`animateStartTime`,void 0),I(this,`animateStatus`,!1),I(this,`isDestroyed`,!1),I(this,`uniformBuffers`,[]),I(this,`encodeDataLength`,0),I(this,`sourceEvent`,()=>{this.dataState.dataSourceNeedUpdate=!0,this.processRelativeCoordinates();let e=this.getLayerConfig();e&&e.autoFit&&this.fitBounds(e.fitBoundsOptions),this.layerSource.getSourceCfg().autoRender&&setTimeout(()=>{this.reRender()},10)}),this.name=e.name||this.id,this.zIndex=e.zIndex||0,this.rawConfig=e,this.masks=e.maskLayers||[]}addMask(e){this.masks.push(e),this.updateLayerConfig({maskLayers:this.masks}),this.enableMask()}removeMask(e){let t=this.masks.indexOf(e);t>-1&&this.masks.splice(t,1),this.updateLayerConfig({maskLayers:this.masks})}disableMask(){this.updateLayerConfig({enableMask:!1})}enableMask(){this.updateLayerConfig({enableMask:!0})}addMaskLayer(e){this.masks.push(e)}removeMaskLayer(e){let t=this.masks.indexOf(e);t>-1&&this.masks.splice(t,1),e.destroy()}getAttribute(e){return this.styleAttributeService.getLayerStyleAttribute(e)}getLayerConfig(){return this.configService.getLayerConfig(this.id)}updateLayerConfig(e){if(Object.keys(e).map(t=>{t in this.rawConfig&&(this.rawConfig[t]=e[t])}),!this.startInit)this.needUpdateConfig=P(P({},this.needUpdateConfig),e);else{let t=this.container.id;this.configService.setLayerConfig(t,this.id,P(P(P({},this.configService.getLayerConfig(this.id)),this.needUpdateConfig),e)),this.needUpdateConfig={}}}setContainer(e){this.container=e}getContainer(){return this.container}addPlugin(e){return this.plugins.push(e),this}init(){var e=this;return Y(function*(){let t=e.container.id;e.startInit=!0,e.configService.setLayerConfig(t,e.id,e.rawConfig),e.layerType=e.rawConfig.layerType;let{enableMultiPassRenderer:n,passes:r}=e.getLayerConfig();n&&r!=null&&r.length&&r.length>0&&e.mapService.on(`mapAfterFrameChange`,()=>{e.renderLayers()}),e.postProcessingPassFactory=e.container.postProcessingPassFactory,e.styleAttributeService=e.container.styleAttributeService,n&&(e.multiPassRenderer=e.container.multiPassRenderer,e.multiPassRenderer.setLayer(e)),e.pendingStyleAttributes.forEach(({attributeName:t,attributeField:n,attributeValues:r,updateOptions:i})=>{e.styleAttributeService.updateStyleAttribute(t,{scale:P({field:n},e.splitValuesAndCallbackInAttribute(r,n?void 0:e.getLayerConfig()[t]))},i)}),e.pendingStyleAttributes=[],e.plugins=fx();for(let t of e.plugins)t.apply(e,e.container);e.layerPickService=new mx(e),e.textureService=new hx(e),e.log(dl.LayerInitStart),yield e.hooks.init.promise(),e.log(dl.LayerInitEnd),e.inited=!0,e.emit(`inited`,{target:e,type:`inited`}),e.emit(`add`,{target:e,type:`add`}),e.hooks.afterInit.call()})()}log(e,t=`init`){var n;if(this.tileLayer||this.isTileLayer)return;let r=`${this.id}.${t}.${e}`,i={id:this.id,type:this.type};(n=this.debugService)==null||n.log(r,i)}updateModelData(e){e.attributes&&e.elements?this.models.map(t=>{t.updateAttributesAndElements(e.attributes,e.elements)}):console.warn(`data error`)}setLayerPickService(e){this.layerPickService=e}prepareBuildModel(){Object.keys(this.needUpdateConfig||{}).length!==0&&this.updateLayerConfig({});let{animateOption:e}=this.getLayerConfig();e!=null&&e.enable&&(this.layerService.startAnimate(),this.animateStatus=!0)}color(e,t,n){return this.updateStyleAttribute(`color`,e,t,n),this}texture(e,t,n){return this.updateStyleAttribute(`texture`,e,t,n),this}rotate(e,t,n){return this.updateStyleAttribute(`rotate`,e,t,n),this}size(e,t,n){return this.updateStyleAttribute(`size`,e,t,n),this}filter(e,t,n){let r=this.updateStyleAttribute(`filter`,e,t,n);return this.dataState.dataSourceNeedUpdate=r&&this.inited,this}shape(e,t,n){this.shapeOption={field:e,values:t};let r=this.updateStyleAttribute(`shape`,e,t,n);return this.dataState.dataSourceNeedUpdate=r&&this.inited,this}label(e,t,n){return this.pendingStyleAttributes.push({attributeName:`label`,attributeField:e,attributeValues:t,updateOptions:n}),this}animate(e){let t={};return Sx(e)?(t.enable=!0,t=P(P({},t),e)):t.enable=e,this.updateLayerConfig({animateOption:t}),this}source(e,t){return e?.type===`source`?(this.setSource(e),this):(this.sourceOption={data:e,options:t},this.clusterZoom=0,this)}setData(e,t){return this.inited?(this.dataUpdatelog(),this.layerSource.setData(e,t)):this.on(`inited`,()=>{this.dataUpdatelog(),this.layerSource.setData(e,t)}),this}dataUpdatelog(){this.log(dl.SourceInitStart,gl.UPDATE),this.layerSource.once(`update`,()=>{this.log(dl.SourceInitEnd,gl.UPDATE)})}style(e){let{passes:t}=e,n=Su(e,_x);t&&Qb(t).forEach(e=>{let t=this.multiPassRenderer.getPostProcessor().getPostProcessingPassByName(e[0]);t&&t.updateOptions(e[1])}),n.borderColor&&(n.stroke=n.borderColor),n.borderWidth&&(n.strokeWidth=n.borderWidth);let r=n;return Object.keys(n).forEach(e=>{let t=n[e];Array.isArray(t)&&t.length===2&&!xx(t[0])&&!xx(t[1])&&(r[e]={field:t[0],value:t[1]})}),this.encodeStyle(r),this.updateLayerConfig(r),this}encodeStyle(e){Object.keys(e).forEach(t=>{[...this.enableShaderEncodeStyles,...this.enableDataEncodeStyles].includes(t)&&Cx(e[t])&&(e[t].field||e[t].value)&&!yx(this.encodeStyleAttribute[t],e[t])?(this.encodeStyleAttribute[t]=e[t],this.updateStyleAttribute(t,e[t].field,e[t].value),this.inited&&(this.dataState.dataMappingNeedUpdate=!0)):this.encodeStyleAttribute[t]&&(delete this.encodeStyleAttribute[t],this.dataState.dataSourceNeedUpdate=!0)})}scale(e,t){let n=P({},this.scaleOptions);if(Sx(e)?this.scaleOptions=P(P({},this.scaleOptions),e):this.scaleOptions[e]=t,this.styleAttributeService&&!yx(n,this.scaleOptions)){let n=Sx(e)?e:{[e]:t};this.styleAttributeService.updateScaleAttribute(n)}return this}renderLayers(){this.rendering=!0,this.layerService.reRender(),this.rendering=!1}prerender(){}render(e={}){return this.tileLayer?(this.tileLayer.render(),this):(this.layerService.beforeRenderData(this),this.encodeDataLength<=0&&!this.forceRender||this.renderModels(e),this)}renderMultiPass(){var e=this;return Y(function*(){e.encodeDataLength<=0&&!e.forceRender||(e.multiPassRenderer&&e.multiPassRenderer.getRenderFlag()?yield e.multiPassRenderer.render():e.renderModels())})()}active(e){let t={};return t.enableHighlight=Sx(e)?!0:e,Sx(e)?(t.enableHighlight=!0,e.color&&(t.highlightColor=e.color),e.mix&&(t.activeMix=e.mix)):t.enableHighlight=!!e,this.updateLayerConfig(t),this}setActive(e,t){if(Sx(e)){let{x:n=0,y:r=0}=e;this.updateLayerConfig({highlightColor:Sx(t)?t.color:this.getLayerConfig().highlightColor,activeMix:Sx(t)?t.mix:this.getLayerConfig().activeMix}),this.pick({x:n,y:r})}else this.updateLayerConfig({pickedFeatureID:e,highlightColor:Sx(t)?t.color:this.getLayerConfig().highlightColor,activeMix:Sx(t)?t.mix:this.getLayerConfig().activeMix}),this.hooks.beforeHighlight.call(ri(e)).then(()=>{setTimeout(()=>{this.reRender()},1)})}select(e){let t={};return t.enableSelect=Sx(e)?!0:e,Sx(e)?(t.enableSelect=!0,e.color&&(t.selectColor=e.color),e.mix&&(t.selectMix=e.mix)):t.enableSelect=!!e,this.updateLayerConfig(t),this}setSelect(e,t){if(Sx(e)){let{x:n=0,y:r=0}=e;this.updateLayerConfig({selectColor:Sx(t)?t.color:this.getLayerConfig().selectColor,selectMix:Sx(t)?t.mix:this.getLayerConfig().selectMix}),this.pick({x:n,y:r})}else this.updateLayerConfig({pickedFeatureID:e,selectColor:Sx(t)?t.color:this.getLayerConfig().selectColor,selectMix:Sx(t)?t.mix:this.getLayerConfig().selectMix}),this.hooks.beforeSelect.call(ri(e)).then(()=>{setTimeout(()=>{this.reRender()},1)})}setBlend(e){return this.updateLayerConfig({blend:e}),this.reRender(),this}show(){return this.updateLayerConfig({visible:!0}),this.reRender(),this.emit(`show`),this}hide(){return this.updateLayerConfig({visible:!1}),this.reRender(),this.emit(`hide`),this}setIndex(e){return this.zIndex=e,this.layerService.updateLayerRenderList(),this.layerService.renderLayers(),this}setCurrentPickId(e){this.currentPickId=e}getCurrentPickId(){return this.currentPickId}setCurrentSelectedId(e){this.selectedFeatureID=e}getCurrentSelectedId(){return this.selectedFeatureID}isVisible(){let e=this.mapService.getZoom(),{visible:t,minZoom:n=-1/0,maxZoom:r=1/0}=this.getLayerConfig();return!!t&&e>=n&&e<r}setMultiPass(e,t){if(this.updateLayerConfig({enableMultiPassRenderer:e}),t&&this.updateLayerConfig({passes:t}),e){let{passes:e=[]}=this.getLayerConfig();this.multiPassRenderer=$b(this,e,this.postProcessingPassFactory,this.normalPassFactory),this.multiPassRenderer.setRenderFlag(!0);let{width:t,height:n}=this.rendererService.getViewportSize();this.multiPassRenderer.resize(t,n)}return this}setMinZoom(e){return this.updateLayerConfig({minZoom:e}),this}getMinZoom(){let{minZoom:e}=this.getLayerConfig();return e}getMaxZoom(){let{maxZoom:e}=this.getLayerConfig();return e}get(e){return this.getLayerConfig()[e]}setMaxZoom(e){return this.updateLayerConfig({maxZoom:e}),this}setAutoFit(e){return this.updateLayerConfig({autoFit:e}),this}fitBounds(e){if(!this.inited)return this.updateLayerConfig({autoFit:!0}),this;let t=this.getSource().extent;return t.some(e=>Math.abs(e)===1/0)||this.mapService.fitBounds([[t[0],t[1]],[t[2],t[3]]],e),this}destroy(e=!0){var t,n,r,i,a;if(this.isDestroyed)return;(t=this.layerModel)==null||t.uniformBuffers.forEach(e=>{e.destroy()}),this.layerChildren.map(e=>e.destroy(!1)),this.layerChildren=[];let{maskfence:o}=this.getLayerConfig();o&&(this.masks.map(e=>e.destroy(!1)),this.masks=[]),this.hooks.beforeDestroy.call(),this.layerSource.off(`update`,this.sourceEvent),(n=this.multiPassRenderer)==null||n.destroy(),this.textureService.destroy(),this.styleAttributeService.clearAllAttributes(),this.hooks.afterDestroy.call(),(r=this.layerModel)==null||r.clearModels(e),(i=this.tileLayer)==null||i.destroy(),this.models=[],(a=this.debugService)==null||a.removeLog(this.id),this.emit(`remove`,{target:this,type:`remove`}),this.emit(`destroy`,{target:this,type:`destroy`}),this.removeAllListeners(),this.isDestroyed=!0}clear(){this.styleAttributeService.clearAllAttributes()}clearModels(){var e;this.models.forEach(e=>e.destroy()),(e=this.layerModel)==null||e.clearModels(),this.models=[]}isDirty(){return!!(this.styleAttributeService.getLayerStyleAttributes()||[]).filter(e=>e.needRescale||e.needRemapping||e.needRegenerateVertices).length}setSource(e){if(this.layerSource&&this.layerSource.off(`update`,this.sourceEvent),this.layerSource=e,this.clusterZoom=0,this.inited&&this.layerSource.cluster){let e=this.mapService.getZoom();this.layerSource.updateClusterData(e)}this.layerSource.inited&&this.sourceEvent(),this.layerSource.on(`update`,({type:e})=>{if(this.coordCenter===void 0&&(this.coordCenter=this.layerSource.center),e===`update`){if(this.tileLayer){this.tileLayer.reload();return}this.sourceEvent()}e===`inited`&&this.processRelativeCoordinates()})}getSource(){return this.layerSource}getScaleOptions(){return this.scaleOptions}setEncodedData(e){this.encodedData=e,this.encodeDataLength=e.length}getEncodedData(){return this.encodedData}getScale(e){return this.styleAttributeService.getLayerAttributeScale(e)}getLegend(e){var t,n,r;let i=this.styleAttributeService.getLayerStyleAttribute(e);return{type:(n=((i==null||(t=i.scale)==null?void 0:t.scalers)||[])[0])==null||(n=n.option)==null?void 0:n.type,field:i==null||(r=i.scale)==null?void 0:r.field,items:this.getLegendItems(e)}}getLegendItems(e){let t=this.styleAttributeService.getLayerAttributeScale(e);return t?t.invertExtent?t.range().map(n=>({value:t.invertExtent(n),[e]:n})):t.ticks?t.ticks().map(n=>({value:n,[e]:t(n)})):t!=null&&t.domain?t.domain().filter(e=>!Tx(e)).map(n=>({value:n,[e]:t(n)})):[]:[]}pick({x:e,y:t}){this.interactionService.triggerHover({x:e,y:t})}boxSelect(e,t){this.pickingService.boxPickLayer(this,e,t)}buildLayerModel(e){var t=this;return Y(function*(){let{moduleName:n,vertexShader:r,fragmentShader:i,defines:a,inject:o,triangulation:s,styleOption:c,pickingEnabled:l=!0}=e,u=Su(e,vx);t.shaderModuleService.registerModule(n,{vs:r,fs:i,defines:a,inject:o});let{vs:d,fs:f,uniforms:p}=t.shaderModuleService.getModule(n),{createModel:m}=t.rendererService;return new Promise(e=>{let{attributes:n,elements:r,count:i}=t.styleAttributeService.createAttributesAndIndices(t.encodedData,s,c,t),a=[...t.layerModel.uniformBuffers,...t.rendererService.uniformBuffers];l&&a.push(t.getPickingUniformBuffer());let o=P({attributes:n,uniforms:p,fs:f,vs:d,elements:r,blend:px[pl.normal],uniformBuffers:a,textures:t.layerModel.textures},u);i&&(o.count=i);let h=m(o);e(h)})})()}createAttributes(e){let{triangulation:t}=e,{attributes:n}=this.styleAttributeService.createAttributes(this.encodedData,t);return n}getTime(){return this.layerService.clock.getDelta()}setAnimateStartTime(){this.animateStartTime=this.layerService.clock.getElapsedTime()}stopAnimate(){this.animateStatus&&(this.layerService.stopAnimate(),this.animateStatus=!1,this.updateLayerConfig({animateOption:{enable:!1}}))}getLayerAnimateTime(){return this.layerService.clock.getElapsedTime()-this.animateStartTime}needPick(e){let{enableHighlight:t=!0,enableSelect:n=!0}=this.getLayerConfig(),r=this.eventNames().indexOf(e)!==-1||this.eventNames().indexOf(`un`+e)!==-1;return(e===`click`||e===`dblclick`)&&n&&(r=!0),e===`mousemove`&&(t||this.eventNames().indexOf(`mouseenter`)!==-1||this.eventNames().indexOf(`unmousemove`)!==-1||this.eventNames().indexOf(`mouseout`)!==-1)&&(r=!0),this.isVisible()&&r}buildModels(){return Y(function*(){throw Error(`Method not implemented.`)})()}rebuildModels(){var e=this;return Y(function*(){yield e.buildModels()})()}renderMulPass(e){return Y(function*(){yield e.render()})()}renderModels(e={}){return this.encodeDataLength<=0&&!this.forceRender?(this.clearModels(),this):(this.hooks.beforeRender.call(),this.models.forEach(t=>{t.draw({uniforms:this.layerModel.getUninforms(),blend:this.layerModel.getBlend(),stencil:this.layerModel.getStencil(e),textures:this.layerModel.textures},e?.ispick||!1)}),this.hooks.afterRender.call(),this)}updateStyleAttribute(e,t,n,r){let i=this.configService.getAttributeConfig(this.id)||{};return yx(i[e],{field:t,values:n})?!1:([`color`,`size`,`texture`,`rotate`,`filter`,`label`,`shape`].indexOf(e)!==-1&&this.configService.setAttributeConfig(this.id,{[e]:{field:t,values:n}}),this.startInit?this.styleAttributeService.updateStyleAttribute(e,{scale:P({field:t},this.splitValuesAndCallbackInAttribute(n,this.getLayerConfig()[t]))},r):this.pendingStyleAttributes.push({attributeName:e,attributeField:t,attributeValues:n,updateOptions:r}),!0)}getLayerAttributeConfig(){return this.configService.getAttributeConfig(this.id)}getShaderPickStat(){return this.layerService.getShaderPickStat()}setEarthTime(e){console.warn(`empty fn`)}processData(e){return e}getModelType(){throw Error(`Method not implemented.`)}getDefaultConfig(){return{}}processRelativeCoordinates(){if(!this.getLayerConfig().enableRelativeCoordinates||!this.layerSource||!this.layerSource.data)return;this.absoluteDataArray=[...this.layerSource.data.dataArray];let e=Wh(this.layerSource.data.dataArray,{enableRelativeCoordinates:!0});this.layerSource.data.dataArray=e.dataArray,this.relativeOrigin=e.relativeOrigin,this.originalExtent=e.originalExtent}getAbsoluteData(){return this.absoluteDataArray}getRelativeOrigin(){return this.relativeOrigin}getOriginalExtent(){return this.originalExtent}initLayerModels(){var e=this;return Y(function*(){e.models.forEach(e=>e.destroy()),e.models=[],e.uniformBuffers.forEach(e=>{e.destroy()}),e.uniformBuffers=[];let t=e.rendererService.createBuffer({data:new Float32Array(20).fill(0),isUBO:!0,label:`pickingUniforms`});e.uniformBuffers.push(t),e.models=yield e.layerModel.initModels()})()}getPickingUniformBuffer(){return this.uniformBuffers[0]}reRender(){this.inited&&this.layerService.reRender()}splitValuesAndCallbackInAttribute(e){return{values:bx(e)?void 0:e,callback:bx(e)?e:void 0}}};function Ox(e,t){return{enable:e,mask:255,func:{cmp:q.EQUAL,ref:t?1:0,mask:1}}}function kx(e){return e.maskOperation===hl.OR?{enable:!0,mask:255,func:{cmp:q.ALWAYS,ref:1,mask:255},opFront:{fail:q.KEEP,zfail:q.REPLACE,zpass:q.REPLACE}}:{enable:!0,mask:255,func:{cmp:e.stencilType===ml.SINGLE||e.stencilIndex===0?q.ALWAYS:q.LESS,ref:e.stencilType===ml.SINGLE?1:e.stencilIndex===0?2:1,mask:255},opFront:{fail:q.KEEP,zfail:q.REPLACE,zpass:q.REPLACE}}}const Ax={opacity:1,stroke:[1,0,0,1],offsets:[0,0],rotation:0,extrusionBase:0,strokeOpacity:1,thetaOffset:.314},jx={opacity:`float`,stroke:`vec4`,offsets:`vec2`,textOffset:`vec2`,rotation:`float`,extrusionBase:`float`,strokeOpacity:`float`,thetaOffset:`float`};var Mx=t(((exports,t)=>{t.exports=n,t.exports.default=n;function n(e,t,n){n||=2;var i=t&&t.length,o=i?t[0]*n:e.length,s=r(e,0,o,n,!0),c=[];if(!s||s.next===s.prev)return c;var l,d,f,p,m,h,g;if(i&&(s=u(e,t,s,n)),e.length>80*n){l=f=e[0],d=p=e[1];for(var _=n;_<o;_+=n)m=e[_],h=e[_+1],m<l&&(l=m),h<d&&(d=h),m>f&&(f=m),h>p&&(p=h);g=Math.max(f-l,p-d),g=g===0?0:32767/g}return a(s,c,n,l,d,g,0),c}function r(e,t,n,r,i){var a,o;if(i===N(e,t,n,r)>0)for(a=t;a<n;a+=r)o=A(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=A(a,e[a],e[a+1],o);return o&&S(o,o.next)&&(j(o),o=o.next),o}function i(e,t){if(!e)return e;t||=e;var n=e,r;do if(r=!1,!n.steiner&&(S(n,n.next)||x(n.prev,n,n.next)===0)){if(j(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function a(e,t,n,r,u,d,f){if(e){!f&&d&&h(e,r,u,d);for(var p=e,m,g;e.prev!==e.next;){if(m=e.prev,g=e.next,d?s(e,r,u,d):o(e)){t.push(m.i/n|0),t.push(e.i/n|0),t.push(g.i/n|0),j(e),e=g.next,p=g.next;continue}if(e=g,e===p){f?f===1?(e=c(i(e),t,n),a(e,t,n,r,u,d,2)):f===2&&l(e,t,n,r,u,d):a(i(e),t,n,r,u,d,1);break}}}}function o(e){var t=e.prev,n=e,r=e.next;if(x(t,n,r)>=0)return!1;for(var i=t.x,a=n.x,o=r.x,s=t.y,c=n.y,l=r.y,u=i<a?i<o?i:o:a<o?a:o,d=s<c?s<l?s:l:c<l?c:l,f=i>a?i>o?i:o:a>o?a:o,p=s>c?s>l?s:l:c>l?c:l,m=r.next;m!==t;){if(m.x>=u&&m.x<=f&&m.y>=d&&m.y<=p&&y(i,s,a,c,o,l,m.x,m.y)&&x(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function s(e,t,n,r){var i=e.prev,a=e,o=e.next;if(x(i,a,o)>=0)return!1;for(var s=i.x,c=a.x,l=o.x,u=i.y,d=a.y,f=o.y,p=s<c?s<l?s:l:c<l?c:l,m=u<d?u<f?u:f:d<f?d:f,h=s>c?s>l?s:l:c>l?c:l,g=u>d?u>f?u:f:d>f?d:f,v=_(p,m,t,n,r),b=_(h,g,t,n,r),S=e.prevZ,C=e.nextZ;S&&S.z>=v&&C&&C.z<=b;){if(S.x>=p&&S.x<=h&&S.y>=m&&S.y<=g&&S!==i&&S!==o&&y(s,u,c,d,l,f,S.x,S.y)&&x(S.prev,S,S.next)>=0||(S=S.prevZ,C.x>=p&&C.x<=h&&C.y>=m&&C.y<=g&&C!==i&&C!==o&&y(s,u,c,d,l,f,C.x,C.y)&&x(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;S&&S.z>=v;){if(S.x>=p&&S.x<=h&&S.y>=m&&S.y<=g&&S!==i&&S!==o&&y(s,u,c,d,l,f,S.x,S.y)&&x(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;C&&C.z<=b;){if(C.x>=p&&C.x<=h&&C.y>=m&&C.y<=g&&C!==i&&C!==o&&y(s,u,c,d,l,f,C.x,C.y)&&x(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function c(e,t,n){var r=e;do{var a=r.prev,o=r.next.next;!S(a,o)&&C(a,r,r.next,o)&&D(a,o)&&D(o,a)&&(t.push(a.i/n|0),t.push(r.i/n|0),t.push(o.i/n|0),j(r),j(r.next),r=e=o),r=r.next}while(r!==e);return i(r)}function l(e,t,n,r,o,s){var c=e;do{for(var l=c.next.next;l!==c.prev;){if(c.i!==l.i&&b(c,l)){var u=k(c,l);c=i(c,c.next),u=i(u,u.next),a(c,t,n,r,o,s,0),a(u,t,n,r,o,s,0);return}l=l.next}c=c.next}while(c!==e)}function u(e,t,n,i){var a=[],o,s,c,l,u;for(o=0,s=t.length;o<s;o++)c=t[o]*i,l=o<s-1?t[o+1]*i:e.length,u=r(e,c,l,i,!1),u===u.next&&(u.steiner=!0),a.push(v(u));for(a.sort(d),o=0;o<a.length;o++)n=f(a[o],n);return n}function d(e,t){return e.x-t.x}function f(e,t){var n=p(e,t);if(!n)return t;var r=k(n,e);return i(r,r.next),i(n,n.next)}function p(e,t){var n=t,r=e.x,i=e.y,a=-1/0,o;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var s=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=r&&s>a&&(a=s,o=n.x<n.next.x?n:n.next,s===r))return o}n=n.next}while(n!==t);if(!o)return null;var c=o,l=o.x,u=o.y,d=1/0,f;n=o;do r>=n.x&&n.x>=l&&r!==n.x&&y(i<u?r:a,i,l,u,i<u?a:r,i,n.x,n.y)&&(f=Math.abs(i-n.y)/(r-n.x),D(n,e)&&(f<d||f===d&&(n.x>o.x||n.x===o.x&&m(o,n)))&&(o=n,d=f)),n=n.next;while(n!==c);return o}function m(e,t){return x(e.prev,e,t.prev)<0&&x(t.next,e,e.next)<0}function h(e,t,n,r){var i=e;do i.z===0&&(i.z=_(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,g(i)}function g(e){var t,n,r,i,a,o,s,c,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ,r);t++);for(c=l;s>0||c>0&&r;)s!==0&&(c===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,c--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1);return e}function _(e,t,n,r,i){return e=(e-n)*i|0,t=(t-r)*i|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function v(e){var t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function y(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function b(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!E(e,t)&&(D(e,t)&&D(t,e)&&O(e,t)&&(x(e.prev,e,t.prev)||x(e,t.prev,t))||S(e,t)&&x(e.prev,e,e.next)>0&&x(t.prev,t,t.next)>0)}function x(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function S(e,t){return e.x===t.x&&e.y===t.y}function C(e,t,n,r){var i=T(x(e,t,n)),a=T(x(e,t,r)),o=T(x(n,r,e)),s=T(x(n,r,t));return!!(i!==a&&o!==s||i===0&&w(e,n,t)||a===0&&w(e,r,t)||o===0&&w(n,e,r)||s===0&&w(n,t,r))}function w(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function T(e){return e>0?1:e<0?-1:0}function E(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&C(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function D(e,t){return x(e.prev,e,e.next)<0?x(e,t,e.next)>=0&&x(e,e.prev,t)>=0:x(e,t,e.prev)<0||x(e,e.next,t)<0}function O(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function k(e,t){var n=new M(e.i,e.x,e.y),r=new M(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function A(e,t,n,r){var i=new M(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function j(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function M(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}n.deviation=function(e,t,n,r){var i=t&&t.length,a=i?t[0]*n:e.length,o=Math.abs(N(e,0,a,n));if(i)for(var s=0,c=t.length;s<c;s++){var l=t[s]*n,u=s<c-1?t[s+1]*n:e.length;o-=Math.abs(N(e,l,u,n))}var d=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,p=r[s+1]*n,m=r[s+2]*n;d+=Math.abs((e[f]-e[m])*(e[p+1]-e[f+1])-(e[f]-e[p])*(e[m+1]-e[f+1]))}return o===0&&d===0?0:Math.abs((d-o)/o)};function N(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}n.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)n.vertices.push(e[i][a][o]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}})),Nx=e(Mx());function Px(e){return Math.max(Math.ceil(e/4)*4,4)}function Fx(e,t,n,r=!0){let i=n===3;if(r){e=e.slice();let t=[];for(let r=0;r<e.length;r+=n){t[0]=e[r],t[1]=e[r+1],i&&(t[2]=e[r+2]);let n=Bi(t,!0,{enable:!1,decimal:1});e[r]=n[0],e[r+1]=n[1],i&&(e[r+2]=n[2])}}return(0,Nx.default)(e,t,n)}var Ix=`ATTRIBUTE_LOCATION_`,Lx=class{get attributeLocation(){return P({},tx)}constructor(e){I(this,`triangulation`,void 0),I(this,`uniformBuffers`,[]),I(this,`textures`,[]),I(this,`createTexture2D`,void 0),I(this,`preStyleAttribute`,{}),I(this,`encodeStyleAttribute`,{}),I(this,`layer`,void 0),I(this,`dataTexture`,void 0),I(this,`DATA_TEXTURE_WIDTH`,void 0),I(this,`dataTextureTest`,void 0),I(this,`configService`,void 0),I(this,`shaderModuleService`,void 0),I(this,`rendererService`,void 0),I(this,`iconService`,void 0),I(this,`fontService`,void 0),I(this,`styleAttributeService`,void 0),I(this,`mapService`,void 0),I(this,`cameraService`,void 0),I(this,`layerService`,void 0),I(this,`pickingService`,void 0),I(this,`attributeUnifoms`,void 0),I(this,`commonUnifoms`,void 0),this.layer=e,this.configService=e.getContainer().globalConfigService,this.rendererService=e.getContainer().rendererService,this.pickingService=e.getContainer().pickingService,this.shaderModuleService=e.getContainer().shaderModuleService,this.styleAttributeService=e.getContainer().styleAttributeService,this.mapService=e.getContainer().mapService,this.iconService=e.getContainer().iconService,this.fontService=e.getContainer().fontService,this.cameraService=e.getContainer().cameraService,this.layerService=e.getContainer().layerService,this.registerStyleAttribute(),this.registerBuiltinAttributes(),this.startModelAnimate();let{createTexture2D:t}=this.rendererService;this.createTexture2D=t}getBlend(){let{blend:e=`normal`}=this.layer.getLayerConfig();return px[pl[e]]}getStencil(e){let{mask:t=!1,maskInside:n=!0,enableMask:r,maskOperation:i=hl.AND}=this.layer.getLayerConfig();if(this.layer.type===`MaskLayer`)return kx({isStencil:!0,stencilType:ml.SINGLE});if(e.isStencil)return kx(P(P({},e),{},{maskOperation:i}));let a=t||r&&this.layer.masks.length!==0||this.layer.tileMask!==void 0;return Ox(a,n)}getDefaultStyle(){return{}}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());this.updateStyleUnifoms();let n=P(P({},t.uniformsOption),e.uniformsOption);return Object.keys(n).forEach(e=>{typeof n[e]==`boolean`&&(n[e]=n[e]?1:0)}),!this.rendererService.hasOwnProperty(`device`)&&this.textures&&this.textures.length===1&&(n.u_texture=this.textures[0]),n}getAnimateUniforms(){return{}}needUpdate(){return Y(function*(){return!1})()}buildModels(){return Y(function*(){throw Error(`Method not implemented.`)})()}initModels(){return Y(function*(){throw Error(`Method not implemented.`)})()}clearModels(e=!0){}getAttribute(){throw Error(`Method not implemented.`)}prerender(){}render(e){throw Error(`Method not implemented.`)}registerBuiltinAttributes(){throw Error(`Method not implemented.`)}animateOption2Array(e){return[e.enable?0:1,e.duration||4,e.interval||.2,e.trailLength||.1]}startModelAnimate(){let{animateOption:e}=this.layer.getLayerConfig();e.enable&&this.layer.setAnimateStartTime()}getInject(){return Rx(this.layer.enableShaderEncodeStyles,this.layer.encodeStyleAttribute)}getDefines(){let e=Object.keys(this.attributeLocation).reduce((e,t)=>{let n=Ix+t;return e[n]=this.attributeLocation[t],e},{});return P({},e)}getStyleAttribute(){let e={};return this.layer.enableShaderEncodeStyles.forEach(t=>{if(!this.layer.encodeStyleAttribute[t]){let n=this.layer.getLayerConfig()[t],r=n===void 0?Ax[t]:n;t===`stroke`&&(r=ti(r)),e[`u_`+t]=r}}),e}registerStyleAttribute(){Object.keys(this.layer.encodeStyleAttribute).forEach(e=>{let t=nx(e);t&&this.styleAttributeService.registerStyleAttribute(t)})}registerPosition64LowAttribute(e=!0){this.styleAttributeService.registerStyleAttribute({name:`position64Low`,type:J.Attribute,descriptor:{name:`a_Position64Low`,shaderLocation:this.attributeLocation.POSITION_64LOW,buffer:{data:[],type:q.FLOAT},size:2,update:(t,n,r)=>e?[Fi(r[0]),Fi(r[1])]:[0,0]}})}updateEncodeAttribute(e,t){this.encodeStyleAttribute[e]=t}initUniformsBuffer(){let e=this.getUniformsBufferInfo(this.getStyleAttribute()),t=this.getCommonUniformsInfo();e.uniformsLength!==0&&(this.attributeUnifoms=this.rendererService.createBuffer({data:new Float32Array(Px(e.uniformsLength)).fill(0),isUBO:!0,label:`layerModelAttributeUnifoms`}),this.uniformBuffers.push(this.attributeUnifoms)),t.uniformsLength!==0&&(this.commonUnifoms=this.rendererService.createBuffer({data:new Float32Array(Px(t.uniformsLength)).fill(0),isUBO:!0,label:`layerModelCommonUnifoms`}),this.uniformBuffers.push(this.commonUnifoms))}getUniformsBufferInfo(e){let t=0,n=[];return Object.values(e).forEach(e=>{Array.isArray(e)?(n.push(...e),t+=e.length):typeof e==`number`?(n.push(e),t+=1):typeof e==`boolean`&&(n.push(Number(e)),t+=1)}),{uniformsOption:e,uniformsLength:t,uniformsArray:n}}getCommonUniformsInfo(){return{uniformsLength:0,uniformsArray:[],uniformsOption:{}}}updateStyleUnifoms(){var e,t;let{uniformsArray:n}=this.getUniformsBufferInfo(this.getStyleAttribute()),{uniformsArray:r}=this.getCommonUniformsInfo();(e=this.attributeUnifoms)==null||e.subData({offset:0,data:new Uint8Array(new Float32Array(n).buffer)}),(t=this.commonUnifoms)==null||t.subData({offset:0,data:new Uint8Array(new Float32Array(r).buffer)})}};function Rx(e,t){let n=[],r=``;e.forEach(e=>{let i=e.replace(/([a-z])([A-Z])/g,`$1_$2`).toUpperCase(),a=Ix+i;t[e]?r+=`#define USE_ATTRIBUTE_${i} 0.0 \n`:n.push(`  ${jx[e]} u_${e};`),r+=`
#ifdef USE_ATTRIBUTE_${i}
layout(location = ${a}) in ${jx[e]} a_${e.charAt(0).toUpperCase()+e.slice(1)};
#endif \n`});let i=n.length?`
layout(std140) uniform AttributeUniforms {
  ${n.join(`
`)}
};\n`:``;r+=i;let a=``;return e.forEach(e=>{let t=e.replace(/([a-z])([A-Z])/g,`$1_$2`).toUpperCase();a+=`
  #ifdef USE_ATTRIBUTE_${t}
    ${jx[e]} ${e} = a_${e.charAt(0).toUpperCase()+e.slice(1)};
  #else
    ${jx[e]} ${e} = u_${e};
  #endif
  `}),{"vs:#decl":r,"fs:#decl":i,"vs:#main-start":a}}let zx=function(e){return e.VERTICAL=`vertical`,e.HORIZONTAL=`horizontal`,e}({}),Bx=function(e){return e.NORMAL=`normal`,e.REPLACE=`replace`,e}({}),Vx=function(e){return e[e.pixel=0]=`pixel`,e[e.meter=1]=`meter`,e}({});function Hx(e){return e/180*Math.acos(-1)}function Ux(e){let t=Hx(e[0])+Math.PI/2,n=Hx(e[1]),r=100+Math.random()*.4,i=r*Math.cos(n)*Math.cos(t),a=r*Math.cos(n)*Math.sin(t),o=r*Math.sin(n);return[a,o,i]}var Wx=Se();Se();var Gx=Se(),Kx=Se(),qx=Se();function Jx(e,t,n,r,i){ke(e,n,r),Te(e,e),t=be(-e[1],e[0]);let a=be(-n[1],n[0]);return[i/Ee(t,a),t]}function Yx(e,t){return xe(e,-t[1],t[0])}function Xx(e,t,n){return ve(e,t,n),Te(e,e),e}function Zx(e,t){return e[0]===t[0]&&e[1]===t[1]}var Qx=class{constructor(e={}){I(this,`complex`,void 0),I(this,`join`,void 0),I(this,`cap`,void 0),I(this,`miterLimit`,void 0),I(this,`thickness`,void 0),I(this,`normal`,void 0),I(this,`lastFlip`,-1),I(this,`miter`,be(0,0)),I(this,`started`,!1),I(this,`dash`,!1),I(this,`totalDistance`,0),I(this,`currentIndex`,0),this.join=e.join||`miter`,this.cap=e.cap||`butt`,this.miterLimit=e.miterLimit||10,this.thickness=e.thickness||1,this.dash=e.dash||!1,this.complex={positions:[],indices:[],normals:[],startIndex:0,indexes:[]}}simpleExtrude(e){let t=this.complex;if(e.length<=1)return t;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;let n=e.length,r=t.startIndex;for(let i=1;i<n;i++){let n=e[i-1],a=e[i],o=i<e.length-1?e[i+1]:null,s=this.simpleSegment(t,r,n,a,o);r+=s}if(this.dash)for(let e=0;e<t.positions.length/6;e++)t.positions[e*6+5]=this.totalDistance;return t.startIndex=t.positions.length/6,t}extrude(e){let t=this.complex;if(e.length<=1)return t;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;let n=e.length,r=t.startIndex;for(let i=1;i<n;i++){let n=e[i-1],a=e[i],o=i<e.length-1?e[i+1]:null,s=this.segment(t,r,n,a,o);r+=s}if(this.dash)for(let e=0;e<t.positions.length/6;e++)t.positions[e*6+5]=this.totalDistance;return t.startIndex=t.positions.length/6,t}simpleSegment(e,t,n,r,i){let a=0,o=e.indices,s=e.positions,c=e.normals,l=Wi([r[0],r[1]]),u=Wi([n[0],n[1]]);Xx(Gx,l,u);let d=0;if(this.dash&&(d=this.lineSegmentDistance(l,u),this.totalDistance+=d),this.normal||(this.normal=Se(),Yx(this.normal,Gx)),this.started||(this.started=!0,this.extrusions(s,c,n,this.normal,this.thickness,this.totalDistance-d)),o.push(t+0,t+1,t+2),!i)Yx(this.normal,Gx),this.extrusions(s,c,r,this.normal,this.thickness,this.totalDistance),o.push(...this.lastFlip===1?[t,t+2,t+3]:[t+2,t+1,t+3]),a+=2;else{let e=Wi([i[0],i[1]]);Zx(l,e)&&ke(e,l,Te(e,je(e,l,u))),Xx(Kx,e,l);let[n,d]=Jx(qx,Se(),Gx,Kx,this.thickness),f=Ee(qx,this.normal)<0?-1:1;this.extrusions(s,c,r,d,n,this.totalDistance),o.push(...this.lastFlip===1?[t,t+2,t+3]:[t+2,t+1,t+3]),f=-1,Oe(this.normal,d),a+=2,this.lastFlip=f}return a}segment(e,t,n,r,i){let a=0,o=e.indices,s=e.positions,c=e.normals,l=this.cap===`square`,u=this.join===`bevel`,d=Wi([r[0],r[1]]),f=Wi([n[0],n[1]]);Xx(Gx,d,f);let p=0;if(this.dash&&(p=this.lineSegmentDistance(d,f),this.totalDistance+=p),this.normal||(this.normal=Se(),Yx(this.normal,Gx)),!this.started)if(this.started=!0,l){let e=Se(),t=Se();ke(e,this.normal,Gx),ke(t,this.normal,Gx),c.push(t[0],t[1],0),c.push(e[0],e[1],0),s.push(n[0],n[1],n[2]|0,this.totalDistance-p,-this.thickness,n[2]|0),this.complex.indexes.push(this.currentIndex),s.push(n[0],n[1],n[2]|0,this.totalDistance-p,this.thickness,n[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(s,c,n,this.normal,this.thickness,this.totalDistance-p);if(o.push(t+0,t+1,t+2),i){let e=Wi([i[0],i[1]]);Zx(d,e)&&ke(e,d,Te(e,je(e,d,f))),Xx(Kx,e,d);let[n,l]=Jx(qx,Se(),Gx,Kx,this.thickness),p=Ee(qx,this.normal)<0?-1:1,m=u;!m&&this.join===`miter`&&n>this.miterLimit&&(m=!0),m?(c.push(this.normal[0],this.normal[1],0),c.push(l[0],l[1],0),s.push(r[0],r[1],r[2]|0,this.totalDistance,-this.thickness*p,r[2]|0),this.complex.indexes.push(this.currentIndex),s.push(r[0],r[1],r[2]|0,this.totalDistance,this.thickness*p,r[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++,o.push(...this.lastFlip===-p?[t+2,t+1,t+3]:[t,t+2,t+3]),o.push(t+2,t+3,t+4),Yx(Wx,Kx),Oe(this.normal,Wx),c.push(this.normal[0],this.normal[1],0),s.push(r[0],r[1],r[2]|0,this.totalDistance,-this.thickness*p,r[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++,a+=3):(this.extrusions(s,c,r,l,n,this.totalDistance),o.push(...this.lastFlip===1?[t,t+2,t+3]:[t+2,t+1,t+3]),p=-1,Oe(this.normal,l),a+=2),this.lastFlip=p}else{if(Yx(this.normal,Gx),l){let e=Se(),t=Se();ve(t,Gx,this.normal),ke(e,Gx,this.normal),c.push(t[0],t[1],0),c.push(e[0],e[1],0),s.push(r[0],r[1],r[2]|0,this.totalDistance,this.thickness,r[2]|0),this.complex.indexes.push(this.currentIndex),s.push(r[0],r[1],r[2]|0,this.totalDistance,this.thickness,r[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(s,c,r,this.normal,this.thickness,this.totalDistance);o.push(...this.lastFlip===1?[t,t+2,t+3]:[t+2,t+1,t+3]),a+=2}return a}extrusions(e,t,n,r,i,a){t.push(r[0],r[1],0),t.push(r[0],r[1],0),e.push(n[0],n[1],n[2]|0,a,-i,n[2]|0),this.complex.indexes.push(this.currentIndex),e.push(n[0],n[1],n[2]|0,a,i,n[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}lineSegmentDistance(e,t){let n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}};let $x=function(e){return e.CYLINDER=`cylinder`,e.SQUARECOLUMN=`squareColumn`,e.TRIANGLECOLUMN=`triangleColumn`,e.HEXAGONCOLUMN=`hexagonColumn`,e.PENTAGONCOLUMN=`pentagonColumn`,e}({}),eS=function(e){return e.CIRCLE=`circle`,e.SQUARE=`square`,e.TRIANGLE=`triangle`,e.HEXAGON=`hexagon`,e.PENTAGON=`pentagon`,e}({});function tS(e,t=0){let n=Math.PI*2/e,r=[];for(let i=0;i<e;i++)r.push(n*i+t*Math.PI/12);return r.map(e=>{let t=Math.sin(e+Math.PI/4),n=Math.cos(e+Math.PI/4);return[t,n,0]})}function nS(){return tS(30)}function rS(){return tS(4)}function iS(){return tS(3)}function aS(){return tS(6,1)}function oS(){return tS(5)}const sS={[eS.CIRCLE]:nS,[eS.HEXAGON]:aS,[eS.TRIANGLE]:iS,[eS.SQUARE]:rS,[eS.PENTAGON]:oS,[$x.CYLINDER]:nS,[$x.HEXAGONCOLUMN]:aS,[$x.TRIANGLECOLUMN]:iS,[$x.SQUARECOLUMN]:rS,[$x.PENTAGONCOLUMN]:oS};var cS=e(Mx());function lS(e){let t=e[0][0],n=e[0][e[0].length-1];t[0]===n[0]&&t[1]===n[1]&&(e[0]=e[0].slice(0,e[0].length-1));let r=e[0].length,i=cS.default.flatten(e),{vertices:a,dimensions:o}=i,s=[],c=[];for(let e=0;e<a.length/o;e++)o===2?s.push(a[e*2],a[e*2+1],1):s.push(a[e*3],a[e*3+1],1);let l=(0,cS.default)(i.vertices,i.holes,i.dimensions);c.push(...l);for(let e=0;e<r;e++){let t=i.vertices.slice(e*o,(e+1)*o),n=i.vertices.slice((e+1)*o,(e+2)*o);n.length===0&&(n=i.vertices.slice(0,o));let r=s.length/3;s.push(t[0],t[1],1,n[0],n[1],1,t[0],t[1],0,n[0],n[1],0),c.push(...[0,2,1,2,3,1].map(e=>e+r))}return{positions:s,index:c}}function uS(e){let t=cS.default.flatten(e),n=(0,cS.default)(t.vertices,t.holes,t.dimensions);return{positions:t.vertices,index:n}}function dS(e,t=!1){let n=e[0][0],r=e[0][e[0].length-1];n[0]===r[0]&&n[1]===r[1]&&(e[0]=e[0].slice(0,e[0].length-1));let i=e[0].length,a=cS.default.flatten(e),{vertices:o,dimensions:s,holes:c}=a,l=[],u=[],d=[];for(let e=0;e<o.length/s;e++)l.push(o[e*s],o[e*s+1],1,-1,-1),d.push(0,0,1);let f=Fx(o,c,s,t);u.push(...f);for(let e=0;e<i;e++){let n=a.vertices.slice(e*s,(e+1)*s),r=a.vertices.slice((e+1)*s,(e+2)*s);r.length===0&&(r=a.vertices.slice(0,s));let i=l.length/5;l.push(n[0],n[1],1,0,0,r[0],r[1],1,.1,0,n[0],n[1],0,0,.8,r[0],r[1],0,.1,.8);let o=fS([r[0],r[1],1],[n[0],n[1],0],[n[0],n[1],1],t);d.push(...o,...o,...o,...o),u.push(...[1,2,0,3,2,1].map(e=>e+i))}return{positions:l,index:u,normals:d}}function fS(e,t,n,r=!1){let i=Ne(),a=Ne(),o=Ne();r&&(e=Bi(e),t=Bi(t),n=Bi(n));let s=ce(...e),c=ce(...t),l=ce(...n);le(i,l,c),le(a,s,c),_e(o,i,a);let u=Ne();return z(u,o),u}var pS=e(Mx()),mS={};function hS(e){let t=Xi(e.coordinates);return{vertices:[...t,...t,...t,...t],indices:[0,1,2,2,3,0],size:t.length}}function gS(e){let t=Xi(e.coordinates),n=Ux(t);return{vertices:[...n,...n,...n,...n],indices:[0,1,2,2,3,0],size:n.length}}function _S(e){let{shape:t}=e,{positions:n,index:r,normals:i}=MS(t,!1);return{vertices:n,indices:r,normals:i,size:5}}function vS(e){let t=Xi(e.coordinates);return{vertices:[...t],indices:[0],size:t.length}}function yS(e){let{coordinates:t}=e,n=new Qx({dash:!0,join:`bevel`}),r=t;r[0]&&!Array.isArray(r[0][0])&&(r=[t]),r.forEach(e=>{n.extrude(e)});let i=n.complex;return{vertices:i.positions,indices:i.indices,normals:i.normals,indexes:i.indexes,size:6}}function bS(e){let{coordinates:t}=e,n=[];if(!Array.isArray(t[0]))return{vertices:[],indices:[],normals:[],size:6,count:0};let{results:r,totalDistance:i}=CS(t);return r.map(e=>{n.push(e[0],e[1],e[2],e[3],0,i)}),{vertices:n,indices:[],normals:[],size:6,count:r.length}}function xS(e,t){let n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}function SS(e,t){return e.length<3&&e.push(0),t!==void 0&&e.push(t),e}function CS(e){let t=e;Array.isArray(t)&&Array.isArray(t[0])&&Array.isArray(t[0][0])&&(t=e.flat());let n=0;if(t.length<2)return{results:t,totalDistance:0};{let e=[],r=SS(t[0],n);e.push(r);for(let r=1;r<t.length-1;r++){let i=xS(Wi(t[r-1]),Wi(t[r]));n+=i;let a=SS(t[r],n);e.push(a),e.push(a)}let i=xS(Wi(t[t.length-2]),Wi(t[t.length-1]));return n+=i,e.push(SS(t[t.length-1],n)),{results:e,totalDistance:n}}}function wS(e){let{coordinates:t}=e,{vertices:n,dimensions:r,holes:i}=pS.default.flatten(t);return{indices:Fx(n,i,r),vertices:n,size:r}}function TS(e){let{indices:t,vertices:n,size:r}=wS(e);return{indices:t,vertices:ES(n),size:r+4}}function ES(e){let t=[],{center:n,radius:r}=Zi(e);for(let i=0;i<e.length;i+=2){let a=e[i],o=e[i+1];t.push(a,o,0,...n,r)}return t}function DS(e){let t=e.coordinates,{positions:n,index:r,normals:i}=dS(t,!0);return{vertices:n,indices:r,normals:i,size:5}}function OS(e){let{shape:t}=e,{positions:n,index:r}=NS(t);return{vertices:n,indices:r,size:3}}function kS(e){let t=e.coordinates;return{vertices:[...t[0],0,0,0,...t[1],0,1,0,...t[2],0,1,1,...t[3],0,0,1],indices:[0,1,2,0,2,3],size:5}}function AS(e,t){let{segmentNumber:n=30}=t,r=e.coordinates,i=[],a=[];for(let e=0;e<n;e++)i.push(e,1,e,r[0][0],r[0][1],r[1][0],r[1][1],e,-1,e,r[0][0],r[0][1],r[1][0],r[1][1]),e!==n-1&&a.push(...[0,1,2,1,3,2].map(t=>e*2+t));return{vertices:i,indices:a,size:7}}function jS(e){let t=e.coordinates;t.length===2&&t.push(0);let n=PS(-1,1),r=PS(1,1),i=PS(-1,-1),a=PS(1,-1);return{vertices:[...t,...n,...t,...i,...t,...a,...t,...r],indices:[0,1,2,3,0,2],size:5}}function MS(e,t=!1){if(mS&&mS[e])return mS[e];let n=sS[e]?sS[e]():sS.cylinder(),r=dS([n],t);return mS[e]=r,r}function NS(e){let t=[`cylinder`,`triangleColumn`,`hexagonColumn`,`squareColumn`],n=sS[e]?sS[e]():sS.circle();return t.indexOf(e)===-1?uS([n]):lS([n])}function PS(e,t){let n=(e+1)/2,r=(t+1)/2;return[n,r]}function FS(e,t){return{type:e.type,field:`value`,items:e.positions.map((n,r)=>({[t]:r>=e.colors.length?null:e.colors[r],value:n}))}}var IS=`in vec4 v_color;

#pragma include "scene_uniforms"
#pragma include "picking"
out vec4 outputColor;
void main() {
  outputColor = v_color;
  outputColor = filterColor(outputColor);
}
`,LS=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location =  ATTRIBUTE_LOCATION_POS) in vec3 a_Pos;

layout(std140) uniform commonUniforms {
    vec2 u_radius;
    float u_opacity;
    float u_coverage;
    float u_angle;
};

out vec4 v_color;

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

void main() {
  v_color = a_Color;
  v_color.a *= u_opacity;

  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));
  vec2 offset = a_Position.xy * u_radius * rotationMatrix * u_coverage;

  vec2 lnglat = unProjectFlat(a_Pos.xy + offset);
  vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));
  gl_Position = project_common_position_to_clipspace(project_pos);

  setPickingColor(a_PickingColor);
}
`,RS=class extends Lx{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,POS:9})}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),P(P({},e.uniformsOption),t.uniformsOption)}getCommonUniformsInfo(){let{opacity:e,coverage:t,angle:n}=this.layer.getLayerConfig(),r={u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset],u_opacity:e||1,u_coverage:t||.9,u_angle:n||0};return this.getUniformsBufferInfo(r)}initModels(){var e=this;return Y(function*(){return e.buildModels()})()}buildModels(){var e=this;return Y(function*(){return e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:`heatmapGrid`,vertexShader:LS,fragmentShader:IS,defines:e.getDefines(),triangulation:OS,primitive:q.TRIANGLES,depth:{enable:!1}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:`pos`,type:J.Attribute,descriptor:{shaderLocation:this.attributeLocation.POS,name:`a_Pos`,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:3,update:e=>{let t=e.coordinates;return[t[0],t[1],0]}}})}},zS=`in vec4 v_color;

layout(std140) uniform commonUniforms {
  vec2 u_radius;
  float u_opacity;
  float u_coverage;
  float u_angle;
};

#pragma include "scene_uniforms"
#pragma include "picking"

out vec4 outputColor;
void main() {
  outputColor = v_color;
  outputColor = filterColor(outputColor);
}
`,BS=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_POS) in vec3 a_Pos;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;

layout(std140) uniform commonUniforms {
  vec2 u_radius;
  float u_opacity;
  float u_coverage;
  float u_angle;
};

out vec4 v_color;

#pragma include "projection"
#pragma include "project"
#pragma include "light"
#pragma include "picking"

void main() {
  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));
  vec2 offset = vec2(a_Position.xy * u_radius * rotationMatrix * u_coverage);

  vec2 lnglat = unProjectFlat(a_Pos.xy + offset); // 实际的经纬度
  vec4 project_pos = project_position(vec4(lnglat, a_Position.z * a_Size, 1.0));

  float lightWeight = calc_lighting(project_pos);
  v_color = vec4(a_Color.rgb * lightWeight, a_Color.w);

  gl_Position = project_common_position_to_clipspace(project_pos);

  setPickingColor(a_PickingColor);
}
`,VS=class extends Lx{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,POS:10,NORMAL:11})}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),P(P({},e.uniformsOption),t.uniformsOption)}getCommonUniformsInfo(){let{opacity:e,coverage:t,angle:n}=this.layer.getLayerConfig(),r={u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset],u_opacity:e||1,u_coverage:t||.9,u_angle:n||0};return this.getUniformsBufferInfo(r)}initModels(){var e=this;return Y(function*(){return e.buildModels()})()}buildModels(){var e=this;return Y(function*(){return e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:`heatmapGrid3d`,vertexShader:BS,fragmentShader:zS,defines:e.getDefines(),triangulation:_S,primitive:q.TRIANGLES,depth:{enable:!0}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:`size`,type:J.Attribute,descriptor:{shaderLocation:this.attributeLocation.SIZE,name:`a_Size`,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:1,update:e=>{let{size:t}=e;return Array.isArray(t)?[t[0]]:[t]}}}),this.styleAttributeService.registerStyleAttribute({name:`normal`,type:J.Attribute,descriptor:{name:`a_Normal`,shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:3,update:(e,t,n,r,i)=>i}}),this.styleAttributeService.registerStyleAttribute({name:`pos`,type:J.Attribute,descriptor:{name:`a_Pos`,shaderLocation:this.attributeLocation.POS,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:3,update:e=>{let t=e.coordinates;return[t[0],t[1],0]}}})}};function HS(e,t){let n=[],r=[],i=[],a=e+1,o=t+1,s=e/2,c=t/2;for(let n=0;n<o;n++){let o=n-c;for(let l=0;l<a;l++){let a=l-s;r.push(a/s,-o/c,0),i.push(l/e),i.push(1-n/t)}}for(let r=0;r<t;r++)for(let t=0;t<e;t++){let e=t+a*r,i=t+a*(r+1),o=t+1+a*(r+1),s=t+1+a*r;n.push(e,i,s),n.push(i,o,s)}return{vertices:r,indices:n,uvs:i}}var US=`layout(std140) uniform commonUniforms {
  mat4 u_ViewProjectionMatrixUncentered;
  mat4 u_InverseViewProjectionMatrix;
  float u_opacity;
  float u_common_uniforms_padding1;
  float u_common_uniforms_padding2;
  float u_common_uniforms_padding3;
};

uniform sampler2D u_texture;
uniform sampler2D u_colorTexture;

in vec2 v_texCoord;
in float v_intensity;
out vec4 outputColor;

void main() {
  float intensity = texture(SAMPLER_2D(u_texture), v_texCoord).r;
  vec4 color = texture(SAMPLER_2D(u_colorTexture), vec2(intensity, 0));
  outputColor = color;
  // gl_FragColor.a = color.a * smoothstep(0.1,0.2,intensity)* u_opacity;
  outputColor.a = color.a * smoothstep(0.0, 0.1, intensity) * u_opacity;
}
`,WS=`layout(location = 0) in vec3 a_Position;
layout(location = 10) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  mat4 u_ViewProjectionMatrixUncentered;
  mat4 u_InverseViewProjectionMatrix;
  float u_opacity;
  float u_common_uniforms_padding1;
  float u_common_uniforms_padding2;
  float u_common_uniforms_padding3;
};

uniform sampler2D u_texture;
uniform sampler2D u_colorTexture;

out vec2 v_texCoord;
out float v_intensity;

vec2 toBezier(float t, vec2 P0, vec2 P1, vec2 P2, vec2 P3) {
  float t2 = t * t;
  float one_minus_t = 1.0 - t;
  float one_minus_t2 = one_minus_t * one_minus_t;
  return P0 * one_minus_t2 * one_minus_t +
  P1 * 3.0 * t * one_minus_t2 +
  P2 * 3.0 * t2 * one_minus_t +
  P3 * t2 * t;
}
vec2 toBezier(float t, vec4 p) {
  return toBezier(t, vec2(0.0, 0.0), vec2(p.x, p.y), vec2(p.z, p.w), vec2(1.0, 1.0));
}

#pragma include "projection"
#pragma include "project"

void main() {
  v_texCoord = a_Uv;

  vec2 pos = a_Uv * vec2(2.0) - vec2(1.0); // 将原本 0 -> 1 的 uv 转换为 -1 -> 1 的标准坐标空间（NDC）

  vec4 p1 = vec4(pos, 0.0, 1.0); // x/y 平面上的点（z == 0）可以认为是三维上的点被投影到平面后的点
  vec4 p2 = vec4(pos, 1.0, 1.0); // 平行于x/y平面、z==1 的平面上的点

  vec4 inverseP1 = u_InverseViewProjectionMatrix * p1; // 根据视图投影矩阵的逆矩阵平面上的反算出三维空间中的点（p1平面上的点）
  vec4 inverseP2 = u_InverseViewProjectionMatrix * p2;

  inverseP1 = inverseP1 / inverseP1.w; // 归一化操作（归一化后为世界坐标）
  inverseP2 = inverseP2 / inverseP2.w;

  float zPos = (0.0 - inverseP1.z) / (inverseP2.z - inverseP1.z); // ??
  vec4 position = inverseP1 + zPos * (inverseP2 - inverseP1);

  vec4 b = vec4(0.5, 0.0, 1.0, 0.5);
  float fh;

  v_intensity = texture(SAMPLER_2D(u_texture), v_texCoord).r;
  fh = toBezier(v_intensity, b).y;
  gl_Position = u_ViewProjectionMatrixUncentered * vec4(position.xy, fh * project_pixel(50.0), 1.0);

}
`,GS=`uniform sampler2D u_texture; // 热力强度图
uniform sampler2D u_colorTexture; // 根据强度分布的色带

layout(std140) uniform commonUniforms {
  float u_opacity;
  float u_common_uniforms_padding1;
  float u_common_uniforms_padding2;
  float u_common_uniforms_padding3;
};
in vec2 v_texCoord;
out vec4 outputColor;

#pragma include "scene_uniforms"

float getBlurIndusty() {
  float vW = 2.0 / u_ViewportSize.x;
  float vH = 2.0 / u_ViewportSize.y;
  vec2 vUv = v_texCoord;
  float i11 = texture(SAMPLER_2D(u_texture), vec2(vUv.x - 1.0 * vW, vUv.y + 1.0 * vH)).r;
  float i12 = texture(SAMPLER_2D(u_texture), vec2(vUv.x - 0.0 * vW, vUv.y + 1.0 * vH)).r;
  float i13 = texture(SAMPLER_2D(u_texture), vec2(vUv.x + 1.0 * vW, vUv.y + 1.0 * vH)).r;

  float i21 = texture(SAMPLER_2D(u_texture), vec2(vUv.x - 1.0 * vW, vUv.y)).r;
  float i22 = texture(SAMPLER_2D(u_texture), vec2(vUv.x, vUv.y)).r;
  float i23 = texture(SAMPLER_2D(u_texture), vec2(vUv.x + 1.0 * vW, vUv.y)).r;

  float i31 = texture(SAMPLER_2D(u_texture), vec2(vUv.x - 1.0 * vW, vUv.y - 1.0 * vH)).r;
  float i32 = texture(SAMPLER_2D(u_texture), vec2(vUv.x - 0.0 * vW, vUv.y - 1.0 * vH)).r;
  float i33 = texture(SAMPLER_2D(u_texture), vec2(vUv.x + 1.0 * vW, vUv.y - 1.0 * vH)).r;

  return (i11 + i12 + i13 + i21 + i21 + i22 + i23 + i31 + i32 + i33) / 9.0;
}

void main() {
  // float intensity = texture(u_texture, v_texCoord).r;
  float intensity = getBlurIndusty();
  vec4 color = texture(SAMPLER_2D(u_colorTexture), vec2(intensity, 0.0));
  outputColor = color;
  outputColor.a = color.a * smoothstep(0.0, 0.1, intensity) * u_opacity;
}
`,KS=`layout(location = 0) in vec3 a_Position;
layout(location = 10) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  float u_opacity;
  float u_common_uniforms_padding1;
  float u_common_uniforms_padding2;
  float u_common_uniforms_padding3;
};

#pragma include "scene_uniforms"

out vec2 v_texCoord;
void main() {
  v_texCoord = a_Uv;
  #ifdef VIEWPORT_ORIGIN_TL
  v_texCoord.y = 1.0 - v_texCoord.y;
  #endif

  gl_Position = vec4(a_Position.xy, 0, 1.0);
}
`,qS=`layout(std140) uniform commonUniforms {
  float u_radius;
  float u_intensity;
  float u_common_uniforms_padding1;
  float u_common_uniforms_padding2;
};

in vec2 v_extrude;
in float v_weight;
out vec4 outputColor;
#define GAUSS_COEF (0.3989422804014327)

void main() {
  float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);
  float val = v_weight * u_intensity * GAUSS_COEF * exp(d);
  outputColor = vec4(val, 1.0, 1.0, 1.0);
}
`,JS=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_DIR) in vec2 a_Dir;

layout(std140) uniform commonUniforms {
  float u_radius;
  float u_intensity;
  float u_common_uniforms_padding1;
  float u_common_uniforms_padding2;
};

out vec2 v_extrude;
out float v_weight;

#define GAUSS_COEF (0.3989422804014327)

#pragma include "projection"
#pragma include "picking"

void main() {
  vec3 picking_color_placeholder = u_PickingColor;

  v_weight = a_Size;
  float ZERO = 1.0 / 255.0 / 16.0;
  float extrude_x = a_Dir.x * 2.0 - 1.0;
  float extrude_y = a_Dir.y * 2.0 - 1.0;
  vec2 extrude_dir = normalize(vec2(extrude_x, extrude_y));
  float S = sqrt(-2.0 * log(ZERO / a_Size / u_intensity / GAUSS_COEF)) / 2.5;
  v_extrude = extrude_dir * S;

  vec2 offset = project_pixel(v_extrude * u_radius);
  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));

}
`,{isEqual:YS}=di,XS=class extends Lx{constructor(...e){super(...e),I(this,`texture`,void 0),I(this,`colorTexture`,void 0),I(this,`heatmapFramerBuffer`,void 0),I(this,`heatmapTexture`,void 0),I(this,`intensityModel`,void 0),I(this,`colorModel`,void 0),I(this,`shapeType`,void 0),I(this,`preRampColors`,void 0),I(this,`colorModelUniformBuffer`,[]),I(this,`heat3DModelUniformBuffer`,[])}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,UV:10,DIR:11})}prerender(){let{clear:e,useFramebuffer:t}=this.rendererService;t(this.heatmapFramerBuffer,()=>{e({color:[0,0,0,0],depth:1,stencil:0,framebuffer:this.heatmapFramerBuffer}),this.drawIntensityMode()})}render(e){let{rampColors:t}=this.layer.getLayerConfig();YS(this.preRampColors,t)||this.updateColorTexture(),this.shapeType===`heatmap`?this.drawHeatMap(e):this.draw3DHeatMap(e)}getUninforms(){throw Error(`Method not implemented.`)}initModels(){var e=this;return Y(function*(){var t;let{createFramebuffer:n,getViewportSize:r,createTexture2D:i}=e.rendererService,a=e.styleAttributeService.getLayerStyleAttribute(`shape`),o=(a==null||(t=a.scale)==null?void 0:t.field)||`heatmap`;e.shapeType=o,e.intensityModel=yield e.buildHeatMapIntensity(),e.colorModel=o===`heatmap`?e.buildHeatmap():e.build3dHeatMap();let{width:s,height:c}=r();return e.heatmapTexture=i({width:Math.floor(s/4),height:Math.floor(c/4),wrapS:q.CLAMP_TO_EDGE,wrapT:q.CLAMP_TO_EDGE,min:q.LINEAR,mag:q.LINEAR,usage:hu.RENDER_TARGET}),e.heatmapFramerBuffer=n({color:e.heatmapTexture,depth:!0,width:Math.floor(s/4),height:Math.floor(c/4)}),e.updateColorTexture(),[e.intensityModel,e.colorModel]})()}buildModels(){var e=this;return Y(function*(){return e.initModels()})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:`dir`,type:J.Attribute,descriptor:{name:`a_Dir`,shaderLocation:this.attributeLocation.DIR,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:2,update:(e,t,n)=>[n[3],n[4]]}}),this.styleAttributeService.registerStyleAttribute({name:`size`,type:J.Attribute,descriptor:{name:`a_Size`,shaderLocation:this.attributeLocation.SIZE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:1,update:e=>{let{size:t=1}=e;return[t]}}})}buildHeatMapIntensity(){var e=this;return Y(function*(){return e.uniformBuffers=[e.rendererService.createBuffer({data:new Float32Array(4).fill(0),isUBO:!0})],e.layer.triangulation=jS,yield e.layer.buildLayerModel({moduleName:`heatmapIntensity`,vertexShader:JS,fragmentShader:qS,triangulation:jS,defines:e.getDefines(),depth:{enable:!1},cull:{enable:!0,face:q.FRONT}})})()}buildHeatmap(){this.shaderModuleService.registerModule(`heatmapColor`,{vs:KS,fs:GS}),this.colorModelUniformBuffer=[this.rendererService.createBuffer({data:new Float32Array(4).fill(0),isUBO:!0})];let{vs:e,fs:t,uniforms:n}=this.shaderModuleService.getModule(`heatmapColor`),{createAttribute:r,createElements:i,createBuffer:a,createModel:o}=this.rendererService;return o({vs:e,fs:t,uniformBuffers:[...this.colorModelUniformBuffer,...this.rendererService.uniformBuffers],attributes:{a_Position:r({shaderLocation:this.attributeLocation.POSITION,buffer:a({data:[-1,1,0,1,1,0,-1,-1,0,1,-1,0],type:q.FLOAT}),size:3}),a_Uv:r({shaderLocation:this.attributeLocation.UV,buffer:a({data:[0,1,1,1,0,0,1,0],type:q.FLOAT}),size:2})},uniforms:P({},n),depth:{enable:!1},elements:i({data:[0,2,1,2,3,1],type:q.UNSIGNED_INT,count:6})})}build3dHeatMap(){let{getViewportSize:e}=this.rendererService,{width:t,height:n}=e(),r=HS(t/4,n/4);this.shaderModuleService.registerModule(`heatmap3dColor`,{vs:WS,fs:US}),this.heat3DModelUniformBuffer=[this.rendererService.createBuffer({data:new Float32Array(36).fill(0),isUBO:!0})];let{vs:i,fs:a,uniforms:o}=this.shaderModuleService.getModule(`heatmap3dColor`),{createAttribute:s,createElements:c,createBuffer:l,createModel:u}=this.rendererService;return u({vs:i,fs:a,attributes:{a_Position:s({shaderLocation:this.attributeLocation.POSITION,buffer:l({data:r.vertices,type:q.FLOAT}),size:3}),a_Uv:s({shaderLocation:this.attributeLocation.UV,buffer:l({data:r.uvs,type:q.FLOAT}),size:2})},primitive:q.TRIANGLES,uniformBuffers:[...this.heat3DModelUniformBuffer,...this.rendererService.uniformBuffers],uniforms:P({},o),depth:{enable:!0},blend:{enable:!0,func:{srcRGB:q.SRC_ALPHA,srcAlpha:1,dstRGB:q.ONE_MINUS_SRC_ALPHA,dstAlpha:1}},elements:c({data:r.indices,type:q.UNSIGNED_INT,count:r.indices.length})})}drawIntensityMode(){var e;let{intensity:t=10,radius:n=5}=this.layer.getLayerConfig(),r={u_radius:n,u_intensity:t};this.uniformBuffers[0].subData({offset:0,data:[n,t]}),this.layerService.beforeRenderData(this.layer),this.layer.hooks.beforeRender.call(),(e=this.intensityModel)==null||e.draw({uniforms:r,blend:{enable:!0,func:{srcRGB:q.ONE,srcAlpha:1,dstRGB:q.ONE,dstAlpha:1}},stencil:{enable:!1,mask:255,func:{cmp:514,ref:1,mask:255}}}),this.layer.hooks.afterRender.call()}drawHeatMap(e){var t;let{opacity:n=1}=this.layer.getLayerConfig(),r={u_opacity:n,u_colorTexture:this.colorTexture,u_texture:this.heatmapFramerBuffer},i=[this.heatmapTexture,this.colorTexture];this.colorModelUniformBuffer[0].subData({offset:0,data:[n]}),(t=this.colorModel)==null||t.draw({uniforms:r,textures:i,blend:this.getBlend(),stencil:this.getStencil(e)})}draw3DHeatMap(e){var t;let{opacity:n=1}=this.layer.getLayerConfig(),r=cn();un(r,this.cameraService.getViewProjectionMatrixUncentered());let i={u_opacity:n,u_colorTexture:this.colorTexture,u_texture:this.heatmapFramerBuffer,u_ViewProjectionMatrixUncentered:this.cameraService.getViewProjectionMatrixUncentered(),u_InverseViewProjectionMatrix:[...r]};this.heat3DModelUniformBuffer[0].subData({offset:0,data:[...i.u_ViewProjectionMatrixUncentered,...i.u_InverseViewProjectionMatrix,n]});let a=[this.heatmapTexture,this.colorTexture];(t=this.colorModel)==null||t.draw({uniforms:i,textures:a,blend:{enable:!0,func:{srcRGB:q.SRC_ALPHA,srcAlpha:1,dstRGB:q.ONE_MINUS_SRC_ALPHA,dstAlpha:1}},stencil:this.getStencil(e)})}updateColorTexture(){let{createTexture2D:e}=this.rendererService;this.texture&&this.texture.destroy();let{rampColors:t}=this.layer.getLayerConfig(),n=ii(t);this.colorTexture=e({data:n.data,usage:hu.SAMPLED,width:n.width,height:n.height,wrapS:q.CLAMP_TO_EDGE,wrapT:q.CLAMP_TO_EDGE,min:q.NEAREST,mag:q.NEAREST,flipY:!1,unorm:!0}),this.preRampColors=t}},ZS=`in vec4 v_color;

#pragma include "picking"
out vec4 outputColor;
void main() {
  outputColor = v_color;
  outputColor = filterColor(outputColor);
}
`,QS=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_POS) in vec3 a_Pos;

layout(std140) uniform commonUniforms {
  vec2 u_radius;
  float u_opacity;
  float u_coverage;
  float u_angle;
};

out vec4 v_color;

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

void main() {
  v_color = a_Color;
  v_color.a *= u_opacity;

  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));
  vec2 offset = vec2(a_Position.xy * u_radius * rotationMatrix * u_coverage);
  vec2 lnglat = unProjectFlat(a_Pos.xy + offset);

  vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));

  setPickingColor(a_PickingColor);
}
`,$S={heatmap:XS,heatmap3d:XS,grid:RS,grid3d:VS,hexagon:class extends Lx{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,POS:9})}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),P(P({},e.uniformsOption),t.uniformsOption)}getCommonUniformsInfo(){let{opacity:e,coverage:t,angle:n}=this.layer.getLayerConfig(),r={u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset],u_opacity:e||1,u_coverage:t||.9,u_angle:n||0};return this.getUniformsBufferInfo(r)}initModels(){var e=this;return Y(function*(){return e.buildModels()})()}buildModels(){var e=this;return Y(function*(){return e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:`heatmapHexagon`,vertexShader:QS,fragmentShader:ZS,defines:e.getDefines(),triangulation:OS,depth:{enable:!1},primitive:q.TRIANGLES})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:`pos`,type:J.Attribute,descriptor:{name:`a_Pos`,shaderLocation:this.attributeLocation.POS,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:3,update:e=>{let t=e.coordinates;return[t[0],t[1],0]}}})}}},eC=class extends Dx{constructor(...e){super(...e),I(this,`type`,`HeatMapLayer`)}buildModels(){var e=this;return Y(function*(){let t=e.getModelType();e.layerModel=new $S[t](e),yield e.initLayerModels()})()}prerender(){this.getModelType()===`heatmap`&&this.layerModel&&this.layerModel.prerender()}renderModels(e={}){return this.getModelType()===`heatmap`?(this.layerModel&&this.layerModel.render(e),this):this.encodeDataLength<=0&&!this.forceRender?this:(this.hooks.beforeRender.call(),this.models.forEach(t=>t.draw({uniforms:this.layerModel.getUninforms(),blend:this.layerModel.getBlend(),stencil:this.layerModel.getStencil(e)})),this.hooks.afterRender.call(),this)}updateModelData(e){e.attributes&&e.elements?this.models[0].updateAttributesAndElements(e.attributes,e.elements):console.warn(`data error`)}getModelType(){var e;let t=this.styleAttributeService.getLayerStyleAttribute(`shape`),{shape3d:n}=this.getLayerConfig(),r=this.getSource().data.type,i=(t==null||(e=t.scale)==null?void 0:e.field)||`heatmap`;return i===`heatmap`||i===`heatmap3d`?`heatmap`:r===`hexagon`?n?.indexOf(i)===-1?`hexagon`:`grid3d`:r===`grid`?n?.indexOf(i)===-1?`grid`:`grid3d`:`heatmap`}getLegend(e){if(this.getModelType()===`heatmap`){if(e!==`color`)return{type:void 0,field:void 0,items:[]};let t=this.getLayerConfig().rampColors;return FS(t,e)}else return super.getLegend(e)}},tC=`uniform sampler2D u_texture;
layout(std140) uniform commonUniforms {
    float u_opacity:1.0;
    float u_brightness:1.0;
    float u_contrast:1.0;
    float u_saturation:1.0;
    float u_gamma:1.0;
};

in vec2 v_texCoord;
out vec4 outputColor;
vec3 setContrast(vec3 rgb, float contrast) {
  vec3 color = mix(vec3(0.5), rgb, contrast);
  color = clamp(color, 0.0, 1.0);
  return color;
}
vec3 setSaturation(vec3 rgb, float adjustment) {
  const vec3 grayVector = vec3(0.2125, 0.7154, 0.0721);
  vec3 intensity = vec3(dot(rgb, grayVector));
  vec3 color = mix(intensity, rgb, adjustment);
  color = clamp(color, 0.0, 1.0);
  return color;
}
void main() {
  vec4 color = texture(SAMPLER_2D(u_texture),vec2(v_texCoord.x,v_texCoord.y));
  //brightness
  color.rgb = mix(vec3(0.0, 0.0, 0.0), color.rgb, u_brightness);
  //contrast
  color.rgb = setContrast(color.rgb, u_contrast);
  // saturation
  color.rgb = setSaturation(color.rgb, u_saturation);
  // gamma
  color.rgb = pow(color.rgb, vec3(u_gamma));
  outputColor = color;
  outputColor.a *= u_opacity;
  if(outputColor.a < 0.01)
    discard;
}
`,nC=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
    float u_opacity:1.0;
    float u_brightness:1.0;
    float u_contrast:1.0;
    float u_saturation:1.0;
    float u_gamma:1.0;
};

out vec2 v_texCoord;
#pragma include "projection"

void main() {
  v_texCoord = a_Uv;
  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));
}
`,rC={image:class extends Lx{constructor(...e){super(...e),I(this,`texture`,void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getCommonUniformsInfo(){let{opacity:e,brightness:t,contrast:n,saturation:r,gamma:i}=this.layer.getLayerConfig(),a={u_opacity:Ya(e,1),u_brightness:Ya(t,1),u_contrast:Ya(n,1),u_saturation:Ya(r,1),u_gamma:Ya(i,1)};return this.textures=[this.texture],this.getUniformsBufferInfo(a)}initModels(){var e=this;return Y(function*(){return yield e.loadTexture(),e.buildModels()})()}clearModels(){var e;(e=this.texture)==null||e.destroy()}loadTexture(){var e=this;return Y(function*(){let{createTexture2D:t}=e.rendererService,n=yield e.layer.getSource().data.images;e.texture=t({data:n[0],width:n[0].width,height:n[0].height,mag:q.LINEAR,min:q.LINEAR})})()}buildModels(){var e=this;return Y(function*(){return e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:`rasterImage`,vertexShader:nC,fragmentShader:tC,defines:e.getDefines(),triangulation:kS,primitive:q.TRIANGLES,blend:{enable:!0},depth:{enable:!1},pickingEnabled:!1})]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:`uv`,type:J.Attribute,descriptor:{name:`a_Uv`,shaderLocation:this.attributeLocation.UV,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:2,update:(e,t,n)=>[n[3],n[4]]}})}}},iC=class extends Dx{constructor(...e){super(...e),I(this,`type`,`ImageLayer`)}buildModels(){var e=this;return Y(function*(){let t=e.getModelType();e.layerModel=new rC[t](e),yield e.initLayerModels()})()}getDefaultConfig(){return{image:{}}[this.getModelType()]}getModelType(){return`image`}},aC=`
#define Animate 0.0
#define LineTexture 1.0
uniform sampler2D u_texture;
layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float segmentNumber;
  float u_lineDir: 1.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_blur : 0.9;
  float u_line_type: 0.0;
  float u_time;
  float u_linearColor: 0.0;
};

in vec4 v_color;
in vec2 v_iconMapUV;
in vec4 v_lineData;
//dash
in vec4 v_dash_array;
in float v_distance_ratio;

out vec4 outputColor;
#pragma include "picking"

void main() {
  if(u_dash_array!=vec4(0.0)){
    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(!(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z))) {
      discard;
    };
  }
  float animateSpeed = 0.0; // 运动速度
  outputColor = v_color;
  if(u_animate.x == Animate && u_line_texture != LineTexture) {
      animateSpeed = u_time / u_animate.y;
      float alpha =1.0 - fract( mod(1.0- v_lineData.b, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);
      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      // alpha = smoothstep(0., 1., alpha);
      alpha = clamp(alpha, 0.0, 1.0);
      outputColor.a *= alpha;
  }

  // 当存在贴图时在底色上贴上贴图
  if(u_line_texture == LineTexture) { // while load texture
    float arcRadio = smoothstep( 0.0, 1.0, (v_lineData.r / segmentNumber));
    // float arcRadio = smoothstep( 0.0, 1.0, d_distance_ratio);

    float count = v_lineData.g; // 贴图在弧线上重复的数量

    float time = 0.0;
    if(u_animate.x == Animate) {
      time = u_time / u_animate.y;
    }
    float redioCount = arcRadio * count;

    float u = fract(redioCount - time);
    float v = v_lineData.a; // 横向 v
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;

    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);

    if(u_animate.x == Animate) {
      float currentPlane = floor(redioCount - time);
      float textureStep = floor(count * u_animate.z);
      float a = mod(currentPlane, textureStep);
      if(a < textureStep - 1.0) {
        pattern = vec4(0.0);
      }
    }

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      outputColor = filterColor(outputColor + pattern);
    } else { // replace
        pattern.a *= v_color.a;
        if(outputColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        outputColor = filterColor(pattern);
    }
    
  } else {
     outputColor = filterColor(outputColor);
  }
}`,oC=`#define Animate (0.0)
#define LineTexture (1.0)

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;
layout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;

layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float segmentNumber;
  float u_lineDir: 1.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_blur : 0.9;
  float u_line_type: 0.0;
  float u_time;
  float u_linearColor: 0.0;
};

out vec4 v_color;
out vec2 v_iconMapUV;
out vec4 v_lineData;
//dash
out vec4 v_dash_array;
out float v_distance_ratio;

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float bezier3(vec3 arr, float t) {
  float ut = 1.0 - t;
  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;
}
vec2 midPoint(vec2 source, vec2 target, float arcThetaOffset) {
  vec2 center = target - source;
  float r = length(center);
  float theta = atan(center.y, center.x);
  float thetaOffset = arcThetaOffset;
  float r2 = r / 2.0 / cos(thetaOffset);
  float theta2 = theta + thetaOffset;
  vec2 mid = vec2(r2 * cos(theta2) + source.x, r2 * sin(theta2) + source.y);
  if (u_lineDir == 1.0) {
    // 正向
    return mid;
  } else {
    // 逆向
    // (mid + vmin)/2 = (s + t)/2
    vec2 vmid = source + target - mid;
    return vmid;
  }
  // return mid;
}
float getSegmentRatio(float index) {
  // dash: index / (segmentNumber - 1.);
  // normal: smoothstep(0.0, 1.0, index / (segmentNumber - 1.));
  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));
  //  return index / (segmentNumber - 1.);
}
vec2 interpolate(vec2 source, vec2 target, float t, float arcThetaOffset) {
  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation
  vec2 mid = midPoint(source, target, arcThetaOffset);
  vec3 x = vec3(source.x, mid.x, target.x);
  vec3 y = vec3(source.y, mid.y, target.y);
  return vec2(bezier3(x, t), bezier3(y, t));
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;
  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
   return dir_screenspace.xy * sign(offset_direction);
}

void main() {
  //vs中计算渐变色
  if (u_linearColor == 1.0) {
    float d_segmentIndex = a_Position.x + 1.0; // 当前顶点在弧线中所处的分段位置
    v_color = mix(u_sourceColor, u_targetColor, d_segmentIndex / segmentNumber);
  } else {
    v_color = a_Color;
  }
  v_color.a = v_color.a * opacity;

  vec2 source_world = a_Instance.rg; // 起始点
  vec2 target_world = a_Instance.ba; // 终点

  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);

  // 计算 dashArray 和 distanceRatio 输出到片元
  float total_Distance = pixelDistance(source_world, target_world) / 2.0 * PI;
  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / total_Distance;
  v_distance_ratio = segmentIndex / segmentNumber;

  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));
  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  float d_distance_ratio;

  if(u_animate.x == Animate) {
      d_distance_ratio = segmentIndex / segmentNumber;
      if(u_lineDir != 1.0) {
        d_distance_ratio = 1.0 - d_distance_ratio;
      }
  }

  v_lineData.b = d_distance_ratio;

  vec4 source = project_position(vec4(source_world, 0, 1.), a_Instance64Low.xy);
  vec4 target = project_position(vec4(target_world, 0, 1.), a_Instance64Low.zw);

  vec2 currPos = interpolate(source.xy, target.xy, segmentRatio, thetaOffset);
  vec2 nextPos = interpolate(source.xy, target.xy, nextSegmentRatio, thetaOffset);

  vec2 offset = project_pixel(
    getExtrusionOffset((nextPos.xy - currPos.xy) * indexDir, a_Position.y)
  );

  float d_segmentIndex = a_Position.x + 1.0; // 当前顶点在弧线中所处的分段位置
  v_lineData.r = d_segmentIndex;

  if(LineTexture == u_line_texture) { // 开启贴图模式
    float arcDistrance = length(source - target); // 起始点和终点的距离
    arcDistrance = project_pixel(arcDistrance);

    v_iconMapUV = a_iconMapUV;

    float pixelLen = project_pixel_texture(u_icon_step); // 贴图沿弧线方向的长度 - 随地图缩放改变
    float texCount = floor(arcDistrance / pixelLen); // 贴图在弧线上重复的数量
    v_lineData.g = texCount;

    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // 线横向偏移的距离
    float linePixelSize = project_pixel(a_Size); // 定点位置偏移
    v_lineData.a = lineOffsetWidth / linePixelSize; // 线图层贴图部分的 v 坐标值
  }

  gl_Position = project_common_position_to_clipspace(vec4(currPos.xy + offset, 0, 1.0));

  setPickingColor(a_PickingColor);
}
`,sC={solid:0,dash:1},cC=class extends Lx{constructor(...e){super(...e),I(this,`texture`,void 0),I(this,`updateTexture`,()=>{let{createTexture2D:e}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=e({data:this.iconService.getCanvas(),mag:q.NEAREST,min:q.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture]})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,INSTANCE:10,INSTANCE_64LOW:11,UV:12,THETA_OFFSET:13})}getCommonUniformsInfo(){let{sourceColor:e,targetColor:t,textureBlend:n=`normal`,lineType:r=`solid`,dashArray:i=[10,5],forward:a=!0,lineTexture:o=!1,iconStep:s=100,segmentNumber:c=30}=this.layer.getLayerConfig(),{animateOption:l}=this.layer.getLayerConfig(),u=i;r!==`dash`&&(u=[0,0]),u.length===2&&u.push(0,0);let d=0,f=[0,0,0,0],p=[0,0,0,0];if(e&&t&&(f=ti(e),p=ti(t),d=1),this.rendererService.getDirty()){var m;(m=this.texture)==null||m.bind()}let h={u_animate:this.animateOption2Array(l),u_dash_array:u,u_sourceColor:f,u_targetColor:p,u_textSize:[1024,this.iconService.canvasHeight||128],segmentNumber:c,u_lineDir:a?1:-1,u_icon_step:s,u_line_texture:o?1:0,u_textureBlend:n===`normal`?0:1,u_blur:.9,u_line_type:sC[r||`solid`],u_time:this.layer.getLayerAnimateTime()||0,u_linearColor:d};return this.getUniformsBufferInfo(h)}initModels(){var e=this;return Y(function*(){return e.updateTexture(),e.iconService.on(`imageUpdate`,e.updateTexture),e.buildModels()})()}clearModels(){var e;(e=this.texture)==null||e.destroy(),this.iconService.off(`imageUpdate`,this.updateTexture)}getShaders(){return{frag:aC,vert:oC,type:``}}buildModels(){var e=this;return Y(function*(){e.initUniformsBuffer();let{segmentNumber:t=30}=e.layer.getLayerConfig(),{frag:n,vert:r,type:i}=e.getShaders();return[yield e.layer.buildLayerModel({moduleName:`lineArc2d`+i,vertexShader:r,fragmentShader:n,defines:e.getDefines(),inject:e.getInject(),triangulation:AS,depth:{enable:!1},styleOption:{segmentNumber:t}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:`size`,type:J.Attribute,descriptor:{name:`a_Size`,shaderLocation:this.attributeLocation.SIZE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:1,update:e=>{let{size:t=1}=e;return Array.isArray(t)?[t[0]]:[t]}}}),this.styleAttributeService.registerStyleAttribute({name:`instance`,type:J.Attribute,descriptor:{name:`a_Instance`,shaderLocation:this.attributeLocation.INSTANCE,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:4,update:(e,t,n)=>[n[3],n[4],n[5],n[6]]}}),this.styleAttributeService.registerStyleAttribute({name:`instance64Low`,type:J.Attribute,descriptor:{name:`a_Instance64Low`,shaderLocation:this.attributeLocation.INSTANCE_64LOW,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:4,update:(e,t,n)=>[Fi(n[3]),Fi(n[4]),Fi(n[5]),Fi(n[6])]}}),this.styleAttributeService.registerStyleAttribute({name:`uv`,type:J.Attribute,descriptor:{name:`a_iconMapUV`,shaderLocation:this.attributeLocation.UV,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:2,update:e=>{let t=this.iconService.getIconMap(),{texture:n}=e,{x:r,y:i}=t[n]||{x:0,y:0};return[r,i]}}}),this.styleAttributeService.registerStyleAttribute({name:`thetaOffset`,type:J.Attribute,descriptor:{name:`a_ThetaOffset`,shaderLocation:this.attributeLocation.THETA_OFFSET,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:1,update:e=>{let{thetaOffset:t=1}=e;return[t]}}})}},lC=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

uniform sampler2D u_texture;

layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array: [10.0, 5., 0, 0];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_globel;
  float u_globel_radius;
  float u_global_height: 10;
  float segmentNumber;
  float u_line_type: 0.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_time;
  float u_linearColor: 0.0;
};

in vec4 v_color;
in vec4 v_dash_array;
in float v_segmentIndex;
in vec2 v_iconMapUV;
in vec4 v_line_data;

out vec4 outputColor;

#pragma include "picking"

void main() {
  float animateSpeed = 0.0; // 运动速度
  float d_distance_ratio = v_line_data.g; // 当前点位距离占线总长的比例
  outputColor = v_color;

  if(u_line_type == LineTypeDash) {
    float flag = 0.;
    float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
      flag = 1.;
    }
    outputColor.a *=flag;
  }

  if(u_animate.x == Animate && u_line_texture != LineTexture) {
      animateSpeed = u_time / u_animate.y;
      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);

      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      // alpha = smoothstep(0., 1., alpha);
      alpha = clamp(alpha, 0.0, 1.0);
      outputColor.a *= alpha;

      // u_animate
      // x enable
      // y duration
      // z interval
      // w trailLength
  }

  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture
    // float arcRadio = smoothstep( 0.0, 1.0, (v_segmentIndex / segmentNumber));
    float arcRadio = v_segmentIndex / (segmentNumber - 1.0);
    float count = v_line_data.b; // // 贴图在弧线上重复的数量

    float time = 0.0;
    if(u_animate.x == Animate) {
      time = u_time / u_animate.y;
    }
    float redioCount = arcRadio * count;

    float u = fract(redioCount - time);

    float v = v_line_data.a;  // 线图层贴图部分的 v 坐标值
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);

    if(u_animate.x == Animate) {
      float currentPlane = floor(redioCount - time);
      float textureStep = floor(count * u_animate.z);
      float a = mod(currentPlane, textureStep);
      if(a < textureStep - 1.0) {
        pattern = vec4(0.0);
      }
    }

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      outputColor = filterColor(outputColor + pattern);
    } else { // replace
        pattern.a *= v_color.a;
        if(outputColor.a <= 0.0) {
          pattern.a = 0.0;
          discard;
        } else {
          outputColor = filterColor(pattern);
        }
    }

  } else {
    outputColor = filterColor(outputColor);
  }
}
`,uC=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;
layout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;


layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array: [10.0, 5., 0, 0];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_globel;
  float u_globel_radius;
  float u_global_height: 10;
  float segmentNumber;
  float u_line_type: 0.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_time;
  float u_linearColor: 0.0;
};
out vec4 v_color;
out vec4 v_dash_array;
out float v_segmentIndex;
out vec2 v_iconMapUV;
out vec4 v_line_data;

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float maps (float value, float start1, float stop1, float start2, float stop2) {
  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));
}

float getSegmentRatio(float index) {
  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));
}

float paraboloid(vec2 source, vec2 target, float ratio) {
  vec2 x = mix(source, target, ratio);
  vec2 center = mix(source, target, 0.5);
  float dSourceCenter = distance(source, center);
  float dXCenter = distance(x, center);
  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);
}

vec3 getPos(vec2 source, vec2 target, float segmentRatio) {
  float vertex_height = paraboloid(source, target, segmentRatio);

  return vec3(
    mix(source, target, segmentRatio),
    sqrt(max(0.0, vertex_height))
  );
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);

  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;

  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  return dir_screenspace.xy * sign(offset_direction);
}

float torad(float deg) {
  return (deg / 180.0) * acos(-1.0);
}

vec3 lglt2xyz(vec2 lnglat) {
  float pi = 3.1415926;
  // + Math.PI/2 是为了对齐坐标
  float lng = torad(lnglat.x) + pi / 2.0;
  float lat = torad(lnglat.y);

  // 手动增加一些偏移，减轻面的冲突
  float radius = u_globel_radius;

  float z = radius * cos(lat) * cos(lng);
  float x = radius * cos(lat) * sin(lng);
  float y = radius * sin(lat);
  return vec3(x, y, z);
}

void main() {
  //vs中计算渐变色
  if(u_linearColor==1.0){
    float d_segmentIndex = a_Position.x + 1.0; // 当前顶点在弧线中所处的分段位置
    v_color = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);
  }
  else{
    v_color = a_Color;
  }
  v_color.a = v_color.a * opacity;
  vec2 source = project_position(vec4(a_Instance.rg, 0, 0), a_Instance64Low.xy).xy;
  vec2 target = project_position(vec4(a_Instance.ba, 0, 0), a_Instance64Low.zw).xy;
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);
  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));

  float d_distance_ratio;
   if(u_line_type == LineTypeDash) {
    d_distance_ratio = segmentIndex / segmentNumber;
    float total_Distance = pixelDistance(source, target) / 2.0 * PI;
    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);
  }
    if(u_animate.x == Animate) {
      d_distance_ratio = segmentIndex / segmentNumber;
  }
  v_line_data.g = d_distance_ratio; // 当前点位距离占线总长的比例

  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  vec3 curr = getPos(source, target, segmentRatio);
  vec3 next = getPos(source, target, nextSegmentRatio);
  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y);
  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);


  v_segmentIndex = a_Position.x;
  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { // 开启贴图模式

    float arcDistrance = length(source - target);
    float pixelLen =  project_pixel_texture(u_icon_step);
    v_line_data.b = floor(arcDistrance/pixelLen); // 贴图在弧线上重复的数量

    vec2 projectOffset = project_pixel(offset);
    float lineOffsetWidth = length(projectOffset + projectOffset * sign(a_Position.y)); // 线横向偏移的距离
    float linePixelSize = project_pixel(a_Size);  // 定点位置偏移，按地图等级缩放后的距离
    v_line_data.a = lineOffsetWidth/linePixelSize;  // 线图层贴图部分的 v 坐标值

    v_iconMapUV = a_iconMapUV;
  }


  gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z * thetaOffset, 1.0));

  // 地球模式
  if(u_globel > 0.0) {
    vec3 startLngLat = lglt2xyz(a_Instance.rg);
    vec3 endLngLat = lglt2xyz(a_Instance.ba);
    float globalRadius = length(startLngLat);

    vec3 lineDir = normalize(endLngLat - startLngLat);
    vec3 midPointDir = normalize((startLngLat + endLngLat)/2.0);

    // 线的偏移
    vec3 lnglatOffset = cross(lineDir, midPointDir) * a_Position.y;
    // 计算起始点和终止点的距离
    float lnglatLength = length(a_Instance.rg - a_Instance.ba)/50.0;
    // 计算飞线各个节点相应的高度
    float lineHeight = u_global_height * (-4.0*segmentRatio*segmentRatio + 4.0 * segmentRatio) * lnglatLength;
    // 地球点位
    vec3 globalPoint = normalize(mix(startLngLat, endLngLat, segmentRatio)) * (globalRadius + lineHeight) + lnglatOffset * a_Size;

    gl_Position = u_ViewProjectionMatrix * vec4(globalPoint, 1.0);
  }


  setPickingColor(a_PickingColor);
}
`,dC={solid:0,dash:1},fC=class extends Lx{constructor(...e){super(...e),I(this,`texture`,void 0),I(this,`updateTexture`,()=>{let{createTexture2D:e}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=e({data:this.iconService.getCanvas(),mag:q.NEAREST,min:q.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture]})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,INSTANCE:10,INSTANCE_64LOW:11,UV:12,THETA_OFFSET:13})}getCommonUniformsInfo(){let{sourceColor:e,targetColor:t,textureBlend:n=`normal`,lineType:r=`solid`,dashArray:i=[10,5],lineTexture:a=!1,iconStep:o=100,segmentNumber:s=30,globalArcHeight:c=10}=this.layer.getLayerConfig(),{animateOption:l}=this.layer.getLayerConfig();i.length===2&&i.push(0,0);let u=0,d=[0,0,0,0],f=[0,0,0,0];if(e&&t&&(d=ti(e),f=ti(t),u=1),this.rendererService.getDirty()){var p;(p=this.texture)==null||p.bind()}let m={u_animate:this.animateOption2Array(l),u_dash_array:i,u_sourceColor:d,u_targetColor:f,u_textSize:[1024,this.iconService.canvasHeight||128],u_globel:this.mapService.version===`GLOBEL`?1:0,u_globel_radius:100,u_global_height:c,segmentNumber:s,u_line_type:dC[r]||0,u_icon_step:o,u_line_texture:a?1:0,u_textureBlend:n===`normal`?0:1,u_time:this.layer.getLayerAnimateTime()||0,u_linearColor:u};return this.getUniformsBufferInfo(m)}initModels(){var e=this;return Y(function*(){return e.initUniformsBuffer(),e.updateTexture(),e.iconService.on(`imageUpdate`,e.updateTexture),e.buildModels()})()}clearModels(){var e;(e=this.texture)==null||e.destroy(),this.iconService.off(`imageUpdate`,this.updateTexture)}getShaders(){return{frag:lC,vert:uC,type:``}}buildModels(){var e=this;return Y(function*(){let{segmentNumber:t=30}=e.layer.getLayerConfig(),{frag:n,vert:r,type:i}=e.getShaders();return[yield e.layer.buildLayerModel({moduleName:`lineArc3d`+i,vertexShader:r,fragmentShader:n,defines:e.getDefines(),inject:e.getInject(),triangulation:AS,styleOption:{segmentNumber:t}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:`size`,type:J.Attribute,descriptor:{name:`a_Size`,shaderLocation:this.attributeLocation.SIZE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:1,update:e=>{let{size:t=1}=e;return Array.isArray(t)?[t[0]]:[t]}}}),this.styleAttributeService.registerStyleAttribute({name:`instance`,type:J.Attribute,descriptor:{name:`a_Instance`,shaderLocation:this.attributeLocation.INSTANCE,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:4,update:(e,t,n)=>[n[3],n[4],n[5],n[6]]}}),this.styleAttributeService.registerStyleAttribute({name:`instance64Low`,type:J.Attribute,descriptor:{name:`a_Instance64Low`,shaderLocation:this.attributeLocation.INSTANCE_64LOW,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:4,update:(e,t,n)=>[Fi(n[3]),Fi(n[4]),Fi(n[5]),Fi(n[6])]}}),this.styleAttributeService.registerStyleAttribute({name:`uv`,type:J.Attribute,descriptor:{name:`a_iconMapUV`,shaderLocation:this.attributeLocation.UV,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:2,update:e=>{let t=this.iconService.getIconMap(),{texture:n}=e,{x:r,y:i}=t[n]||{x:0,y:0};return[r,i]}}}),this.styleAttributeService.registerStyleAttribute({name:`thetaOffset`,type:J.Attribute,descriptor:{name:`a_ThetaOffset`,shaderLocation:this.attributeLocation.THETA_OFFSET,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:1,update:e=>{let{thetaOffset:t=1}=e;return[t]}}})}},pC=e(Mx()),mC={circle:2,triangle:2,diamond:4,rect:2,classic:3,halfTriangle:2,none:0},hC=1/2;function gC(e,t){let{width:n=2,height:r=1}=t;return{vertices:[0,hC*e,1*e*n,-(r+hC)*e,1*e*n,(r-hC)*e,0,hC*e,1*e*n,-(r+hC)*e,1*e*n,(r-hC)*e],indices:[3,4,5],outLineIndices:[0,1,2],normals:[1*e,-2*e,1,-2*e,1.5*e,1,1*e,1.5*e,1,0,0,0,0,0,0,0,0,0],dimensions:2}}function _C(e,t){let{width:n=2,height:r=3}=t;return{vertices:[0,0,1*e*n,1*r,1*e*n,-1*r,0,0,1*e*n,1*r,1*e*n,-1*r],outLineIndices:[0,1,2],indices:[3,4,5],normals:[0,-1.5*e,1,2,1*e,1,-2,1*e,1,0,0,0,0,0,0,0,0,0],dimensions:2}}function vC(e,t){let{width:n=2,height:r=2}=t;return{vertices:[0,r/2,e*n*1,r/2,e*n*1,-r/2,0,-r/2,0,r/2,e*n*1,r/2,e*n*1,-r/2,0,-r/2],dimensions:2,indices:[4,5,6,4,6,7],outLineIndices:[0,1,2,0,2,3],normals:[0,-e,1,1,0,1,0,-e,1,-1,-0,1,0,0,0,0,0,0,0,0,0,0,0,0]}}function yC(e,t){let{width:n=2,height:r=3}=t;return{vertices:[0,0,1*n*e,.5*r,2*n*e,0,1*n*e,-.5*r,0,0,1*n*e,.5*r,2*n*e,0,1*n*e,-.5*r],dimensions:2,indices:[4,5,6,4,6,7],outLineIndices:[0,1,2,0,2,3],normals:[0,-e,1,1,0,1,0,-e,1,-1,-0,1,0,0,0,0,0,0,0,0,0,0,0,0]}}function bC(e,t){let{width:n=2,height:r=3}=t;return{vertices:[0,0,2*e*n,1*r,1.5*e*n,0,2*e*n,-1*r,0,0,2*e*n,1*r,1.5*e*n,0,2*e*n,-1*r],dimensions:2,indices:[4,5,6,4,6,7],outLineIndices:[0,1,2,0,2,3],normals:[0,-e,1,1,0,1,0,-e,1,-1,-0,1,0,0,0,0,0,0,0,0,0,0,0,0]}}function xC(e,t){let{width:n=2,height:r=2}=t,i=nS(),a=pC.default.flatten([i]),o=(0,pC.default)(a.vertices,a.holes,a.dimensions),s=i.map(t=>[t[0]*n*e,t[1]*r]).flat();return{vertices:[...s,...s],dimensions:2,indices:o.map(e=>e+i.length),outLineIndices:o,normals:[...i.map(t=>[t[1]*r,t[0]*n*e,1]).flat(),...Array(i.length*3).fill(0)]}}function SC(e,t=0,n){let r=typeof n.source==`object`?n.source.type:n.source,i=typeof n.target==`object`?n.target.type:n.target,{width:a=r?mC[r]:0}=typeof n.source==`object`?n.source:{},{width:o=i?mC[i]:0}=typeof n.target==`object`?n.target:{};return{vertices:[0,hC,1*a,...e,1,hC,-1*o,...e,1,-hC,-1*o,...e,0,-hC,1*a,...e,0,hC,1*a,...e,1,hC,-1*o,...e,1,-hC,-1*o,...e,0,-hC,1*a,...e],outLineIndices:[0,1,2,0,2,3].map(e=>e+t),indices:[4,5,6,4,6,7].map(e=>e+t),normals:[1,-1,1,1,1,1,-1,0,1,-1,0,1,0,0,0,0,0,0,0,0,0,0,0,0],dimensions:2}}function CC(e,t){let n=typeof e==`object`?e.type:e,r=t===`source`?1:-1,i=typeof e==`object`?e:{};switch(n){case`circle`:return xC(r,i);case`triangle`:return _C(r,i);case`diamond`:return yC(r,i);case`rect`:return vC(r,i);case`classic`:return bC(r,i);case`halfTriangle`:return gC(r,i);default:return{vertices:[],indices:[],normals:[],dimensions:2,outLineIndices:[],outLineNormals:[]}}}function wC(e){let t=e.coordinates.flat();return{vertices:[1,0,0,...t,1,2,-3,...t,1,1,-3,...t,0,1,0,...t,0,0,0,...t,1,0,0,...t,1,2,-3,...t,1,1,-3,...t,0,1,0,...t,0,0,0,...t],normals:[-1,2,1,2,-1,1,1,-1,1,1,-1,1,-1,-1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],indices:[0,1,2,0,2,3,0,3,4,5,6,7,5,7,8,5,8,9],size:7}}function TC(e,t){return t?EC(e,t):wC(e)}function EC(e,t){let n=e.coordinates.flat(),{target:r=`classic`,source:i=`circle`}=t,a=DC(CC(i,`source`),n,0,0),o=SC(n,a.vertices.length/7,t),s=DC(CC(r,`target`),n,1,a.vertices.length/7+o.vertices.length/7);return{vertices:[...a.vertices,...o.vertices,...s.vertices],indices:[...a.outLineIndices,...o.outLineIndices,...s.outLineIndices,...a.indices,...o.indices,...s.indices],normals:[...a.normals,...o.normals,...s.normals],size:7}}function DC(e,t,n=1,r=0){let i=[],{vertices:a,indices:o,dimensions:s,outLineIndices:c}=e;for(let e=0;e<a.length;e+=s)i.push(n,a[e+1],a[e],...t);return P(P({},e),{},{vertices:i,indices:o.map(e=>e+r),outLineIndices:c.map(e=>e+r)})}var OC=`// #extension GL_OES_standard_derivatives : enable

in vec4 v_color;
out vec4 outputColor;

// line texture

#pragma include "picking"

void main() {
  outputColor = v_color;
  outputColor = filterColor(outputColor);
}
`,kC=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in vec2 a_Size;
layout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;
layout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;

layout(std140) uniform commonUniorm {
  float u_gap_width: 1.0;
  float u_stroke_width: 1.0;
  float u_stroke_opacity: 1.0;
};

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

out vec4 v_color;

vec2 project_pixel_offset(vec2 offsets) {
  vec2 data = project_pixel(offsets);

  return vec2(data.x, -data.y);
}

vec2 line_dir(vec2 target, vec2 source) {
  return normalize(ProjectFlat(target) - ProjectFlat(source));
}


void main() {
  // 透明度计算
  vec2 source_world = a_Instance.rg; // 起点
  vec2 target_world = a_Instance.ba; // 终点
  vec2 flowlineDir = line_dir(target_world, source_world);
  vec2 perpendicularDir = vec2(-flowlineDir.y, flowlineDir.x);

  vec2 position = mix(source_world, target_world, a_Position.x);
  vec2 position64Low = mix(a_Instance64Low.rg, a_Instance64Low.ba, a_Position.x);

  float lengthCommon = length(
    project_position(vec4(target_world, 0, 1)) - project_position(vec4(source_world, 0, 1))
  );
  vec2 offsetDistances = a_Size.x * project_pixel_offset(vec2(a_Position.y, a_Position.z)); // Mapbox || 高德
  vec2 limitedOffsetDistances = clamp(
    offsetDistances,
    project_pixel(-lengthCommon * 0.2),
    project_pixel(lengthCommon * 0.2)
  );

  float startOffsetCommon = project_pixel(offsets[0]);
  float endOffsetCommon = project_pixel(offsets[1]);
  float endpointOffset = mix(
    clamp(startOffsetCommon, 0.0, lengthCommon * 0.2),
    -clamp(endOffsetCommon, 0.0, lengthCommon * 0.2),
    a_Position.x
  );

  vec2 normalsCommon = u_stroke_width * project_pixel_offset(vec2(a_Normal.x, a_Normal.y));

  float gapCommon = -1. * project_pixel(u_gap_width);
  vec3 offsetCommon = vec3(
    flowlineDir * (limitedOffsetDistances[1] + normalsCommon.y + endpointOffset * 1.05) -
      perpendicularDir * (limitedOffsetDistances[0] + gapCommon + normalsCommon.x),
    0.0
  );

  vec4 project_pos = project_position(vec4(position.xy, 0, 1.0), position64Low);

  vec4 fillColor = vec4(a_Color.rgb, a_Color.a * opacity);
  v_color = mix(fillColor, vec4(u_stroke.xyz, u_stroke.w * fillColor.w * u_stroke_opacity), a_Normal.z);

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy +  offsetCommon.xy, 0., 1.0));

  setPickingColor(a_PickingColor);
}
`,AC=class extends Lx{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,INSTANCE:10,INSTANCE_64LOW:11,NORMAL:12})}getCommonUniformsInfo(){let{gapWidth:e=2,strokeWidth:t=1,strokeOpacity:n=1}=this.layer.getLayerConfig(),r={u_gap_width:e,u_stroke_width:t,u_stroke_opacity:n};return this.getUniformsBufferInfo(r)}initModels(){var e=this;return Y(function*(){return e.initUniformsBuffer(),e.buildModels()})()}buildModels(){var e=this;return Y(function*(){return[yield e.layer.buildLayerModel({moduleName:`flow_line`,vertexShader:kC,fragmentShader:OC,defines:e.getDefines(),inject:e.getInject(),triangulation:TC,styleOption:e.layer.getLayerConfig().symbol,primitive:q.TRIANGLES,depth:{enable:!1},pick:!1})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:`size`,type:J.Attribute,descriptor:{name:`a_Size`,shaderLocation:this.attributeLocation.SIZE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:2,update:e=>{let{size:t=1}=e;return Array.isArray(t)?[t[0],t[1]]:[t,0]}}}),this.styleAttributeService.registerStyleAttribute({name:`instance`,type:J.Attribute,descriptor:{name:`a_Instance`,shaderLocation:this.attributeLocation.INSTANCE,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:4,update:(e,t,n)=>[n[3],n[4],n[5],n[6]]}}),this.styleAttributeService.registerStyleAttribute({name:`instance64Low`,type:J.Attribute,descriptor:{name:`a_Instance64Low`,shaderLocation:this.attributeLocation.INSTANCE_64LOW,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:4,update:(e,t,n)=>[Fi(n[3]),Fi(n[4]),Fi(n[5]),Fi(n[6])]}}),this.styleAttributeService.registerStyleAttribute({name:`normal`,type:J.Attribute,descriptor:{name:`a_Normal`,shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:3,update:(e,t,n,r,i)=>i}})}},jC=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

uniform sampler2D u_texture;
layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array: [10.0, 5., 0, 0];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float segmentNumber;
  float u_line_type: 0.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_time;
  float u_linearColor: 0;
};

in vec4 v_dash_array;
in vec4 v_color;
in vec2 v_iconMapUV;
in vec4 v_line_data;
in float v_distance_ratio;

out vec4 outputColor;
#pragma include "picking"
#pragma include "project"
#pragma include "projection"

void main() {

  float animateSpeed = 0.0;
  float d_segmentIndex = v_line_data.g;

  // 设置弧线的底色
  if(u_linearColor == 1.0) { // 使用渐变颜色
    outputColor = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);
    outputColor.a *= v_color.a;
  } else { // 使用 color 方法传入的颜色
    outputColor = v_color;
  }

  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));
  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));
  if(u_line_type == LineTypeDash) {
    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
      // 实线部分
    } else {
      // 虚线部分
      discard;
    };
  }

  // 设置弧线的动画模式
  if(u_animate.x == Animate) {
      animateSpeed = u_time / u_animate.y;
      float alpha =1.0 - fract( mod(1.0- v_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);
      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      alpha = smoothstep(0., 1., alpha);
      outputColor.a *= alpha;
  }

  // 设置弧线的贴图
  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) {
    float arcRadio = smoothstep( 0.0, 1.0, (d_segmentIndex / (segmentNumber - 1.0)));
    // float arcRadio = d_segmentIndex / (segmentNumber - 1.0);
    float count = v_line_data.b; // 贴图在弧线上重复的数量
    float u = fract(arcRadio * count - animateSpeed * count);
    // float u = fract(arcRadio * count - animateSpeed);
    if(u_animate.x == Animate) {
      u = outputColor.a/v_color.a;
    }

    float v = v_line_data.a; // 线图层贴图部分的 v 坐标值

    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);

    // 设置贴图和底色的叠加模式
    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      outputColor = filterColor(outputColor + pattern);
    } else { // replace
        pattern.a *= v_color.a;
        if(outputColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        outputColor = filterColor(pattern);
    }
  } else {
    outputColor = filterColor(outputColor);
  }

  // gl_FragColor = filterColor(gl_FragColor);
}
`,MC=`#define LineTypeSolid (0.0)
#define LineTypeDash (1.0)
#define Animate (0.0)
#define LineTexture (1.0)

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;
layout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;

layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array: [10.0, 5., 0, 0];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float segmentNumber;
  float u_line_type: 0.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_time;
  float u_linearColor: 0;
};

out vec4 v_dash_array;
out vec4 v_color;
out vec2 v_iconMapUV;
out vec4 v_line_data;
out float v_distance_ratio;

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float maps(float value, float start1, float stop1, float start2, float stop2) {
  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));
}

float getSegmentRatio(float index) {
  return index / (segmentNumber - 1.0);
}

float paraboloid(vec2 source, vec2 target, float ratio) {
  vec2 x = mix(source, target, ratio);
  vec2 center = mix(source, target, 0.5);
  float dSourceCenter = distance(source, center);
  float dXCenter = distance(x, center);
  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);
}

vec3 getPos(vec2 source, vec2 target, float segmentRatio) {
  float vertex_height = paraboloid(source, target, segmentRatio);

  return vec3(mix(source, target, segmentRatio), sqrt(max(0.0, vertex_height)));
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;
  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  return dir_screenspace.xy * sign(offset_direction);
}
float getAngularDist(vec2 source, vec2 target) {
  vec2 delta = source - target;
  vec2 sin_half_delta = sin(delta / 2.0);
  float a =
    sin_half_delta.y * sin_half_delta.y +
    cos(source.y) * cos(target.y) * sin_half_delta.x * sin_half_delta.x;
  return 2.0 * atan(sqrt(a), sqrt(1.0 - a));
}

vec2 midPoint(vec2 source, vec2 target) {
  vec2 center = target - source;
  float r = length(center);
  float theta = atan(center.y, center.x);
  float thetaOffset = 0.314;
  float r2 = r / 2.0 / cos(thetaOffset);
  float theta2 = theta + thetaOffset;
  vec2 mid = vec2(r2 * cos(theta2) + source.x, r2 * sin(theta2) + source.y);
  return mid;
}
float bezier3(vec3 arr, float t) {
  float ut = 1.0 - t;
  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;
}

vec2 interpolate(vec2 source, vec2 target, float angularDist, float t) {
  if (abs(angularDist - PI) < 0.001) {
    return (1.0 - t) * source + t * target;
  }
  float a = sin((1.0 - t) * angularDist) / sin(angularDist);
  float b = sin(t * angularDist) / sin(angularDist);
  vec2 sin_source = sin(source);
  vec2 cos_source = cos(source);
  vec2 sin_target = sin(target);
  vec2 cos_target = cos(target);
  float x = a * cos_source.y * cos_source.x + b * cos_target.y * cos_target.x;
  float y = a * cos_source.y * sin_source.x + b * cos_target.y * sin_target.x;
  float z = a * sin_source.y + b * sin_target.y;
  return vec2(atan(y, x), atan(z, sqrt(x * x + y * y)));

}

void main() {
  v_color = a_Color;
  v_color.a = v_color.a * opacity;
  vec2 source = radians(a_Instance.rg);
  vec2 target = radians(a_Instance.ba);
  float angularDist = getAngularDist(source, target);
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);
  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));

  if (u_line_type == LineTypeDash) {
    v_distance_ratio = segmentIndex / segmentNumber;
    float total_Distance = pixelDistance(source, target) / 2.0 * PI;
    total_Distance = total_Distance * 16.0; // total_Distance*16.0 调整默认的效果
    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / total_Distance;
  }

  if (u_animate.x == Animate) {
    v_distance_ratio = segmentIndex / segmentNumber;
  }

  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  v_distance_ratio = segmentIndex / segmentNumber;

  vec4 curr = project_position(vec4(degrees(interpolate(source, target, angularDist, segmentRatio)), 0.0, 1.0), a_Instance64Low.xy);
  vec4 next = project_position(vec4(degrees(interpolate(source, target, angularDist, nextSegmentRatio)), 0.0, 1.0), a_Instance64Low.zw);

  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);
  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));
  //  vec4 project_pos = project_position(vec4(curr.xy, 0, 1.0));
  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, curr.z, 1.0));

  v_line_data.g = a_Position.x; // 该顶点在弧线上的分段排序
  if (LineTexture == u_line_texture) {
    float d_arcDistrance = length(source - target);
    d_arcDistrance = project_pixel(d_arcDistrance);

    float d_pixelLen = project_pixel(u_icon_step) / 8.0;
    v_line_data.b = floor(d_arcDistrance / d_pixelLen); // 贴图在弧线上重复的数量

    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // 线横向偏移的距离
    float linePixelSize = project_pixel(a_Size); // 定点位置偏移，按地图等级缩放后的距离
    v_line_data.a = lineOffsetWidth / linePixelSize; // 线图层贴图部分的 v 坐标值

    v_iconMapUV = a_iconMapUV;
  }

  gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));
  setPickingColor(a_PickingColor);
}

`,NC={solid:0,dash:1},PC=class extends Lx{constructor(...e){super(...e),I(this,`texture`,void 0),I(this,`updateTexture`,()=>{let{createTexture2D:e}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=e({data:this.iconService.getCanvas(),mag:q.NEAREST,min:q.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture]})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,INSTANCE:10,INSTANCE_64LOW:11,UV:12})}getCommonUniformsInfo(){let{sourceColor:e,targetColor:t,textureBlend:n=`normal`,lineType:r=`solid`,dashArray:i=[10,5],lineTexture:a=!1,iconStep:o=100,segmentNumber:s=30}=this.layer.getLayerConfig(),{animateOption:c}=this.layer.getLayerConfig();if(i.length===2&&i.push(0,0),this.rendererService.getDirty()){var l;(l=this.texture)==null||l.bind()}let u=0,d=[0,0,0,0],f=[0,0,0,0];e&&t&&(d=ti(e),f=ti(t),u=1);let p=this.layer.getLayerAnimateTime();isNaN(p)&&(p=0);let m={u_animate:this.animateOption2Array(c),u_dash_array:i,u_sourceColor:d,u_targetColor:f,u_textSize:[1024,this.iconService.canvasHeight||128],segmentNumber:s,u_line_type:NC[r]||0,u_icon_step:o,u_line_texture:a?1:0,u_textureBlend:n===`normal`?0:1,u_time:p,u_linearColor:u};return this.getUniformsBufferInfo(m)}initModels(){var e=this;return Y(function*(){return e.initUniformsBuffer(),e.updateTexture(),e.iconService.on(`imageUpdate`,e.updateTexture),e.buildModels()})()}clearModels(){var e;(e=this.texture)==null||e.destroy(),this.iconService.off(`imageUpdate`,this.updateTexture)}buildModels(){var e=this;return Y(function*(){let{segmentNumber:t=30}=e.layer.getLayerConfig();return[yield e.layer.buildLayerModel({moduleName:`lineGreatCircle`,vertexShader:MC,fragmentShader:jC,triangulation:AS,styleOption:{segmentNumber:t},defines:e.getDefines(),inject:e.getInject(),depth:{enable:!1}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:`size`,type:J.Attribute,descriptor:{name:`a_Size`,shaderLocation:this.attributeLocation.SIZE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:1,update:e=>{let{size:t=1}=e;return Array.isArray(t)?[t[0]]:[t]}}}),this.styleAttributeService.registerStyleAttribute({name:`instance`,type:J.Attribute,descriptor:{name:`a_Instance`,shaderLocation:this.attributeLocation.INSTANCE,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:4,update:(e,t,n)=>[n[3],n[4],n[5],n[6]]}}),this.styleAttributeService.registerStyleAttribute({name:`instance64Low`,type:J.Attribute,descriptor:{name:`a_Instance64Low`,shaderLocation:this.attributeLocation.INSTANCE_64LOW,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:4,update:(e,t,n)=>[Fi(n[3]),Fi(n[4]),Fi(n[5]),Fi(n[6])]}}),this.styleAttributeService.registerStyleAttribute({name:`uv`,type:J.Attribute,descriptor:{name:`a_iconMapUV`,shaderLocation:this.attributeLocation.UV,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:2,update:e=>{let t=this.iconService.getIconMap(),{texture:n}=e,{x:r,y:i}=t[n]||{x:0,y:0};return[r,i]}}})}},FC=`// #extension GL_OES_standard_derivatives : enable
#define Animate 0.0
#define LineTexture 1.0

uniform sampler2D u_texture;
layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array;
  vec4 u_blur;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_icon_step: 100;
  float u_heightfixed: 0.0;
  float u_vertexScale: 1.0;
  float u_raisingHeight: 0.0;
  float u_strokeWidth: 0.0;
  float u_textureBlend;
  float u_line_texture;
  float u_linearDir: 1.0;
  float u_linearColor: 0;
  float u_time;
};

in vec4 v_color;
in vec4 v_stroke;
// dash
in vec4 v_dash_array;
in float v_d_distance_ratio;
in vec2 v_iconMapUV;
in vec4 v_texture_data;

out vec4 outputColor;
#pragma include "picking"

// [animate, duration, interval, trailLength],
void main() {
  if(u_dash_array!=vec4(0.0)){
    float dashLength = mod(v_d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(!(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z))) {
      // 虚线部分
      discard;
    };
  }
  float animateSpeed = 0.0; // 运动速度
  float d_distance_ratio = v_texture_data.r; // 当前点位距离占线总长的比例
  if(u_linearDir < 1.0) {
    d_distance_ratio = v_texture_data.a;
  }
  if(u_linearColor == 1.0) { // 使用渐变颜色
    outputColor = mix(u_sourceColor, u_targetColor, d_distance_ratio);
    outputColor.a *= v_color.a;
  } else { // 使用 color 方法传入的颜色
     outputColor = v_color;
  }
  // anti-alias
  // float blur = 1.0 - smoothstep(u_blur, 1., length(v_normal.xy));
  if(u_animate.x == Animate) {
      animateSpeed = u_time / u_animate.y;
       float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + animateSpeed);
      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      alpha = smoothstep(0., 1., alpha);
      outputColor.a *= alpha;
  }

  if(u_line_texture == LineTexture) { // while load texture
    float aDistance = v_texture_data.g;      // 当前顶点的距离
    float d_texPixelLen = v_texture_data.b;  // 贴图的像素长度，根据地图层级缩放
    float u = fract(mod(aDistance, d_texPixelLen)/d_texPixelLen - animateSpeed);
    float v = v_texture_data.a;  // 线图层贴图部分的 v 坐标值

    // v = max(smoothstep(0.95, 1.0, v), v);
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
     vec4 pattern = texture(SAMPLER_2D(u_texture), uv);

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      outputColor += pattern;
    } else { // replace
        pattern.a *= v_color.a;
        if(outputColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        outputColor = pattern;
    }
  } 

  float v = v_texture_data.a;
  float strokeWidth = min(0.5, u_strokeWidth);
  // 绘制 border
  if(strokeWidth > 0.01) {
    float borderOuterWidth = strokeWidth / 2.0;


    if(v >= 1.0 - strokeWidth || v <= strokeWidth) {
      if(v > strokeWidth) { // 外侧
        float linear = smoothstep(0.0, 1.0, (v - (1.0 - strokeWidth))/strokeWidth);
        //  float linear = step(0.0, (v - (1.0 - borderWidth))/borderWidth);
        outputColor.rgb = mix(outputColor.rgb, v_stroke.rgb, linear);
      } else if(v <= strokeWidth) {
        float linear = smoothstep(0.0, 1.0, v/strokeWidth);
        outputColor.rgb = mix(v_stroke.rgb, outputColor.rgb, linear);
      }
    }

    if(v < borderOuterWidth) {
      outputColor.a = mix(0.0, outputColor.a, v/borderOuterWidth);
    } else if(v > 1.0 - borderOuterWidth) {
      outputColor.a = mix(outputColor.a, 0.0, (v - (1.0 - borderOuterWidth))/borderOuterWidth);
    }
  }

  // blur
  float blurV = v_texture_data.a;
  if(blurV < 0.5) {
    outputColor.a *= mix(u_blur.r, u_blur.g, blurV/0.5);
  } else {
    outputColor.a *= mix(u_blur.g, u_blur.b, (blurV - 0.5)/0.5);
  }
  
  outputColor = filterColor(outputColor);
}
`,IC=`#define Animate (0.0)

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in vec2 a_Size;
layout(location = ATTRIBUTE_LOCATION_DISTANCE_INDEX) in vec3 a_DistanceAndIndexAndMiter;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec4 a_Normal_Total_Distance;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;

layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array;
  vec4 u_blur;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_icon_step: 100;
  float u_heightfixed: 0.0;
  float u_vertexScale: 1.0;
  float u_raisingHeight: 0.0;
  float u_strokeWidth: 0.0;
  float u_textureBlend;
  float u_line_texture;
  float u_linearDir: 1.0;
  float u_linearColor: 0;
  float u_time;
};

out vec4 v_color;
out vec4 v_stroke;
//dash
out vec4 v_dash_array;
out float v_d_distance_ratio;
// texV 线图层 - 贴图部分的 v 坐标（线的宽度方向）
out vec2 v_iconMapUV;
out vec4 v_texture_data;

#pragma include "projection"
#pragma include "picking"

void main() {
  vec2 a_DistanceAndIndex = a_DistanceAndIndexAndMiter.xy;
  float a_Miter = a_DistanceAndIndexAndMiter.z;
  vec3 a_Normal = a_Normal_Total_Distance.xyz;
  float a_Total_Distance = a_Normal_Total_Distance.w;
  //dash输出
  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / a_Total_Distance;
  v_d_distance_ratio = a_DistanceAndIndex.x / a_Total_Distance;

  // cal style mapping - 数据纹理映射部分的计算
  float d_texPixelLen; // 贴图的像素长度，根据地图层级缩放
  v_iconMapUV = a_iconMapUV;
  d_texPixelLen = project_float_pixel(u_icon_step);

  v_color = a_Color;
  v_color.a *= opacity;
  v_stroke = stroke;

  vec3 size = a_Miter * setPickingSize(a_Size.x) * a_Normal;

  vec2 offset = project_pixel(size.xy);

  float lineDistance = a_DistanceAndIndex.x;
  float currentLinePointRatio = lineDistance / a_Total_Distance;

  float lineOffsetWidth = length(offset + offset * sign(a_Miter)); // 线横向偏移的距离（向两侧偏移的和）
  float linePixelSize = project_pixel(a_Size.x) * 2.0; // 定点位置偏移，按地图等级缩放后的距离 单侧 * 2
  float texV = lineOffsetWidth / linePixelSize; // 线图层贴图部分的 v 坐标值

  v_texture_data = vec4(currentLinePointRatio, lineDistance, d_texPixelLen, texV);
  // 设置数据集的参数

  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0), a_Position64Low);

  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, a_Size.y, 1.0));

  float h = float(a_Position.z) * u_vertexScale; // 线顶点的高度 - 兼容不存在第三个数值的情况 vertex height
  float lineHeight = a_Size.y; // size 第二个参数代表的高度 [linewidth, lineheight]

  // 兼容 mapbox 在线高度上的效果表现基本一致
  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // mapbox
    // 保持高度相对不变
    float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
    h *= mapboxZoomScale;
    h += u_raisingHeight * mapboxZoomScale;
    if (u_heightfixed > 0.0) {
      lineHeight *= mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace(
    vec4(project_pos.xy + offset, lineHeight + h, 1.0)
  );

  setPickingColor(a_PickingColor);
}
`,LC=class extends Lx{constructor(...e){super(...e),I(this,`textureEventFlag`,!1),I(this,`texture`,this.createTexture2D({data:new Uint8Array([0,0,0,0]),width:1,height:1})),I(this,`updateTexture`,()=>{let{createTexture2D:e}=this.rendererService;if(this.textures.length===0&&(this.textures=[this.texture]),this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=e({data:this.iconService.getCanvas(),mag:q.NEAREST,min:q.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128})})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,DISTANCE_INDEX:10,NORMAL:11,UV:12})}getCommonUniformsInfo(){let{sourceColor:e,targetColor:t,textureBlend:n=`normal`,lineType:r=`solid`,dashArray:i=[10,5,0,0],lineTexture:a=!1,iconStep:o=100,vertexHeightScale:s=20,strokeWidth:c=0,raisingHeight:l=0,heightfixed:u=!1,linearDir:d=zx.VERTICAL,blur:f=[1,1,1,0]}=this.layer.getLayerConfig(),p=i;if(r!==`dash`&&(p=[0,0,0,0]),p.length===2&&p.push(0,0),this.rendererService.getDirty()&&this.texture){var m;(m=this.texture)==null||m.bind()}let{animateOption:h}=this.layer.getLayerConfig(),g=0,_=[0,0,0,0],v=[0,0,0,0];e&&t&&(_=ti(e),v=ti(t),g=1);let y={u_animate:this.animateOption2Array(h),u_dash_array:p,u_blur:f,u_sourceColor:_,u_targetColor:v,u_textSize:[1024,this.iconService.canvasHeight||128],u_icon_step:o,u_heightfixed:Number(u),u_vertexScale:s,u_raisingHeight:Number(l),u_strokeWidth:c,u_textureBlend:n===Bx.NORMAL?0:1,u_line_texture:a?1:0,u_linearDir:d===zx.VERTICAL?1:0,u_linearColor:g,u_time:this.layer.getLayerAnimateTime()||0};return this.getUniformsBufferInfo(y)}initModels(){var e=this;return Y(function*(){return e.initUniformsBuffer(),e.textureEventFlag||(e.textureEventFlag=!0,e.updateTexture(),e.iconService.on(`imageUpdate`,e.updateTexture)),e.buildModels()})()}clearModels(){var e;(e=this.texture)==null||e.destroy(),this.iconService.off(`imageUpdate`,this.updateTexture)}buildModels(){var e=this;return Y(function*(){let{depth:t=!1}=e.layer.getLayerConfig(),{frag:n,vert:r,type:i}=e.getShaders();return e.layer.triangulation=yS,[yield e.layer.buildLayerModel({moduleName:`line`+i,vertexShader:r,fragmentShader:n,triangulation:yS,defines:e.getDefines(),inject:e.getInject(),depth:{enable:t}})]})()}getShaders(){return{frag:FC,vert:IC,type:``}}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:`distanceAndIndex`,type:J.Attribute,descriptor:{name:`a_DistanceAndIndexAndMiter`,shaderLocation:this.attributeLocation.DISTANCE_INDEX,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:3,update:(e,t,n,r,i,a)=>a===void 0?[n[3],10,n[4]]:[n[3],a,n[4]]}}),this.styleAttributeService.registerStyleAttribute({name:`size`,type:J.Attribute,descriptor:{name:`a_Size`,shaderLocation:this.attributeLocation.SIZE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:2,update:e=>{let{size:t=1}=e;return Array.isArray(t)?[t[0],t[1]]:[t,0]}}}),this.styleAttributeService.registerStyleAttribute({name:`normal_total_distance`,type:J.Attribute,descriptor:{name:`a_Normal_Total_Distance`,shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:4,update:(e,t,n,r,i)=>[...i,n[5]]}}),this.styleAttributeService.registerStyleAttribute({name:`uv`,type:J.Attribute,descriptor:{name:`a_iconMapUV`,shaderLocation:this.attributeLocation.UV,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:2,update:e=>{let t=this.iconService.getIconMap(),{texture:n}=e,{x:r,y:i}=t[n]||{x:0,y:0};return[r,i]}}})}},RC=`
layout(std140) uniform commonUniorm {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec4 u_dash_array;
  float u_vertexScale: 1.0;
  float u_linearColor: 0;
};
in float v_distanceScale;
in vec4 v_color;
//dash
in vec4 v_dash_array;

out vec4 outputColor;
void main() {
  if(u_dash_array!=vec4(0.0)){
    float dashLength = mod(v_distanceScale, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(!(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z))) {
      // 虚线部分
      discard;
    };
  }
  if(u_linearColor==1.0){
    outputColor = mix(u_sourceColor, u_targetColor, v_distanceScale);
    outputColor.a *= v_color.a; // 全局透明度
  }
  else{
    outputColor = v_color;
  }
}
`,zC=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in vec4 a_SizeDistanceAndTotalDistance;

layout(std140) uniform commonUniorm {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec4 u_dash_array;
  float u_vertexScale: 1.0;
  float u_linearColor: 0;
};

#pragma include "projection"
#pragma include "picking"

out vec4 v_color;
out float v_distanceScale;
out vec4 v_dash_array;

void main() {
  //dash输出
  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / a_SizeDistanceAndTotalDistance.a;

  v_color = a_Color;
  v_distanceScale = a_SizeDistanceAndTotalDistance.b / a_SizeDistanceAndTotalDistance.a;
  v_color.a = v_color.a * opacity;
  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0), a_Position64Low);

  float h = float(a_Position.z) * u_vertexScale; // 线顶点的高度 - 兼容不存在第三个数值的情况

  float lineHeight = a_SizeDistanceAndTotalDistance.y;
  // 兼容 mapbox 在线高度上的效果表现基本一致
  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // 保持高度相对不变
    h *= 2.0 / pow(2.0, 20.0 - u_Zoom);
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, lineHeight + h, 1.0));
  gl_PointSize = 10.0;

}
`,BC=class extends Lx{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9})}getCommonUniformsInfo(){let{sourceColor:e,targetColor:t,lineType:n=`solid`,dashArray:r=[10,5,0,0],vertexHeightScale:i=20}=this.layer.getLayerConfig(),a=r;n!==`dash`&&(a=[0,0,0,0]),a.length===2&&a.push(0,0);let o=0,s=[0,0,0,0],c=[0,0,0,0];e&&t&&(s=ti(e),c=ti(t),o=1);let l={u_sourceColor:s,u_targetColor:c,u_dash_array:a,u_vertexScale:i,u_linearColor:o};return this.getUniformsBufferInfo(l)}initModels(){var e=this;return Y(function*(){return e.buildModels()})()}getShaders(){return{frag:RC,vert:zC,type:`lineSimpleNormal`}}buildModels(){var e=this;return Y(function*(){e.initUniformsBuffer();let{frag:t,vert:n,type:r}=e.getShaders();return[yield e.layer.buildLayerModel({moduleName:r,vertexShader:n,fragmentShader:t,triangulation:bS,defines:e.getDefines(),inject:e.getInject(),primitive:q.LINES,depth:{enable:!1},pick:!1})]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:`sizeDistanceAndTotalDistance`,type:J.Attribute,descriptor:{name:`a_SizeDistanceAndTotalDistance`,shaderLocation:this.attributeLocation.SIZE,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:4,update:(e,t,n)=>{let{size:r=1}=e,i=Array.isArray(r)?[r[0],r[1]]:[r,0];return[i[0],i[1],n[3],n[5]]}}})}},VC=`#define Animate 0.0
#define LineTexture 1.0

// line texture

uniform sampler2D u_texture;
layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_icon_step: 100;
  float u_heightfixed;
  float u_linearColor: 0;
  float u_line_texture;
  float u_textureBlend;
  float u_iconStepCount;
  float u_time;
};


in vec2 v_iconMapUV;
in vec4 v_color;
in float v_blur;
in vec4 v_dataset;

out vec4 outputColor;

#pragma include "picking"

void main() {
  float animateSpeed = 0.0; // 运动速度
  float d_distance_ratio = v_dataset.r; // 当前点位距离占线总长的比例
  float v = v_dataset.a;

  if(u_linearColor == 1.0) { // 使用渐变颜色
    outputColor = mix(u_sourceColor, u_targetColor, v);
  } else { // 使用 color 方法传入的颜色
     outputColor = v_color;
  }

  outputColor.a *= v_color.a; // 全局透明度
  if(u_animate.x == Animate) {
      animateSpeed = u_time / u_animate.y;
       float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + animateSpeed);
      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      alpha = smoothstep(0., 1., alpha);
      outputColor.a *= alpha;
  }

  if(u_line_texture == LineTexture) { // while load texture
    float aDistance = v_dataset.g;      // 当前顶点的距离
    float d_texPixelLen = v_dataset.b;  // 贴图的像素长度，根据地图层级缩放
    float u = fract(mod(aDistance, d_texPixelLen)/d_texPixelLen - animateSpeed);
    float v = v_dataset.a;  // 线图层贴图部分的 v 坐标值

    // 计算纹理间隔 start
    float flag = 0.0;
    if(u > 1.0/u_iconStepCount) {
      flag = 1.0;
    }
    u = fract(u*u_iconStepCount);
    // 计算纹理间隔 end

    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);

    // Tip: 判断纹理间隔
    if(flag > 0.0) {
      pattern = vec4(0.0);
    }

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      outputColor = filterColor(outputColor + pattern);
    } else { // replace
        pattern.a *= v_color.a;
        if(outputColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        outputColor = filterColor(pattern);
    }
  }


  // blur - AA
  if(v < v_blur) {
    outputColor.a = mix(0.0, outputColor.a, v/v_blur);
  } else if(v > 1.0 - v_blur) {
    outputColor.a = mix(outputColor.a, 0.0, (v - (1.0 - v_blur))/v_blur);
  }

  outputColor = filterColor(outputColor);
}
`,HC=`#define Animate 0.0
layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in vec2 a_Size;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;
layout(location = ATTRIBUTE_LOCATION_DISTANCE_MITER_TOTAL) in vec3 a_Distance_Total_Miter;

layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_icon_step: 100;
  float u_heightfixed;
  float u_linearColor: 0;
  float u_line_texture;
  float u_textureBlend;
  float u_iconStepCount;
  float u_time;
};

// texV 线图层 - 贴图部分的 v 坐标（线的宽度方向）
out vec2 v_iconMapUV;
out vec4 v_color;
out float v_blur;
out vec4 v_dataset;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  float a_Distance = a_Distance_Total_Miter.x;
  float a_Miter = a_Distance_Total_Miter.y;
  float a_Total_Distance = a_Distance_Total_Miter.z;

  float d_distance_ratio; // 当前点位距离占线总长的比例
  float d_texPixelLen; // 贴图的像素长度，根据地图层级缩放

  v_iconMapUV = a_iconMapUV;
  if (u_heightfixed < 1.0) {
    // 高度随 zoom 调整
    d_texPixelLen = project_pixel(u_icon_step);
  } else {
    d_texPixelLen = u_icon_step;
  }

  if (u_animate.x == Animate || u_linearColor == 1.0) {
    d_distance_ratio = a_Distance / a_Total_Distance;
  }

  float miter = (a_Miter + 1.0) / 2.0;
  // 设置数据集的参数
  v_dataset[0] = d_distance_ratio; // 当前点位距离占线总长的比例
  v_dataset[1] = a_Distance; // 当前顶点的距离
  v_dataset[2] = d_texPixelLen; // 贴图的像素长度，根据地图层级缩放
  v_dataset[3] = miter; // 线图层贴图部分的 v 坐标值 0 - 1

  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0), a_Position64Low);

  float originSize = a_Size.x; // 固定高度
  if (u_heightfixed < 1.0) {
    originSize = project_float_meter(a_Size.x); // 高度随 zoom 调整
  }

  float wallHeight = originSize * miter;
  float lightWeight = calc_lighting(vec4(project_pos.xy, wallHeight, 1.0));

  v_blur = min(project_float_pixel(2.0) / originSize, 0.05);
  v_color = vec4(a_Color.rgb * lightWeight, a_Color.w * opacity);

  // 兼容 mapbox 在线高度上的效果表现基本一致
  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // mapbox
    // 保持高度相对不变
    float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
    if (u_heightfixed > 0.0) {
      wallHeight *= mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, wallHeight, 1.0));

  setPickingColor(a_PickingColor);
}
`,UC={arc:cC,arc3d:fC,greatcircle:PC,wall:class extends Lx{constructor(...e){super(...e),I(this,`texture`,void 0),I(this,`updateTexture`,()=>{let{createTexture2D:e}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=e({data:this.iconService.getCanvas(),mag:q.NEAREST,min:q.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture]})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,NORMAL:12,UV:13,DISTANCE_MITER_TOTAL:15})}getCommonUniformsInfo(){let{sourceColor:e,targetColor:t,textureBlend:n=`normal`,heightfixed:r=!1,lineTexture:i=!1,iconStep:a=100,iconStepCount:o=1}=this.layer.getLayerConfig(),{animateOption:s}=this.layer.getLayerConfig();if(this.rendererService.getDirty()){var c;(c=this.texture)==null||c.bind()}let l=0,u=[0,0,0,0],d=[0,0,0,0];e&&t&&(u=ti(e),d=ti(t),l=1);let f={u_animate:this.animateOption2Array(s),u_sourceColor:u,u_targetColor:d,u_textSize:[1024,this.iconService.canvasHeight||128],u_icon_step:a,u_heightfixed:Number(r),u_linearColor:l,u_line_texture:i?1:0,u_textureBlend:n===`normal`?0:1,u_iconStepCount:o,u_time:this.layer.getLayerAnimateTime()||0};return this.getUniformsBufferInfo(f)}initModels(){var e=this;return Y(function*(){return e.initUniformsBuffer(),e.updateTexture(),e.iconService.on(`imageUpdate`,e.updateTexture),e.buildModels()})()}clearModels(){var e;(e=this.texture)==null||e.destroy(),this.iconService.off(`imageUpdate`,this.updateTexture)}buildModels(){var e=this;return Y(function*(){return[yield e.layer.buildLayerModel({moduleName:`lineWall`,vertexShader:HC,fragmentShader:VC,triangulation:yS,defines:e.getDefines(),inject:e.getInject(),depth:{enable:!1},blend:e.getBlend()})]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:`size`,type:J.Attribute,descriptor:{name:`a_Size`,shaderLocation:this.attributeLocation.SIZE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:2,update:e=>{let{size:t=1}=e;return Array.isArray(t)?[t[0],t[1]]:[t,0]}}}),this.styleAttributeService.registerStyleAttribute({name:`normal`,type:J.Attribute,descriptor:{name:`a_Normal`,shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:3,update:(e,t,n,r,i)=>i}}),this.styleAttributeService.registerStyleAttribute({name:`distanceAndTotalAndMiter`,type:J.Attribute,descriptor:{name:`a_Distance_Total_Miter`,shaderLocation:this.attributeLocation.DISTANCE_MITER_TOTAL,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:3,update:(e,t,n)=>[n[3],n[4],n[5]]}}),this.styleAttributeService.registerStyleAttribute({name:`uv`,type:J.Attribute,descriptor:{name:`a_iconMapUV`,shaderLocation:this.attributeLocation.UV,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:2,update:e=>{let t=this.iconService.getIconMap(),{texture:n}=e,{x:r,y:i}=t[n]||{x:0,y:0};return[r,i]}}})}},line:LC,simple:BC,flowline:AC,earthArc3d:fC},WC=class extends Dx{constructor(...e){super(...e),I(this,`type`,`LineLayer`),I(this,`enableShaderEncodeStyles`,[`stroke`,`offsets`,`opacity`,`thetaOffset`]),I(this,`arrowInsertCount`,0),I(this,`defaultSourceConfig`,{data:[{lng1:100,lat1:30,lng2:130,lat2:30}],options:{parser:{type:`json`,x:`lng1`,y:`lat1`,x1:`lng2`,y1:`lat2`}}})}buildModels(){var e=this;return Y(function*(){let t=e.getModelType();e.layerModel=new UC[t](e),yield e.initLayerModels()})()}getDefaultConfig(){return{line:{},linearline:{},simple:{},wall:{},arc3d:{blend:`additive`},arc:{blend:`additive`},greatcircle:{blend:`additive`},tileLine:{},earthArc3d:{},flowline:{},arrow:{}}[this.getModelType()]}getModelType(){var e;if(this.layerType)return this.layerType;let t=this.styleAttributeService.getLayerStyleAttribute(`shape`);return(t==null||(e=t.scale)==null?void 0:e.field)||`line`}processData(e){if(this.getModelType()!==`simple`)return e;let t=[];return e.map(e=>{if(Array.isArray(e.coordinates)&&Array.isArray(e.coordinates[0])&&Array.isArray(e.coordinates[0][0])){let n=P({},e);e.coordinates.map(e=>{t.push(P(P({},n),{},{coordinates:e}))})}else t.push(e)}),t}},GC=`layout(std140) uniform commonUniorm {
  vec4 u_stroke_color;
  float u_additive;
  float u_stroke_opacity;
  float u_stroke_width;
};

in vec4 v_color;
in float v_blur;
in float v_innerRadius;

out vec4 outputColor;

#pragma include "picking"
void main() {
  vec2 center = vec2(0.5);

  // Tip: 片元到中心点的距离 0 - 1
  float fragmengTocenter = distance(center, gl_PointCoord) * 2.0;
  // Tip: 片元的剪切成圆形
  float circleClipOpacity = 1.0 - smoothstep(v_blur, 1.0, fragmengTocenter);

  if (v_innerRadius < 0.99) {
    // 当存在 stroke 且 stroke > 0.01
    float blurWidth = (1.0 - v_blur) / 2.0;
    vec4 stroke = vec4(u_stroke_color.rgb, u_stroke_opacity);
    if (fragmengTocenter > v_innerRadius + blurWidth) {
      outputColor = stroke;
    } else if (fragmengTocenter > v_innerRadius - blurWidth) {
      float mixR = (fragmengTocenter - (v_innerRadius - blurWidth)) / (blurWidth * 2.0);
      outputColor = mix(v_color, stroke, mixR);
    } else {
      outputColor = v_color;
    }
  } else {
    // 当不存在 stroke 或 stroke <= 0.01
    outputColor = v_color;
  }

  outputColor = filterColor(outputColor);

  if (u_additive > 0.0) {
    outputColor *= circleClipOpacity;
  } else {
    outputColor.a *= circleClipOpacity;
  }

}
`,KC=`
layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;

layout(std140) uniform commonUniorm {
  vec4 u_stroke_color;
  float u_additive;
  float u_stroke_opacity;
  float u_stroke_width;
};

out vec4 v_color;
out float v_blur;
out float v_innerRadius;

#pragma include "projection"
#pragma include "picking"
#pragma include "project"
void main() {
  v_color = vec4(a_Color.xyz, a_Color.w * opacity);
  v_blur = 1.0 - max(2.0 / a_Size, 0.05);
  v_innerRadius = max((a_Size - u_stroke_width) / a_Size, 0.0);

  vec2 offset = project_pixel(u_offsets);

  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));

  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;
  setPickingColor(a_PickingColor);
}
`;function qC(e){let t=e.coordinates;return{vertices:[...t],indices:[0],size:t.length}}var JC=class extends Lx{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9})}getDefaultStyle(){return{blend:`additive`}}getCommonUniformsInfo(){let{blend:e,strokeOpacity:t=1,strokeWidth:n=0,stroke:r=`#fff`}=this.layer.getLayerConfig(),i={u_stroke_color:ti(r),u_additive:e===`additive`?1:0,u_stroke_opacity:t,u_stroke_width:n};return this.getUniformsBufferInfo(i)}initModels(){var e=this;return Y(function*(){return e.buildModels()})()}buildModels(){var e=this;return Y(function*(){return e.layer.triangulation=qC,e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:`pointSimple`,vertexShader:KC,fragmentShader:GC,defines:e.getDefines(),inject:e.getInject(),triangulation:qC,depth:{enable:!1},primitive:q.POINTS})]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:`size`,type:J.Attribute,descriptor:{name:`a_Size`,shaderLocation:this.attributeLocation.SIZE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:1,update:e=>{let{size:t=1}=e;return Array.isArray(t)?[t[0]]:[t]}}})}},YC=`precision highp float;
in vec4 v_color;

#pragma include "picking"

layout(std140) uniform commonUniform {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor: 0;
  float u_heightfixed: 0.0; // 默认不固定
  float u_globel;
  float u_r;
  float u_pickLight: 0.0;
  float u_opacitylinear: 0.0;
  float u_opacitylinear_dir: 1.0;
  float u_lightEnable: 1.0;
};
in float v_lightWeight;
in float v_barLinearZ;
out vec4 outputColor;
void main() {

   outputColor = v_color;

  // 开启透明度渐变
  if(u_opacitylinear > 0.0) {
    outputColor.a *= u_opacitylinear_dir > 0.0 ? (1.0 - v_barLinearZ): v_barLinearZ;
  }

  // picking
  if(u_pickLight > 0.0) {
    outputColor = filterColorAlpha(outputColor, v_lightWeight);
  } else {
    outputColor = filterColor(outputColor);
  }
}
`,XC=`precision highp float;

#define pi 3.1415926535
#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in vec3 a_Size;
layout(location = ATTRIBUTE_LOCATION_POS) in vec3 a_Pos;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;

layout(std140) uniform commonUniform {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor: 0;
  float u_heightfixed: 0.0; // 默认不固定
  float u_globel;
  float u_r;
  float u_pickLight: 0.0;
  float u_opacitylinear: 0.0;
  float u_opacitylinear_dir: 1.0;
  float u_lightEnable: 1.0;
};

out vec4 v_color;
out float v_lightWeight;
out float v_barLinearZ;
// 用于将在顶点着色器中计算好的样式值传递给片元


#pragma include "projection"
#pragma include "light"
#pragma include "picking"

float getYRadian(float x, float z) {
  if(x > 0.0 && z > 0.0) {
    return atan(x/z);
  } else if(x > 0.0 && z <= 0.0){
    return atan(-z/x) + pi/2.0;
  } else if(x <= 0.0 && z <= 0.0) {
    return  pi + atan(x/z); //atan(x/z) +
  } else {
    return atan(z/-x) + pi*3.0/2.0;
  }
}

float getXRadian(float y, float r) {
  return atan(y/r);
}

void main() {

  // cal style mapping - 数据纹理映射部分的计算
  vec3 size = a_Size * a_Position;

  // a_Position.z 是在构建网格的时候传入的标准值 0 - 1，在插值器插值可以获取 0～1 线性渐变的值
  v_barLinearZ =  a_Position.z;

  vec3 offset = size; // 控制圆柱体的大小 - 从标准单位圆柱体进行偏移
  if(u_heightfixed < 1.0) { // 圆柱体不固定高度
    //
  } else {// 圆柱体固定高度 （ 处理 mapbox ）
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      offset *= 4.0/pow(2.0, 21.0 - u_Zoom);
    }
  }


  vec4 project_pos = project_position(vec4(a_Pos.xy, 0., 1.0));

  // u_r 控制圆柱的生长
  vec4 pos = vec4(project_pos.xy + offset.xy, offset.z * u_r, 1.0);

  // 圆柱光照效果
  float lightWeight = 1.0;
  if(u_lightEnable > 0.0) { // 取消三元表达式，增强健壮性
    lightWeight = calc_lighting(pos);
  }
  v_lightWeight = lightWeight;
  // 设置圆柱的底色
  if(u_linearColor == 1.0) { // 使用渐变颜色
    v_color = mix(u_sourceColor, u_targetColor, v_barLinearZ);
    v_color.rgb *= lightWeight;
  } else { // 使用 color 方法传入的颜色
     v_color = a_Color;
  }
  v_color.a *= u_opacity;


  // 在地球模式下，将原本垂直于 xy 平面的圆柱调整姿态到适应圆的角度
  //旋转矩阵mx，创建绕x轴旋转矩阵
  float r = sqrt(a_Pos.z*a_Pos.z + a_Pos.x*a_Pos.x);
  float xRadian = getXRadian(a_Pos.y, r);
  float xcos = cos(xRadian);//求解旋转角度余弦值
  float xsin = sin(xRadian);//求解旋转角度正弦值
  mat4 mx = mat4(
    1,0,0,0,
    0,xcos,-xsin,0,
    0,xsin,xcos,0,
    0,0,0,1);

  //旋转矩阵my，创建绕y轴旋转矩阵
  float yRadian = getYRadian(a_Pos.x, a_Pos.z);
  float ycos = cos(yRadian);//求解旋转角度余弦值
  float ysin = sin(yRadian);//求解旋转角度正弦值
  mat4 my = mat4(
    ycos,0,-ysin,0,
    0,1,0,0,
    ysin,0,ycos,0,
    0,0,0,1);

  gl_Position = u_ViewProjectionMatrix * vec4(( my * mx *  vec4(a_Position * a_Size, 1.0)).xyz + a_Pos, 1.0);


  setPickingColor(a_PickingColor);
}
`,{isNumber:ZC}=di,QC=class extends Lx{constructor(...e){super(...e),I(this,`raiseCount`,0),I(this,`raiseRepeat`,0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,POS:10,NORMAL:11})}getCommonUniformsInfo(){let{animateOption:e={enable:!1,speed:.01,repeat:!1},opacity:t=1,sourceColor:n,targetColor:r,pickLight:i=!1,heightfixed:a=!0,opacityLinear:o={enable:!1,dir:`up`},lightEnable:s=!0}=this.layer.getLayerConfig(),c=0,l=[0,0,0,0],u=[0,0,0,0];if(n&&r&&(l=ti(n),u=ti(r),c=1),this.raiseCount<1&&this.raiseRepeat>0&&e.enable){let{speed:t=.01}=e;this.raiseCount+=t,this.raiseCount>=1&&(this.raiseRepeat>1?(this.raiseCount=0,this.raiseRepeat--):this.raiseCount=1)}let d={u_sourceColor:l,u_targetColor:u,u_linearColor:c,u_pickLight:Number(i),u_heightfixed:Number(a),u_r:e.enable&&this.raiseRepeat>0?this.raiseCount:1,u_opacity:ZC(t)?t:1,u_opacitylinear:Number(o.enable),u_opacitylinear_dir:o.dir===`up`?1:0,u_lightEnable:Number(s)};return this.getUniformsBufferInfo(d)}initModels(){var e=this;return Y(function*(){return e.initUniformsBuffer(),e.buildModels()})()}buildModels(){var e=this;return Y(function*(){let{animateOption:{repeat:t=1}}=e.layer.getLayerConfig();return e.raiseRepeat=t,[yield e.layer.buildLayerModel({moduleName:`pointEarthExtrude`,vertexShader:XC,fragmentShader:YC,triangulation:_S,depth:{enable:!0},defines:e.getDefines(),inject:e.getInject(),cull:{enable:!0,face:q.FRONT},blend:e.getBlend()})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:`size`,type:J.Attribute,descriptor:{name:`a_Size`,shaderLocation:this.attributeLocation.SIZE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:3,update:e=>{let{size:t}=e;if(t){let e=[];return Array.isArray(t)&&(e=t.length===2?[t[0],t[0],t[1]]:t),Array.isArray(t)||(e=[t,t,t]),e}else return[2,2,2]}}}),this.styleAttributeService.registerStyleAttribute({name:`normal`,type:J.Attribute,descriptor:{name:`a_Normal`,shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:3,update:(e,t,n,r,i)=>i}}),this.styleAttributeService.registerStyleAttribute({name:`pos`,type:J.Attribute,descriptor:{name:`a_Pos`,shaderLocation:this.attributeLocation.POS,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:3,update:e=>{let t=Xi(e.coordinates);return Ux([t[0],t[1]])}}})}},$C=`in vec4 v_data;
in vec4 v_color;
in float v_radius;

layout(std140) uniform commonUniform {
  float u_additive;
  float u_stroke_opacity : 1;
  float u_stroke_width : 2;
  float u_blur : 0.0;
};
#pragma include "sdf_2d"
#pragma include "picking"

out vec4 outputColor;

void main() {
  int shape = int(floor(v_data.w + 0.5));

  vec4 strokeColor = u_stroke == vec4(0.0) ? v_color : u_stroke;

  lowp float antialiasblur = v_data.z;
  float r = v_radius / (v_radius + u_stroke_width);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  } else if (shape == 1) {
    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  } else if (shape == 2) {
    outer_df = sdBox(v_data.xy, vec2(1.));
    inner_df = sdBox(v_data.xy, vec2(r));
  } else if (shape == 3) {
    outer_df = sdPentagon(v_data.xy, 0.8);
    inner_df = sdPentagon(v_data.xy, r * 0.8);
  } else if (shape == 4) {
    outer_df = sdHexagon(v_data.xy, 0.8);
    inner_df = sdHexagon(v_data.xy, r * 0.8);
  } else if (shape == 5) {
    outer_df = sdOctogon(v_data.xy, 1.0);
    inner_df = sdOctogon(v_data.xy, r);
  } else if (shape == 6) {
    outer_df = sdHexagram(v_data.xy, 0.52);
    inner_df = sdHexagram(v_data.xy, r * 0.52);
  } else if (shape == 7) {
    outer_df = sdRhombus(v_data.xy, vec2(1.0));
    inner_df = sdRhombus(v_data.xy, vec2(r));
  } else if (shape == 8) {
    outer_df = sdVesica(v_data.xy, 1.1, 0.8);
    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  }

  if(outer_df > antialiasblur + 0.018) discard;

  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);

  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
    antialiasblur,
    0.0,
    inner_df
  );

  if(u_stroke_width < 0.01) {
    outputColor = vec4(v_color.rgb, v_color.a * u_opacity);
  } else {
    outputColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);
  }

  if(u_additive > 0.0) {
    outputColor *= opacity_t;
    outputColor = filterColorAlpha(outputColor, outputColor.a);
  } else {
    outputColor.a *= opacity_t;
    outputColor = filterColor(outputColor);
  }
}
`,ew=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_SHAPE) in float a_Shape;
layout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;

layout(std140) uniform commonUniform {
  float u_additive;
  float u_stroke_opacity : 1;
  float u_stroke_width : 2;
  float u_blur : 0.0;
};
out vec4 v_data;
out vec4 v_color;
out float v_radius;

#pragma include "projection"
#pragma include "picking"


void main() {
  vec3 extrude = a_Extrude;
  float shape_type = a_Shape;
  /*
  *  setPickingSize 设置拾取大小
  */
  float newSize = setPickingSize(a_Size);
  // float newSize = setPickingSize(a_Size) * 0.00001038445708445579;

  // unpack color(vec2)
  v_color = a_Color;

  // radius(16-bit)
  v_radius = newSize;

  // anti-alias
  //  float antialiased_blur = -max(u_blur, antialiasblur);
  float antialiasblur = -max(2.0 / u_DevicePixelRatio / newSize, u_blur);

  // TODP: /abs(extrude.x) 是为了兼容地球模式
  v_data = vec4(extrude.x/abs(extrude.x), extrude.y/abs(extrude.y), antialiasblur,shape_type);

  gl_Position = u_ViewProjectionMatrix * vec4(a_Position + extrude * newSize * 0.1 + vec3(u_offsets,0.0), 1.0);

  setPickingColor(a_PickingColor);
}
`,tw=class extends Lx{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,SHAPE:10,EXTRUDE:11})}getCommonUniformsInfo(){let{strokeOpacity:e=1,strokeWidth:t=0,blend:n,blur:r=0}=this.layer.getLayerConfig();this.layer.getLayerConfig();let i={u_additive:n===`additive`?1:0,u_stroke_opacity:e,u_stroke_width:t,u_blur:r};return this.getUniformsBufferInfo(i)}initModels(){var e=this;return Y(function*(){return e.initUniformsBuffer(),e.buildModels()})()}buildModels(){var e=this;return Y(function*(){return e.layer.triangulation=gS,[yield e.layer.buildLayerModel({moduleName:`pointEarthFill`,vertexShader:ew,fragmentShader:$C,triangulation:gS,defines:e.getDefines(),inject:e.getInject(),depth:{enable:!0},blend:e.getBlend()})]})()}animateOption2Array(e){return[e.enable?0:1,e.speed||1,e.rings||3,0]}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:`extrude`,type:J.Attribute,descriptor:{name:`a_Extrude`,shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:3,update:(e,t,n,r)=>{let[i,a,o]=n,s=ce(0,0,1),c=ce(i,0,o),l=i>=0?ye(s,c):Math.PI*2-ye(s,c),u=Math.PI*2-Math.asin(a/100),d=cn();hn(d,d,l),mn(d,d,u);let f=ce(1,1,0);he(f,f,d),z(f,f);let p=ce(-1,1,0);he(p,p,d),z(p,p);let m=ce(-1,-1,0);he(m,m,d),z(m,m);let h=ce(1,-1,0);he(h,h,d),z(h,h);let g=[...f,...p,...m,...h],_=r%4*3;return[g[_],g[_+1],g[_+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:`size`,type:J.Attribute,descriptor:{name:`a_Size`,shaderLocation:this.attributeLocation.SIZE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:1,update:e=>{let{size:t=5}=e;return Array.isArray(t)?[t[0]]:[t]}}}),this.styleAttributeService.registerStyleAttribute({name:`shape`,type:J.Attribute,descriptor:{name:`a_Shape`,shaderLocation:this.attributeLocation.SHAPE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:1,update:e=>{let{shape:t=2}=e;return[this.layer.getLayerConfig().shape2d.indexOf(t)]}}})}},nw=`in vec4 v_color;
in float v_lightWeight;
out vec4 outputColor;

layout(std140) uniform commonUniforms {
  float u_pickLight;
  float u_heightfixed;
  float u_r;
  float u_linearColor;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_opacitylinear;
  float u_opacitylinear_dir;
  float u_lightEnable;
};

#pragma include "scene_uniforms"
#pragma include "picking"

void main() {
  outputColor = v_color;
  // 开启透明度渐变
  // picking
  if (u_pickLight > 0.0) {
    outputColor = filterColorAlpha(outputColor, v_lightWeight);
  } else {
    outputColor = filterColor(outputColor);
  }
}
`,rw=`#define pi (3.1415926535)

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in vec3 a_Size;
layout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec4 a_Extrude;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;

layout(std140) uniform commonUniforms {
  float u_pickLight;
  float u_heightfixed;
  float u_r;
  float u_linearColor;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_opacitylinear;
  float u_opacitylinear_dir;
  float u_lightEnable;
};
out vec4 v_color;
out float v_lightWeight;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

float getYRadian(float x, float z) {
  if (x > 0.0 && z > 0.0) {
    return atan(x / z);
  } else if (x > 0.0 && z <= 0.0) {
    return atan(-z / x) + pi / 2.0;
  } else if (x <= 0.0 && z <= 0.0) {
    return pi + atan(x / z); //atan(x/z) +
  } else {
    return atan(z / -x) + pi * 3.0 / 2.0;
  }
}

float getXRadian(float y, float r) {
  return atan(y / r);
}

void main() {
  vec3 size = a_Size * a_Position;

  vec3 offset = size; // 控制圆柱体的大小 - 从标准单位圆柱体进行偏移

  if (u_heightfixed < 1.0) {
    // 圆柱体不固定高度
  } else {
    // 圆柱体固定高度 （ 处理 mapbox ）
    if (
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
    ) {
      offset *= 4.0 / pow(2.0, 21.0 - u_Zoom);
    }
  }

  vec2 positions = a_Extrude.xy;
  vec2 positions64Low = a_Extrude.zw;
  vec4 project_pos = project_position(vec4(positions, 0.0, 1.0), positions64Low);

  // u_r 控制圆柱的生长
  vec4 pos = vec4(project_pos.xy + offset.xy, offset.z * u_r, 1.0);

  // // 圆柱光照效果
  float lightWeight = 1.0;

  if (u_lightEnable > 0.0) {
    // 取消三元表达式，增强健壮性
    lightWeight = calc_lighting(pos);
  }

  v_lightWeight = lightWeight;

  v_color = a_Color;

  // 设置圆柱的底色
  if (u_linearColor == 1.0) {
    // 使用渐变颜色
    v_color = mix(u_sourceColor, u_targetColor, a_Position.z);
    v_color.a = v_color.a * opacity;
  } else {
    v_color = vec4(a_Color.rgb * lightWeight, a_Color.w * opacity);
  }

  if (u_opacitylinear > 0.0) {
    v_color.a *= u_opacitylinear_dir > 0.0 ? 1.0 - a_Position.z : a_Position.z;
  }

  gl_Position = project_common_position_to_clipspace(pos);

  setPickingColor(a_PickingColor);
}
`,iw=class extends Lx{constructor(...e){super(...e),I(this,`raiseCount`,0),I(this,`raiseRepeat`,0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,EXTRUDE:10,NORMAL:11})}getCommonUniformsInfo(){let{animateOption:e={enable:!1,speed:.01,repeat:!1},sourceColor:t,targetColor:n,pickLight:r=!1,heightfixed:i=!1,opacityLinear:a={enable:!1,dir:`up`},lightEnable:o=!0}=this.layer.getLayerConfig(),s=0,c=[0,0,0,0],l=[0,0,0,0];if(t&&n&&(c=ti(t),l=ti(n),s=1),this.raiseCount<1&&this.raiseRepeat>0&&e.enable){let{speed:t=.01}=e;this.raiseCount+=t,this.raiseCount>=1&&(this.raiseRepeat>1?(this.raiseCount=0,this.raiseRepeat--):this.raiseCount=1)}let u={u_pickLight:Number(r),u_heightfixed:Number(i),u_r:e.enable&&this.raiseRepeat>0?this.raiseCount:1,u_linearColor:s,u_sourceColor:c,u_targetColor:l,u_opacitylinear:Number(a.enable),u_opacitylinear_dir:a.dir===`up`?1:0,u_lightEnable:Number(o)};return this.getUniformsBufferInfo(u)}initModels(){var e=this;return Y(function*(){return e.buildModels()})()}buildModels(){var e=this;return Y(function*(){let{depth:t=!0,animateOption:{repeat:n=1}}=e.layer.getLayerConfig();return e.raiseRepeat=n,e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:`pointExtrude`,vertexShader:rw,fragmentShader:nw,triangulation:_S,defines:e.getDefines(),inject:e.getInject(),cull:{enable:!0,face:q.FRONT},depth:{enable:t}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:`size`,type:J.Attribute,descriptor:{name:`a_Size`,shaderLocation:this.attributeLocation.SIZE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:3,update:e=>{let{size:t}=e;if(t){let e=[];return Array.isArray(t)&&(e=t.length===2?[t[0],t[0],t[1]]:t),Array.isArray(t)||(e=[t,t,t]),e}else return[2,2,2]}}}),this.styleAttributeService.registerStyleAttribute({name:`normal`,type:J.Attribute,descriptor:{name:`a_Normal`,shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:3,update:(e,t,n,r,i)=>i}}),this.styleAttributeService.registerStyleAttribute({name:`extrude`,type:J.Attribute,descriptor:{name:`a_Extrude`,shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:4,update:e=>{let t=Xi(e.coordinates);return[t[0],t[1],Fi(t[0]),Fi(t[1])]}}})}},aw=`layout(std140) uniform commonUniforms {
  vec3 u_blur_height_fixed;
  float u_stroke_width;
  float u_additive;
  float u_stroke_opacity;
  float u_size_unit;
  float u_time;
  vec4 u_animate;
};

in vec4 v_color;
in vec4 v_stroke;
in vec4 v_data;
in float v_radius;

#pragma include "scene_uniforms"
#pragma include "sdf_2d"
#pragma include "picking"

out vec4 outputColor;

void main() {
  int shape = int(floor(v_data.w + 0.5));
  lowp float antialiasblur = v_data.z;
  float r = v_radius / (v_radius + u_stroke_width);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  } else if (shape == 1) {
    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  } else if (shape == 2) {
    outer_df = sdBox(v_data.xy, vec2(1.0));
    inner_df = sdBox(v_data.xy, vec2(r));
  } else if (shape == 3) {
    outer_df = sdPentagon(v_data.xy, 0.8);
    inner_df = sdPentagon(v_data.xy, r * 0.8);
  } else if (shape == 4) {
    outer_df = sdHexagon(v_data.xy, 0.8);
    inner_df = sdHexagon(v_data.xy, r * 0.8);
  } else if (shape == 5) {
    outer_df = sdOctogon(v_data.xy, 1.0);
    inner_df = sdOctogon(v_data.xy, r);
  } else if (shape == 6) {
    outer_df = sdHexagram(v_data.xy, 0.52);
    inner_df = sdHexagram(v_data.xy, r * 0.52);
  } else if (shape == 7) {
    outer_df = sdRhombus(v_data.xy, vec2(1.0));
    inner_df = sdRhombus(v_data.xy, vec2(r));
  } else if (shape == 8) {
    outer_df = sdVesica(v_data.xy, 1.1, 0.8);
    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  }

  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);

  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(antialiasblur, 0.0, inner_df);

  float PI = 3.14159;
  float N_RINGS = 3.0;
  float FREQ = 1.0;

  if (u_stroke_width < 0.01) {
    outputColor = v_color;
  } else {
    outputColor = mix(v_color, v_stroke * u_stroke_opacity, color_t);
  }
  float intensity = 1.0;
  if (u_time != -1.0) {
    //wave相关逻辑
    float d = length(v_data.xy);
    if (d > 0.5) {
      discard;
    }
    intensity =
      clamp(cos(d * PI), 0.0, 1.0) *
      clamp(cos(2.0 * PI * (d * 2.0 * u_animate.z - u_animate.y * u_time)), 0.0, 1.0);
  }

  if (u_additive > 0.0) {
    outputColor *= opacity_t;
    outputColor *= intensity; //wave
    outputColor = filterColorAlpha(outputColor, outputColor.a);
  } else {
    outputColor.a *= opacity_t;
    outputColor.a *= intensity; //wave
    outputColor = filterColor(outputColor);
  }
  // 作为 mask 模板时需要丢弃透明的像素
  if (outputColor.a < 0.01) {
    discard;
  }
}
`,ow=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_SHAPE) in float a_Shape;
layout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;

layout(std140) uniform commonUniforms {
  vec3 u_blur_height_fixed;
  float u_stroke_width;
  float u_additive;
  float u_stroke_opacity;
  float u_size_unit;
  float u_time;
  vec4 u_animate;
};

out vec4 v_color;
out vec4 v_stroke;
out vec4 v_data;
out float v_radius;

#pragma include "projection"
#pragma include "picking"
#pragma include "rotation_2d"

void main() {
  // 透明度计算
   v_stroke = stroke;
  vec3 extrude = a_Extrude;
  float shape_type = a_Shape;
  /*
  *  setPickingSize 设置拾取大小
  *  u_meter2coord 在等面积大小的时候设置单位
  */
  float newSize = setPickingSize(a_Size);
  // float newSize = setPickingSize(a_Size) * 0.00001038445708445579;



  // unpack color(vec2)
  v_color = vec4(a_Color.xyz, a_Color.w * opacity);

  if(u_size_unit == 1.0) {
    newSize = newSize  * u_PixelsPerMeter.z;
  }

   v_radius = newSize;

  // anti-alias
  //  float antialiased_blur = -max(u_blur, antialiasblur);
  float antialiasblur = -max(2.0 / u_DevicePixelRatio / newSize, u_blur_height_fixed.x);

  vec2 offset = (extrude.xy * (newSize + u_stroke_width) + u_offsets);

  offset = project_pixel(offset);
  offset = rotate_matrix(offset,rotation);

  // TODP: /abs(extrude.x) 是为了兼容地球模式
  v_data = vec4(extrude.x/abs(extrude.x), extrude.y/abs(extrude.y), antialiasblur,shape_type);

  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0), a_Position64Low);
  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));

  float raisingHeight = u_blur_height_fixed.y;

  if(u_blur_height_fixed.z < 1.0) { // false
    raisingHeight = project_pixel(u_blur_height_fixed.y);
  } else {
     if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
      raisingHeight = u_blur_height_fixed.y * mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, raisingHeight, 1.0));

  setPickingColor(a_PickingColor);
}
`,sw=class extends Lx{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,SHAPE:10,EXTRUDE:11})}getCommonUniformsInfo(){let{strokeOpacity:e=1,strokeWidth:t=0,blend:n,blur:r=0,raisingHeight:i=0,heightfixed:a=!1,unit:o=`pixel`}=this.layer.getLayerConfig(),s=this.getAnimateUniforms().u_time;isNaN(s)&&(s=-1);let c={u_blur_height_fixed:[r,Number(i),Number(a)],u_stroke_width:t,u_additive:n===`additive`?1:0,u_stroke_opacity:e,u_size_unit:Vx[o],u_time:s,u_animate:this.getAnimateUniforms().u_animate};return this.getUniformsBufferInfo(c)}getAnimateUniforms(){let{animateOption:e={enable:!1}}=this.layer.getLayerConfig();return{u_animate:this.animateOption2Array(e),u_time:this.layer.getLayerAnimateTime()}}getAttribute(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),hS)}initModels(){var e=this;return Y(function*(){return e.buildModels()})()}buildModels(){var e=this;return Y(function*(){let{frag:t,vert:n,type:r}=e.getShaders();return e.layer.triangulation=hS,e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:r,vertexShader:n,fragmentShader:t,defines:e.getDefines(),inject:e.getInject(),triangulation:hS,depth:{enable:!1}})]})()}getShaders(){return{frag:aw,vert:ow,type:`pointFill`}}animateOption2Array(e){return[e.enable?0:1,e.speed||1,e.rings||3,0]}registerBuiltinAttributes(){let e=this.layer.getLayerConfig().shape2d;this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:`extrude`,type:J.Attribute,descriptor:{name:`a_Extrude`,shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:3,update:(e,t,n,r)=>{let i=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],a=r%4*3;return[i[a],i[a+1],i[a+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:`size`,type:J.Attribute,descriptor:{name:`a_Size`,shaderLocation:this.attributeLocation.SIZE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:1,update:e=>{let{size:t=5}=e;return Array.isArray(t)?[t[0]]:[t]}}}),this.styleAttributeService.registerStyleAttribute({name:`shape`,type:J.Attribute,descriptor:{name:`a_Shape`,shaderLocation:this.attributeLocation.SHAPE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:1,update:t=>{let{shape:n=2}=t;return[e.indexOf(n)]}}})}},cw=`in vec2 v_uv;// 本身的 uv 坐标
in vec2 v_Iconuv;
in float v_opacity;
out vec4 outputColor;

uniform sampler2D u_texture;
layout(std140) uniform commonUniform {
  vec2 u_textSize;
  float u_heightfixed: 0.0;
  float u_raisingHeight: 0.0;
  float u_size_unit;
};

#pragma include "scene_uniforms"
#pragma include "sdf_2d"
#pragma include "picking"

void main() {
  vec2 pos = v_Iconuv / u_textSize + v_uv / u_textSize * 64.;
  outputColor = texture(SAMPLER_2D(u_texture), pos);
  outputColor.a *= v_opacity;
  outputColor = filterColor(outputColor);
}
`,lw=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniform {
  vec2 u_textSize;
  float u_heightfixed;
  float u_raisingHeight;
  float u_size_unit;
};

out vec2 v_uv;
out vec2 v_Iconuv;
out float v_opacity;

#pragma include "projection"
#pragma include "picking"
#pragma include "rotation_2d"

void main() {
  vec3 extrude = a_Extrude;
  v_uv = (a_Extrude.xy + 1.0) / 2.0;
  v_uv.x = 1.0 - v_uv.x;
  v_uv.y = 1.0 - v_uv.y;
  v_Iconuv = a_Uv;
  v_opacity = opacity;
  float newSize = a_Size;
  if (u_size_unit == 1.0) {
    newSize = newSize * u_PixelsPerMeter.z;
  }

  // vec2 offset = (u_RotateMatrix * extrude.xy * (a_Size) + textrueOffsets);
  vec2 offset = extrude.xy * newSize + offsets;

  offset = rotate_matrix(offset, rotation);

  offset = project_pixel(offset);

  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));

  setPickingColor(a_PickingColor);
}
`,uw=class extends Lx{constructor(...e){super(...e),I(this,`meter2coord`,1),I(this,`texture`,void 0),I(this,`isMeter`,!1),I(this,`radian`,0),I(this,`updateTexture`,()=>{let{createTexture2D:e}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas(),mag:`linear`,min:`linear mipmap nearest`,mipmap:!0}),this.layerService.throttleRenderLayers();return}this.texture=e({data:this.iconService.getCanvas(),mag:q.LINEAR,min:q.LINEAR_MIPMAP_LINEAR,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128,mipmap:!0}),this.textures=[this.texture]})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,EXTRUDE:10,UV:11})}getCommonUniformsInfo(){let{raisingHeight:e=0,heightfixed:t=!1,unit:n=`pixel`}=this.layer.getLayerConfig();if(this.rendererService.getDirty()){var r;(r=this.texture)==null||r.bind()}let i={u_textSize:[1024,this.iconService.canvasHeight||128],u_heightfixed:Number(t),u_raisingHeight:Number(e),u_size_unit:Vx[n]};return this.getUniformsBufferInfo(i)}getAttribute(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),hS)}initModels(){var e=this;return Y(function*(){return e.iconService.on(`imageUpdate`,e.updateTexture),e.updateTexture(),e.buildModels()})()}buildModels(){var e=this;return Y(function*(){return e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:`pointFillImage`,vertexShader:lw,fragmentShader:cw,triangulation:hS,depth:{enable:!1},defines:e.getDefines(),inject:e.getInject(),cull:{enable:!0,face:q.FRONT}})]})()}clearModels(){var e;this.iconService.off(`imageUpdate`,this.updateTexture),(e=this.texture)==null||e.destroy()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:`uv`,type:J.Attribute,descriptor:{name:`a_Uv`,shaderLocation:this.attributeLocation.UV,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:2,update:e=>{let t=this.iconService.getIconMap(),{shape:n}=e,{x:r,y:i}=t[n]||{x:-64,y:-64};return[r,i]}}}),this.styleAttributeService.registerStyleAttribute({name:`extrude`,type:J.Attribute,descriptor:{name:`a_Extrude`,shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:3,update:(e,t,n,r)=>{let i=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],a=r%4*3;return[i[a],i[a+1],i[a+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:`size`,type:J.Attribute,descriptor:{name:`a_Size`,shaderLocation:this.attributeLocation.SIZE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:1,update:e=>{let{size:t=5}=e;return Array.isArray(t)?[t[0]]:[t]}}})}},dw=`layout(std140) uniform commonUniforms {
  vec2 u_textSize;
  float u_raisingHeight;
  float u_heightfixed;
};

uniform sampler2D u_texture;

in vec4 v_color;
in vec2 v_uv;
in float v_opacity;

#pragma include "picking"

out vec4 outputColor;

void main() {
  vec2 pos = v_uv / u_textSize + gl_PointCoord / u_textSize * 64.0;
  vec4 textureColor;

  // Y = 0.299R + 0.587G + 0.114B // 亮度提取

  textureColor = texture(SAMPLER_2D(u_texture), pos);

  // Tip: 去除边缘部分 mipmap 导致的混合变暗
  float fragmengTocenter = distance(vec2(0.5), gl_PointCoord);
  if (fragmengTocenter >= 0.5) {
    float luma = 0.299 * textureColor.r + 0.587 * textureColor.g + 0.114 * textureColor.b;
    textureColor.a *= luma;
  }

  if (
    all(lessThan(v_color, vec4(1.0 + 0.00001))) && all(greaterThan(v_color, vec4(1.0 - 0.00001))) ||
    v_color == vec4(1.0)
  ) {
    outputColor = textureColor;
  } else {
    outputColor = step(0.01, textureColor.z) * v_color;
  }
  outputColor.a *= v_opacity;
  if (outputColor.a < 0.01) {
    discard;
  }
  outputColor = filterColor(outputColor);
}
`,fw=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  vec2 u_textSize;
  float u_raisingHeight;
  float u_heightfixed;
};

out vec4 v_color;
out vec2 v_uv;
out float v_opacity;

#pragma include "projection"
#pragma include "picking"

void main() {
  // cal style mapping - 数据纹理映射部分的计算
  v_color = a_Color;
  v_opacity = opacity;
  v_uv = a_Uv;
  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);

  vec2 offset = project_pixel(offsets);

  float raisingHeight = u_raisingHeight;
  if (u_heightfixed < 1.0) {
    // false
    raisingHeight = project_pixel(u_raisingHeight);
  } else {
    if (
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
    ) {
      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
      raisingHeight = u_raisingHeight * mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, raisingHeight, 1.0));

  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;
  setPickingColor(a_PickingColor);
}
`,pw=class extends Lx{constructor(...e){super(...e),I(this,`texture`,void 0),I(this,`updateTexture`,()=>{let{createTexture2D:e}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas(),mag:`linear`,min:`linear mipmap nearest`,mipmap:!0}),setTimeout(()=>{this.layerService.throttleRenderLayers()});return}this.texture=e({data:this.iconService.getCanvas(),mag:q.LINEAR,min:q.LINEAR_MIPMAP_LINEAR,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128,mipmap:!0})})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,UV:10})}getUninforms(){if(this.rendererService.getDirty()){var e;(e=this.texture)==null||e.bind()}let t=this.getCommonUniformsInfo(),n=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),P(P({},t.uniformsOption),n.uniformsOption)}getCommonUniformsInfo(){let{raisingHeight:e=0,heightfixed:t=!1}=this.layer.getLayerConfig(),n={u_textSize:[1024,this.iconService.canvasHeight||128],u_raisingHeight:Number(e),u_heightfixed:Number(t),u_texture:this.texture};return this.textures=[this.texture],this.getUniformsBufferInfo(n)}initModels(){var e=this;return Y(function*(){return e.iconService.on(`imageUpdate`,e.updateTexture),e.updateTexture(),e.buildModels()})()}clearModels(){var e;(e=this.texture)==null||e.destroy(),this.iconService.off(`imageUpdate`,this.updateTexture)}buildModels(){var e=this;return Y(function*(){return e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:`pointImage`,vertexShader:fw,fragmentShader:dw,triangulation:vS,defines:e.getDefines(),inject:e.getInject(),depth:{enable:!1},primitive:q.POINTS})]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:`size`,type:J.Attribute,descriptor:{name:`a_Size`,shaderLocation:this.attributeLocation.SIZE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:1,update:e=>{let{size:t=5}=e;return Array.isArray(t)?[t[0]]:[t]}}}),this.styleAttributeService.registerStyleAttribute({name:`uv`,type:J.Attribute,descriptor:{name:`a_Uv`,shaderLocation:this.attributeLocation.UV,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:2,update:e=>{let t=this.iconService.getIconMap(),{shape:n}=e,{x:r,y:i}=t[n]||{x:-64,y:-64};return[r,i]}}})}},mw=`in vec4 v_color;
out vec4 outputColor;
void main() {
  outputColor = v_color;
}
`,hw=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;

layout(std140) uniform u_Common {
  float u_size_scale;
};

out vec4 v_color;

#pragma include "projection"
#pragma include "project"

void main() {
  v_color = vec4(a_Color.xyz, a_Color.w * opacity);

  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(project_pos);

  gl_PointSize = a_Size * u_size_scale * 2.0 * u_DevicePixelRatio;
}
`;function gw(e){let t=e.coordinates;return{vertices:[...t],indices:[0],size:t.length}}var _w=class extends Lx{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9})}getDefaultStyle(){return{blend:`additive`}}getCommonUniformsInfo(){return this.getUniformsBufferInfo({u_size_scale:.5})}initModels(){var e=this;return Y(function*(){return e.buildModels()})()}buildModels(){var e=this;return Y(function*(){return e.layer.triangulation=gw,e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:`pointNormal`,vertexShader:hw,fragmentShader:mw,triangulation:gw,defines:e.getDefines(),inject:e.getInject(),depth:{enable:!1},primitive:q.POINTS,pick:!1})]})()}clearModels(){}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:`size`,type:J.Attribute,descriptor:{name:`a_Size`,shaderLocation:this.attributeLocation.SIZE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:1,update:e=>{let{size:t=1}=e;return Array.isArray(t)?[t[0]]:[t]}}})}},vw=`
layout(std140) uniform commonUniorm{
  float u_additive;
  float u_size_unit;
  float u_speed: 1.0;
  float u_time;
};
in vec4 v_data;
in vec4 v_color;
in float v_radius;
in vec2 v_extrude;
#pragma include "sdf_2d"
#pragma include "picking"

out vec4 outputColor;

void main() {

  lowp float antialiasblur = v_data.z;
  float r = v_radius / (v_radius);

  float outer_df = sdCircle(v_data.xy, 1.0);
  float inner_df = sdCircle(v_data.xy, r);

  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);

  outputColor = vec4(v_color.rgb, v_color.a);

  if(u_additive > 0.0) {
    outputColor *= opacity_t;
  } else {
    outputColor.a *= opacity_t;
  }

  if(outputColor.a > 0.0) {
    outputColor = filterColor(outputColor);
  }

  vec2 extrude =  v_extrude;
  vec2 dir = normalize(extrude);
  vec2 baseDir = vec2(1.0, 0.0);
  float pi = 3.14159265359;
  float flag = sign(dir.y);
  float rades = dot(dir, baseDir);
  float radar_v = (flag - 1.0) * -0.5 * acos(rades)/pi;
  // simple AA
  if(radar_v > 0.99) {
    radar_v = 1.0 - (radar_v - 0.99)/0.01;
  }

  outputColor.a *= radar_v;
}
`,yw=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;

layout(std140) uniform commonUniorm {
  float u_additive;
  float u_size_unit;
  float u_speed: 1.0;
  float u_time;
};

out vec4 v_data;
out vec4 v_color;
out float v_radius;
out vec2 v_extrude;

#pragma include "projection"
#pragma include "picking"

void main() {
  float newSize = setPickingSize(a_Size);

  float time = u_time * u_speed;
  mat2 rotateMatrix = mat2(
    cos(time), sin(time),
    -sin(time), cos(time)
  );
  v_extrude = rotateMatrix * a_Extrude.xy;

  v_color = a_Color;
  v_color.a *= opacity;

  float blur = 0.0;
  float antialiasblur = -max(2.0 / u_DevicePixelRatio / a_Size, blur);

  if(u_size_unit == 1.) {
    newSize = newSize  * u_PixelsPerMeter.z;
  }
  v_radius = newSize;

  vec2 offset = (a_Extrude.xy * (newSize));

  offset = project_pixel(offset);

  v_data = vec4(a_Extrude.x, a_Extrude.y, antialiasblur, -1.0);

  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));

  setPickingColor(a_PickingColor);
}
`,bw=class extends Lx{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,EXTRUDE:10})}getCommonUniformsInfo(){let{blend:e,speed:t=1,unit:n=`pixel`}=this.layer.getLayerConfig(),r={u_additive:e===`additive`?1:0,u_size_unit:Vx[n],u_speed:t,u_time:this.layer.getLayerAnimateTime()};return this.getUniformsBufferInfo(r)}getAnimateUniforms(){return{}}getAttribute(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),hS)}initModels(){var e=this;return Y(function*(){return e.buildModels()})()}buildModels(){var e=this;return Y(function*(){return e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:`pointRadar`,vertexShader:yw,fragmentShader:vw,triangulation:hS,defines:e.getDefines(),inject:e.getInject(),depth:{enable:!1}})]})()}animateOption2Array(e){return[e.enable?0:1,e.speed||1,e.rings||3,0]}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:`extrude`,type:J.Attribute,descriptor:{name:`a_Extrude`,shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:3,update:(e,t,n,r)=>{let i=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],a=r%4*3;return[i[a],i[a+1],i[a+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:`size`,type:J.Attribute,descriptor:{shaderLocation:this.attributeLocation.SIZE,name:`a_Size`,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:1,update:e=>{let{size:t=5}=e;return Array.isArray(t)?[t[0]]:[t]}}})}},xw=class{constructor(e,t,n){I(this,`boxCells`,[]),I(this,`xCellCount`,void 0),I(this,`yCellCount`,void 0),I(this,`boxKeys`,void 0),I(this,`bboxes`,void 0),I(this,`width`,void 0),I(this,`height`,void 0),I(this,`xScale`,void 0),I(this,`yScale`,void 0),I(this,`boxUid`,void 0);let r=this.boxCells;this.xCellCount=Math.ceil(e/n),this.yCellCount=Math.ceil(t/n);for(let e=0;e<this.xCellCount*this.yCellCount;e++)r.push([]);this.boxKeys=[],this.bboxes=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0}insert(e,t,n,r,i){this.forEachCell(t,n,r,i,this.insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)}query(e,t,n,r,i){return this.queryHitTest(e,t,n,r,!1,i)}hitTest(e,t,n,r,i){return this.queryHitTest(e,t,n,r,!0,i)}insertBoxCell(e,t,n,r,i,a){this.boxCells[i].push(a)}queryHitTest(e,t,n,r,i,a){if(n<0||e>this.width||r<0||t>this.height)return i?!1:[];let o=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(let e=0;e<this.boxKeys.length;e++)o.push({key:this.boxKeys[e],x1:this.bboxes[e*4],y1:this.bboxes[e*4+1],x2:this.bboxes[e*4+2],y2:this.bboxes[e*4+3]});return a?o.filter(a):o}let s={hitTest:i,seenUids:{box:{},circle:{}}};return this.forEachCell(e,t,n,r,this.queryCell,o,s,a),i?o.length>0:o}queryCell(e,t,n,r,i,a,o,s){let c=o.seenUids,l=this.boxCells[i];if(l!==null){let i=this.bboxes;for(let u of l)if(!c.box[u]){c.box[u]=!0;let l=u*4;if(e<=i[l+2]&&t<=i[l+3]&&n>=i[l+0]&&r>=i[l+1]&&(!s||s(this.boxKeys[u]))){if(o.hitTest)return a.push(!0),!0;a.push({key:this.boxKeys[u],x1:i[l],y1:i[l+1],x2:i[l+2],y2:i[l+3]})}}}return!1}forEachCell(e,t,n,r,i,a,o,s){let c=this.convertToXCellCoord(e),l=this.convertToYCellCoord(t),u=this.convertToXCellCoord(n),d=this.convertToYCellCoord(r);for(let f=c;f<=u;f++)for(let c=l;c<=d;c++){let l=this.xCellCount*c+f;if(i.call(this,e,t,n,r,l,a,o,s))return}}convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}},Sw=class{constructor(e,t){I(this,`width`,void 0),I(this,`height`,void 0),I(this,`grid`,void 0),I(this,`viewportPadding`,100),I(this,`screenRightBoundary`,void 0),I(this,`screenBottomBoundary`,void 0),I(this,`gridRightBoundary`,void 0),I(this,`gridBottomBoundary`,void 0),this.width=e,this.height=t,this.viewportPadding=Math.max(e,t),this.grid=new xw(e+this.viewportPadding,t+this.viewportPadding,25),this.screenRightBoundary=e+this.viewportPadding,this.screenBottomBoundary=t+this.viewportPadding,this.gridRightBoundary=e+2*this.viewportPadding,this.gridBottomBoundary=t+2*this.viewportPadding}placeCollisionBox(e){let t=e.x1+e.anchorPointX+this.viewportPadding,n=e.y1+e.anchorPointY+this.viewportPadding,r=e.x2+e.anchorPointX+this.viewportPadding,i=e.y2+e.anchorPointY+this.viewportPadding;return!this.isInsideGrid(t,n,r,i)||this.grid.hitTest(t,n,r,i)?{box:[]}:{box:[t,n,r,i]}}insertCollisionBox(e,t){let n={featureIndex:t};this.grid.insert(n,e[0],e[1],e[2],e[3])}project(e,t,n){let r=xn(t,n,0,1),i=bn(),a=ln(...e);return Cn(i,r,a),{x:(i[0]/i[3]+1)/2*this.width+this.viewportPadding,y:(-i[1]/i[3]+1)/2*this.height+this.viewportPadding}}isInsideGrid(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary}};function Cw(e){let t=.5,n=.5;switch(e){case`right`:case`top-right`:case`bottom-right`:t=1;break;case`left`:case`top-left`:case`bottom-left`:t=0;break;default:t=.5}switch(e){case`bottom`:case`bottom-right`:case`bottom-left`:n=1;break;case`top`:case`top-right`:case`top-left`:n=0;break;default:n=.5}return{horizontalAlign:t,verticalAlign:n}}function ww(e,t,n,r,i){if(!i)return;let a=e[r],o=a.glyph;if(o){let s=t[o].advance*a.scale,c=(e[r].x+s)*i;for(let t=n;t<=r;t++)e[t].x-=c}}function Tw(e,t,n,r,i,a,o){let s=(t-n)*i,c=(-r*o+.5)*a;for(let t of e)t.x+=s,t.y+=c}function Ew(e,t,n,r,i,a,o){let s=0,c=-8,l=0,u=e.positionedGlyphs,d=a===`right`?1:a===`left`?0:.5,f=u.length;n.forEach(e=>{if(e.split(``).forEach(e=>{let n=t[e];n&&(u.push({glyph:e,x:s,y:c+0,vertical:!1,scale:1,metrics:n}),s+=n.advance+o)}),u.length!==f){let e=s-o;l=Math.max(e,l),ww(u,t,f,u.length-1,d)}s=0,c-=r+5});let{horizontalAlign:p,verticalAlign:m}=Cw(i);Tw(u,d,p,m,l,r,n.length);let h=c- -8;e.top+=-m*h,e.bottom=e.top-h,e.left+=-p*l,e.right=e.left+l}function Dw(e,t,n,r,i,a,o){let s=0,c=-8,l=0,u=e.positionedGlyphs,d=a===`right`?1:a===`left`?0:.5,f=u.length;n.forEach(e=>{let n=t[e];if(n&&(u.push({glyph:e,x:n.advance/2,y:c+0,vertical:!1,scale:1,metrics:n}),s+=n.advance+o),u.length!==f){let e=s-o;l=Math.max(e,l),ww(u,t,f,u.length-1,d)}s=0,c-=r+5});let{horizontalAlign:p,verticalAlign:m}=Cw(i);Tw(u,d,p,m,l,r,n.length);let h=c- -8;e.top+=-m*h,e.bottom=e.top-h,e.left+=-p*l,e.right=e.left+l}function Ow(e,t,n,r,i,a,o=[0,0],s){let c=e.split(`
`),l=[],u={positionedGlyphs:l,top:o[1],bottom:o[1],left:o[0],right:o[0],lineCount:c.length,text:e};return s?Dw(u,t,c,n,r,i,a):Ew(u,t,c,n,r,i,a),l.length?u:!1}function kw(e,t=[0,0],n){let{positionedGlyphs:r=[]}=e,i=[];for(let e of r){let r=e.metrics,a=r.advance*e.scale/2,o=n?[e.x+a,e.y]:[0,0],s=n?[0,0]:[e.x+a+t[0],e.y+t[1]],c=-4*e.scale-a+s[0],l=-4*e.scale+s[1],u=c+r.width*e.scale,d=l+r.height*e.scale,f={x:c,y:l},p={x:u,y:l},m={x:c,y:d},h={x:u,y:d};i.push({tl:f,tr:p,bl:m,br:h,tex:r,glyphOffset:o})}return i}var Aw=`#define SDF_PX 8.0
#define EDGE_GAMMA 0.105
#define FONT_SIZE 48.0

uniform sampler2D u_sdf_map;
layout(std140) uniform commonUniforms {
  vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];
  vec2 u_sdf_map_size;
  float u_raisingHeight: 0.0;
  float u_stroke_width : 2;
  float u_gamma_scale : 0.5;
  float u_halo_blur : 0.5;
};

in vec2 v_uv;
in float v_gamma_scale;
in vec4 v_color;
in vec4 v_stroke_color;
in float v_fontScale;

out vec4 outputColor;

#pragma include "picking"
void main() {
  // get style data mapping

  // get sdf from atlas
  float dist = texture(SAMPLER_2D(u_sdf_map), v_uv).a;

  lowp float buff = (6.0 - u_stroke_width / v_fontScale) / SDF_PX;
  highp float gamma = (u_halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (v_fontScale * u_gamma_scale) / 1.0;

  highp float gamma_scaled = gamma * v_gamma_scale;

  highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);

  outputColor = mix(v_color, v_stroke_color, smoothstep(0., 0.5, 1.- dist));

  outputColor.a *= alpha;
   // 作为 mask 模板时需要丢弃透明的像素
  if (outputColor.a < 0.01) {
    discard;
  }
  outputColor = filterColor(outputColor);
}
`,jw=`#define SDF_PX 8.0
#define EDGE_GAMMA 0.105
#define FONT_SIZE 24.0

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_TEXT_OFFSETS) in vec2 a_textOffsets;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_tex;

layout(std140) uniform commonUniforms {
  vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];
  vec2 u_sdf_map_size;
  float u_raisingHeight: 0.0;
  float u_stroke_width : 2;
  float u_gamma_scale : 0.5;
  float u_halo_blur : 0.5;
};

out vec2 v_uv;
out float v_gamma_scale;
out vec4 v_color;
out vec4 v_stroke_color;
out float v_fontScale;

#pragma include "projection"
#pragma include "picking"
#pragma include "rotation_2d"

void main() {
  // cal style mapping - 数据纹理映射部分的计算

  v_uv = a_tex / u_sdf_map_size;



  v_color = vec4(a_Color.xyz, a_Color.w * opacity);
  v_stroke_color = vec4(u_stroke_color.xyz, u_stroke_color.w * opacity);

  // 文本缩放比例
  float fontScale = a_Size / FONT_SIZE;
  v_fontScale = fontScale;

  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  // vec4 projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  vec2 offset = rotate_matrix(a_textOffsets,rotation);

  // gl_Position = vec4(projected_position.xy / projected_position.w + rotation_matrix * a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);

  float raiseHeight = u_raisingHeight;
  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
    raiseHeight = u_raisingHeight * mapboxZoomScale;
  }

  vec4 projected_position = project_common_position_to_clipspace(vec4(project_pos.xyz + vec3(0.0, 0.0, raiseHeight), 1.0));

  gl_Position = vec4(
    projected_position.xy / projected_position.w + offset * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);
  v_gamma_scale = gl_Position.w;
  setPickingColor(a_PickingColor);

}
`,{isEqual:Mw}=di;function Nw(e){let t=this,n=e.id,r=[],i=[];if(!t.glyphInfoMap||!t.glyphInfoMap[n])return{vertices:[],indices:[],size:7};let a=t.glyphInfoMap[n].centroid,o=a.length===2?[a[0],a[1],0]:a;return t.glyphInfoMap[n].glyphQuads.forEach((e,t)=>{r.push(...o,e.tex.x,e.tex.y+e.tex.height,e.tl.x,e.tl.y,...o,e.tex.x+e.tex.width,e.tex.y+e.tex.height,e.tr.x,e.tr.y,...o,e.tex.x+e.tex.width,e.tex.y,e.br.x,e.br.y,...o,e.tex.x,e.tex.y,e.bl.x,e.bl.y),i.push(0+t*4,1+t*4,2+t*4,2+t*4,3+t*4,0+t*4)}),{vertices:r,indices:i,size:7}}var Pw=class extends Lx{constructor(...e){var t;super(...e),t=this,I(this,`glyphInfo`,void 0),I(this,`glyphInfoMap`,{}),I(this,`rawEncodeData`,void 0),I(this,`texture`,void 0),I(this,`currentZoom`,-1),I(this,`extent`,void 0),I(this,`textureHeight`,0),I(this,`textCount`,0),I(this,`preTextStyle`,{}),I(this,`mapping`,Y(function*(){t.initGlyph(),t.updateTexture(),yield t.reBuildModel()}))}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,TEXT_OFFSETS:10,UV:11})}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),P(P(P({},e.uniformsOption),t.uniformsOption),{u_sdf_map:this.textures[0]})}getCommonUniformsInfo(){let{stroke:e=`#fff`,strokeWidth:t=0,halo:n=.5,gamma:r=2,raisingHeight:i=0}=this.layer.getLayerConfig(),a=this.getFontServiceMapping(),o=this.getFontServiceCanvas();a&&Object.keys(a).length!==this.textCount&&o&&(this.updateTexture(),this.textCount=Object.keys(a).length),this.preTextStyle=this.getTextStyle();let s={u_stroke_color:ti(e),u_sdf_map_size:[o?.width||1,o?.height||1],u_raisingHeight:Number(i),u_stroke_width:t,u_gamma_scale:r,u_halo_blur:n};return this.getUniformsBufferInfo(s)}initModels(){var e=this;return Y(function*(){return e.bindEvent(),e.extent=e.textExtent(),e.rawEncodeData=e.layer.getEncodedData(),e.preTextStyle=e.getTextStyle(),e.initUniformsBuffer(),e.buildModels()})()}buildModels(){var e=this;return Y(function*(){let{textAllowOverlap:t=!1}=e.layer.getLayerConfig();return e.initGlyph(),e.updateTexture(),t||e.filterGlyphs(),[yield e.layer.buildLayerModel({moduleName:`pointText`,vertexShader:jw,fragmentShader:Aw,defines:e.getDefines(),inject:e.getInject(),triangulation:Nw.bind(e),depth:{enable:!1}})]})()}needUpdate(){var e=this;return Y(function*(){let{textAllowOverlap:t=!1,textAnchor:n=`center`,textOffset:r,padding:i,fontFamily:a,fontWeight:o}=e.getTextStyle();if(!Mw(i,e.preTextStyle.padding)||!Mw(r,e.preTextStyle.textOffset)||!Mw(n,e.preTextStyle.textAnchor)||!Mw(a,e.preTextStyle.fontFamily)||!Mw(o,e.preTextStyle.fontWeight))return yield e.mapping(),!0;if(t)return!1;let s=e.mapService.getZoom(),c=e.mapService.getBounds(),l=Ki(e.extent,c);return Math.abs(e.currentZoom-s)>.5||!l||t!==e.preTextStyle.textAllowOverlap?(yield e.reBuildModel(),!0):!1})()}clearModels(){var e;(e=this.texture)==null||e.destroy(),this.layer.off(`remapping`,this.mapping)}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:`textOffsets`,type:J.Attribute,descriptor:{shaderLocation:this.attributeLocation.TEXT_OFFSETS,name:`a_textOffsets`,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:2,update:(e,t,n)=>[n[5],n[6]]}}),this.styleAttributeService.registerStyleAttribute({name:`textUv`,type:J.Attribute,descriptor:{name:`a_tex`,shaderLocation:this.attributeLocation.UV,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:2,update:(e,t,n)=>[n[3],n[4]]}}),this.styleAttributeService.registerStyleAttribute({name:`size`,type:J.Attribute,descriptor:{name:`a_Size`,shaderLocation:this.attributeLocation.SIZE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:1,update:e=>{let{size:t=12}=e;return Array.isArray(t)?[t[0]]:[t]}}})}bindEvent(){this.layer.isTileLayer||this.layer.on(`remapping`,this.mapping)}textExtent(){let e=this.mapService.getBounds();return Gi(e,.5)}initTextFont(){let{fontWeight:e,fontFamily:t}=this.getTextStyle(),n=this.rawEncodeData,r=[];n.forEach(e=>{let{shape:t=``}=e;t=t.toString();for(let e of t)r.indexOf(e)===-1&&r.push(e)}),this.fontService.setFontOptions({characterSet:r,fontWeight:e,fontFamily:t,iconfont:!1})}initIconFontTex(){let{fontWeight:e,fontFamily:t}=this.getTextStyle(),n=this.rawEncodeData,r=[];n.forEach(e=>{let{shape:t=``}=e;t=`${t}`,r.indexOf(t)===-1&&r.push(t)}),this.fontService.setFontOptions({characterSet:r,fontWeight:e,fontFamily:t,iconfont:!0})}getTextStyle(){let{fontWeight:e=`400`,fontFamily:t=`sans-serif`,textAllowOverlap:n=!1,padding:r=[0,0],textAnchor:i=`center`,textOffset:a=[0,0],opacity:o=1,strokeOpacity:s=1,strokeWidth:c=0,stroke:l=`#000`}=this.layer.getLayerConfig();return{fontWeight:e,fontFamily:t,textAllowOverlap:n,padding:r,textAnchor:i,textOffset:a,opacity:o,strokeOpacity:s,strokeWidth:c,stroke:l}}generateGlyphLayout(e){let t=this.getFontServiceMapping(),{spacing:n=2,textAnchor:r=`center`,textOffset:i}=this.layer.getLayerConfig();this.glyphInfo=this.rawEncodeData.map(a=>{let{shape:o=``,id:s,size:c=1}=a,l=a.textOffset?a.textOffset:i||[0,0],u=a.textAnchor?a.textAnchor:r||`center`,d=Ow(o.toString(),t,c,u,`left`,n,l,e),f=kw(d,l,!1);return a.shaping=d,a.glyphQuads=f,a.centroid=Xi(a.coordinates),this.glyphInfoMap[s]={shaping:d,glyphQuads:f,centroid:Xi(a.coordinates)},a})}getFontServiceMapping(){let{fontWeight:e=`400`,fontFamily:t=`sans-serif`}=this.layer.getLayerConfig();return this.fontService.getMappingByKey(`${t}_${e}`)}getFontServiceCanvas(){let{fontWeight:e=`400`,fontFamily:t=`sans-serif`}=this.layer.getLayerConfig();return this.fontService.getCanvasByKey(`${t}_${e}`)}filterGlyphs(){let{padding:e=[0,0],textAllowOverlap:t=!1}=this.layer.getLayerConfig();if(t)return;this.glyphInfoMap={},this.currentZoom=this.mapService.getZoom(),this.extent=this.textExtent();let{width:n,height:r}=this.rendererService.getViewportSize(),i=new Sw(n,r);this.glyphInfo.filter(t=>{let{shaping:n,id:r=0}=t,a=t.centroid,o=t.size/16,s=this.mapService.lngLatToContainer(a),{box:c}=i.placeCollisionBox({x1:n.left*o-e[0],x2:n.right*o+e[0],y1:n.top*o-e[1],y2:n.bottom*o+e[1],anchorPointX:s.x,anchorPointY:s.y});return c&&c.length?(i.insertCollisionBox(c,r),!0):!1}).forEach(e=>{this.glyphInfoMap[e.id]=e})}initGlyph(){let{iconfont:e=!1}=this.layer.getLayerConfig();e?this.initIconFontTex():this.initTextFont(),this.generateGlyphLayout(e)}updateTexture(){let{createTexture2D:e}=this.rendererService,t=this.getFontServiceCanvas();this.textureHeight=t.height,this.texture&&this.texture.destroy(),this.texture=e({data:t,mag:q.LINEAR,min:q.LINEAR,width:t.width,height:t.height}),this.textures=[this.texture]}reBuildModel(){var e=this;return Y(function*(){e.filterGlyphs();let t=yield e.layer.buildLayerModel({moduleName:`pointText`,vertexShader:jw,fragmentShader:Aw,triangulation:Nw.bind(e),defines:e.getDefines(),inject:e.getInject(),depth:{enable:!1}});e.layer.models=[t]})()}},Fw={fillImage:uw,fill:sw,radar:bw,image:pw,normal:_w,simplePoint:JC,extrude:iw,text:Pw,earthFill:tw,earthExtrude:QC},Iw=class extends Dx{constructor(...e){super(...e),I(this,`type`,`PointLayer`),I(this,`enableShaderEncodeStyles`,[`stroke`,`offsets`,`opacity`,`rotation`]),I(this,`enableDataEncodeStyles`,[`textOffset`,`textAnchor`]),I(this,`defaultSourceConfig`,{data:[],options:{parser:{type:`json`,x:`lng`,y:`lat`}}})}buildModels(){var e=this;return Y(function*(){let t=e.getModelType();e.layerModel&&e.layerModel.clearModels(),e.layerModel=new Fw[t](e),yield e.initLayerModels()})()}rebuildModels(){var e=this;return Y(function*(){yield e.buildModels()})()}getModelTypeWillEmptyData(){if(this.shapeOption){let{field:e,values:t}=this.shapeOption,{shape2d:n}=this.getLayerConfig(),r=this.iconService.getIconMap();if(e&&n?.indexOf(e)!==-1)return`fill`;if(t===`text`)return`text`;if(t&&t instanceof Array){for(let e of t)if(typeof e==`string`&&r.hasOwnProperty(e))return`image`}}return`normal`}getDefaultConfig(){return{fillImage:{},normal:{blend:`additive`},radar:{},simplePoint:{},fill:{blend:`normal`},extrude:{},image:{},text:{blend:`normal`},tile:{},tileText:{},earthFill:{},earthExtrude:{}}[this.getModelType()]}getModelType(){let e=this.getEncodedData(),{shape2d:t,shape3d:n,billboard:r=!0}=this.getLayerConfig(),i=this.iconService.getIconMap(),a=e.find(e=>e.hasOwnProperty(`shape`));if(a){let e=a.shape;return e===`dot`?`normal`:e===`simple`?`simplePoint`:e===`radar`?`radar`:this.layerType===`fillImage`||r===!1?`fillImage`:t?.indexOf(e)===-1?n?.indexOf(e)===-1?i.hasOwnProperty(e)?`image`:`text`:this.mapService.version===`GLOBEL`?`earthExtrude`:`extrude`:this.mapService.version===`GLOBEL`?`earthFill`:`fill`}else return this.getModelTypeWillEmptyData()}};function Lw(e){return Rw.apply(this,arguments)}function Rw(){return Rw=Y(function*(e){if(window.createImageBitmap){let t=yield fetch(e);return yield createImageBitmap(yield t.blob())}else{let t=new window.Image;return new Promise(n=>{t.onload=()=>n(t),t.src=e,t.crossOrigin=`Anonymous`})}}),Rw.apply(this,arguments)}var zw=`layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // 默认不固定
  float u_raisingHeight;
};

in vec4 v_Color;
#pragma include "scene_uniforms"
#pragma include "picking"
out vec4 outputColor;
void main() {
  // top face
  if (u_topsurface < 1.0) {
    discard;
  }

  outputColor = v_Color;

  outputColor = filterColor(outputColor);
}
`,Bw=`layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // 默认不固定
  float u_raisingHeight;
};

in vec4 v_Color;
in vec3 v_uvs;
in vec2 v_texture_data;
out vec4 outputColor;

#pragma include "scene_uniforms"
#pragma include "picking"

void main() {
  float isSide = v_texture_data.x;
  float sidey = v_uvs[2];
  float lightWeight = v_texture_data.y;

  // Tip: 部分机型 GPU 计算精度兼容
  if (isSide < 0.999) {
    // side face
    if (u_sidesurface < 1.0) {
      discard;
    }

    if (u_linearColor == 1.0) {
      // side use linear
      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);
      linearColor.rgb *= lightWeight;
      outputColor = linearColor;
    } else {
      // side notuse linear
      outputColor = v_Color;
    }
  } else {
    // top face
    if (u_topsurface < 1.0) {
      discard;
    }
    outputColor = v_Color;
  }

  outputColor = filterColorAlpha(outputColor, lightWeight);
}
`,Vw=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;
layout(location = ATTRIBUTE_LOCATION_UV) in vec3 a_uvs;

layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // 默认不固定
  float u_raisingHeight;
};

out vec4 v_Color;
out vec3 v_uvs;
out vec2 v_texture_data;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  v_uvs = a_uvs;
  // cal style mapping - 数据纹理映射部分的计算
  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);
  vec4 project_pos = project_position(pos, a_Position64Low);

  if (u_heightfixed > 0.0) {
    // 判断几何体是否固定高度
    project_pos.z = a_Position.z * a_Size;
    project_pos.z += u_raisingHeight;
    if (
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
    ) {
      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
      project_pos.z *= mapboxZoomScale;
      project_pos.z += u_raisingHeight * mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  float lightWeight = calc_lighting(project_pos);
  v_texture_data = vec2(a_Position.z, lightWeight);

  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w * opacity);

  setPickingColor(a_PickingColor);
}
`,Hw=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;
layout(location = ATTRIBUTE_LOCATION_UV) in vec3 a_uvs;

layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // 默认不固定
  float u_raisingHeight;
};

out vec4 v_Color;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  float isSide = a_Position.z;
  float topU = a_uvs[0];
  float topV = 1.0 - a_uvs[1];
  float sidey = a_uvs[2];

  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);

  vec4 project_pos = project_position(pos, a_Position64Low);
  float lightWeight = calc_lighting(project_pos);

  if (u_heightfixed > 0.0) {
    // 判断几何体是否固定高度
    project_pos.z = a_Position.z * a_Size;
    project_pos.z += u_raisingHeight;

    if (
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
    ) {
      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
      project_pos.z *= mapboxZoomScale;
      project_pos.z += u_raisingHeight * mapboxZoomScale;
    }
  }

 gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  // Tip: 部分机型 GPU 计算精度兼容
  if (isSide < 0.999) {
    // side face
    // if(u_sidesurface < 1.0) {
    //   discard;
    // }

    if (u_linearColor == 1.0) {
      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);
      linearColor.rgb *= lightWeight;
      v_Color = linearColor;
    } else {
      v_Color = a_Color;
    }

  } else {
    v_Color = a_Color;
  }

  v_Color = vec4(v_Color.rgb * lightWeight, v_Color.w * opacity);

  setPickingColor(a_PickingColor);
}
`,Uw=`uniform sampler2D u_texture;

layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // 默认不固定
  float u_raisingHeight;
};

in vec4 v_Color;
in vec3 v_uvs;
in vec2 v_texture_data;

#pragma include "scene_uniforms"
#pragma include "picking"

out vec4 outputColor;

void main() {
  float opacity = u_opacity;
  float isSide = v_texture_data.x;
  float lightWeight = v_texture_data.y;
  float topU = v_uvs[0];
  float topV = 1.0 - v_uvs[1];
  float sidey = v_uvs[2];

  outputColor = texture(SAMPLER_2D(u_texture), vec2(topU, topV));
  // Tip: 部分机型 GPU 计算精度兼容
  if (isSide < 0.999) {
    // 是否是边缘
    // side face
    if (u_sidesurface < 1.0) {
      discard;
    }

    if (u_linearColor == 1.0) {
      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);
      linearColor.rgb *= lightWeight;
      outputColor = linearColor;
    } else {
      outputColor = v_Color;
    }
  } else {
    // top face
    if (u_topsurface < 1.0) {
      discard;
    }
  }

  outputColor.a *= opacity;
  outputColor = filterColor(outputColor);
}
`,Ww=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;
layout(location = ATTRIBUTE_LOCATION_UV) in vec3 a_uvs;

layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // 默认不固定
  float u_raisingHeight;
};

out vec4 v_Color;
out vec3 v_uvs;
out vec2 v_texture_data;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);
  vec4 project_pos = project_position(pos, a_Position64Low);
  float lightWeight = calc_lighting(project_pos);
  v_uvs = a_uvs;
  v_Color = a_Color;
  v_Color.a *= opacity;

  v_texture_data = vec2(a_Position.z, lightWeight);

  if (u_heightfixed > 0.0) {
    // 判断几何体是否固定高度
    project_pos.z = a_Position.z * a_Size;
    project_pos.z += u_raisingHeight;

    if (
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
    ) {
      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
      project_pos.z *= mapboxZoomScale;
      project_pos.z += u_raisingHeight * mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  setPickingColor(a_PickingColor);
}
`,Gw=class extends Lx{constructor(...e){super(...e),I(this,`texture`,void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,NORMAL:10,UV:11})}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),P(P({},e.uniformsOption),t.uniformsOption)}getCommonUniformsInfo(){let{mapTexture:e,heightfixed:t=!1,raisingHeight:n=0,topsurface:r=!0,sidesurface:i=!0,sourceColor:a,targetColor:o}=this.layer.getLayerConfig(),s=0,c=[1,1,1,1],l=[1,1,1,1];a&&o&&(c=ti(a),l=ti(o),s=1);let u={u_sourceColor:c,u_targetColor:l,u_linearColor:s,u_topsurface:Number(r),u_sidesurface:Number(i),u_heightfixed:Number(t),u_raisingHeight:Number(n)};return e&&this.texture&&(u.u_texture=this.texture,this.textures=[this.texture]),this.getUniformsBufferInfo(u)}initModels(){var e=this;return Y(function*(){return yield e.loadTexture(),e.buildModels()})()}buildModels(){var e=this;return Y(function*(){let{frag:t,vert:n,type:r}=e.getShaders();return e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:r,vertexShader:n,fragmentShader:t,depth:{enable:!0},defines:e.getDefines(),inject:e.getInject(),triangulation:DS})]})()}getShaders(){let{pickLight:e,mapTexture:t}=this.layer.getLayerConfig();return t?{frag:Uw,vert:Ww,type:`polygonExtrudeTexture`}:e?{frag:Bw,vert:Vw,type:`polygonExtrudePickLight`}:{frag:zw,vert:Hw,type:`polygonExtrude`}}clearModels(){var e;(e=this.texture)==null||e.destroy(),this.textures=[]}registerBuiltinAttributes(){let e=this.layer.getSource().extent,t=e[2]-e[0],n=e[3]-e[1];this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:`uvs`,type:J.Attribute,descriptor:{name:`a_uvs`,shaderLocation:this.attributeLocation.UV,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:3,update:(r,i,a)=>{let o=a[0],s=a[1];return[(o-e[0])/t,(s-e[1])/n,a[4]]}}}),this.styleAttributeService.registerStyleAttribute({name:`normal`,type:J.Attribute,descriptor:{name:`a_Normal`,shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:3,update:(e,t,n,r,i)=>i}}),this.styleAttributeService.registerStyleAttribute({name:`size`,type:J.Attribute,descriptor:{name:`a_Size`,shaderLocation:this.attributeLocation.SIZE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:1,update:e=>{let{size:t=10}=e;return Array.isArray(t)?[t[0]]:[t]}}})}loadTexture(){var e=this;return Y(function*(){let{mapTexture:t}=e.layer.getLayerConfig(),{createTexture2D:n}=e.rendererService;if(e.texture=n({height:1,width:1}),t){let r=yield Lw(t);e.texture=n({data:r,width:r.width,height:r.height,wrapS:q.CLAMP_TO_EDGE,wrapT:q.CLAMP_TO_EDGE,min:q.LINEAR,mag:q.LINEAR})}})()}},Kw=`in vec4 v_Color;
#pragma include "scene_uniforms"
#pragma include "picking"
out vec4 outputColor;
void main() {
  outputColor = v_Color;
  outputColor = filterColor(outputColor);
}
`,qw=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;

out vec4 v_Color;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size + (1.0 - a_Position.z) * extrusionBase, 1.0);

  vec4 project_pos = project_position(pos, a_Position64Low);
  float lightWeight = calc_lighting(project_pos);
  v_Color = a_Color;
  v_Color = vec4(v_Color.rgb * lightWeight, v_Color.w * opacity);

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  setPickingColor(a_PickingColor);
}
`,Jw=class extends Lx{constructor(...e){super(...e),I(this,`texture`,void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,NORMAL:10,EXTRUSION_BASE:11})}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),P(P({},e.uniformsOption),t.uniformsOption)}getCommonUniformsInfo(){return this.getUniformsBufferInfo({})}initModels(){var e=this;return Y(function*(){return e.buildModels()})()}buildModels(){var e=this;return Y(function*(){let{frag:t,vert:n,type:r}=e.getShaders();return e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:r,vertexShader:n,fragmentShader:t,defines:e.getDefines(),inject:e.getInject(),triangulation:DS,depth:{enable:!0}})]})()}getShaders(){return{frag:Kw,vert:qw,type:`polygonExtrude`}}clearModels(){var e;(e=this.texture)==null||e.destroy()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:`normal`,type:J.Attribute,descriptor:{name:`a_Normal`,shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:3,update:(e,t,n,r,i)=>i}}),this.styleAttributeService.registerStyleAttribute({name:`size`,type:J.Attribute,descriptor:{name:`a_Size`,shaderLocation:this.attributeLocation.SIZE,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:1,update:e=>{let{size:t=10}=e;return Array.isArray(t)?[t[0]]:[t]}}}),this.styleAttributeService.registerStyleAttribute({name:`extrusionBase`,type:J.Attribute,descriptor:{name:`a_ExtrusionBase`,shaderLocation:this.attributeLocation.EXTRUSION_BASE,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:1,update:e=>{let{extrusionBase:t=0}=e;return[t]}}})}},Yw=`in vec4 v_color;
#pragma include "scene_uniforms"
#pragma include "picking"
out vec4 outputColor;
void main() {
  outputColor = v_color;
  outputColor = filterColor(outputColor);
}
`,Xw=`layout(std140) uniform commonUniforms {
  float u_raisingHeight;
  float u_opacitylinear;
  float u_dir;
};

in vec4 v_color;
in vec3 v_linear;
in vec2 v_pos;
out vec4 outputColor;
#pragma include "scene_uniforms"
#pragma include "picking"

void main() {
  outputColor = v_color;
  if (u_opacitylinear > 0.0) {
    outputColor.a *=
      u_dir == 1.0
        ? 1.0 - length(v_pos - v_linear.xy) / v_linear.z
        : length(v_pos - v_linear.xy) / v_linear.z;
  }
  outputColor = filterColor(outputColor);
}
`,Zw=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_LINEAR) in vec3 a_linear;

layout(std140) uniform commonUniforms {
  float u_raisingHeight;
  float u_opacitylinear;
  float u_dir;
};

out vec4 v_color;
out vec3 v_linear;
out vec2 v_pos;

#pragma include "projection"
#pragma include "picking"

void main() {
  if (u_opacitylinear > 0.0) {
    v_linear = a_linear;
    v_pos = a_Position.xy;
  }
  v_color = vec4(a_Color.xyz, a_Color.w * opacity);
  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  project_pos.z += u_raisingHeight;

  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
    project_pos.z *= mapboxZoomScale;
    project_pos.z += u_raisingHeight * mapboxZoomScale;
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  setPickingColor(a_PickingColor);
}
`,Qw=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;

layout(std140) uniform commonUniforms {
  float u_raisingHeight;
};

out vec4 v_color;

#pragma include "projection"
#pragma include "picking"

void main() {
  // cal style mapping - 数据纹理映射部分的计算

  v_color = vec4(a_Color.xyz, a_Color.w * opacity);
  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);

  project_pos.z += u_raisingHeight;

  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
    project_pos.z *= mapboxZoomScale;
    project_pos.z += u_raisingHeight * mapboxZoomScale;
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  setPickingColor(a_PickingColor);
}

`,$w=class extends Lx{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,LINEAR:9})}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),P(P({},e.uniformsOption),t.uniformsOption)}getCommonUniformsInfo(){let{raisingHeight:e=0,opacityLinear:t={enable:!1,dir:`in`}}=this.layer.getLayerConfig(),n={u_raisingHeight:Number(e),u_opacitylinear:Number(t.enable),u_dir:t.dir===`in`?1:0};return this.getUniformsBufferInfo(n)}initModels(){var e=this;return Y(function*(){return e.buildModels()})()}buildModels(){var e=this;return Y(function*(){let{frag:t,vert:n,triangulation:r,type:i}=e.getModelParams();return e.initUniformsBuffer(),e.layer.triangulation=r,[yield e.layer.buildLayerModel({moduleName:i,vertexShader:n,fragmentShader:t,defines:e.getDefines(),inject:e.getInject(),triangulation:r,primitive:q.TRIANGLES,depth:{enable:!1}})]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute();let{opacityLinear:e={enable:!1,dir:`in`}}=this.layer.getLayerConfig();e.enable&&this.styleAttributeService.registerStyleAttribute({name:`linear`,type:J.Attribute,descriptor:{name:`a_linear`,shaderLocation:this.attributeLocation.LINEAR,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:3,update:(e,t,n)=>[n[3],n[4],n[5]]}})}getModelParams(){let{opacityLinear:e={enable:!1}}=this.layer.getLayerConfig();return e.enable?{frag:Xw,vert:Zw,type:`polygonLinear`,triangulation:TS}:{frag:Yw,vert:Qw,type:`polygonFill`,triangulation:wS}}},eT=`layout(std140) uniform commonUniforms {
  vec4 u_watercolor;
  vec4 u_watercolor2;
  float u_time;
};

in vec2 v_uv;
in float v_opacity;
out vec4 outputColor;

float coast2water_fadedepth = 0.1;
float large_waveheight = 0.75; // change to adjust the "heavy" waves
float large_wavesize = 3.4; // factor to adjust the large wave size
float small_waveheight = 0.6; // change to adjust the small random waves
float small_wavesize = 0.5; // factor to ajust the small wave size
float water_softlight_fact = 15.0; // range [1..200] (should be << smaller than glossy-fact)
float water_glossylight_fact = 120.0; // range [1..200]
float particle_amount = 70.0;

vec3 water_specularcolor = vec3(1.3, 1.3, 0.9); // specular Color (RGB) of the water-highlights
#define light (vec3(-0.0, sin(u_time * 0.5) * 0.5 + 0.35, 2.8)) // position of the sun

uniform sampler2D u_texture1;
uniform sampler2D u_texture2;
uniform sampler2D u_texture3;

float hash(float n) {
  return fract(sin(n) * 43758.5453123);
}

// 2d noise function
float noise1(vec2 x) {
  vec2 p = floor(x);
  vec2 f = smoothstep(0.0, 1.0, fract(x));
  float n = p.x + p.y * 57.0;
  return mix(mix(hash(n + 0.0), hash(n + 1.0), f.x), mix(hash(n + 57.0), hash(n + 58.0), f.x), f.y);
}

float noise(vec2 p) {
  return texture(SAMPLER_2D(u_texture2), p * vec2(1.0 / 256.0)).x;
}

vec4 highness(vec2 p) {
  vec4 t = texture(SAMPLER_2D(u_texture1), fract(p));
  float clipped =
    -2.0 -
    smoothstep(3.0, 10.0, t.a) * 6.9 -
    smoothstep(10.0, 100.0, t.a) * 89.9 -
    smoothstep(0.0, 10000.0, t.a) * 10000.0;
  return clamp(t, 0.0, 3.0) + clamp(t / 3.0 - 1.0, 0.0, 1.0) + clamp(t / 16.0 - 1.0, 0.0, 1.0);
}

float height_map(vec2 p) {
  vec4 height = highness(p);
  /*
    height = -0.5+
        0.5*smoothstep(-100.,0.,-height)+
        2.75*smoothstep(0.,2.,height)+
        1.75*smoothstep(2.,4.,height)+
        2.75*smoothstep(4.,16.,height)+
        1.5*smoothstep(16.,1000.,height);
    */

  mat2 m = mat2(0.9563 * 1.4, -0.2924 * 1.4, 0.2924 * 1.4, 0.9563 * 1.4);
  //p = p*6.;
  float f = 0.6 * noise1(p);
  p = m * p * 1.1 * 6.0;
  f += 0.25 * noise(p);
  p = m * p * 1.32;
  f += 0.1666 * noise(p);
  p = m * p * 1.11;
  f += 0.0834 * noise(p);
  p = m * p * 1.12;
  f += 0.0634 * noise(p);
  p = m * p * 1.13;
  f += 0.0444 * noise(p);
  p = m * p * 1.14;
  f += 0.0274 * noise(p);
  p = m * p * 1.15;
  f += 0.0134 * noise(p);
  p = m * p * 1.16;
  f += 0.0104 * noise(p);
  p = m * p * 1.17;
  f += 0.0084 * noise(p);
  f = 0.25 * f + dot(height, vec4(-0.03125, -0.125, 0.25, 0.25)) * 0.5;
  const float FLAT_LEVEL = 0.92525;
  //f = f*0.25+height*0.75;
  if (f < FLAT_LEVEL) f = f;
  else f = pow((f - FLAT_LEVEL) / (1.0 - FLAT_LEVEL), 2.0) * (1.0 - FLAT_LEVEL) * 2.0 + FLAT_LEVEL; // makes a smooth coast-increase
  return clamp(f, 0.0, 10.0);
}

vec3 plasma_quintic(float x) {
  x = clamp(x, 0.0, 1.0);
  vec4 x1 = vec4(1.0, x, x * x, x * x * x); // 1 x x2 x3
  vec4 x2 = x1 * x1.w * x; // x4 x5 x6 x7
  return vec3(
    dot(x1.xyzw, vec4(+0.063861086, +1.992659096, -1.023901152, -0.490832805)) +
      dot(x2.xy, vec2(+1.308442123, -0.914547012)),
    dot(x1.xyzw, vec4(+0.04971859, -0.791144343, +2.892305078, +0.811726816)) +
      dot(x2.xy, vec2(-4.686502417, +2.717794514)),
    dot(x1.xyzw, vec4(+0.513275779, +1.58025506, -5.164414457, +4.559573646)) +
      dot(x2.xy, vec2(-1.916810682, +0.570638854))
  );
}

vec4 color(vec2 p) {
  vec4 c1 = vec4(1.7, 1.6, 0.9, 1);
  vec4 c2 = vec4(0.2, 0.94, 0.1, 1);
  vec4 c3 = vec4(0.3, 0.2, 0.0, 1);
  vec4 c4 = vec4(0.99, 0.99, 1.6, 1);
  vec4 v = highness(p);
  float los = smoothstep(0.1, 1.1, v.b);
  float his = smoothstep(3.5, 6.5, v.b);
  float ces = smoothstep(1.0, 5.0, v.a);
  vec4 lo = mix(c1, c2, los);
  vec4 hi = mix(c3, c4, his);
  vec4 ce = mix(lo, hi, ces);

  return vec4(plasma_quintic(ces), 1).ragb;
}

vec3 terrain_map(vec2 p) {
  return color(p).rgb * 0.75 +
  0.25 * vec3(0.7, 0.55, 0.4) +
  texture(SAMPLER_2D(u_texture3), fract(p * 5.0)).rgb * 0.5; // test-terrain is simply 'sandstone'
}

const mat2 m = mat2(
   0.72, -1.6 ,
   1.6 ,  0.72
);

float water_map(vec2 p, float height) {
  vec2 p2 = p * large_wavesize;
  vec2 shift1 = 0.001 * vec2(u_time * 160.0 * 2.0, u_time * 120.0 * 2.0);
  vec2 shift2 = 0.001 * vec2(u_time * 190.0 * 2.0, -u_time * 130.0 * 2.0);

  // coarse crossing 'ocean' waves...
  float f = 0.6 * noise(p);
  f += 0.25 * noise(p * m);
  f += 0.1666 * noise(p * m * m);
  float wave =
    sin(p2.x * 0.622 + p2.y * 0.622 + shift2.x * 4.269) * large_waveheight * f * height * height;

  p *= small_wavesize;
  f = 0.0;
  float amp = 1.0,
    s = 0.5;
  for (int i = 0; i < 9; i++) {
    p = m * p * 0.947;
    f -= amp * abs(sin((noise(p + shift1 * s) - 0.5) * 2.0));
    amp = amp * 0.59;
    s *= -1.329;
  }

  return wave + f * small_waveheight;
}

float nautic(vec2 p) {
  p *= 18.0;
  float f = 0.0;
  float amp = 1.0,
    s = 0.5;
  for (int i = 0; i < 3; i++) {
    p = m * p * 1.2;
    f += amp * abs(smoothstep(0.0, 1.0, noise(p + u_time * s)) - 0.5);
    amp = amp * 0.5;
    s *= -1.227;
  }
  return pow(1.0 - f, 5.0);
}

float particles(vec2 p) {
  p *= 200.0;
  float f = 0.0;
  float amp = 1.0,
    s = 1.5;
  for (int i = 0; i < 3; i++) {
    p = m * p * 1.2;
    f += amp * noise(p + u_time * s);
    amp = amp * 0.5;
    s *= -1.227;
  }
  return pow(f * 0.35, 7.0) * particle_amount;
}

float test_shadow(vec2 xy, float height) {
  vec3 r0 = vec3(xy, height);
  vec3 rd = normalize(light - r0);

  float hit = 1.0;
  float t = 0.001;
  for (int j = 1; j < 25; j++) {
    vec3 p = r0 + t * rd;
    float h = height_map(p.xy);
    float height_diff = p.z - h;
    if (height_diff < 0.0) {
      return 0.0;
    }
    t += 0.01 + height_diff * 0.02;
    hit = min(hit, 2.0 * height_diff / t); // soft shaddow
  }
  return hit;
}

vec3 CalcTerrain(vec2 uv, float height) {
  vec3 col = terrain_map(uv);
  vec2 iResolution = vec2(512.0);
  float h1 = height_map(uv - vec2(0.0, 0.5) / iResolution.xy);
  float h2 = height_map(uv + vec2(0.0, 0.5) / iResolution.xy);
  float h3 = height_map(uv - vec2(0.5, 0.0) / iResolution.xy);
  float h4 = height_map(uv + vec2(0.5, 0.0) / iResolution.xy);
  vec3 norm = normalize(vec3(h3 - h4, h1 - h2, 1.0));
  vec3 r0 = vec3(uv, height);
  vec3 rd = normalize(light - r0);
  float grad = dot(norm, rd);
  col *= grad + pow(grad, 8.0);
  float terrainshade = test_shadow(uv, height);
  col = mix(col * 0.25, col, terrainshade);
  return col;
}

void main() {
  vec3 watercolor = u_watercolor.rgb;
  vec3 watercolor2 = u_watercolor2.rgb;
  vec2 uv = v_uv;
  float WATER_LEVEL = 0.84; // Water level (range: 0.0 - 2.0)
  float deepwater_fadedepth = 0.4 + coast2water_fadedepth;
  float height = height_map(uv);
  vec3 col;

  float waveheight = clamp(WATER_LEVEL * 3.0 - 1.5, 0.0, 1.0);
  float level = WATER_LEVEL + 0.2 * water_map(uv * 15.0 + vec2(u_time * 0.1), waveheight);
  if (height > level) {
    col = CalcTerrain(uv, height);
  }
  if (height <= level) {
    vec2 dif = vec2(0.0, 0.01);
    vec2 pos = uv * 15.0 + vec2(u_time * 0.01);
    float h1 = water_map(pos - dif, waveheight);
    float h2 = water_map(pos + dif, waveheight);
    float h3 = water_map(pos - dif.yx, waveheight);
    float h4 = water_map(pos + dif.yx, waveheight);
    vec3 normwater = normalize(vec3(h3 - h4, h1 - h2, 0.125)); // norm-vector of the 'bumpy' water-plane
    uv += normwater.xy * 0.002 * (level - height);

    col = CalcTerrain(uv, height);

    float coastfade = clamp((level - height) / coast2water_fadedepth, 0.0, 1.0);
    float coastfade2 = clamp((level - height) / deepwater_fadedepth, 0.0, 1.0);
    float intensity = col.r * 0.2126 + col.g * 0.7152 + col.b * 0.0722;
    watercolor = mix(watercolor * intensity, watercolor2, smoothstep(0.0, 1.0, coastfade2));

    vec3 r0 = vec3(uv, WATER_LEVEL);
    vec3 rd = normalize(light - r0); // ray-direction to the light from water-position
    float grad = dot(normwater, rd); // dot-product of norm-vector and light-direction
    float specular = pow(grad, water_softlight_fact); // used for soft highlights
    float specular2 = pow(grad, water_glossylight_fact); // used for glossy highlights
    float gradpos = dot(vec3(0.0, 0.0, 1.0), rd);
    float specular1 = smoothstep(0.0, 1.0, pow(gradpos, 5.0)); // used for diffusity (some darker corona around light's specular reflections...)
    float watershade = test_shadow(uv, level);
    watercolor *= 2.2 + watershade;
    watercolor += (0.2 + 0.8 * watershade) * ((grad - 1.0) * 0.5 + specular) * 0.25;
    watercolor /= 1.0 + specular1 * 1.25;
    watercolor += watershade * specular2 * water_specularcolor;
    watercolor +=
      watershade *
      coastfade *
      (1.0 - coastfade2) *
      (vec3(0.5, 0.6, 0.7) * nautic(uv) + vec3(1.0, 1.0, 1.0) * particles(uv));

    col = mix(col, watercolor, coastfade);
  }

  outputColor = vec4(col, v_opacity);
}
`,tT=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_uv;

layout(std140) uniform commonUniforms {
  vec4 u_watercolor;
  vec4 u_watercolor2;
  float u_time;
};

out vec2 v_uv;
out float v_opacity;

#pragma include "projection"

void main() {
  v_uv = a_uv;
  v_opacity = opacity;
  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
}

`,nT=class extends Lx{constructor(...e){super(...e),I(this,`texture1`,void 0),I(this,`texture2`,void 0),I(this,`texture3`,void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),P(P({},e.uniformsOption),t.uniformsOption)}getCommonUniformsInfo(){let{watercolor:e=`#6D99A8`,watercolor2:t=`#0F121C`}=this.layer.getLayerConfig(),n={u_watercolor:ti(e),u_watercolor2:ti(t),u_time:this.layer.getLayerAnimateTime(),u_texture1:this.texture1,u_texture2:this.texture2,u_texture3:this.texture3};return this.textures=[this.texture1,this.texture2,this.texture3],this.getUniformsBufferInfo(n)}getAnimateUniforms(){return{u_time:this.layer.getLayerAnimateTime()}}initModels(){var e=this;return Y(function*(){return e.loadTexture(),e.buildModels()})()}buildModels(){var e=this;return Y(function*(){return e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:`polygonOcean`,vertexShader:tT,fragmentShader:eT,defines:e.getDefines(),inject:e.getInject(),triangulation:wS,primitive:q.TRIANGLES,depth:{enable:!1}})]})()}clearModels(){var e,t,n;(e=this.texture1)==null||e.destroy(),(t=this.texture2)==null||t.destroy(),(n=this.texture3)==null||n.destroy()}registerBuiltinAttributes(){let[e,t,n,r]=this.layer.getSource().extent,i=n-e,a=r-t;this.styleAttributeService.registerStyleAttribute({name:`oceanUv`,type:J.Attribute,descriptor:{name:`a_uv`,shaderLocation:this.attributeLocation.UV,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:2,update:(n,r,o)=>{let[s,c]=o;return[(s-e)/i,(c-t)/a]}}})}loadTexture(){let{createTexture2D:e}=this.rendererService,t={height:0,width:0};this.texture1=e(t),this.texture2=e(t),this.texture3=e(t),n(e=>{this.texture1=r(e[0]),this.texture2=r(e[1]),this.texture3=r(e[2]),this.layerService.reRender()});function n(e){let t=0,n=[];[`https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ`,`https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*MJ22QbpuCzIAAAAAAAAAAAAAARQnAQ`,`https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*-z2HSIVDsHIAAAAAAAAAAAAAARQnAQ`].map(r=>{let i=new Image;i.crossOrigin=``,i.src=r,n.push(i),i.onload=()=>{t++,t===3&&e(n)}})}function r(t){return e({data:t,width:t.width,height:t.height,wrapS:q.MIRRORED_REPEAT,wrapT:q.MIRRORED_REPEAT,min:q.LINEAR,mag:q.LINEAR})}}},rT=`uniform sampler2D u_texture;
layout(std140) uniform commonUniforms {
  float u_speed;
  float u_time;
};

out vec4 outputColor;

in vec4 v_Color;
in vec2 v_uv;

float rand(vec2 n) {
  return 0.5 + 0.5 * fract(sin(dot(n.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

float water(vec3 p) {
  float t = u_time * u_speed;
  p.z += t * 2.0;
  p.x += t * 2.0;
  vec3 c1 = texture(SAMPLER_2D(u_texture), p.xz / 30.0).xyz;
  p.z += t * 3.0;
  p.x += t * 0.52;
  vec3 c2 = texture(SAMPLER_2D(u_texture), p.xz / 30.0).xyz;
  p.z += t * 4.0;
  p.x += t * 0.8;
  vec3 c3 = texture(SAMPLER_2D(u_texture), p.xz / 30.0).xyz;
  c1 += c2 - c3;
  float z = (c1.x + c1.y + c1.z) / 3.0;
  return p.y + z / 4.0;
}

float map(vec3 p) {
  float d = 100.0;
  d = water(p);
  return d;
}

float intersect(vec3 ro, vec3 rd) {
  float d = 0.0;
  for (int i = 0; i <= 100; i++) {
    float h = map(ro + rd * d);
    if (h < 0.1) return d;
    d += h;
  }
  return 0.0;
}

vec3 norm(vec3 p) {
  float eps = 0.1;
  return normalize(
    vec3(
      map(p + vec3(eps, 0, 0)) - map(p + vec3(-eps, 0, 0)),
      map(p + vec3(0, eps, 0)) - map(p + vec3(0, -eps, 0)),
      map(p + vec3(0, 0, eps)) - map(p + vec3(0, 0, -eps))
    )
  );
}

float calSpc() {
  vec3 l1 = normalize(vec3(1, 1, 1));
  vec3 ro = vec3(-3, 20, -8);
  vec3 rc = vec3(0, 0, 0);
  vec3 ww = normalize(rc - ro);
  vec3 uu = normalize(cross(vec3(0, 1, 0), ww));
  vec3 vv = normalize(cross(rc - ro, uu));
  vec3 rd = normalize(uu * v_uv.x + vv * v_uv.y + ww);
  float d = intersect(ro, rd);
  vec3 p = ro + rd * d;
  vec3 n = norm(p);
  float spc = pow(max(0.0, dot(reflect(l1, n), rd)), 30.0);
  return spc;
}

void main() {
  outputColor = v_Color;
  float spc = calSpc();
  outputColor += spc * 0.4;
}
`,iT=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_uv;

layout(std140) uniform commonUniforms {
  float u_speed;
  float u_time;
};
out vec4 v_Color;
out vec2 v_uv;

#pragma include "projection"

void main() {
  v_uv = a_uv;
  v_Color = a_Color;
  v_Color.a *= opacity;
  vec4 project_pos = project_position(vec4(a_Position, 1.0));

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
}

`,aT={fill:$w,line:LC,extrude:Gw,text:Pw,point_fill:sw,point_image:pw,point_normal:_w,point_extrude:iw,water:class extends Lx{constructor(...e){super(...e),I(this,`texture`,void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),P(P({},e.uniformsOption),t.uniformsOption)}getCommonUniformsInfo(){let{speed:e=.5}=this.layer.getLayerConfig(),t={u_speed:e,u_time:this.layer.getLayerAnimateTime(),u_texture:this.texture};return this.textures=[this.texture],this.getUniformsBufferInfo(t)}getAnimateUniforms(){return{u_time:this.layer.getLayerAnimateTime()}}initModels(){var e=this;return Y(function*(){return e.loadTexture(),e.buildModels()})()}buildModels(){var e=this;return Y(function*(){return e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:`polygonWater`,vertexShader:iT,fragmentShader:rT,triangulation:wS,defines:e.getDefines(),inject:e.getInject(),primitive:q.TRIANGLES,depth:{enable:!1},pickingEnabled:!1,diagnosticDerivativeUniformityEnabled:!1})]})()}clearModels(){var e;(e=this.texture)==null||e.destroy()}registerBuiltinAttributes(){let[e,t,n,r]=this.layer.getSource().extent,i=n-e,a=r-t;this.styleAttributeService.registerStyleAttribute({name:`waterUv`,type:J.Attribute,descriptor:{name:`a_uv`,shaderLocation:this.attributeLocation.UV,buffer:{usage:q.STATIC_DRAW,data:[],type:q.FLOAT},size:2,update:(n,r,o)=>{let[s,c]=o;return[(s-e)/i,(c-t)/a]}}})}loadTexture(){let{waterTexture:e}=this.layer.getLayerConfig(),{createTexture2D:t}=this.rendererService;this.texture=t({height:1,width:1});let n=new Image;n.crossOrigin=``,e?(console.warn(`L7 recommend：https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ`),n.src=e):n.src=`https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ`,n.onload=()=>{this.texture=t({data:n,width:n.width,height:n.height,wrapS:q.MIRRORED_REPEAT,wrapT:q.MIRRORED_REPEAT,min:q.LINEAR,mag:q.LINEAR}),this.layerService.reRender()}}},ocean:nT,extrusion:Jw},oT=class extends Dx{constructor(...e){super(...e),I(this,`type`,`PolygonLayer`),I(this,`enableShaderEncodeStyles`,[`opacity`,`extrusionBase`,`rotation`,`offsets`,`stroke`])}buildModels(){var e=this;return Y(function*(){let t=e.getModelType();e.layerModel=new aT[t](e),yield e.initLayerModels()})()}getModelType(){var e;let t=this.styleAttributeService.getLayerStyleAttribute(`shape`),n=t==null||(e=t.scale)==null?void 0:e.field;return n===`fill`||!n?`fill`:n===`extrude`?`extrude`:n===`extrusion`?`extrusion`:n===`water`?`water`:n===`ocean`?`ocean`:n===`line`?`line`:this.getPointModelType()}getPointModelType(){let e=this.getEncodedData(),{shape2d:t,shape3d:n}=this.getLayerConfig(),r=this.iconService.getIconMap(),i=e.find(e=>e.hasOwnProperty(`shape`));if(i){let e=i.shape;return e===`dot`?`point_normal`:t?.indexOf(e)===-1?n?.indexOf(e)===-1?r.hasOwnProperty(e)?`point_image`:`text`:`point_extrude`:`point_fill`}else return`fill`}},sT=`layout(std140) uniform commonUniforms {
  vec2 u_domain;
  float u_opacity;
  float u_noDataValue;
  float u_clampLow;
  float u_clampHigh;
};

uniform sampler2D u_rasterTexture;
uniform sampler2D u_colorTexture;

in vec2 v_texCoord;

bool isnan_emu(float x) {
  return x > 0.0 || x < 0.0
    ? x != x
    : x != 0.0;
}

out vec4 outputColor;

void main() {
  // Can use any component here since u_rasterTexture is under luminance format.
  float value = texture(SAMPLER_2D(u_rasterTexture), vec2(v_texCoord.x, v_texCoord.y)).r;
  if (value == u_noDataValue || isnan_emu(value)) {
    discard;
  } else if (u_clampLow < 0.5 && value < u_domain[0] || u_clampHigh < 0.5 && value > u_domain[1]) {
    discard;
  } else {
    float normalisedValue = (value - u_domain[0]) / (u_domain[1] - u_domain[0]);
    vec4 color = texture(SAMPLER_2D(u_colorTexture), vec2(normalisedValue, 0));

    outputColor = color;
    outputColor.a = outputColor.a * u_opacity;
    if (outputColor.a < 0.01) discard;
  }
}
`,cT=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  vec2 u_domain;
  float u_opacity;
  float u_noDataValue;
  float u_clampLow;
  float u_clampHigh;
};

out vec2 v_texCoord;

#pragma include "projection"

void main() {
  v_texCoord = a_Uv;
  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));
}
`,lT=class extends Lx{constructor(...e){super(...e),I(this,`texture`,void 0),I(this,`colorTexture`,void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),P(P({},e.uniformsOption),t.uniformsOption)}getCommonUniformsInfo(){let{opacity:e=1,clampLow:t=!0,clampHigh:n=!0,noDataValue:r=-9999999,domain:i,rampColors:a}=this.layer.getLayerConfig(),o=i||ui(a);this.colorTexture=this.layer.textureService.getColorTexture(a,o);let s={u_domain:o,u_opacity:e||1,u_noDataValue:r,u_clampLow:t?1:0,u_clampHigh:(n===void 0?t:n)?1:0,u_rasterTexture:this.texture,u_colorTexture:this.colorTexture};return this.textures=[this.texture,this.colorTexture],this.getUniformsBufferInfo(s)}getRasterData(e){return Y(function*(){if(Array.isArray(e.data))return{data:e.data,width:e.width,height:e.height};{let{rasterData:t,width:n,height:r}=yield e.data;return{data:Array.from(t),width:n,height:r}}})()}initModels(){var e=this;return Y(function*(){return e.buildModels()})()}buildModels(){var e=this;return Y(function*(){e.initUniformsBuffer();let t=e.layer.getSource(),{createTexture2D:n,queryVerdorInfo:r}=e.rendererService,i=t.data.dataArray[0],{data:a,width:o,height:s}=yield e.getRasterData(i);return e.texture=n({data:new Float32Array(a),width:o,height:s,format:r()===`WebGL1`?q.LUMINANCE:q.RED,type:q.FLOAT,alignment:1}),[yield e.layer.buildLayerModel({moduleName:`rasterImageData`,vertexShader:cT,fragmentShader:sT,defines:e.getDefines(),triangulation:kS,primitive:q.TRIANGLES,depth:{enable:!1},pickingEnabled:!1})]})()}clearModels(){var e,t;(e=this.texture)==null||e.destroy(),(t=this.colorTexture)==null||t.destroy()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:`uv`,type:J.Attribute,descriptor:{shaderLocation:this.attributeLocation.UV,name:`a_Uv`,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:2,update:(e,t,n)=>[n[3],n[4]]}})}},uT=[`data`],dT=[`rasterData`],fT=`uniform sampler2D u_texture;
layout(std140) uniform commonUniforms {
  vec2 u_rminmax;
  vec2 u_gminmax;
  vec2 u_bminmax;
  float u_opacity;
  float u_noDataValue;
};

in vec2 v_texCoord;

out vec4 outputColor;

void main() {
  vec3 rgb = texture(SAMPLER_2D(u_texture), vec2(v_texCoord.x, v_texCoord.y)).rgb;

  if (rgb == vec3(u_noDataValue)) {
    outputColor = vec4(0.0, 0, 0, 0.0);
  } else {
    outputColor = vec4(
      rgb.r / (u_rminmax.y - u_rminmax.x),
      rgb.g / (u_gminmax.y - u_gminmax.x),
      rgb.b / (u_bminmax.y - u_bminmax.x),
      u_opacity
    );
  }

  if (outputColor.a < 0.01) discard;

}
`,pT=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  vec2 u_rminmax;
  vec2 u_gminmax;
  vec2 u_bminmax;
  float u_opacity;
  float u_noDataValue;
};

out vec2 v_texCoord;

#pragma include "projection"

void main() {
  v_texCoord = a_Uv;
  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));
}
`,mT=class extends Lx{constructor(...e){super(...e),I(this,`texture`,void 0),I(this,`dataOption`,{})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),P(P({},e.uniformsOption),t.uniformsOption)}getCommonUniformsInfo(){let{opacity:e=1,noDataValue:t=0}=this.layer.getLayerConfig(),{rMinMax:n=[0,255],gMinMax:r=[0,255],bMinMax:i=[0,255]}=this.dataOption,a={u_rminmax:n,u_gminmax:r,u_bminmax:i,u_opacity:e||1,u_noDataValue:t,u_texture:this.texture};return this.textures=[this.texture],this.getUniformsBufferInfo(a)}getRasterData(e){var t=this;return Y(function*(){if(Array.isArray(e.data)){let{data:n}=e,r=Su(e,uT);return t.dataOption=r,P({data:n},r)}let n=yield e.data,{rasterData:r}=n,i=Su(n,dT);return t.dataOption=i,P(Array.isArray(r)?{data:r}:{data:Array.from(r)},i)})()}initModels(){var e=this;return Y(function*(){e.initUniformsBuffer();let t=e.layer.getSource(),{createTexture2D:n}=e.rendererService,r=t.data.dataArray[0],{data:i,width:a,height:o}=yield e.getRasterData(r);return e.texture=n({data:new Float32Array(i),width:a,height:o,format:q.RGB,type:q.FLOAT}),[yield e.layer.buildLayerModel({moduleName:`rasterImageDataRGBA`,vertexShader:pT,fragmentShader:fT,defines:e.getDefines(),triangulation:kS,primitive:q.TRIANGLES,depth:{enable:!1},pickingEnabled:!1})]})()}buildModels(){var e=this;return Y(function*(){return e.initModels()})()}clearModels(){var e;(e=this.texture)==null||e.destroy()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:`uv`,type:J.Attribute,descriptor:{name:`a_Uv`,shaderLocation:this.attributeLocation.UV,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:2,update:(e,t,n)=>[n[3],n[4]]}})}},hT=`uniform sampler2D u_texture;
uniform sampler2D u_colorTexture;

layout(std140) uniform commonUniforms {
  vec4 u_unpack;
  vec2 u_domain;
  float u_opacity;
  float u_noDataValue;
  float u_clampLow;
  float u_clampHigh;
};

in vec2 v_texCoord;
out vec4 outputColor;

float getElevation(vec2 coord, float bias) {
  // Convert encoded elevation value to meters
  vec4 data = texture(SAMPLER_2D(u_texture), coord, bias) * 255.0;
  data.a = -1.0;
  return dot(data, u_unpack);
}

vec4 getColor(float value) {
  float normalisedValue = (value - u_domain[0]) / (u_domain[1] - u_domain[0]);
  vec2 coord = vec2(normalisedValue, 0);
  return texture(SAMPLER_2D(u_colorTexture), coord);
}

void main() {
  float value = getElevation(v_texCoord, 0.0);
  if (value == u_noDataValue) {
    outputColor = vec4(0.0, 0, 0, 0.0);
  } else if (u_clampLow < 0.5 && value < u_domain[0] || u_clampHigh < 0.5 && value > u_domain[1]) {
    outputColor = vec4(0.0, 0, 0, 0.0);
  } else {
    outputColor = getColor(value);
    outputColor.a = outputColor.a * u_opacity;
    if (outputColor.a < 0.01) discard;
  }
}
`,gT=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  vec4 u_unpack;
  vec2 u_domain;
  float u_opacity;
  float u_noDataValue;
  float u_clampLow;
  float u_clampHigh;
};
out vec2 v_texCoord;
#pragma include "projection"

void main() {
  v_texCoord = a_Uv;
  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));
}
`,_T={raster:lT,rasterRgb:mT,raster3d:lT,rasterTerrainRgb:class extends Lx{constructor(...e){super(...e),I(this,`texture`,void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getCommonUniformsInfo(){let{opacity:e,clampLow:t=!0,clampHigh:n=!0,noDataValue:r=-9999999,domain:i,rampColors:a,colorTexture:o,rScaler:s=6553.6,gScaler:c=25.6,bScaler:l=.1,offset:u=1e4}=this.layer.getLayerConfig(),d=i||ui(a),f=o;o?this.layer.textureService.setColorTexture(o,a,d):f=this.layer.textureService.getColorTexture(a,d);let p={u_unpack:[s,c,l,u],u_domain:d,u_opacity:e||1,u_noDataValue:r,u_clampLow:t,u_clampHigh:n===void 0?t:n,u_texture:this.texture,u_colorTexture:f};return this.textures=[this.texture,f],this.getUniformsBufferInfo(p)}initModels(){var e=this;return Y(function*(){e.initUniformsBuffer();let t=e.layer.getSource(),{createTexture2D:n}=e.rendererService,r=yield t.data.images;return e.texture=n({data:r[0],width:r[0].width,height:r[0].height,min:q.LINEAR,mag:q.LINEAR}),[yield e.layer.buildLayerModel({moduleName:`RasterTileDataImage`,vertexShader:gT,fragmentShader:hT,defines:e.getDefines(),triangulation:kS,primitive:q.TRIANGLES,depth:{enable:!1}})]})()}clearModels(){var e;(e=this.texture)==null||e.destroy()}buildModels(){var e=this;return Y(function*(){return e.initModels()})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:`uv`,type:J.Attribute,descriptor:{name:`a_Uv`,shaderLocation:this.attributeLocation.UV,buffer:{usage:q.DYNAMIC_DRAW,data:[],type:q.FLOAT},size:2,update:(e,t,n)=>[n[3],n[4]]}})}}},vT=class extends Dx{constructor(...e){super(...e),I(this,`type`,`RasterLayer`)}buildModels(){var e=this;return Y(function*(){let t=e.getModelType();e.layerModel=new _T[t](e),yield e.initLayerModels()})()}getDefaultConfig(){return{raster:{},rasterRgb:{},raster3d:{},rasterTerrainRgb:{}}[this.getModelType()]}getModelType(){switch(this.layerSource.getParserType()){case`raster`:case`ndi`:return`raster`;case`rasterRgb`:return`rasterRgb`;case`rgb`:return`rasterRgb`;case`image`:return`rasterTerrainRgb`;default:return`raster`}}getLegend(e){if(e!==`color`)return{type:void 0,field:void 0,items:[]};let t=this.getLayerConfig().rampColors;return FS(t,e)}},yT=class{constructor({rendererService:e,layerService:t,parent:n}){I(this,`tileResource`,new Map),I(this,`rendererService`,void 0),I(this,`layerService`,void 0),I(this,`parent`,void 0),I(this,`layerTiles`,[]),this.rendererService=e,this.layerService=t,this.parent=n}get tiles(){return this.layerTiles}hasTile(e){return this.layerTiles.some(t=>t.key===e)}addTile(e){this.layerTiles.push(e)}getTile(e){return this.layerTiles.find(t=>t.key===e)}getVisibleTileBylngLat(e){return this.layerTiles.find(t=>t.isLoaded&&t.visible&&t.lnglatInBounds(e))}removeTile(e){let t=this.layerTiles.findIndex(t=>t.key===e),n=this.layerTiles.splice(t,1);n[0]&&n[0].destroy()}updateTileVisible(e){let t=this.getTile(e.key);if(e.isVisible)if(e.parent){let n=this.isChildrenLoaded(e.parent);t?.updateVisible(n)}else t?.updateVisible(!0);else if(e.parent){let n=this.isChildrenLoaded(e.parent);t?.updateVisible(!n)}else t?.updateVisible(!1)}isParentLoaded(e){let t=e.parent;if(!t)return!0;let n=this.getTile(t?.key);return!!(n!=null&&n.isLoaded)}isChildrenLoaded(e){let t=e?.children;return t.length===0?!0:t.every(e=>{let t=this.getTile(e?.key);return t?t?.isLoaded===!0:!0})}render(){var e=this;return Y(function*(){let t=e.getRenderLayers().map(function(){var t=Y(function*(t){yield e.layerService.renderTileLayer(t)});return function(e){return t.apply(this,arguments)}}());yield Promise.all(t)})()}getRenderLayers(){let e=this.layerTiles.filter(e=>e.visible&&e.isLoaded),t=[];return e.map(e=>t.push(...e.getLayers())),t}getLayers(){let e=this.layerTiles.filter(e=>e.isLoaded),t=[];return e.map(e=>t.push(...e.getLayers())),t}getTiles(){return this.layerTiles}destroy(){this.layerTiles.forEach(e=>e.destroy()),this.tileResource.clear()}},bT=e(t(((exports,t)=>{(function(n,r){typeof exports==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):(n=typeof globalThis<`u`?globalThis:n||self,n.polygonClipping=r())})(exports,(function(){
/**
* splaytree v3.1.2
* Fast Splay tree for Node and browser
*
* @author Alexander Milevski <info@w8r.name>
* @license MIT
* @preserve
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function e(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==`function`&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return c([e,t])}}function c(o){if(r)throw TypeError(`Generator is already executing.`);for(;n;)try{if(r=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,i=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if((a=n.trys,!(a=a.length>0&&a[a.length-1]))&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){n.label=o[1];break}if(o[0]===6&&n.label<a[1]){n.label=a[1],a=o;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(o);break}a[2]&&n.ops.pop(),n.trys.pop();continue}o=t.call(e,n)}catch(e){o=[6,e],i=0}finally{r=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var t=function(){function e(e,t){this.next=null,this.key=e,this.data=t,this.left=null,this.right=null}return e}();function n(e,t){return e>t?1:e<t?-1:0}function r(e,n,r){for(var i=new t(null,null),a=i,o=i;;){var s=r(e,n.key);if(s<0){if(n.left===null)break;if(r(e,n.left.key)<0){var c=n.left;if(n.left=c.right,c.right=n,n=c,n.left===null)break}o.left=n,o=n,n=n.left}else if(s>0){if(n.right===null)break;if(r(e,n.right.key)>0){var c=n.right;if(n.right=c.left,c.left=n,n=c,n.right===null)break}a.right=n,a=n,n=n.right}else break}return a.right=n.left,o.left=n.right,n.left=i.right,n.right=i.left,n}function i(e,n,i,a){var o=new t(e,n);if(i===null)return o.left=o.right=null,o;i=r(e,i,a);var s=a(e,i.key);return s<0?(o.left=i.left,o.right=i,i.left=null):s>=0&&(o.right=i.right,o.left=i,i.right=null),o}function a(e,t,n){var i=null,a=null;if(t){t=r(e,t,n);var o=n(t.key,e);o===0?(i=t.left,a=t.right):o<0?(a=t.right,t.right=null,i=t):(i=t.left,t.left=null,a=t)}return{left:i,right:a}}function o(e,t,n){return t===null?e:e===null?t:(t=r(e.key,t,n),t.left=e,t)}function s(e,t,n,r,i){if(e){r(``+t+(n?`└── `:`├── `)+i(e)+`
`);var a=t+(n?`    `:`│   `);e.left&&s(e.left,a,!1,r,i),e.right&&s(e.right,a,!0,r,i)}}var c=function(){function c(e){e===void 0&&(e=n),this._root=null,this._size=0,this._comparator=e}return c.prototype.insert=function(e,t){return this._size++,this._root=i(e,t,this._root,this._comparator)},c.prototype.add=function(e,n){var i=new t(e,n);this._root===null&&(i.left=i.right=null,this._size++,this._root=i);var a=this._comparator,o=r(e,this._root,a),s=a(e,o.key);return s===0?this._root=o:(s<0?(i.left=o.left,i.right=o,o.left=null):s>0&&(i.right=o.right,i.left=o,o.right=null),this._size++,this._root=i),this._root},c.prototype.remove=function(e){this._root=this._remove(e,this._root,this._comparator)},c.prototype._remove=function(e,t,n){var i;return t===null?null:(t=r(e,t,n),n(e,t.key)===0?(t.left===null?i=t.right:(i=r(e,t.left,n),i.right=t.right),this._size--,i):t)},c.prototype.pop=function(){var e=this._root;if(e){for(;e.left;)e=e.left;return this._root=r(e.key,this._root,this._comparator),this._root=this._remove(e.key,this._root,this._comparator),{key:e.key,data:e.data}}return null},c.prototype.findStatic=function(e){for(var t=this._root,n=this._comparator;t;){var r=n(e,t.key);if(r===0)return t;t=r<0?t.left:t.right}return null},c.prototype.find=function(e){return this._root&&(this._root=r(e,this._root,this._comparator),this._comparator(e,this._root.key)!==0)?null:this._root},c.prototype.contains=function(e){for(var t=this._root,n=this._comparator;t;){var r=n(e,t.key);if(r===0)return!0;t=r<0?t.left:t.right}return!1},c.prototype.forEach=function(e,t){for(var n=this._root,r=[],i=!1;!i;)n===null?r.length===0?i=!0:(n=r.pop(),e.call(t,n),n=n.right):(r.push(n),n=n.left);return this},c.prototype.range=function(e,t,n,r){for(var i=[],a=this._comparator,o=this._root,s;i.length!==0||o;)if(o)i.push(o),o=o.left;else{if(o=i.pop(),s=a(o.key,t),s>0)break;if(a(o.key,e)>=0&&n.call(r,o))return this;o=o.right}return this},c.prototype.keys=function(){var e=[];return this.forEach(function(t){var n=t.key;return e.push(n)}),e},c.prototype.values=function(){var e=[];return this.forEach(function(t){var n=t.data;return e.push(n)}),e},c.prototype.min=function(){return this._root?this.minNode(this._root).key:null},c.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},c.prototype.minNode=function(e){if(e===void 0&&(e=this._root),e)for(;e.left;)e=e.left;return e},c.prototype.maxNode=function(e){if(e===void 0&&(e=this._root),e)for(;e.right;)e=e.right;return e},c.prototype.at=function(e){for(var t=this._root,n=!1,r=0,i=[];!n;)if(t)i.push(t),t=t.left;else if(i.length>0){if(t=i.pop(),r===e)return t;r++,t=t.right}else n=!0;return null},c.prototype.next=function(e){var t=this._root,n=null;if(e.right){for(n=e.right;n.left;)n=n.left;return n}for(var r=this._comparator;t;){var i=r(e.key,t.key);if(i===0)break;i<0?(n=t,t=t.left):t=t.right}return n},c.prototype.prev=function(e){var t=this._root,n=null;if(e.left!==null){for(n=e.left;n.right;)n=n.right;return n}for(var r=this._comparator;t;){var i=r(e.key,t.key);if(i===0)break;i<0?t=t.left:(n=t,t=t.right)}return n},c.prototype.clear=function(){return this._root=null,this._size=0,this},c.prototype.toList=function(){return d(this._root)},c.prototype.load=function(e,t,n){t===void 0&&(t=[]),n===void 0&&(n=!1);var r=e.length,i=this._comparator;if(n&&m(e,t,0,r-1,i),this._root===null)this._root=l(e,t,0,r),this._size=r;else{var a=p(this.toList(),u(e,t),i);r=this._size+r,this._root=f({head:a},0,r)}return this},c.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(c.prototype,`size`,{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,`root`,{get:function(){return this._root},enumerable:!0,configurable:!0}),c.prototype.toString=function(e){e===void 0&&(e=function(e){return String(e.key)});var t=[];return s(this._root,``,!0,function(e){return t.push(e)},e),t.join(``)},c.prototype.update=function(e,t,n){var r=this._comparator,s=a(e,this._root,r),c=s.left,l=s.right;r(e,t)<0?l=i(t,n,l,r):c=i(t,n,c,r),this._root=o(c,l,r)},c.prototype.split=function(e){return a(e,this._root,this._comparator)},c.prototype[Symbol.iterator]=function(){var t,n,r;return e(this,function(e){switch(e.label){case 0:t=this._root,n=[],r=!1,e.label=1;case 1:return r?[3,6]:t===null?[3,2]:(n.push(t),t=t.left,[3,5]);case 2:return n.length===0?[3,4]:(t=n.pop(),[4,t]);case 3:return e.sent(),t=t.right,[3,5];case 4:r=!0,e.label=5;case 5:return[3,1];case 6:return[2]}})},c}();function l(e,n,r,i){var a=i-r;if(a>0){var o=r+Math.floor(a/2),s=e[o],c=n[o],u=new t(s,c);return u.left=l(e,n,r,o),u.right=l(e,n,o+1,i),u}return null}function u(e,n){for(var r=new t(null,null),i=r,a=0;a<e.length;a++)i=i.next=new t(e[a],n[a]);return i.next=null,r.next}function d(e){for(var n=e,r=[],i=!1,a=new t(null,null),o=a;!i;)n?(r.push(n),n=n.left):r.length>0?(n=o=o.next=r.pop(),n=n.right):i=!0;return o.next=null,a.next}function f(e,t,n){var r=n-t;if(r>0){var i=t+Math.floor(r/2),a=f(e,t,i),o=e.head;return o.left=a,e.head=e.head.next,o.right=f(e,i+1,n),o}return null}function p(e,n,r){for(var i=new t(null,null),a=i,o=e,s=n;o!==null&&s!==null;)r(o.key,s.key)<0?(a.next=o,o=o.next):(a.next=s,s=s.next),a=a.next;return o===null?s!==null&&(a.next=s):a.next=o,i.next}function m(e,t,n,r,i){if(!(n>=r)){for(var a=e[n+r>>1],o=n-1,s=r+1;;){do o++;while(i(e[o],a)<0);do s--;while(i(e[s],a)>0);if(o>=s)break;var c=e[o];e[o]=e[s],e[s]=c,c=t[o],t[o]=t[s],t[s]=c}m(e,t,n,s,i),m(e,t,s+1,r,i)}}let h=(e,t)=>e.ll.x<=t.x&&t.x<=e.ur.x&&e.ll.y<=t.y&&t.y<=e.ur.y,g=(e,t)=>{if(t.ur.x<e.ll.x||e.ur.x<t.ll.x||t.ur.y<e.ll.y||e.ur.y<t.ll.y)return null;let n=e.ll.x<t.ll.x?t.ll.x:e.ll.x,r=e.ur.x<t.ur.x?e.ur.x:t.ur.x,i=e.ll.y<t.ll.y?t.ll.y:e.ll.y,a=e.ur.y<t.ur.y?e.ur.y:t.ur.y;return{ll:{x:n,y:i},ur:{x:r,y:a}}},_=2**-52;_===void 0&&(_=2**-52);let v=_*_,y=(e,t)=>{if(-_<e&&e<_&&-_<t&&t<_)return 0;let n=e-t;return n*n<v*e*t?0:e<t?-1:1};class b{constructor(){this.reset()}reset(){this.xRounder=new x,this.yRounder=new x}round(e,t){return{x:this.xRounder.round(e),y:this.yRounder.round(t)}}}class x{constructor(){this.tree=new c,this.round(0)}round(e){let t=this.tree.add(e),n=this.tree.prev(t);if(n!==null&&y(t.key,n.key)===0)return this.tree.remove(e),n.key;let r=this.tree.next(t);return r!==null&&y(t.key,r.key)===0?(this.tree.remove(e),r.key):e}}let S=new b,C=11102230246251565e-32,w=134217729;(3+8*C)*C;function T(e,t,n,r,i){let a,o,s,c,l=t[0],u=r[0],d=0,f=0;u>l==u>-l?(a=l,l=t[++d]):(a=u,u=r[++f]);let p=0;if(d<e&&f<n)for(u>l==u>-l?(o=l+a,s=a-(o-l),l=t[++d]):(o=u+a,s=a-(o-u),u=r[++f]),a=o,s!==0&&(i[p++]=s);d<e&&f<n;)u>l==u>-l?(o=a+l,c=o-a,s=a-(o-c)+(l-c),l=t[++d]):(o=a+u,c=o-a,s=a-(o-c)+(u-c),u=r[++f]),a=o,s!==0&&(i[p++]=s);for(;d<e;)o=a+l,c=o-a,s=a-(o-c)+(l-c),l=t[++d],a=o,s!==0&&(i[p++]=s);for(;f<n;)o=a+u,c=o-a,s=a-(o-c)+(u-c),u=r[++f],a=o,s!==0&&(i[p++]=s);return(a!==0||p===0)&&(i[p++]=a),p}function E(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function D(e){return new Float64Array(e)}(3+16*C)*C,(2+12*C)*C,(9+64*C)*C*C;let O=D(4),k=D(8),A=D(12),j=D(16),M=D(4);function N(e,t,n,r,i,a,o){let s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S,C,D,N=e-i,P=n-i,F=t-a,ee=r-a;b=N*ee,f=w*N,p=f-(f-N),m=N-p,f=w*ee,h=f-(f-ee),g=ee-h,x=m*g-(b-p*h-m*h-p*g),S=F*P,f=w*F,p=f-(f-F),m=F-p,f=w*P,h=f-(f-P),g=P-h,C=m*g-(S-p*h-m*h-p*g),_=x-C,d=x-_,O[0]=x-(_+d)+(d-C),v=b+_,d=v-b,y=b-(v-d)+(_-d),_=y-S,d=y-_,O[1]=y-(_+d)+(d-S),D=v+_,d=D-v,O[2]=v-(D-d)+(_-d),O[3]=D;let I=E(4,O),te=22204460492503146e-32*o;if(I>=te||-I>=te||(d=e-N,s=e-(N+d)+(d-i),d=n-P,l=n-(P+d)+(d-i),d=t-F,c=t-(F+d)+(d-a),d=r-ee,u=r-(ee+d)+(d-a),s===0&&c===0&&l===0&&u===0)||(te=11093356479670487e-47*o+33306690738754706e-32*Math.abs(I),I+=N*u+ee*s-(F*l+P*c),I>=te||-I>=te))return I;b=s*ee,f=w*s,p=f-(f-s),m=s-p,f=w*ee,h=f-(f-ee),g=ee-h,x=m*g-(b-p*h-m*h-p*g),S=c*P,f=w*c,p=f-(f-c),m=c-p,f=w*P,h=f-(f-P),g=P-h,C=m*g-(S-p*h-m*h-p*g),_=x-C,d=x-_,M[0]=x-(_+d)+(d-C),v=b+_,d=v-b,y=b-(v-d)+(_-d),_=y-S,d=y-_,M[1]=y-(_+d)+(d-S),D=v+_,d=D-v,M[2]=v-(D-d)+(_-d),M[3]=D;let L=T(4,O,4,M,k);b=N*u,f=w*N,p=f-(f-N),m=N-p,f=w*u,h=f-(f-u),g=u-h,x=m*g-(b-p*h-m*h-p*g),S=F*l,f=w*F,p=f-(f-F),m=F-p,f=w*l,h=f-(f-l),g=l-h,C=m*g-(S-p*h-m*h-p*g),_=x-C,d=x-_,M[0]=x-(_+d)+(d-C),v=b+_,d=v-b,y=b-(v-d)+(_-d),_=y-S,d=y-_,M[1]=y-(_+d)+(d-S),D=v+_,d=D-v,M[2]=v-(D-d)+(_-d),M[3]=D;let ne=T(L,k,4,M,A);b=s*u,f=w*s,p=f-(f-s),m=s-p,f=w*u,h=f-(f-u),g=u-h,x=m*g-(b-p*h-m*h-p*g),S=c*l,f=w*c,p=f-(f-c),m=c-p,f=w*l,h=f-(f-l),g=l-h,C=m*g-(S-p*h-m*h-p*g),_=x-C,d=x-_,M[0]=x-(_+d)+(d-C),v=b+_,d=v-b,y=b-(v-d)+(_-d),_=y-S,d=y-_,M[1]=y-(_+d)+(d-S),D=v+_,d=D-v,M[2]=v-(D-d)+(_-d),M[3]=D;let re=T(ne,A,4,M,j);return j[re-1]}function P(e,t,n,r,i,a){let o=(t-a)*(n-i),s=(e-i)*(r-a),c=o-s,l=Math.abs(o+s);return Math.abs(c)>=33306690738754716e-32*l?c:-N(e,t,n,r,i,a,l)}let F=(e,t)=>e.x*t.y-e.y*t.x,ee=(e,t)=>e.x*t.x+e.y*t.y,I=(e,t,n)=>{let r=P(e.x,e.y,t.x,t.y,n.x,n.y);return r>0?-1:r<0?1:0},te=e=>Math.sqrt(ee(e,e)),L=(e,t,n)=>{let r={x:t.x-e.x,y:t.y-e.y},i={x:n.x-e.x,y:n.y-e.y};return F(i,r)/te(i)/te(r)},ne=(e,t,n)=>{let r={x:t.x-e.x,y:t.y-e.y},i={x:n.x-e.x,y:n.y-e.y};return ee(i,r)/te(i)/te(r)},re=(e,t,n)=>t.y===0?null:{x:e.x+t.x/t.y*(n-e.y),y:n},ie=(e,t,n)=>t.x===0?null:{x:n,y:e.y+t.y/t.x*(n-e.x)},R=(e,t,n,r)=>{if(t.x===0)return ie(n,r,e.x);if(r.x===0)return ie(e,t,n.x);if(t.y===0)return re(n,r,e.y);if(r.y===0)return re(e,t,n.y);let i=F(t,r);if(i==0)return null;let a={x:n.x-e.x,y:n.y-e.y},o=F(a,t)/i,s=F(a,r)/i,c=e.x+s*t.x,l=n.x+o*r.x,u=e.y+s*t.y,d=n.y+o*r.y,f=(c+l)/2,p=(u+d)/2;return{x:f,y:p}};class ae{static compare(e,t){let n=ae.comparePoints(e.point,t.point);return n===0?(e.point!==t.point&&e.link(t),e.isLeft===t.isLeft?se.compare(e.segment,t.segment):e.isLeft?1:-1):n}static comparePoints(e,t){return e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0}constructor(e,t){e.events===void 0?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=t}link(e){if(e.point===this.point)throw Error(`Tried to link already linked events`);let t=e.point.events;for(let e=0,n=t.length;e<n;e++){let n=t[e];this.point.events.push(n),n.point=this.point}this.checkForConsuming()}checkForConsuming(){let e=this.point.events.length;for(let t=0;t<e;t++){let n=this.point.events[t];if(n.segment.consumedBy===void 0)for(let r=t+1;r<e;r++){let e=this.point.events[r];e.consumedBy===void 0&&n.otherSE.point.events===e.otherSE.point.events&&n.segment.consume(e.segment)}}}getAvailableLinkedEvents(){let e=[];for(let t=0,n=this.point.events.length;t<n;t++){let n=this.point.events[t];n!==this&&!n.segment.ringOut&&n.segment.isInResult()&&e.push(n)}return e}getLeftmostComparator(e){let t=new Map,n=n=>{let r=n.otherSE;t.set(n,{sine:L(this.point,e.point,r.point),cosine:ne(this.point,e.point,r.point)})};return(e,r)=>{t.has(e)||n(e),t.has(r)||n(r);let{sine:i,cosine:a}=t.get(e),{sine:o,cosine:s}=t.get(r);return i>=0&&o>=0?a<s?1:a>s?-1:0:i<0&&o<0?a<s?-1:a>s?1:0:o<i?-1:o>i?1:0}}}let oe=0;class se{static compare(e,t){let n=e.leftSE.point.x,r=t.leftSE.point.x,i=e.rightSE.point.x,a=t.rightSE.point.x;if(a<n)return 1;if(i<r)return-1;let o=e.leftSE.point.y,s=t.leftSE.point.y,c=e.rightSE.point.y,l=t.rightSE.point.y;if(n<r){if(s<o&&s<c)return 1;if(s>o&&s>c)return-1;let n=e.comparePoint(t.leftSE.point);if(n<0)return 1;if(n>0)return-1;let r=t.comparePoint(e.rightSE.point);return r===0?-1:r}if(n>r){if(o<s&&o<l)return-1;if(o>s&&o>l)return 1;let n=t.comparePoint(e.leftSE.point);if(n!==0)return n;let r=e.comparePoint(t.rightSE.point);return r<0?1:r>0?-1:1}if(o<s)return-1;if(o>s)return 1;if(i<a){let n=t.comparePoint(e.rightSE.point);if(n!==0)return n}if(i>a){let n=e.comparePoint(t.rightSE.point);if(n<0)return 1;if(n>0)return-1}if(i!==a){let e=c-o,t=i-n,u=l-s,d=a-r;if(e>t&&u<d)return 1;if(e<t&&u>d)return-1}return i>a?1:i<a||c<l?-1:c>l?1:e.id<t.id?-1:e.id>t.id?1:0}constructor(e,t,n,r){this.id=++oe,this.leftSE=e,e.segment=this,e.otherSE=t,this.rightSE=t,t.segment=this,t.otherSE=e,this.rings=n,this.windings=r}static fromRing(e,t,n){let r,i,a,o=ae.comparePoints(e,t);if(o<0)r=e,i=t,a=1;else if(o>0)r=t,i=e,a=-1;else throw Error(`Tried to create degenerate segment at [${e.x}, ${e.y}]`);let s=new ae(r,!0),c=new ae(i,!1);return new se(s,c,[n],[a])}replaceRightSE(e){this.rightSE=e,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let e=this.leftSE.point.y,t=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:e<t?e:t},ur:{x:this.rightSE.point.x,y:e>t?e:t}}}vector(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}isAnEndpoint(e){return e.x===this.leftSE.point.x&&e.y===this.leftSE.point.y||e.x===this.rightSE.point.x&&e.y===this.rightSE.point.y}comparePoint(e){if(this.isAnEndpoint(e))return 0;let t=this.leftSE.point,n=this.rightSE.point,r=this.vector();if(t.x===n.x)return e.x===t.x?0:e.x<t.x?1:-1;let i=(e.y-t.y)/r.y,a=t.x+i*r.x;if(e.x===a)return 0;let o=(e.x-t.x)/r.x,s=t.y+o*r.y;return e.y===s?0:e.y<s?-1:1}getIntersection(e){let t=this.bbox(),n=e.bbox(),r=g(t,n);if(r===null)return null;let i=this.leftSE.point,a=this.rightSE.point,o=e.leftSE.point,s=e.rightSE.point,c=h(t,o)&&this.comparePoint(o)===0,l=h(n,i)&&e.comparePoint(i)===0,u=h(t,s)&&this.comparePoint(s)===0,d=h(n,a)&&e.comparePoint(a)===0;if(l&&c)return d&&!u?a:!d&&u?s:null;if(l)return u&&i.x===s.x&&i.y===s.y?null:i;if(c)return d&&a.x===o.x&&a.y===o.y?null:o;if(d&&u)return null;if(d)return a;if(u)return s;let f=R(i,this.vector(),o,e.vector());return f===null||!h(r,f)?null:S.round(f.x,f.y)}split(e){let t=[],n=e.events!==void 0,r=new ae(e,!0),i=new ae(e,!1),a=this.rightSE;this.replaceRightSE(i),t.push(i),t.push(r);let o=new se(r,a,this.rings.slice(),this.windings.slice());return ae.comparePoints(o.leftSE.point,o.rightSE.point)>0&&o.swapEvents(),ae.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),n&&(r.checkForConsuming(),i.checkForConsuming()),t}swapEvents(){let e=this.rightSE;this.rightSE=this.leftSE,this.leftSE=e,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let e=0,t=this.windings.length;e<t;e++)this.windings[e]*=-1}consume(e){let t=this,n=e;for(;t.consumedBy;)t=t.consumedBy;for(;n.consumedBy;)n=n.consumedBy;let r=se.compare(t,n);if(r!==0){if(r>0){let e=t;t=n,n=e}if(t.prev===n){let e=t;t=n,n=e}for(let e=0,r=n.rings.length;e<r;e++){let r=n.rings[e],i=n.windings[e],a=t.rings.indexOf(r);a===-1?(t.rings.push(r),t.windings.push(i)):t.windings[a]+=i}n.rings=null,n.windings=null,n.consumedBy=t,n.leftSE.consumedBy=t.leftSE,n.rightSE.consumedBy=t.rightSE}}prevInResult(){return this._prevInResult===void 0&&(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}beforeState(){return this._beforeState===void 0&&(this.prev?this._beforeState=(this.prev.consumedBy||this.prev).afterState():this._beforeState={rings:[],windings:[],multiPolys:[]}),this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;let e=this.beforeState();this._afterState={rings:e.rings.slice(0),windings:e.windings.slice(0),multiPolys:[]};let t=this._afterState.rings,n=this._afterState.windings,r=this._afterState.multiPolys;for(let e=0,r=this.rings.length;e<r;e++){let r=this.rings[e],i=this.windings[e],a=t.indexOf(r);a===-1?(t.push(r),n.push(i)):n[a]+=i}let i=[],a=[];for(let e=0,r=t.length;e<r;e++){if(n[e]===0)continue;let r=t[e],o=r.poly;if(a.indexOf(o)===-1)if(r.isExterior)i.push(o);else{a.indexOf(o)===-1&&a.push(o);let e=i.indexOf(r.poly);e!==-1&&i.splice(e,1)}}for(let e=0,t=i.length;e<t;e++){let t=i[e].multiPoly;r.indexOf(t)===-1&&r.push(t)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;let e=this.beforeState().multiPolys,t=this.afterState().multiPolys;switch(z.type){case`union`:{let n=e.length===0,r=t.length===0;this._isInResult=n!==r;break}case`intersection`:{let n,r;e.length<t.length?(n=e.length,r=t.length):(n=t.length,r=e.length),this._isInResult=r===z.numMultiPolys&&n<r;break}case`xor`:this._isInResult=Math.abs(e.length-t.length)%2==1;break;case`difference`:{let n=e=>e.length===1&&e[0].isSubject;this._isInResult=n(e)!==n(t);break}default:throw Error(`Unrecognized operation type found ${z.type}`)}return this._isInResult}}class ce{constructor(e,t,n){if(!Array.isArray(e)||e.length===0||(this.poly=t,this.isExterior=n,this.segments=[],typeof e[0][0]!=`number`||typeof e[0][1]!=`number`))throw Error(`Input geometry is not a valid Polygon or MultiPolygon`);let r=S.round(e[0][0],e[0][1]);this.bbox={ll:{x:r.x,y:r.y},ur:{x:r.x,y:r.y}};let i=r;for(let t=1,n=e.length;t<n;t++){if(typeof e[t][0]!=`number`||typeof e[t][1]!=`number`)throw Error(`Input geometry is not a valid Polygon or MultiPolygon`);let n=S.round(e[t][0],e[t][1]);n.x===i.x&&n.y===i.y||(this.segments.push(se.fromRing(i,n,this)),n.x<this.bbox.ll.x&&(this.bbox.ll.x=n.x),n.y<this.bbox.ll.y&&(this.bbox.ll.y=n.y),n.x>this.bbox.ur.x&&(this.bbox.ur.x=n.x),n.y>this.bbox.ur.y&&(this.bbox.ur.y=n.y),i=n)}(r.x!==i.x||r.y!==i.y)&&this.segments.push(se.fromRing(i,r,this))}getSweepEvents(){let e=[];for(let t=0,n=this.segments.length;t<n;t++){let n=this.segments[t];e.push(n.leftSE),e.push(n.rightSE)}return e}}class le{constructor(e,t){if(!Array.isArray(e))throw Error(`Input geometry is not a valid Polygon or MultiPolygon`);this.exteriorRing=new ce(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let t=1,n=e.length;t<n;t++){let n=new ce(e[t],this,!1);n.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=n.bbox.ll.x),n.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=n.bbox.ll.y),n.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=n.bbox.ur.x),n.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=n.bbox.ur.y),this.interiorRings.push(n)}this.multiPoly=t}getSweepEvents(){let e=this.exteriorRing.getSweepEvents();for(let t=0,n=this.interiorRings.length;t<n;t++){let n=this.interiorRings[t].getSweepEvents();for(let t=0,r=n.length;t<r;t++)e.push(n[t])}return e}}class ue{constructor(e,t){if(!Array.isArray(e))throw Error(`Input geometry is not a valid Polygon or MultiPolygon`);try{typeof e[0][0][0]==`number`&&(e=[e])}catch{}this.polys=[],this.bbox={ll:{x:1/0,y:1/0},ur:{x:-1/0,y:-1/0}};for(let t=0,n=e.length;t<n;t++){let n=new le(e[t],this);n.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=n.bbox.ll.x),n.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=n.bbox.ll.y),n.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=n.bbox.ur.x),n.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=n.bbox.ur.y),this.polys.push(n)}this.isSubject=t}getSweepEvents(){let e=[];for(let t=0,n=this.polys.length;t<n;t++){let n=this.polys[t].getSweepEvents();for(let t=0,r=n.length;t<r;t++)e.push(n[t])}return e}}class de{static factory(e){let t=[];for(let n=0,r=e.length;n<r;n++){let r=e[n];if(!r.isInResult()||r.ringOut)continue;let i=null,a=r.leftSE,o=r.rightSE,s=[a],c=a.point,l=[];for(;i=a,a=o,s.push(a),a.point!==c;)for(;;){let e=a.getAvailableLinkedEvents();if(e.length===0){let e=s[0].point,t=s[s.length-1].point;throw Error(`Unable to complete output ring starting at [${e.x}, ${e.y}]. Last matching segment found ends at [${t.x}, ${t.y}].`)}if(e.length===1){o=e[0].otherSE;break}let n=null;for(let e=0,t=l.length;e<t;e++)if(l[e].point===a.point){n=e;break}if(n!==null){let e=l.splice(n)[0],r=s.splice(e.index);r.unshift(r[0].otherSE),t.push(new de(r.reverse()));continue}l.push({index:s.length,point:a.point});let r=a.getLeftmostComparator(i);o=e.sort(r)[0].otherSE;break}t.push(new de(s))}return t}constructor(e){this.events=e;for(let t=0,n=e.length;t<n;t++)e[t].segment.ringOut=this;this.poly=null}getGeom(){let e=this.events[0].point,t=[e];for(let n=1,r=this.events.length-1;n<r;n++){let r=this.events[n].point,i=this.events[n+1].point;I(r,e,i)!==0&&(t.push(r),e=r)}if(t.length===1)return null;let n=t[0],r=t[1];I(n,e,r)===0&&t.shift(),t.push(t[0]);let i=this.isExteriorRing()?1:-1,a=this.isExteriorRing()?0:t.length-1,o=this.isExteriorRing()?t.length:-1,s=[];for(let e=a;e!=o;e+=i)s.push([t[e].x,t[e].y]);return s}isExteriorRing(){if(this._isExteriorRing===void 0){let e=this.enclosingRing();this._isExteriorRing=e?!e.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let e=this.events[0];for(let t=1,n=this.events.length;t<n;t++){let n=this.events[t];ae.compare(e,n)>0&&(e=n)}let t=e.segment.prevInResult(),n=t?t.prevInResult():null;for(;;){if(!t)return null;if(!n)return t.ringOut;if(n.ringOut!==t.ringOut)return n.ringOut.enclosingRing()===t.ringOut?t.ringOut.enclosingRing():t.ringOut;t=n.prevInResult(),n=t?t.prevInResult():null}}}class fe{constructor(e){this.exteriorRing=e,e.poly=this,this.interiorRings=[]}addInterior(e){this.interiorRings.push(e),e.poly=this}getGeom(){let e=[this.exteriorRing.getGeom()];if(e[0]===null)return null;for(let t=0,n=this.interiorRings.length;t<n;t++){let n=this.interiorRings[t].getGeom();n!==null&&e.push(n)}return e}}class pe{constructor(e){this.rings=e,this.polys=this._composePolys(e)}getGeom(){let e=[];for(let t=0,n=this.polys.length;t<n;t++){let n=this.polys[t].getGeom();n!==null&&e.push(n)}return e}_composePolys(e){let t=[];for(let n=0,r=e.length;n<r;n++){let r=e[n];if(!r.poly)if(r.isExteriorRing())t.push(new fe(r));else{let e=r.enclosingRing();e.poly||t.push(new fe(e)),e.poly.addInterior(r)}}return t}}class me{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:se.compare;this.queue=e,this.tree=new c(t),this.segments=[]}process(e){let t=e.segment,n=[];if(e.consumedBy)return e.isLeft?this.queue.remove(e.otherSE):this.tree.remove(t),n;let r=e.isLeft?this.tree.add(t):this.tree.find(t);if(!r)throw Error(`Unable to find segment #${t.id} [${t.leftSE.point.x}, ${t.leftSE.point.y}] -> [${t.rightSE.point.x}, ${t.rightSE.point.y}] in SweepLine tree.`);let i=r,a=r,o,s;for(;o===void 0;)i=this.tree.prev(i),i===null?o=null:i.key.consumedBy===void 0&&(o=i.key);for(;s===void 0;)a=this.tree.next(a),a===null?s=null:a.key.consumedBy===void 0&&(s=a.key);if(e.isLeft){let r=null;if(o){let e=o.getIntersection(t);if(e!==null&&(t.isAnEndpoint(e)||(r=e),!o.isAnEndpoint(e))){let t=this._splitSafely(o,e);for(let e=0,r=t.length;e<r;e++)n.push(t[e])}}let i=null;if(s){let e=s.getIntersection(t);if(e!==null&&(t.isAnEndpoint(e)||(i=e),!s.isAnEndpoint(e))){let t=this._splitSafely(s,e);for(let e=0,r=t.length;e<r;e++)n.push(t[e])}}if(r!==null||i!==null){let e=null;e=r===null?i:i===null||ae.comparePoints(r,i)<=0?r:i,this.queue.remove(t.rightSE),n.push(t.rightSE);let a=t.split(e);for(let e=0,t=a.length;e<t;e++)n.push(a[e])}n.length>0?(this.tree.remove(t),n.push(e)):(this.segments.push(t),t.prev=o)}else{if(o&&s){let e=o.getIntersection(s);if(e!==null){if(!o.isAnEndpoint(e)){let t=this._splitSafely(o,e);for(let e=0,r=t.length;e<r;e++)n.push(t[e])}if(!s.isAnEndpoint(e)){let t=this._splitSafely(s,e);for(let e=0,r=t.length;e<r;e++)n.push(t[e])}}}this.tree.remove(t)}return n}_splitSafely(e,t){this.tree.remove(e);let n=e.rightSE;this.queue.remove(n);let r=e.split(t);return r.push(n),e.consumedBy===void 0&&this.tree.add(e),r}}let he=typeof process<`u`&&{}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,ge=typeof process<`u`&&{}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6;class _e{run(e,t,n){z.type=e,S.reset();let r=[new ue(t,!0)];for(let e=0,t=n.length;e<t;e++)r.push(new ue(n[e],!1));if(z.numMultiPolys=r.length,z.type===`difference`){let e=r[0],t=1;for(;t<r.length;)g(r[t].bbox,e.bbox)===null?r.splice(t,1):t++}if(z.type===`intersection`)for(let e=0,t=r.length;e<t;e++){let t=r[e];for(let n=e+1,i=r.length;n<i;n++)if(g(t.bbox,r[n].bbox)===null)return[]}let i=new c(ae.compare);for(let e=0,t=r.length;e<t;e++){let t=r[e].getSweepEvents();for(let e=0,n=t.length;e<n;e++)if(i.insert(t[e]),i.size>he)throw Error(`Infinite loop when putting segment endpoints in a priority queue (queue size too big).`)}let a=new me(i),o=i.size,s=i.pop();for(;s;){let e=s.key;if(i.size===o){let t=e.segment;throw Error(`Unable to pop() ${e.isLeft?`left`:`right`} SweepEvent [${e.point.x}, ${e.point.y}] from segment #${t.id} [${t.leftSE.point.x}, ${t.leftSE.point.y}] -> [${t.rightSE.point.x}, ${t.rightSE.point.y}] from queue.`)}if(i.size>he)throw Error(`Infinite loop when passing sweep line over endpoints (queue size too big).`);if(a.segments.length>ge)throw Error(`Infinite loop when passing sweep line over endpoints (too many sweep line segments).`);let t=a.process(e);for(let e=0,n=t.length;e<n;e++){let n=t[e];n.consumedBy===void 0&&i.insert(n)}o=i.size,s=i.pop()}S.reset();let l=de.factory(a.segments);return new pe(l).getGeom()}}let z=new _e;return{union:function(e){var t=[...arguments].slice(1);return z.run(`union`,e,t)},intersection:function(e){var t=[...arguments].slice(1);return z.run(`intersection`,e,t)},xor:function(e){var t=[...arguments].slice(1);return z.run(`xor`,e,t)},difference:function(e){var t=[...arguments].slice(1);return z.run(`difference`,e,t)}}}))}))());function xT(e,t,n){n===void 0&&(n={});var r=Zn(e),i=Zn(t),a=bT.default.union(r.coordinates,i.coordinates);return a.length===0?null:a.length===1?Kn(a[0],n.properties):Yn(a,n.properties)}var ST=xT,CT=class{getCombineFeature(e){let t=null,n=e[0];return e.map(e=>{let n=Kn(e.coordinates);t=t===null?n:ST(t,n)}),n&&(t.properties=P({},n)),t}},wT=`select`,TT=`active`,ET=class{constructor({layerService:e,tileLayerService:t,parent:n}){I(this,`layerService`,void 0),I(this,`tileLayerService`,void 0),I(this,`tileSourceService`,void 0),I(this,`parent`,void 0),I(this,`tilePickID`,new Map),this.layerService=e,this.tileLayerService=t,this.parent=n,this.tileSourceService=new CT}pickRender(e){let t=this.tileLayerService.getVisibleTileBylngLat(e.lngLat);t&&t.getMainLayer()?.layerPickService.pickRender(e)}pick(e,t){var n=this;return Y(function*(){let r=n.parent.getContainer().pickingService;if(e.type===`RasterLayer`){let e=n.tileLayerService.getVisibleTileBylngLat(t.lngLat);if(e&&e.getMainLayer()!==void 0){let r=e.getMainLayer();return r.layerPickService.pickRasterLayer(r,t,n.parent)}return!1}return n.pickRender(t),r.pickFromPickingFBO(e,t)})()}selectFeature(e){let[t,n,r]=e,i=this.color2PickId(t,n,r);this.tilePickID.set(wT,i),this.updateHighLight(t,n,r,wT)}highlightPickedFeature(e){let[t,n,r]=e,i=this.color2PickId(t,n,r);this.tilePickID.set(TT,i),this.updateHighLight(t,n,r,TT)}updateHighLight(e,t,n,r){this.tileLayerService.tiles.map(i=>{let a=i.getMainLayer();switch(r){case wT:a?.hooks.beforeSelect.call([e,t,n]);break;case TT:a?.hooks.beforeHighlight.call([e,t,n]);break}})}setPickState(){let e=this.tilePickID.get(wT),t=this.tilePickID.get(TT);if(e){let[t,n,r]=this.pickId2Color(e);this.updateHighLight(t,n,r,wT);return}if(t){let[e,n,r]=this.pickId2Color(t);this.updateHighLight(e,n,r,TT);return}}color2PickId(e,t,n){return ni(new Uint8Array([e,t,n]))}pickId2Color(e){return ri(e)}getFeatureById(e){let t=this.tileLayerService.getTiles().filter(e=>e.visible),n=[];return t.forEach(t=>{n.push(...t.getFeatureById(e))}),n}pickRasterLayer(){return!1}};function DT(e){return e===`PolygonLayer`?oT:e===`LineLayer`?WC:Iw}function OT(e){return[`PolygonLayer`,`LineLayer`].indexOf(e)!==-1}var kT=e(la()),AT=class extends kT.EventEmitter{constructor(e,t){super(),I(this,`x`,void 0),I(this,`y`,void 0),I(this,`z`,void 0),I(this,`key`,void 0),I(this,`parent`,void 0),I(this,`sourceTile`,void 0),I(this,`visible`,!0),I(this,`layers`,[]),I(this,`isLoaded`,!1),I(this,`tileMaskLayers`,[]),I(this,`tileMask`,void 0),this.parent=t,this.sourceTile=e,this.x=e.x,this.y=e.y,this.z=e.z,this.key=`${this.x}_${this.y}_${this.z}`}getLayers(){return this.layers}styleUpdate(...e){}lnglatInBounds(e){let[t,n,r,i]=this.sourceTile.bounds,{lng:a,lat:o}=e;return a>=t&&a<=r&&o>=n&&o<=i}getLayerOptions(){let e=this.parent.getLayerConfig();return P(P({},e),{},{textAllowOverlap:!0,autoFit:!1,maskLayers:this.getMaskLayer(),tileMask:OT(this.parent.type),mask:e.mask||e.maskLayers?.length!==0&&e.enableMask})}getMaskLayer(){let{maskLayers:e}=this.parent.getLayerConfig(),t=[];return e?.forEach(e=>{if(!e.tileLayer)return t.push(e),e;let n=e.tileLayer.getTile(this.sourceTile.key),r=n?.getLayers()[0];r&&t.push(r)}),t}addTileMask(){var e=this;return Y(function*(){let t=new oT({name:`mask`,visible:!0,enablePicking:!1}).source({type:`FeatureCollection`,features:[e.sourceTile.bboxPolygon]},{parser:{type:`geojson`,featureId:`id`}}).shape(`fill`).color(`#0f0`).style({opacity:.5}),n=Hf(e.parent.container);t.setContainer(n),yield t.init(),e.tileMask=t;let r=e.getMainLayer();return r!==void 0&&(r.tileMask=t),t})()}addMask(e,t){var n=this;return Y(function*(){let r=Hf(n.parent.container);t.setContainer(r),yield t.init(),e.addMask(t),n.tileMaskLayers.push(t)})()}addLayer(e){var t=this;return Y(function*(){e.isTileLayer=!0;let n=Hf(t.parent.container);e.setContainer(n),t.layers.push(e),yield e.init()})()}updateVisible(e){this.visible=e,this.updateOptions(`visible`,e)}updateOptions(e,t){this.layers.forEach(n=>{n.updateLayerConfig({[e]:t})})}getMainLayer(){return this.layers[0]}getFeatures(e){return[]}getFeatureById(e){return[]}destroy(){var e;(e=this.tileMask)==null||e.destroy(),this.layers.forEach(e=>e.destroy())}},jT=class extends AT{initTileLayer(){var e=this;return Y(function*(){let t=e.getSourceOption(),n=t.data.features[0].properties,r=new WC().source(t.data,t.options).size(1).shape(`line`).color(`red`),i=new Iw({minZoom:e.z-1,maxZoom:e.z+1,textAllowOverlap:!0}).source([n],{parser:{type:`json`,x:`x`,y:`y`}}).size(20).color(`red`).shape(e.key).style({stroke:`#fff`,strokeWidth:2});yield e.addLayer(r),yield e.addLayer(i),e.isLoaded=!0})()}getSourceOption(){let e=this.parent.getSource();return{data:{type:`FeatureCollection`,features:this.sourceTile.data.layers.testTile.features},options:{parser:{type:`geojson`},transforms:e.transforms}}}},MT=class extends AT{initTileLayer(){var e=this;return Y(function*(){let t=e.parent.getLayerAttributeConfig(),n=e.getLayerOptions(),r=e.getSourceOption(),i=new iC(P({},n)).source(r.data,r.options);t&&Object.keys(t).forEach(e=>{let n=e;i[n](t[n]?.field,t[n]?.values)}),yield e.addLayer(i),e.isLoaded=!0})()}getSourceOption(){let e=this.parent.getSource();return{data:this.sourceTile.data,options:{parser:{type:`image`,extent:this.sourceTile.bounds},transforms:e.transforms}}}},NT=`layout(std140) uniform commonUniorm {
  vec4 u_color;
  float u_opacity;
};

out vec4 outputColor;

void main() {
  outputColor = u_color;
  outputColor.a *= u_opacity;
}
`,PT=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;

layout(std140) uniform commonUniorm {
  vec4 u_color;
  float u_opacity;
};

#pragma include "projection"

void main() {
  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
}

`,FT={fill:class extends Lx{getUninforms(){let e=this.getCommonUniformsInfo(),t=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),P(P({},e.uniformsOption),t.uniformsOption)}getCommonUniformsInfo(){let{opacity:e=1,color:t=`#000`}=this.layer.getLayerConfig(),n={u_color:ti(t),u_opacity:e||1};return this.getUniformsBufferInfo(n)}initModels(){var e=this;return Y(function*(){return e.buildModels()})()}buildModels(){var e=this;return Y(function*(){return e.initUniformsBuffer(),[yield e.layer.buildLayerModel({moduleName:`mask`,vertexShader:PT,fragmentShader:NT,defines:e.getDefines(),triangulation:wS,depth:{enable:!1},pick:!1})]})()}clearModels(e=!0){e&&this.layerService.clear()}registerBuiltinAttributes(){return``}}},IT=class extends Dx{constructor(...e){super(...e),I(this,`type`,`MaskLayer`)}buildModels(){var e=this;return Y(function*(){let t=e.getModelType();e.layerModel=new FT[t](e),yield e.initLayerModels()})()}getModelType(){return`fill`}},LT=class extends AT{initTileLayer(){var e=this;return Y(function*(){let t=e.parent.getLayerAttributeConfig(),n=e.getLayerOptions(),r=e.getSourceOption(),i=new IT(P({},n)).source(r.data,r.options);t&&Object.keys(t).forEach(e=>{let n=e;i[n](t[n]?.field,t[n]?.values)}),yield e.addLayer(i),e.isLoaded=!0})()}getFeatures(e){return e?this.sourceTile.data.getTileData(e):[]}getSourceOption(){let e=this.parent.getSource(),{sourceLayer:t,featureId:n}=this.parent.getLayerConfig();return{data:{type:`FeatureCollection`,features:this.getFeatures(t)},options:{parser:{type:`geojson`,featureId:n},transforms:e.transforms}}}},RT=[`rasterData`],zT=class extends AT{initTileLayer(){var e=this;return Y(function*(){let t=e.parent.getLayerAttributeConfig(),n=e.getLayerOptions(),r=e.getSourceOption(),i=new vT(P({},n)).source(r.data,r.options);t&&Object.keys(t).forEach(e=>{let n=e;i[n](t[n]?.field,t[n]?.values)}),yield e.addLayer(i),e.isLoaded=!0})()}getSourceOption(){let e=this.parent.getSource(),t=this.sourceTile.data.data,{rasterData:n}=t,r=Su(t,RT);return{data:n,options:{parser:P({type:`rasterRgb`,extent:this.sourceTile.bounds},r),transforms:e.transforms}}}},BT=class extends AT{initTileLayer(){var e=this;return Y(function*(){let t=e.parent.getLayerAttributeConfig(),n=e.getLayerOptions(),r=e.getSourceOption(),i=new vT(P({},n)).source(r.data,r.options);t&&Object.keys(t).forEach(e=>{let n=e;i[n](t[n]?.field,t[n]?.values)}),yield e.addLayer(i),e.isLoaded=!0})()}getSourceOption(){let e=this.parent.getSource();return{data:this.sourceTile.data,options:{parser:{type:`image`,extent:this.sourceTile.bounds},transforms:e.transforms}}}},VT=[`rasterData`],HT={positions:[0,1],colors:[`#000`,`#fff`]},UT=class extends AT{constructor(...e){super(...e),I(this,`colorTexture`,void 0)}initTileLayer(){var e=this;return Y(function*(){let t=e.parent.getLayerAttributeConfig(),n=e.getLayerOptions(),r=e.getSourceOption(),{rampColors:i,domain:a}=e.getLayerOptions();e.colorTexture=e.parent.textureService.getColorTexture(i,a);let o=new vT(P(P({},n),{},{colorTexture:e.colorTexture})).source(r.data,r.options);t&&Object.keys(t).forEach(e=>{let n=e;o[n](t[n]?.field,t[n]?.values)}),yield e.addLayer(o),e.isLoaded=!0})()}getSourceOption(){let e=this.parent.getSource(),t=this.sourceTile.data.data,{rasterData:n}=t,r=Su(t,VT);return{data:n,options:{parser:P({type:`raster`,extent:this.sourceTile.bounds},r),transforms:e.transforms}}}styleUpdate(...e){let{rampColors:t=HT,domain:n}=e;this.colorTexture=this.parent.textureService.getColorTexture(t,n||ui(t)),this.layers.forEach(e=>e.style({colorTexture:this.colorTexture}))}destroy(){this.layers.forEach(e=>e.destroy())}},WT=class extends AT{initTileLayer(){var e=this;return Y(function*(){let t=e.parent.getLayerAttributeConfig(),n=e.getLayerOptions(),r=DT(e.parent.type),i=e.getSourceOption();if(!i){e.isLoaded=!0,e.emit(`loaded`);return}let a=new r(P({},n)).source(i.data,i.options);Object.keys(t).forEach(e=>{let n=e;a[n](t[n]?.field,t[n]?.values)}),yield e.addLayer(a),n.tileMask&&(yield e.addTileMask()),e.setLayerMinMaxZoom(a),e.isLoaded=!0,e.emit(`loaded`)})()}getSourceOption(){let e=this.parent.getSource(),{sourceLayer:t=`defaultLayer`,featureId:n=`id`}=this.parent.getLayerConfig();return{data:{type:`FeatureCollection`,features:this.getFeatures(t)},options:{parser:{type:`geojson`,featureId:n},transforms:e.transforms}}}setLayerMinMaxZoom(e){e.getModelType()===`text`&&e.updateLayerConfig({maxZoom:this.z+1,minZoom:this.z-1})}getFeatures(e){return this.sourceTile.data.getTileData(e)}getFeatureById(e){let t=this.getMainLayer();return t?t.getSource().data.dataArray.filter(t=>t._id===e):[]}};function GT(e){switch(e.type){case`PolygonLayer`:return WT;case`LineLayer`:return WT;case`PointLayer`:return WT;case`TileDebugLayer`:return jT;case`MaskLayer`:return LT;case`RasterLayer`:let{dataType:t}=e.getSource().parser;switch(t){case Wf.RGB:case Wf.CUSTOMRGB:return zT;case Wf.ARRAYBUFFER:case Wf.CUSTOMARRAYBUFFER:return UT;case Wf.TERRAINRGB:case Wf.CUSTOMTERRAINRGB:return BT;default:return MT}default:return WT}}const KT=[`shape`,`color`,`size`,`style`,`animate`,`filter`,`rotate`,`scale`,`setBlend`,`setSelect`,`setActive`,`disableMask`,`enableMask`,`addMask`,`removeMask`];var{debounce:qT}=di,JT=class{constructor(e){I(this,`parent`,void 0),I(this,`tileLayerService`,void 0),I(this,`mapService`,void 0),I(this,`layerService`,void 0),I(this,`rendererService`,void 0),I(this,`pickingService`,void 0),I(this,`tilePickService`,void 0),I(this,`tilesetManager`,void 0),I(this,`initedTileset`,!1),I(this,`lastViewStates`,void 0),I(this,`mapchange`,()=>{var e;if(this.parent.isVisible()===!1)return;let{latLonBounds:t,zoom:n}=this.getCurrentView();this.lastViewStates&&this.lastViewStates.zoom===n&&this.lastViewStates.latLonBounds.toString()===t.toString()||(this.lastViewStates={zoom:n,latLonBounds:t},(e=this.tilesetManager)==null||e.throttleUpdate(n,t))}),I(this,`viewchange`,qT(this.mapchange,24)),this.parent=e;let t=this.parent.getContainer();this.rendererService=t.rendererService,this.layerService=t.layerService,this.mapService=t.mapService,this.pickingService=t.pickingService,this.tileLayerService=new yT({rendererService:this.rendererService,layerService:this.layerService,parent:e}),this.tilePickService=new ET({tileLayerService:this.tileLayerService,layerService:this.layerService,parent:e}),this.parent.setLayerPickService(this.tilePickService),this.proxy(e),this.initTileSetManager()}initTileSetManager(){var e;if(this.tilesetManager=this.parent.getSource().tileset,this.initedTileset||=(this.bindTilesetEvent(),!0),this.parent.isVisible()===!1)return;let{latLonBounds:t,zoom:n}=this.getCurrentView();(e=this.tilesetManager)==null||e.update(n,t)}getCurrentView(){let e=this.mapService.getBounds(),t=[e[0][0],e[0][1],e[1][0],e[1][1]],n=this.mapService.getZoom();return{latLonBounds:t,zoom:n}}bindTilesetEvent(){this.tilesetManager.on(`tile-loaded`,e=>{}),this.tilesetManager.on(`tile-unload`,e=>{this.tileUnLoad(e)}),this.tilesetManager.on(`tile-error`,(e,t)=>{this.tileError(e)}),this.tilesetManager.on(`tile-update`,()=>{this.tileUpdate()}),this.mapService.on(`zoomend`,this.mapchange),this.mapService.on(`moveend`,this.viewchange)}render(){this.tileLayerService.render()}getLayers(){return this.tileLayerService.getLayers()}getTiles(){return this.tileLayerService.getTiles()}getTile(e){return this.tileLayerService.getTile(e)}tileLoaded(e){}tileError(e){console.warn(`error:`,e)}destroy(){var e;this.mapService.off(`zoomend`,this.mapchange),this.mapService.off(`moveend`,this.viewchange),(e=this.tilesetManager)==null||e.destroy(),this.tileLayerService.destroy()}reload(){var e;this.tilesetManager.clear();let{latLonBounds:t,zoom:n}=this.getCurrentView();(e=this.tilesetManager)==null||e.update(n,t)}tileUnLoad(e){this.tileLayerService.removeTile(e.key)}tileUpdate(){var e=this;return Y(function*(){if(!e.tilesetManager)return;let t=e.parent.getMinZoom(),n=e.parent.getMaxZoom(),r=e.tilesetManager.tiles.filter(e=>e.isLoaded).filter(e=>e.isVisibleChange).filter(e=>e.data).filter(e=>e.z>=t&&e.z<n);yield Promise.all(r.map(function(){var t=Y(function*(t){if(e.tileLayerService.hasTile(t.key))e.tileLayerService.updateTileVisible(t),e.tilePickService.setPickState(),e.layerService.reRender();else{let n=new(GT(e.parent))(t,e.parent);yield n.initTileLayer(),e.tilePickService.setPickState(),n.getLayers().length!==0&&(e.tileLayerService.addTile(n),e.tileLayerService.updateTileVisible(t),e.layerService.reRender())}});return function(e){return t.apply(this,arguments)}}())),e.tilesetManager.isLoaded&&e.parent.emit(`tiles-loaded`,e.tilesetManager.currentTiles)})()}setPickState(e){}pickRender(e){this.tilePickService.pickRender(e)}selectFeature(e){this.tilePickService.selectFeature(e)}highlightPickedFeature(e){this.tilePickService.highlightPickedFeature(e)}proxy(e){KT.forEach(t=>{let n=e[t].bind(e);e[t]=(...r)=>(n(...r),this.getLayers().map(e=>{e[t](...r)}),t===`style`&&this.getTiles().forEach(e=>e.styleUpdate(...r)),e)})}};la();var{get:YT}=di;function XT(e,t){var n=typeof my<`u`&&!!my&&typeof my.showToast==`function`&&my.isFRM!==!0,r=typeof wx<`u`&&wx!==null&&(wx.request!==void 0||wx.miniProgram!==void 0);if(!(n||r)&&(t||=document,t)){var i=t.head||t.getElementsByTagName(`head`)[0];if(!i){i=t.createElement(`head`);var a=t.body||t.getElementsByTagName(`body`)[0];a?a.parentNode.insertBefore(i,a):t.documentElement.appendChild(i)}var o=t.createElement(`style`);return o.type=`text/css`,o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),i.appendChild(o),o}}XT(`.l7-marker-container {
  position: absolute;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.l7-marker {
  position: absolute !important;
  top: 0;
  left: 0;
  z-index: 5;
  cursor: pointer;
}

.l7-marker-cluster {
  width: 40px;
  height: 40px;
  background-color: rgb(181 226 140 / 60%);
  background-clip: padding-box;
  border-radius: 20px;
}

.l7-marker-cluster div {
  width: 30px;
  height: 30px;
  margin-top: 5px;
  margin-left: 5px;
  font:
    12px 'Helvetica Neue',
    Arial,
    Helvetica,
    sans-serif;
  text-align: center;
  background-color: rgb(110 204 57 / 60%);
  border-radius: 15px;
}

.l7-marker-cluster span {
  line-height: 30px;
}

.l7-touch .l7-control-attribution,
.l7-touch .l7-control-layers,
.l7-touch .l7-bar {
  box-shadow: none;
}

.l7-touch .l7-control-layers,
.l7-touch .l7-bar {
  background-clip: padding-box;
  border: 2px solid rgb(0 0 0 / 20%);
}

.mapboxgl-ctrl-logo,
.amap-logo {
  display: none !important;
}

.l7-select-box {
  border: 3px dashed gray;
  border-radius: 2px;
  position: absolute;
  z-index: 999;
  box-sizing: border-box;
}

.l7-control-container {
  font:
    12px/1.5 'Helvetica Neue',
    Arial,
    Helvetica,
    sans-serif;
}

.l7-control-container .l7-control {
  position: relative;
  z-index: 999;
  float: left;
  clear: both;
  color: #595959;
  font-size: 12px;
  pointer-events: visiblepainted;

  /* IE 9-10 doesn't have auto */
  pointer-events: auto;
}

.l7-control-container .l7-control.l7-control--hide {
  display: none;
}

.l7-control-container .l7-top {
  top: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}

.l7-control-container .l7-top .l7-control:not(.l7-control--hide) {
  margin-top: 8px;
}

.l7-control-container .l7-right {
  right: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}

.l7-control-container .l7-right .l7-control:not(.l7-control--hide) {
  margin-right: 8px;
}

.l7-control-container .l7-bottom {
  bottom: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}

.l7-control-container .l7-bottom .l7-control:not(.l7-control--hide) {
  margin-bottom: 8px;
}

.l7-control-container .l7-left {
  left: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}

.l7-control-container .l7-left .l7-control:not(.l7-control--hide) {
  margin-left: 8px;
}

.l7-control-container .l7-center {
  position: absolute;
  display: flex;
  justify-content: center;
}

.l7-control-container .l7-center.l7-top,
.l7-control-container .l7-center.l7-bottom {
  width: 100%;
}

.l7-control-container .l7-center.l7-left,
.l7-control-container .l7-center.l7-right {
  height: 100%;
}

.l7-control-container .l7-center .l7-control {
  margin-right: 8px;
  margin-bottom: 8px;
}

.l7-control-container .l7-row {
  flex-direction: row;
}

.l7-control-container .l7-row.l7-top {
  align-items: flex-start;
}

.l7-control-container .l7-row.l7-bottom {
  align-items: flex-end;
}

.l7-control-container .l7-column {
  flex-direction: column;
}

.l7-control-container .l7-column.l7-left {
  align-items: flex-start;
}

.l7-control-container .l7-column.l7-right {
  align-items: flex-end;
}

.l7-button-control {
  min-width: 28px;
  height: 28px;
  background-color: #fff;
  border-width: 0;
  border-radius: 2px;
  outline: 0;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0 6px;
  box-shadow: 0 0 20px 0 rgb(0 0 0 / 15%);
  line-height: 16px;
}

.l7-button-control .l7-iconfont {
  fill: #595959;
  color: #595959;
  width: 16px;
  height: 16px;
}

.l7-button-control.l7-button-control--row {
  padding: 0 16px 0 13px;
}

.l7-button-control.l7-button-control--row * + .l7-button-control__text {
  margin-left: 8px;
}

.l7-button-control.l7-button-control--column {
  height: 44px;
  flex-direction: column;
}

.l7-button-control.l7-button-control--column .l7-iconfont {
  margin-top: 3px;
}

.l7-button-control.l7-button-control--column .l7-button-control__text {
  margin-top: 3px;
  font-size: 10px;
  -webkit-transform: scale(0.83333);
          transform: scale(0.83333);
}

.l7-button-control:not(:disabled):hover {
  background-color: #f3f3f3;
}

.l7-button-control:not(:disabled):active {
  background-color: #f3f3f3;
}

.l7-button-control:disabled {
  background-color: #fafafa;
  color: #bdbdbd;
  cursor: not-allowed;
}

.l7-button-control:disabled .l7-iconfont {
  fill: #bdbdbd;
  color: #bdbdbd;
}

.l7-button-control:disabled:hover {
  background-color: #fafafa;
}

.l7-button-control:disabled:active {
  background-color: #fafafa;
}

.l7-popper {
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 5;
  color: #595959;
}

.l7-popper.l7-popper-hide {
  display: none;
}

.l7-popper .l7-popper-content {
  min-height: 28px;
  background: #fff;
  border-radius: 2px;
  box-shadow: 0 0 20px 0 rgb(0 0 0 / 15%);
}

.l7-popper .l7-popper-arrow {
  width: 0;
  height: 0;
  border-width: 4px;
  border-style: solid;
  border-color: transparent;
  box-shadow: 0 0 20px 0 rgb(0 0 0 / 15%);
}

.l7-popper.l7-popper-left {
  flex-direction: row;
}

.l7-popper.l7-popper-left .l7-popper-arrow {
  border-left-color: #fff;
  margin: 10px 0;
}

.l7-popper.l7-popper-right {
  flex-direction: row-reverse;
}

.l7-popper.l7-popper-right .l7-popper-arrow {
  border-right-color: #fff;
  margin: 10px 0;
}

.l7-popper.l7-popper-top {
  flex-direction: column;
}

.l7-popper.l7-popper-top .l7-popper-arrow {
  border-top-color: #fff;
  margin: 0 10px;
}

.l7-popper.l7-popper-bottom {
  flex-direction: column-reverse;
}

.l7-popper.l7-popper-bottom .l7-popper-arrow {
  border-bottom-color: #fff;
  margin: 0 10px;
}

.l7-popper.l7-popper-start {
  align-items: flex-start;
}

.l7-popper.l7-popper-end {
  align-items: flex-end;
}

.l7-select-control--normal {
  padding: 4px 0;
}

.l7-select-control--normal .l7-select-control-item {
  display: flex;
  align-items: center;
  height: 24px;
  padding: 0 16px;
  font-size: 12px;
  line-height: 24px;
}

.l7-select-control--normal .l7-select-control-item > * + * {
  margin-left: 6px;
}

.l7-select-control--normal .l7-select-control-item input[type='checkbox'] {
  width: 14px;
  height: 14px;
}

.l7-select-control--normal .l7-select-control-item:hover {
  background-color: #f3f3f3;
}

.l7-select-control--image {
  display: flex;
  flex-wrap: wrap;
  align-items: flex-start;
  box-sizing: content-box;
  max-width: 460px;
  max-height: 400px;
  margin: 12px 0 0 12px;
  overflow: hidden auto;
}

.l7-select-control--image .l7-select-control-item {
  position: relative;
  display: flex;
  flex: 0 0 calc((100% - (12px + 9px) * 2) / 3);
  flex-direction: column;
  justify-content: center;
  box-sizing: content-box;
  margin-right: 12px;
  margin-bottom: 12px;
  overflow: hidden;
  font-size: 12px;
  border: 1px solid #fff;
  border-radius: 2px;
}

.l7-select-control--image .l7-select-control-item img {
  width: 100%;
  height: 80px;
}

.l7-select-control--image .l7-select-control-item input[type='checkbox'] {
  position: absolute;
  top: 0;
  right: 0;
}

.l7-select-control--image .l7-select-control-item .l7-select-control-item-row {
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 26px;
}

.l7-select-control--image .l7-select-control-item .l7-select-control-item-row > * + * {
  margin-left: 8px;
}

.l7-select-control--image .l7-select-control-item.l7-select-control-item-active {
  border-color: #0370fe;
}

.l7-select-control-item {
  cursor: pointer;
}

.l7-select-control-item input[type='checkbox'] {
  margin: 0;
  cursor: pointer;
}

.l7-select-control--multiple .l7-select-control-item:hover {
  background-color: transparent;
}

.l7-control-logo {
  width: 89px;
  height: 16px;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}

.l7-control-logo img {
  height: 100%;
  width: 100%;
}

.l7-control-logo .l7-control-logo-link {
  display: block;
  cursor: pointer;
}

.l7-control-logo .l7-control-logo-link img {
  cursor: pointer;
}

.l7-control-mouse-location {
  background-color: #fff;
  border-radius: 2px;
  box-shadow: 0 0 20px 0 rgb(0 0 0 / 15%);
  padding: 2px 4px;
  min-width: 130px;
}

.l7-control-zoom {
  overflow: hidden;
  border-radius: 2px;
  box-shadow: 0 0 20px 0 rgb(0 0 0 / 15%);
}

.l7-control-zoom .l7-button-control {
  font-size: 16px;
  border-bottom: 1px solid #f0f0f0;
  border-radius: 0;
  box-shadow: 0 0 0;
}

.l7-control-zoom .l7-button-control .l7-iconfont {
  width: 14px;
  height: 14px;
}

.l7-control-zoom .l7-button-control:last-child {
  border-bottom: 0;
}

.l7-control-zoom .l7-control-zoom__number {
  color: #595959;
  padding: 0;
}

.l7-control-zoom .l7-control-zoom__number:hover {
  background-color: #fff;
}

.l7-control-scale {
  display: flex;
  flex-direction: column;
}

.l7-control-scale .l7-control-scale-line {
  box-sizing: border-box;
  padding: 2px 5px 1px;
  overflow: hidden;
  color: #595959;
  font-size: 10px;
  line-height: 1.1;
  white-space: nowrap;
  background: #fff;
  border: 2px solid #000;
  border-top: 0;
  transition: width 0.1s;
}

.l7-control-scale .l7-control-scale-line + .l7-control-scale .l7-control-scale-line {
  margin-top: -2px;
  border-top: 2px solid #777;
  border-bottom: none;
}

.l7-right .l7-control-scale {
  display: flex;
  align-items: flex-end;
}

.l7-right .l7-control-scale .l7-control-scale-line {
  text-align: right;
}

.l7-popup {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 5;
  display: flex;
  will-change: transform;
  pointer-events: none;
}

.l7-popup.l7-popup-hide {
  display: none;
}

.l7-popup .l7-popup-content {
  position: relative;
  padding: 16px;
  font-size: 14px;
  background: #fff;
  border-radius: 3px;
  box-shadow: 0 1px 2px rgb(0 0 0 / 10%);
}

.l7-popup .l7-popup-content .l7-popup-content__title {
  margin-bottom: 8px;
  font-weight: bold;
}

.l7-popup .l7-popup-content .l7-popup-close-button,
.l7-popup .l7-popup-content .l7-popup-content__title,
.l7-popup .l7-popup-content .l7-popup-content__panel {
  white-space: normal;
  -webkit-user-select: text;
     -moz-user-select: text;
      -ms-user-select: text;
          user-select: text;
  pointer-events: initial;
}

.l7-popup .l7-popup-content .l7-popup-close-button {
  position: absolute;
  top: 0;
  right: 0;
  width: 18px;
  height: 18px;
  padding: 0;
  font-size: 14px;
  line-height: 18px;
  text-align: center;
  background-color: transparent;
  border: 0;
  border-radius: 0 3px 0 0;
  cursor: pointer;
}

.l7-popup .l7-popup-tip {
  position: relative;
  z-index: 1;
  width: 0;
  height: 0;
  border: 10px solid transparent;
}

.l7-popup.l7-popup-anchor-bottom,
.l7-popup.l7-popup-anchor-bottom-left,
.l7-popup.l7-popup-anchor-bottom-right {
  flex-direction: column-reverse;
}

.l7-popup.l7-popup-anchor-bottom .l7-popup-tip,
.l7-popup.l7-popup-anchor-bottom-left .l7-popup-tip,
.l7-popup.l7-popup-anchor-bottom-right .l7-popup-tip {
  bottom: 1px;
}

.l7-popup.l7-popup-anchor-top,
.l7-popup.l7-popup-anchor-top-left,
.l7-popup.l7-popup-anchor-top-right {
  flex-direction: column;
}

.l7-popup.l7-popup-anchor-top .l7-popup-tip,
.l7-popup.l7-popup-anchor-top-left .l7-popup-tip,
.l7-popup.l7-popup-anchor-top-right .l7-popup-tip {
  top: 1px;
}

.l7-popup.l7-popup-anchor-left {
  flex-direction: row;
}

.l7-popup.l7-popup-anchor-right {
  flex-direction: row-reverse;
}

.l7-popup-anchor-top .l7-popup-tip {
  position: relative;
  align-self: center;
  border-top: none;
  border-bottom-color: #fff;
}

.l7-popup-anchor-top-left .l7-popup-tip {
  align-self: flex-start;
  border-top: none;
  border-bottom-color: #fff;
  border-left: none;
}

.l7-popup-anchor-top-right .l7-popup-tip {
  align-self: flex-end;
  border-top: none;
  border-right: none;
  border-bottom-color: #fff;
}

.l7-popup-anchor-bottom .l7-popup-tip {
  align-self: center;
  border-top-color: #fff;
  border-bottom: none;
}

.l7-popup-anchor-bottom-left .l7-popup-tip {
  align-self: flex-start;
  border-top-color: #fff;
  border-bottom: none;
  border-left: none;
}

.l7-popup-anchor-bottom-right .l7-popup-tip {
  align-self: flex-end;
  border-top-color: #fff;
  border-right: none;
  border-bottom: none;
}

.l7-popup-anchor-left .l7-popup-tip {
  align-self: center;
  border-right-color: #fff;
  border-left: none;
}

.l7-popup-anchor-right .l7-popup-tip {
  right: 1px;
  align-self: center;
  border-right: none;
  border-left-color: #fff;
}

.l7-popup-anchor-top-left .l7-popup-content {
  border-top-left-radius: 0;
}

.l7-popup-anchor-top-right .l7-popup-content {
  border-top-right-radius: 0;
}

.l7-popup-anchor-bottom-left .l7-popup-content {
  border-bottom-left-radius: 0;
}

.l7-popup-anchor-bottom-right .l7-popup-content {
  border-bottom-right-radius: 0;
}

.l7-popup-track-pointer {
  display: none;
}

.l7-popup-track-pointer * {
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  pointer-events: none;
}

.l7-map:hover .l7-popup-track-pointer {
  display: flex;
}

.l7-map:active .l7-popup-track-pointer {
  display: none;
}

.l7-layer-popup__row {
  font-size: 12px;
}

.l7-layer-popup__row + .l7-layer-popup__row {
  margin-top: 4px;
}

.l7-control-swipe {
  position: absolute;
  top: 50%;
  left: 50%;
  z-index: 6;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  touch-action: none;
}

.l7-control-swipe_hide {
  display: none;
}

.l7-control-swipe::before {
  position: absolute;
  top: -5000px;
  bottom: -5000px;
  left: 50%;
  z-index: -1;
  width: 4px;
  background: #fff;
  -webkit-transform: translate(-2px, 0);
          transform: translate(-2px, 0);
  content: '';
}

.l7-control-swipe.horizontal::before {
  inset: 50% -5000px auto;
  width: auto;
  height: 4px;
}

.l7-control-swipe__button {
  display: block;
  width: 28px;
  height: 28px;
  margin: 0;
  padding: 0;
  color: #595959;
  font-weight: bold;
  font-size: inherit;
  text-align: center;
  text-decoration: none;
  background-color: #fff;
  border: none;
  border-radius: 2px;
  outline: none;
}

.l7-control-swipe,
.l7-control-swipe__button {
  cursor: ew-resize;
}

.l7-control-swipe.horizontal,
.l7-control-swipe.horizontal button {
  cursor: ns-resize;
}

.l7-control-swipe::after,
.l7-control-swipe__button::before,
.l7-control-swipe__button::after {
  position: absolute;
  top: 25%;
  bottom: 25%;
  left: 50%;
  width: 2px;
  background: currentcolor;
  -webkit-transform: translate(-1px, 0);
          transform: translate(-1px, 0);
  content: '';
}

.l7-control-swipe__button::after {
  -webkit-transform: translateX(4px);
          transform: translateX(4px);
}

.l7-control-swipe__button::before {
  -webkit-transform: translateX(-6px);
          transform: translateX(-6px);
}
`);var ZT=class{constructor(e){I(this,`configService`,void 0),I(this,`config`,void 0),this.config=e}setContainer(e,t){this.configService=e.globalConfigService,e.mapConfig=P(P({},this.config),{},{id:t}),e.mapService=new(this.getServiceConstructor())(e)}getServiceConstructor(){throw Error(`Method not implemented.`)}},QT=e(t(((exports,t)=>{t.exports=n;function n(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=r}n.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(t===void 0&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,r=0;r<8;r++){var i=this.sampleCurveX(n)-e;if(Math.abs(i)<t)return n;var a=this.sampleCurveDerivativeX(n);if(Math.abs(a)<1e-6)break;n-=i/a}var o=0,s=1;for(n=e,r=0;r<20&&(i=this.sampleCurveX(n),!(Math.abs(i-e)<t));r++)e>i?o=n:s=n,n=(s-o)*.5+o;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}}}))());function $T(e,...t){for(let n of t)for(let t in n)e[t]=n[t];return e}function eE(e,t,n,r){let i=new QT.default(e,t,n,r);return e=>i.solve(e)}eE(.25,.1,.25,1);var tE=e(Js()),nE,rE=class e{static testProp(t){if(!e.docStyle)return t[0];for(let n=0;n<t.length;n++)if(t[n]in e.docStyle)return t[n];return t[0]}static create(e,t,n){let r=window.document.createElement(e);return t!==void 0&&(r.className=t),n&&n.appendChild(r),r}static createNS(e,t){return window.document.createElementNS(e,t)}static disableDrag(){e.docStyle&&e.selectProp&&(e.userSelect=e.docStyle[e.selectProp],e.docStyle[e.selectProp]=`none`)}static enableDrag(){e.docStyle&&e.selectProp&&(e.docStyle[e.selectProp]=e.userSelect)}static setTransform(t,n){t.style[e.transformProp]=n}static addEventListener(e,t,n,r={}){`passive`in r?e.addEventListener(t,n,r):e.addEventListener(t,n,r.capture)}static removeEventListener(e,t,n,r={}){`passive`in r?e.removeEventListener(t,n,r):e.removeEventListener(t,n,r.capture)}static suppressClickInternal(t){t.preventDefault(),t.stopPropagation(),window.removeEventListener(`click`,e.suppressClickInternal,!0)}static suppressClick(){window.addEventListener(`click`,e.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener(`click`,e.suppressClickInternal,!0)},0)}static getScale(e){let t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}static getPoint(e,t,n){let r=t.boundingClientRect;return new tE.default((n.clientX-r.left)/t.x-e.clientLeft,(n.clientY-r.top)/t.y-e.clientTop)}static mousePos(t,n){let r=e.getScale(t);return e.getPoint(t,r,n)}static touchPos(t,n){let r=[],i=e.getScale(t);for(let a=0;a<n.length;a++)r.push(e.getPoint(t,i,n[a]));return r}static mouseButton(e){return e.button}static remove(e){e.parentNode&&e.parentNode.removeChild(e)}};nE=rE,I(rE,`docStyle`,typeof window<`u`&&window.document&&window.document.documentElement.style),I(rE,`userSelect`,void 0),I(rE,`selectProp`,nE.testProp([`userSelect`,`MozUserSelect`,`WebkitUserSelect`,`msUserSelect`])),I(rE,`transformProp`,nE.testProp([`transform`,`WebkitTransform`]));var iE=class{constructor(e){I(this,`size`,1e4),this.size=e||1e4}setSize(e){this.size=e}getSize(){return[this.size,this.size]}mercatorXfromLng(e){return(180+e)/360*this.size}mercatorYfromLat(e){return(1-(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360)*this.size}lngFromMercatorX(e){return e/this.size*360-180}latFromMercatorY(e){let t=180-(1-e/this.size)*360;return 360/Math.PI*Math.atan(Math.exp(t*Math.PI/180))-90}project(e){let t=this.mercatorXfromLng(e[0]),n=this.mercatorYfromLat(e[1]);return[t,n]}unproject(e){let t=this.lngFromMercatorX(e[0]),n=this.latFromMercatorY(e[1]);return[t,n]}};Js(),2*Math.PI*6371008.8,typeof performance<`u`&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),Js(),Js(),Js(),Js(),Js(),Js(),Js();var aE={linearity:.3,easing:eE(0,0,.3,1)};$T({deceleration:2500,maxSpeed:1400},aE),$T({deceleration:20,maxSpeed:1400},aE),$T({deceleration:1e3,maxSpeed:360},aE),$T({deceleration:1e3,maxSpeed:90},aE),Js(),Js();function oE(e,t){var n=typeof my<`u`&&!!my&&typeof my.showToast==`function`&&my.isFRM!==!0,r=typeof wx<`u`&&wx!==null&&(wx.request!==void 0||wx.miniProgram!==void 0);if(!(n||r)&&(t||=document,t)){var i=t.head||t.getElementsByTagName(`head`)[0];if(!i){i=t.createElement(`head`);var a=t.body||t.getElementsByTagName(`body`)[0];a?a.parentNode.insertBefore(i,a):t.documentElement.appendChild(i)}var o=t.createElement(`style`);return o.type=`text/css`,o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),i.appendChild(o),o}}oE(`.l7-map {
  font:
    12px/20px 'Helvetica Neue',
    Arial,
    Helvetica,
    sans-serif;
  overflow: hidden;
  position: relative;
  -webkit-tap-highlight-color: rgb(0 0 0 / 0%);
}

.l7-canvas {
  position: absolute;
  left: 0;
  top: 0;
}

.l7-map:full-screen {
  width: 100%;
  height: 100%;
}

.l7-canary {
  background-color: salmon;
}

.l7-canvas-container.l7-interactive,
.l7-ctrl-group button.l7-ctrl-compass {
  cursor: grab;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}

.l7-canvas-container.l7-interactive.l7-track-pointer {
  cursor: pointer;
}

.l7-canvas-container.l7-interactive:active,
.l7-ctrl-group button.l7-ctrl-compass:active {
  cursor: grabbing;
}

.l7-canvas-container.l7-touch-zoom-rotate,
.l7-canvas-container.l7-touch-zoom-rotate .l7-canvas {
  touch-action: pan-x pan-y;
}

.l7-canvas-container.l7-touch-drag-pan,
.l7-canvas-container.l7-touch-drag-pan .l7-canvas {
  touch-action: pinch-zoom;
}

.l7-canvas-container.l7-touch-zoom-rotate.l7-touch-drag-pan,
.l7-canvas-container.l7-touch-zoom-rotate.l7-touch-drag-pan .l7-canvas {
  touch-action: none;
}

.l7-canvas-container.l7-touch-drag-pan.l7-cooperative-gestures,
.l7-canvas-container.l7-touch-drag-pan.l7-cooperative-gestures .l7-canvas {
  touch-action: pan-x pan-y;
}

.l7-cooperative-gesture-screen {
  background: rgba(0 0 0 / 40%);
  position: absolute;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
  padding: 1rem;
  font-size: 1.4em;
  line-height: 1.2;
  opacity: 0;
  pointer-events: none;
  transition: opacity 1s ease 1s;
  z-index: 99999;
}

.l7-cooperative-gesture-screen.l7-show {
  opacity: 1;
  transition: opacity 0.05s;
}

.l7-cooperative-gesture-screen .l7-mobile-message {
  display: none;
}

@media (hover: none), (width <= 480px) {
  .l7-cooperative-gesture-screen .l7-desktop-message {
    display: none;
  }

  .l7-cooperative-gesture-screen .l7-mobile-message {
    display: block;
  }
}

.l7-ctrl-top-left,
.l7-ctrl-top-right,
.l7-ctrl-bottom-left,
.l7-ctrl-bottom-right {
  position: absolute;
  pointer-events: none;
  z-index: 2;
}

.l7-ctrl-top-left {
  top: 0;
  left: 0;
}

.l7-ctrl-top-right {
  top: 0;
  right: 0;
}

.l7-ctrl-bottom-left {
  bottom: 0;
  left: 0;
}

.l7-ctrl-bottom-right {
  right: 0;
  bottom: 0;
}

.l7-ctrl {
  clear: both;
  pointer-events: auto;

  /* workaround for a Safari bug https://github.com/mapbox/mapbox-gl-js/issues/8185 */
  -webkit-transform: translate(0, 0);
          transform: translate(0, 0);
}

.l7-ctrl-top-left .l7-ctrl {
  margin: 10px 0 0 10px;
  float: left;
}

.l7-ctrl-top-right .l7-ctrl {
  margin: 10px 10px 0 0;
  float: right;
}

.l7-ctrl-bottom-left .l7-ctrl {
  margin: 0 0 10px 10px;
  float: left;
}

.l7-ctrl-bottom-right .l7-ctrl {
  margin: 0 10px 10px 0;
  float: right;
}

.l7-crosshair,
.l7-crosshair .l7-interactive,
.l7-crosshair .l7-interactive:active {
  cursor: crosshair;
}

.l7-boxzoom {
  position: absolute;
  top: 0;
  left: 0;
  width: 0;
  height: 0;
  background: #fff;
  border: 2px dotted #202020;
  opacity: 0.5;
  z-index: 10;
}
`);function sE(e,t){if(!(e instanceof t))throw TypeError(`Cannot call a class as a function`)}function cE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,`value`in r&&(r.writable=!0),Object.defineProperty(e,M(r.key),r)}}function lE(e,t,n){return t&&cE(e.prototype,t),n&&cE(e,n),Object.defineProperty(e,`prototype`,{writable:!1}),e}function uE(e){if(e===void 0)throw ReferenceError(`this hasn't been initialised - super() hasn't been called`);return e}function dE(e,t){if(t&&(D(t)==`object`||typeof t==`function`))return t;if(t!==void 0)throw TypeError(`Derived constructors may only return object or undefined`);return uE(e)}function fE(e){return fE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fE(e)}function pE(e,t){return pE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pE(e,t)}function mE(e,t){if(typeof t!=`function`&&t!==null)throw TypeError(`Super expression must either be null or a function`);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,`prototype`,{writable:!1}),t&&pE(e,t)}function hE(e){if(Array.isArray(e))return e}function gE(e,t){var n=e==null?null:typeof Symbol<`u`&&e[Symbol.iterator]||e[`@@iterator`];if(n!=null){var r,i,a,o,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function _E(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function vE(e,t){if(e){if(typeof e==`string`)return _E(e,t);var n={}.toString.call(e).slice(8,-1);return n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`?Array.from(e):n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_E(e,t):void 0}}function yE(){throw TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bE(e,t){return hE(e)||gE(e,t)||vE(e,t)||yE()}function xE(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function SE(e,t){var n=Cn([],t,e);return Sn(n,n,1/n[3]),n}function CE(e,t){if(!e)throw Error(t||`viewport-mercator-project: assertion failed.`)}var wE=Math.PI,TE=wE/4,EE=wE/180,DE=180/wE,OE=512,kE=4003e4,AE=1.5;function jE(e){return 2**e}function ME(e,t){var n=bE(e,2),r=n[0],i=n[1];CE(Number.isFinite(r)&&Number.isFinite(t)),CE(Number.isFinite(i)&&i>=-90&&i<=90,`invalid latitude`),t*=OE;var a=r*EE,o=i*EE,s=t*(a+wE)/(2*wE),c=t*(wE-Math.log(Math.tan(TE+o*.5)))/(2*wE);return[s,c]}function NE(e,t){var n=bE(e,2),r=n[0],i=n[1];t*=OE;var a=r/t*(2*wE)-wE,o=2*(Math.atan(Math.exp(wE-i/t*(2*wE)))-TE);return[a*DE,o*DE]}function PE(e){var t=e.latitude,n=e.longitude,r=e.zoom,i=e.scale,a=e.highPrecision,o=a===void 0?!1:a;i=i===void 0?jE(r):i,CE(Number.isFinite(t)&&Number.isFinite(n)&&Number.isFinite(i));var s={},c=OE*i,l=Math.cos(t*EE),u=c/360,d=u/l,f=c/kE/l;if(s.pixelsPerMeter=[f,-f,f],s.metersPerPixel=[1/f,-1/f,1/f],s.pixelsPerDegree=[u,-d,f],s.degreesPerPixel=[1/u,-1/d,1/f],o){var p=EE*Math.tan(t*EE)/l,m=u*p/2,h=c/kE*p,g=h/d*f;s.pixelsPerDegree2=[0,-m,h],s.pixelsPerMeter2=[g,0,g]}return s}function FE(e){var t=e.height,n=e.pitch,r=e.bearing,i=e.altitude,a=e.center,o=a===void 0?null:a,s=e.flipY,c=s===void 0?!1:s,l=xE();return fn(l,l,[0,0,-i]),pn(l,l,[1,1,1/t]),mn(l,l,-n*EE),gn(l,l,r*EE),c&&pn(l,l,[1,-1,1]),o&&fn(l,l,Me([],o)),l}function IE(e){var t=e.width,n=e.height,r=e.altitude,i=r===void 0?AE:r,a=e.pitch,o=a===void 0?0:a,s=e.nearZMultiplier,c=s===void 0?1:s,l=e.farZMultiplier,u=l===void 0?1:l,d=o*EE,f=Math.atan(.5/i),p=Math.sin(f)*i/Math.sin(Math.PI/2-d-f),m=Math.cos(Math.PI/2-d)*p+i;return{fov:2*Math.atan(n/2/i),aspect:t/n,focalDistance:i,near:c,far:m*u}}function LE(e){var t=e.width,n=e.height,r=e.pitch,i=e.altitude,a=e.nearZMultiplier,o=e.farZMultiplier,s=IE({width:t,height:n,altitude:i,pitch:r,nearZMultiplier:a,farZMultiplier:o}),c=s.fov,l=s.aspect,u=s.near,d=s.far;return vn([],c,l,u,d)}function RE(e,t){var n=bE(e,3),r=n[0],i=n[1],a=n[2],o=a===void 0?0:a;return CE(Number.isFinite(r)&&Number.isFinite(i)&&Number.isFinite(o)),SE(t,[r,i,o,1])}function zE(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=bE(e,3),i=r[0],a=r[1],o=r[2];if(CE(Number.isFinite(i)&&Number.isFinite(a),`invalid pixel coordinate`),Number.isFinite(o))return SE(t,[i,a,o,1]);var s=SE(t,[i,a,0,1]),c=SE(t,[i,a,1,1]),l=s[2],u=c[2],d=l===u?0:((n||0)-l)/(u-l);return Ae([],s,c,d)}var BE=xE(),VE=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width,r=t.height,i=t.viewMatrix,a=i===void 0?BE:i,o=t.projectionMatrix,s=o===void 0?BE:o;sE(this,e),this.width=n||1,this.height=r||1,this.scale=1,this.pixelsPerMeter=1,this.viewMatrix=a,this.projectionMatrix=s;var c=xE();dn(c,c,this.projectionMatrix),dn(c,c,this.viewMatrix),this.viewProjectionMatrix=c;var l=xE();pn(l,l,[this.width/2,-this.height/2,1]),fn(l,l,[1,-1,0]),dn(l,l,this.viewProjectionMatrix);var u=un(xE(),l);if(!u)throw Error(`Pixel project matrix not invertible`);this.pixelProjectionMatrix=l,this.pixelUnprojectionMatrix=u,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return lE(e,[{key:`equals`,value:function(t){return t instanceof e?t.width===this.width&&t.height===this.height&&yn(t.projectionMatrix,this.projectionMatrix)&&yn(t.viewMatrix,this.viewMatrix):!1}},{key:`project`,value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.topLeft,r=n===void 0?!0:n,i=this.projectPosition(e),a=RE(i,this.pixelProjectionMatrix),o=bE(a,2),s=o[0],c=o[1],l=r?c:this.height-c;return e.length===2?[s,l]:[s,l,a[2]]}},{key:`unproject`,value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.topLeft,r=n===void 0?!0:n,i=t.targetZ,a=bE(e,3),o=a[0],s=a[1],c=a[2],l=r?s:this.height-s,u=i&&i*this.pixelsPerMeter,d=zE([o,l,c],this.pixelUnprojectionMatrix,u),f=this.unprojectPosition(d),p=bE(f,3),m=p[0],h=p[1],g=p[2];return Number.isFinite(c)?[m,h,g]:Number.isFinite(i)?[m,h,i]:[m,h]}},{key:`projectPosition`,value:function(e){var t=this.projectFlat(e),n=bE(t,2),r=n[0],i=n[1],a=(e[2]||0)*this.pixelsPerMeter;return[r,i,a]}},{key:`unprojectPosition`,value:function(e){var t=this.unprojectFlat(e),n=bE(t,2),r=n[0],i=n[1],a=(e[2]||0)/this.pixelsPerMeter;return[r,i,a]}},{key:`projectFlat`,value:function(e){return arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale,e}},{key:`unprojectFlat`,value:function(e){return arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale,e}}]),e}();function HE(e){var t=e.width,n=e.height,r=e.bounds,i=e.minExtent,a=i===void 0?0:i,o=e.maxZoom,s=o===void 0?24:o,c=e.padding,l=c===void 0?0:c,u=e.offset,d=u===void 0?[0,0]:u,f=bE(r,2),p=bE(f[0],2),m=p[0],h=p[1],g=bE(f[1],2),_=g[0],v=g[1];if(Number.isFinite(l)){var y=l;l={top:y,bottom:y,left:y,right:y}}else CE(Number.isFinite(l.top)&&Number.isFinite(l.bottom)&&Number.isFinite(l.left)&&Number.isFinite(l.right));var b=new UE({width:t,height:n,longitude:0,latitude:0,zoom:0}),x=b.project([m,v]),S=b.project([_,h]),C=[Math.max(Math.abs(S[0]-x[0]),a),Math.max(Math.abs(S[1]-x[1]),a)],w=[t-l.left-l.right-Math.abs(d[0])*2,n-l.top-l.bottom-Math.abs(d[1])*2];CE(w[0]>0&&w[1]>0);var T=w[0]/C[0],E=w[1]/C[1],D=(l.right-l.left)/2/T,O=(l.bottom-l.top)/2/E,k=[(S[0]+x[0])/2+D,(S[1]+x[1])/2+O],A=b.unproject(k),j=b.zoom+Math.log2(Math.abs(Math.min(T,E)));return{longitude:A[0],latitude:A[1],zoom:Math.min(j,s)}}var UE=function(e){mE(t,e);function t(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.width,i=n.height,a=n.latitude,o=a===void 0?0:a,s=n.longitude,c=s===void 0?0:s,l=n.zoom,u=l===void 0?0:l,d=n.pitch,f=d===void 0?0:d,p=n.bearing,m=p===void 0?0:p,h=n.altitude,g=h===void 0?1.5:h,_=n.nearZMultiplier,v=n.farZMultiplier;sE(this,t),r||=1,i||=1;var y=jE(u);g=Math.max(.75,g);var b=ME([c,o],y);b[2]=0;var x=LE({width:r,height:i,pitch:f,bearing:m,altitude:g,nearZMultiplier:_||1/i,farZMultiplier:v||1.01}),S=FE({height:i,center:b,pitch:f,bearing:m,altitude:g,flipY:!0});return e=dE(this,fE(t).call(this,{width:r,height:i,viewMatrix:S,projectionMatrix:x})),e.latitude=o,e.longitude=c,e.zoom=u,e.pitch=f,e.bearing=m,e.altitude=g,e.scale=y,e.center=b,e.pixelsPerMeter=PE(uE(uE(e))).pixelsPerMeter[2],Object.freeze(uE(uE(e))),e}return lE(t,[{key:`projectFlat`,value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;return ME(e,t)}},{key:`unprojectFlat`,value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;return NE(e,t)}},{key:`getMapCenterByLngLatPosition`,value:function(e){var t=e.lngLat,n=e.pos,r=zE(n,this.pixelUnprojectionMatrix),i=ME(t,this.scale),a=ke([],i,De([],r)),o=ke([],this.center,a);return NE(o,this.scale)}},{key:`getLocationAtPoint`,value:function(e){var t=e.lngLat,n=e.pos;return this.getMapCenterByLngLatPosition({lngLat:t,pos:n})}},{key:`fitBounds`,value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.width,i=this.height,a=HE(Object.assign({width:r,height:i,bounds:e},n)),o=a.longitude,s=a.latitude,c=a.zoom;return new t({width:r,height:i,longitude:o,latitude:s,zoom:c})}}]),t}(VE),WE=class{constructor(){I(this,`viewport`,new UE)}syncWithMapCamera(e){let{center:t,zoom:n,pitch:r,bearing:i,viewportHeight:a,viewportWidth:o}=e,s={width:this.viewport.width,height:this.viewport.height,longitude:this.viewport.center[0],latitude:this.viewport.center[1],zoom:this.viewport.zoom,pitch:this.viewport.pitch,bearing:this.viewport.bearing};this.viewport=new UE(P(P({},s),{},{width:o,height:a,longitude:t&&t[0],latitude:t&&t[1],zoom:n,pitch:r,bearing:i}))}getZoom(){return this.viewport.zoom}getZoomScale(){return 2**this.getZoom()}getCenter(){return[this.viewport.longitude,this.viewport.latitude]}getProjectionMatrix(){return this.viewport.projectionMatrix}getModelMatrix(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}getViewMatrix(){return this.viewport.viewMatrix}getViewMatrixUncentered(){return this.viewport.viewMatrixUncentered}getViewProjectionMatrix(){return this.viewport.viewProjectionMatrix}getViewProjectionMatrixUncentered(){return this.viewport.viewProjectionMatrix}getFocalDistance(){return 1}projectFlat(e,t){return this.viewport.projectFlat(e,t)}};const GE={light:`mapbox://styles/zcxduo/ck2ypyb1r3q9o1co1766dex29`,dark:`mapbox://styles/zcxduo/ck241p6413s0b1cpayzldv7x7`,normal:`mapbox://styles/mapbox/streets-v11`,blank:{version:8,sources:{},layers:[{id:`background`,type:`background`,layout:{visibility:`none`}}]}};var KE=e(la()),qE={mapmove:`move`,camerachange:`move`,zoomchange:`zoom`,dragging:`drag`},JE=12,YE=class{constructor(e){I(this,`version`,`DEFAUlTMAP`),I(this,`map`,void 0),I(this,`simpleMapCoord`,new iE),I(this,`bgColor`,`rgba(0.0, 0.0, 0.0, 0.0)`),I(this,`config`,void 0),I(this,`configService`,void 0),I(this,`coordinateSystemService`,void 0),I(this,`eventEmitter`,void 0),I(this,`markerContainer`,void 0),I(this,`cameraChangedCallback`,void 0),I(this,`$mapContainer`,void 0),I(this,`handleCameraChanged`,e=>{let{lat:t,lng:n}=this.map.getCenter();this.emit(`mapchange`),this.viewport.syncWithMapCamera({bearing:this.map.getBearing(),center:[n,t],viewportHeight:this.map.transform.height,pitch:this.map.getPitch(),viewportWidth:this.map.transform.width,zoom:this.map.getZoom(),cameraHeight:0}),this.updateCoordinateSystemService(),this.cameraChangedCallback(this.viewport)}),this.config=e.mapConfig,this.configService=e.globalConfigService,this.coordinateSystemService=e.coordinateSystemService,this.eventEmitter=new KE.EventEmitter}setBgColor(e){this.bgColor=e}addMarkerContainer(){let e=this.map.getCanvasContainer();this.markerContainer=_i(`div`,`l7-marker-container`,e),this.markerContainer.setAttribute(`tabindex`,`-1`)}getMarkerContainer(){return this.markerContainer}getOverlayContainer(){}getCanvasOverlays(){}on(e,t){yl.indexOf(e)===-1?this.map.on(qE[e]||e,t):this.eventEmitter.on(e,t)}off(e,t){this.map.off(qE[e]||e,t),this.eventEmitter.off(e,t)}getContainer(){return this.map.getContainer()}getMapCanvasContainer(){return this.map.getCanvasContainer()}getSize(){if(this.version===`SIMPLE`)return this.simpleMapCoord.getSize();let e=this.map.transform;return[e.width,e.height]}getType(){return`default`}getZoom(){return this.map.getZoom()}setZoom(e){return this.map.setZoom(e)}getCenter(){return this.map.getCenter()}setCenter(e){this.map.setCenter(e)}getPitch(){return this.map.getPitch()}getRotation(){return this.map.getBearing()}getBounds(){return this.map.getBounds().toArray()}getMinZoom(){return this.map.getMinZoom()}getMaxZoom(){return this.map.getMaxZoom()}setRotation(e){this.map.setBearing(e)}zoomIn(e,t){this.map.zoomIn(e,t)}zoomOut(e,t){this.map.zoomOut(e,t)}setPitch(e){return this.map.setPitch(e)}panTo(e){this.map.panTo(e)}panBy(e=0,t=0){this.map.panBy([e,t])}fitBounds(e,t){this.map.fitBounds(e,t)}setMaxZoom(e){this.map.setMaxZoom(e)}setMinZoom(e){this.map.setMinZoom(e)}setMapStatus(e){e.doubleClickZoom===!0&&this.map.doubleClickZoom.enable(),e.doubleClickZoom===!1&&this.map.doubleClickZoom.disable(),e.dragEnable===!1&&this.map.dragPan.disable(),e.dragEnable===!0&&this.map.dragPan.enable(),e.rotateEnable===!1&&this.map.dragRotate.disable(),e.dragEnable===!0&&this.map.dragRotate.enable(),e.keyboardEnable===!1&&this.map.keyboard.disable(),e.keyboardEnable===!0&&this.map.keyboard.enable(),e.zoomEnable===!1&&this.map.scrollZoom.disable(),e.zoomEnable===!0&&this.map.scrollZoom.enable()}setZoomAndCenter(e,t){this.map.flyTo({zoom:e,center:t})}setMapStyle(e){var t;(t=this.map)==null||t.setStyle(this.getMapStyleValue(e))}meterToCoord(e,t){return 1}pixelToLngLat(e){return this.map.unproject(e)}lngLatToPixel(e){return this.map.project(e)}containerToLngLat(e){return this.map.unproject(e)}lngLatToContainer(e){return this.map.project(e)}getMapStyle(){try{let e=this.map.getStyle().sprite??``;return/^mapbox:\/\/sprites\/zcxduo\/\w+\/\w+$/.test(e)?e?.replace(/\/\w+$/,``).replace(/sprites/,`styles`):e}catch{return``}}getMapStyleConfig(){return GE}getMapStyleValue(e){return this.getMapStyleConfig()[e]??e}destroy(){this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}emit(e,...t){this.eventEmitter.emit(e,...t)}once(e,...t){this.eventEmitter.once(e,...t)}getMapContainer(){return this.$mapContainer}exportMap(e){let t=this.map?.getCanvas();return e===`jpg`?t?.toDataURL(`image/jpeg`):t?.toDataURL(`image/png`)}onCameraChanged(e){this.cameraChangedCallback=e}creatMapContainer(e){let t=e;return typeof e==`string`&&(t=document.getElementById(e)),t}updateView(e){this.emit(`mapchange`),this.viewport.syncWithMapCamera({bearing:e.bearing,center:e.center,viewportHeight:e.viewportHeight,pitch:e.pitch,viewportWidth:e.viewportWidth,zoom:e.zoom,cameraHeight:0}),this.updateCoordinateSystemService(),this.cameraChangedCallback(this.viewport)}updateCoordinateSystemService(){let{offsetCoordinate:e=!0}=this.config;this.viewport.getZoom()>JE&&e?this.coordinateSystemService.setCoordinateSystem(ll.LNGLAT_OFFSET):this.coordinateSystemService.setCoordinateSystem(ll.LNGLAT)}},XE=e(t(((exports,t)=>{(function(n,r){typeof exports==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):(n||=self,n.mapboxgl=r())})(exports,(function(){var e,t,n;function r(r,i){if(!e)e=i;else if(!t)t=i;else{var a=`var sharedChunk = {}; (`+e+`)(sharedChunk); (`+t+`)(sharedChunk);`,o={};e(o),n=i(o),typeof window<`u`&&(n.workerUrl=window.URL.createObjectURL(new Blob([a],{type:`text/javascript`})))}}return r([`exports`],(function(e){function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n=r;function r(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=r,this.p2x=n,this.p2y=r}r.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},r.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},r.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},r.prototype.solveCurveX=function(e,t){var n,r,i,a,o;for(t===void 0&&(t=1e-6),i=e,o=0;o<8;o++){if(a=this.sampleCurveX(i)-e,Math.abs(a)<t)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=a/s}if((i=e)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(a=this.sampleCurveX(i),Math.abs(a-e)<t)return i;e>a?n=i:r=i,i=.5*(r-n)+n}return i},r.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var i=a;function a(e,t){this.x=e,this.y=t}a.prototype={clone:function(){return new a(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=n*this.x+t*this.y;return this.x=t*this.x-n*this.y,this.y=r,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=t.x+n*(this.x-t.x)-r*(this.y-t.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},a.convert=function(e){return e instanceof a?e:Array.isArray(e)?new a(e[0],e[1]):e};var o=typeof self<`u`?self:{},s=2**53-1;function c(e,t,r,i){var a=new n(e,t,r,i);return function(e){return a.solve(e)}}var l=c(.25,.1,.25,1);function u(e,t,n){return Math.min(n,Math.max(t,e))}function d(e,t,n){var r=n-t,i=((e-t)%r+r)%r+t;return i===t?n:i}function f(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r=0,i=t;r<i.length;r+=1){var a=i[r];for(var o in a)e[o]=a[o]}return e}var p=1;function m(){return p++}function h(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function g(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function _(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}function v(e,t){return e.indexOf(t,e.length-t.length)!==-1}function y(e,t,n){var r={};for(var i in e)r[i]=t.call(n||this,e[i],i,e);return r}function b(e,t,n){var r={};for(var i in e)t.call(n||this,e[i],i,e)&&(r[i]=e[i]);return r}function x(e){return Array.isArray(e)?e.map(x):typeof e==`object`&&e?y(e,x):e}var S={};function C(e){S[e]||(typeof console<`u`&&console.warn(e),S[e]=!0)}function w(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function T(e){for(var t=0,n=0,r=e.length,i=r-1,a=void 0,o=void 0;n<r;i=n++)t+=((o=e[i]).x-(a=e[n]).x)*(a.y+o.y);return t}function E(){return typeof WorkerGlobalScope<`u`&&typeof self<`u`&&self instanceof WorkerGlobalScope}function D(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(e,n,r,i){var a=r||i;return t[n]=!a||a.toLowerCase(),``})),t[`max-age`]){var n=parseInt(t[`max-age`],10);isNaN(n)?delete t[`max-age`]:t[`max-age`]=n}return t}var O=null;function k(e){if(O==null){var t=e.navigator?e.navigator.userAgent:null;O=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match(`Safari`)&&!t.match(`Chrome`)))}return O}function A(e){try{var t=o[e];return t.setItem(`_mapbox_test_`,1),t.removeItem(`_mapbox_test_`),!0}catch{return!1}}var j,M,N,P,F=o.performance&&o.performance.now?o.performance.now.bind(o.performance):Date.now.bind(Date),ee=o.requestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||o.msRequestAnimationFrame,I=o.cancelAnimationFrame||o.mozCancelAnimationFrame||o.webkitCancelAnimationFrame||o.msCancelAnimationFrame,te={now:F,frame:function(e){var t=ee(e);return{cancel:function(){return I(t)}}},getImageData:function(e,t){t===void 0&&(t=0);var n=o.document.createElement(`canvas`),r=n.getContext(`2d`);if(!r)throw Error(`failed to create canvas 2d context`);return n.width=e.width,n.height=e.height,r.drawImage(e,0,0,e.width,e.height),r.getImageData(-t,-t,e.width+2*t,e.height+2*t)},resolveURL:function(e){return j||=o.document.createElement(`a`),j.href=e,j.href},hardwareConcurrency:o.navigator&&o.navigator.hardwareConcurrency||4,get devicePixelRatio(){return o.devicePixelRatio},get prefersReducedMotion(){return!!o.matchMedia&&(M??=o.matchMedia(`(prefers-reduced-motion: reduce)`),M.matches)}},L={API_URL:`https://api.mapbox.com`,get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf(`https://api.mapbox.cn`)===0?`https://events.mapbox.cn/events/v2`:this.API_URL.indexOf(`https://api.mapbox.com`)===0?`https://events.mapbox.com/events/v2`:null:null},FEEDBACK_URL:`https://apps.mapbox.com/feedback`,REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ne={supported:!1,testSupport:function(e){!re&&P&&(ie?R(e):N=e)}},re=!1,ie=!1;function R(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,P),e.isContextLost())return;ne.supported=!0}catch{}e.deleteTexture(t),re=!0}o.document&&((P=o.document.createElement(`img`)).onload=function(){N&&R(N),N=null,ie=!0},P.onerror=function(){re=!0,N=null},P.src=`data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=`);var ae=`01`,oe=function(e,t){this._transformRequestFn=e,this._customAccessToken=t,this._createSkuToken()};function se(e){return e.indexOf(`mapbox:`)===0}oe.prototype._createSkuToken=function(){var e=function(){for(var e=``,t=0;t<10;t++)e+=`0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ`[Math.floor(62*Math.random())];return{token:[`1`,ae,e].join(``),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt},oe.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},oe.prototype.transformRequest=function(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}},oe.prototype.normalizeStyleURL=function(e,t){if(!se(e))return e;var n=de(e);return n.path=`/styles/v1`+n.path,this._makeAPIURL(n,this._customAccessToken||t)},oe.prototype.normalizeGlyphsURL=function(e,t){if(!se(e))return e;var n=de(e);return n.path=`/fonts/v1`+n.path,this._makeAPIURL(n,this._customAccessToken||t)},oe.prototype.normalizeSourceURL=function(e,t){if(!se(e))return e;var n=de(e);return n.path=`/v4/`+n.authority+`.json`,n.params.push(`secure`),this._makeAPIURL(n,this._customAccessToken||t)},oe.prototype.normalizeSpriteURL=function(e,t,n,r){var i=de(e);return se(e)?(i.path=`/styles/v1`+i.path+`/sprite`+t+n,this._makeAPIURL(i,this._customAccessToken||r)):(i.path+=``+t+n,fe(i))},oe.prototype.normalizeTileURL=function(e,t){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!se(e))return e;var n=de(e);n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,(te.devicePixelRatio>=2||t===512?`@2x`:``)+(ne.supported?`.webp`:`$1`)),n.path=n.path.replace(/^.+\/v4\//,`/`),n.path=`/v4`+n.path;var r=this._customAccessToken||function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t].match(/^access_token=(.*)$/);if(r)return r[1]}return null}(n.params)||L.ACCESS_TOKEN;return L.REQUIRE_ACCESS_TOKEN&&r&&this._skuToken&&n.params.push(`sku=`+this._skuToken),this._makeAPIURL(n,r)},oe.prototype.canonicalizeTileURL=function(e,t){var n=de(e);if(!n.path.match(/(^\/v4\/)/)||!n.path.match(/\.[\w]+$/))return e;var r=`mapbox://tiles/`;r+=n.path.replace(`/v4/`,``);var i=n.params;return t&&(i=i.filter((function(e){return!e.match(/^access_token=/)}))),i.length&&(r+=`?`+i.join(`&`)),r},oe.prototype.canonicalizeTileset=function(e,t){for(var n=!!t&&se(t),r=[],i=0,a=e.tiles||[];i<a.length;i+=1){var o=a[i];le(o)?r.push(this.canonicalizeTileURL(o,n)):r.push(o)}return r},oe.prototype._makeAPIURL=function(e,t){var n=`See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes`,r=de(L.API_URL);if(e.protocol=r.protocol,e.authority=r.authority,e.protocol===`http`){var i=e.params.indexOf(`secure`);i>=0&&e.params.splice(i,1)}if(r.path!==`/`&&(e.path=``+r.path+e.path),!L.REQUIRE_ACCESS_TOKEN)return fe(e);if(!(t||=L.ACCESS_TOKEN))throw Error(`An API access token is required to use Mapbox GL. `+n);if(t[0]===`s`)throw Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). `+n);return e.params=e.params.filter((function(e){return e.indexOf(`access_token`)===-1})),e.params.push(`access_token=`+t),fe(e)};var ce=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function le(e){return ce.test(e)}var ue=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function de(e){var t=e.match(ue);if(!t)throw Error(`Unable to parse URL object`);return{protocol:t[1],authority:t[2],path:t[3]||`/`,params:t[4]?t[4].split(`&`):[]}}function fe(e){var t=e.params.length?`?`+e.params.join(`&`):``;return e.protocol+`://`+e.authority+e.path+t}function pe(e){if(!e)return null;var t=e.split(`.`);if(!t||t.length!==3)return null;try{return JSON.parse(decodeURIComponent(o.atob(t[1]).split(``).map((function(e){return`%`+(`00`+e.charCodeAt(0).toString(16)).slice(-2)})).join(``)))}catch{return null}}var me=function(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};me.prototype.getStorageKey=function(e){var t,n=pe(L.ACCESS_TOKEN);return t=n&&n.u?o.btoa(encodeURIComponent(n.u).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number(`0x`+t))}))):L.ACCESS_TOKEN||``,e?`mapbox.eventData.`+e+`:`+t:`mapbox.eventData:`+t},me.prototype.fetchEventData=function(){var e=A(`localStorage`),t=this.getStorageKey(),n=this.getStorageKey(`uuid`);if(e)try{var r=o.localStorage.getItem(t);r&&(this.eventData=JSON.parse(r));var i=o.localStorage.getItem(n);i&&(this.anonId=i)}catch{C(`Unable to read from LocalStorage`)}},me.prototype.saveEventData=function(){var e=A(`localStorage`),t=this.getStorageKey(),n=this.getStorageKey(`uuid`);if(e)try{o.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&o.localStorage.setItem(t,JSON.stringify(this.eventData))}catch{C(`Unable to write to LocalStorage`)}},me.prototype.processRequests=function(e){},me.prototype.postEvent=function(e,t,n,r){var i=this;if(L.EVENTS_URL){var a=de(L.EVENTS_URL);a.params.push(`access_token=`+(r||L.ACCESS_TOKEN||``));var o={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:`mapbox-gl-js`,sdkVersion:`1.13.3`,skuId:ae,userId:this.anonId},s=t?f(o,t):o,c={url:fe(a),headers:{"Content-Type":`text/plain`},body:JSON.stringify([s])};this.pendingRequest=Fe(c,(function(e){i.pendingRequest=null,n(e),i.saveEventData(),i.processRequests(r)}))}},me.prototype.queueRequest=function(e,t){this.queue.push(e),this.processRequests(t)};var he,ge,_e=function(e){function t(){e.call(this,`map.load`),this.success={},this.skuToken=``}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postMapLoadEvent=function(e,t,n,r){this.skuToken=n;var i=!(!r&&!L.ACCESS_TOKEN),a=Array.isArray(e)&&e.some((function(e){return se(e)||le(e)}));L.EVENTS_URL&&i&&a&&this.queueRequest({id:t,timestamp:Date.now()},r)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&this.queue.length!==0){var n=this.queue.shift(),r=n.id,i=n.timestamp;r&&this.success[r]||(this.anonId||this.fetchEventData(),g(this.anonId)||(this.anonId=h()),this.postEvent(i,{skuToken:this.skuToken},(function(e){e||r&&(t.success[r]=!0)}),e))}},t}(me),z=new(function(e){function t(t){e.call(this,`appUserTurnstile`),this._customAccessToken=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postTurnstileEvent=function(e,t){L.EVENTS_URL&&L.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return se(e)||le(e)}))&&this.queueRequest(Date.now(),t)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var n=pe(L.ACCESS_TOKEN),r=n?n.u:L.ACCESS_TOKEN,i=r!==this.eventData.tokenU;g(this.anonId)||(this.anonId=h(),i=!0);var a=this.queue.shift();if(this.eventData.lastSuccess){var o=new Date(this.eventData.lastSuccess),s=new Date(a),c=(a-this.eventData.lastSuccess)/864e5;i=i||c>=1||c<-1||o.getDate()!==s.getDate()}else i=!0;if(!i)return this.processRequests();this.postEvent(a,{"enabled.telemetry":!1},(function(e){e||(t.eventData.lastSuccess=a,t.eventData.tokenU=r)}),e)}},t}(me)),ve=z.postTurnstileEvent.bind(z),ye=new _e,be=ye.postMapLoadEvent.bind(ye),xe=500,Se=50;function Ce(){o.caches&&!he&&(he=o.caches.open(`mapbox-tiles`))}function we(e){var t=e.indexOf(`?`);return t<0?e:e.slice(0,t)}var Te,Ee=1/0;function De(){return Te??=o.OffscreenCanvas&&new o.OffscreenCanvas(1,1).getContext(`2d`)&&typeof o.createImageBitmap==`function`,Te}var Oe={Unknown:`Unknown`,Style:`Style`,Source:`Source`,Tile:`Tile`,Glyphs:`Glyphs`,SpriteImage:`SpriteImage`,SpriteJSON:`SpriteJSON`,Image:`Image`};typeof Object.freeze==`function`&&Object.freeze(Oe);var ke=function(e){function t(t,n,r){n===401&&le(r)&&(t+=`: you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes`),e.call(this,t),this.status=n,this.url=r,this.name=this.constructor.name,this.message=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.toString=function(){return this.name+`: `+this.message+` (`+this.status+`): `+this.url},t}(Error),Ae=E()?function(){return self.worker&&self.worker.referrer}:function(){return(o.location.protocol===`blob:`?o.parent:o).location.href},je,Me,Ne=function(e,t){if(!(/^file:/.test(n=e.url)||/^file:/.test(Ae())&&!/^\w+:/.test(n))){if(o.fetch&&o.Request&&o.AbortController&&o.Request.prototype.hasOwnProperty(`signal`))return function(e,t){var n,r=new o.AbortController,i=new o.Request(e.url,{method:e.method||`GET`,body:e.body,credentials:e.credentials,headers:e.headers,referrer:Ae(),signal:r.signal}),a=!1,s=!1,c=(n=i.url).indexOf(`sku=`)>0&&le(n);e.type===`json`&&i.headers.set(`Accept`,`application/json`);var l=function(n,r,a){if(!s){if(n&&n.message!==`SecurityError`&&C(n),r&&a)return u(r);var l=Date.now();o.fetch(i).then((function(n){if(n.ok){var r=c?n.clone():null;return u(n,r,l)}return t(new ke(n.statusText,n.status,e.url))})).catch((function(e){e.code!==20&&t(Error(e.message))}))}},u=function(n,r,c){(e.type===`arrayBuffer`?n.arrayBuffer():e.type===`json`?n.json():n.text()).then((function(e){s||(r&&c&&function(e,t,n){if(Ce(),he){var r={status:t.status,statusText:t.statusText,headers:new o.Headers};t.headers.forEach((function(e,t){return r.headers.set(t,e)}));var i=D(t.headers.get(`Cache-Control`)||``);i[`no-store`]||(i[`max-age`]&&r.headers.set(`Expires`,new Date(n+1e3*i[`max-age`]).toUTCString()),new Date(r.headers.get(`Expires`)).getTime()-n<42e4||function(e,t){if(ge===void 0)try{new Response(new ReadableStream),ge=!0}catch{ge=!1}ge?t(e.body):e.blob().then(t)}(t,(function(t){var n=new o.Response(t,r);Ce(),he&&he.then((function(t){return t.put(we(e.url),n)})).catch((function(e){return C(e.message)}))})))}}(i,r,c),a=!0,t(null,e,n.headers.get(`Cache-Control`),n.headers.get(`Expires`)))})).catch((function(e){s||t(Error(e.message))}))};return c?function(e,t){if(Ce(),!he)return t(null);var n=we(e.url);he.then((function(e){e.match(n).then((function(r){var i=function(e){if(!e)return!1;var t=new Date(e.headers.get(`Expires`)||0),n=D(e.headers.get(`Cache-Control`)||``);return t>Date.now()&&!n[`no-cache`]}(r);e.delete(n),i&&e.put(n,r.clone()),t(null,r,i)})).catch(t)})).catch(t)}(i,l):l(null,null),{cancel:function(){s=!0,a||r.abort()}}}(e,t);if(E()&&self.worker&&self.worker.actor)return self.worker.actor.send(`getResource`,e,t,void 0,!0)}var n;return function(e,t){var n=new o.XMLHttpRequest;for(var r in n.open(e.method||`GET`,e.url,!0),e.type===`arrayBuffer`&&(n.responseType=`arraybuffer`),e.headers)n.setRequestHeader(r,e.headers[r]);return e.type===`json`&&(n.responseType=`text`,n.setRequestHeader(`Accept`,`application/json`)),n.withCredentials=e.credentials===`include`,n.onerror=function(){t(Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||n.status===0)&&n.response!==null){var r=n.response;if(e.type===`json`)try{r=JSON.parse(n.response)}catch(e){return t(e)}t(null,r,n.getResponseHeader(`Cache-Control`),n.getResponseHeader(`Expires`))}else t(new ke(n.statusText,n.status,e.url))},n.send(e.body),{cancel:function(){return n.abort()}}}(e,t)},Pe=function(e,t){return Ne(f(e,{type:`arrayBuffer`}),t)},Fe=function(e,t){return Ne(f(e,{method:`POST`}),t)},Ie=`data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=`;je=[],Me=0;var Le=function(e,t){if(ne.supported&&(e.headers||={},e.headers.accept=`image/webp,*/*`),Me>=L.MAX_PARALLEL_IMAGE_REQUESTS){var n={requestParameters:e,callback:t,cancelled:!1,cancel:function(){this.cancelled=!0}};return je.push(n),n}Me++;var r=!1,i=function(){if(!r)for(r=!0,Me--;je.length&&Me<L.MAX_PARALLEL_IMAGE_REQUESTS;){var e=je.shift();e.cancelled||(e.cancel=Le(e.requestParameters,e.callback).cancel)}},a=Pe(e,(function(e,n,r,a){i(),e?t(e):n&&(De()?function(e,t){var n=new o.Blob([new Uint8Array(e)],{type:`image/png`});o.createImageBitmap(n).then((function(e){t(null,e)})).catch((function(e){t(Error(`Could not load image because of `+e.message+`. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))}))}(n,t):function(e,t,n,r){var i=new o.Image,a=o.URL;i.onload=function(){t(null,i),a.revokeObjectURL(i.src),i.onload=null,o.requestAnimationFrame((function(){i.src=Ie}))},i.onerror=function(){return t(Error(`Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))};var s=new o.Blob([new Uint8Array(e)],{type:`image/png`});i.cacheControl=n,i.expires=r,i.src=e.byteLength?a.createObjectURL(s):Ie}(n,t,r,a))}));return{cancel:function(){a.cancel(),i()}}};function Re(e,t,n){n[e]&&n[e].indexOf(t)!==-1||(n[e]=n[e]||[],n[e].push(t))}function ze(e,t,n){if(n&&n[e]){var r=n[e].indexOf(t);r!==-1&&n[e].splice(r,1)}}var Be=function(e,t){t===void 0&&(t={}),f(this,t),this.type=e},Ve=function(e){function t(t,n){n===void 0&&(n={}),e.call(this,`error`,f({error:t},n))}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Be),He=function(){};He.prototype.on=function(e,t){return this._listeners=this._listeners||{},Re(e,t,this._listeners),this},He.prototype.off=function(e,t){return ze(e,t,this._listeners),ze(e,t,this._oneTimeListeners),this},He.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},Re(e,t,this._oneTimeListeners),this},He.prototype.fire=function(e,t){typeof e==`string`&&(e=new Be(e,t||{}));var n=e.type;if(this.listens(n)){e.target=this;for(var r=0,i=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];r<i.length;r+=1)i[r].call(this,e);for(var a=0,o=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];a<o.length;a+=1){var s=o[a];ze(n,s,this._oneTimeListeners),s.call(this,e)}var c=this._eventedParent;c&&(f(e,typeof this._eventedParentData==`function`?this._eventedParentData():this._eventedParentData),c.fire(e))}else e instanceof Ve&&console.error(e.error);return this},He.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},He.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this};var B={$version:8,$root:{version:{required:!0,type:`enum`,values:[8]},name:{type:`string`},metadata:{type:`*`},center:{type:`array`,value:`number`},zoom:{type:`number`},bearing:{type:`number`,default:0,period:360,units:`degrees`},pitch:{type:`number`,default:0,units:`degrees`},light:{type:`light`},sources:{required:!0,type:`sources`},sprite:{type:`string`},glyphs:{type:`string`},transition:{type:`transition`},layers:{required:!0,type:`array`,value:`layer`}},sources:{"*":{type:`source`}},source:[`source_vector`,`source_raster`,`source_raster_dem`,`source_geojson`,`source_video`,`source_image`],source_vector:{type:{required:!0,type:`enum`,values:{vector:{}}},url:{type:`string`},tiles:{type:`array`,value:`string`},bounds:{type:`array`,value:`number`,length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:`enum`,values:{xyz:{},tms:{}},default:`xyz`},minzoom:{type:`number`,default:0},maxzoom:{type:`number`,default:22},attribution:{type:`string`},promoteId:{type:`promoteId`},volatile:{type:`boolean`,default:!1},"*":{type:`*`}},source_raster:{type:{required:!0,type:`enum`,values:{raster:{}}},url:{type:`string`},tiles:{type:`array`,value:`string`},bounds:{type:`array`,value:`number`,length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:`number`,default:0},maxzoom:{type:`number`,default:22},tileSize:{type:`number`,default:512,units:`pixels`},scheme:{type:`enum`,values:{xyz:{},tms:{}},default:`xyz`},attribution:{type:`string`},volatile:{type:`boolean`,default:!1},"*":{type:`*`}},source_raster_dem:{type:{required:!0,type:`enum`,values:{"raster-dem":{}}},url:{type:`string`},tiles:{type:`array`,value:`string`},bounds:{type:`array`,value:`number`,length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:`number`,default:0},maxzoom:{type:`number`,default:22},tileSize:{type:`number`,default:512,units:`pixels`},attribution:{type:`string`},encoding:{type:`enum`,values:{terrarium:{},mapbox:{}},default:`mapbox`},volatile:{type:`boolean`,default:!1},"*":{type:`*`}},source_geojson:{type:{required:!0,type:`enum`,values:{geojson:{}}},data:{type:`*`},maxzoom:{type:`number`,default:18},attribution:{type:`string`},buffer:{type:`number`,default:128,maximum:512,minimum:0},filter:{type:`*`},tolerance:{type:`number`,default:.375},cluster:{type:`boolean`,default:!1},clusterRadius:{type:`number`,default:50,minimum:0},clusterMaxZoom:{type:`number`},clusterMinPoints:{type:`number`},clusterProperties:{type:`*`},lineMetrics:{type:`boolean`,default:!1},generateId:{type:`boolean`,default:!1},promoteId:{type:`promoteId`}},source_video:{type:{required:!0,type:`enum`,values:{video:{}}},urls:{required:!0,type:`array`,value:`string`},coordinates:{required:!0,type:`array`,length:4,value:{type:`array`,length:2,value:`number`}}},source_image:{type:{required:!0,type:`enum`,values:{image:{}}},url:{required:!0,type:`string`},coordinates:{required:!0,type:`array`,length:4,value:{type:`array`,length:2,value:`number`}}},layer:{id:{type:`string`,required:!0},type:{type:`enum`,values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:`*`},source:{type:`string`},"source-layer":{type:`string`},minzoom:{type:`number`,minimum:0,maximum:24},maxzoom:{type:`number`,minimum:0,maximum:24},filter:{type:`filter`},layout:{type:`layout`},paint:{type:`paint`}},layout:[`layout_fill`,`layout_line`,`layout_circle`,`layout_heatmap`,`layout_fill-extrusion`,`layout_symbol`,`layout_raster`,`layout_hillshade`,`layout_background`],layout_background:{visibility:{type:`enum`,values:{visible:{},none:{}},default:`visible`,"property-type":`constant`}},layout_fill:{"fill-sort-key":{type:`number`,expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},visibility:{type:`enum`,values:{visible:{},none:{}},default:`visible`,"property-type":`constant`}},layout_circle:{"circle-sort-key":{type:`number`,expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},visibility:{type:`enum`,values:{visible:{},none:{}},default:`visible`,"property-type":`constant`}},layout_heatmap:{visibility:{type:`enum`,values:{visible:{},none:{}},default:`visible`,"property-type":`constant`}},"layout_fill-extrusion":{visibility:{type:`enum`,values:{visible:{},none:{}},default:`visible`,"property-type":`constant`}},layout_line:{"line-cap":{type:`enum`,values:{butt:{},round:{},square:{}},default:`butt`,expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"line-join":{type:`enum`,values:{bevel:{},round:{},miter:{}},default:`miter`,expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"line-miter-limit":{type:`number`,default:2,requires:[{"line-join":`miter`}],expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"line-round-limit":{type:`number`,default:1.05,requires:[{"line-join":`round`}],expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"line-sort-key":{type:`number`,expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},visibility:{type:`enum`,values:{visible:{},none:{}},default:`visible`,"property-type":`constant`}},layout_symbol:{"symbol-placement":{type:`enum`,values:{point:{},line:{},"line-center":{}},default:`point`,expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"symbol-spacing":{type:`number`,default:250,minimum:1,units:`pixels`,requires:[{"symbol-placement":`line`}],expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"symbol-avoid-edges":{type:`boolean`,default:!1,expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"symbol-sort-key":{type:`number`,expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"symbol-z-order":{type:`enum`,values:{auto:{},"viewport-y":{},source:{}},default:`auto`,expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"icon-allow-overlap":{type:`boolean`,default:!1,requires:[`icon-image`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"icon-ignore-placement":{type:`boolean`,default:!1,requires:[`icon-image`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"icon-optional":{type:`boolean`,default:!1,requires:[`icon-image`,`text-field`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"icon-rotation-alignment":{type:`enum`,values:{map:{},viewport:{},auto:{}},default:`auto`,requires:[`icon-image`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"icon-size":{type:`number`,default:1,minimum:0,units:`factor of the original icon size`,requires:[`icon-image`],expression:{interpolated:!0,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"icon-text-fit":{type:`enum`,values:{none:{},width:{},height:{},both:{}},default:`none`,requires:[`icon-image`,`text-field`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"icon-text-fit-padding":{type:`array`,value:`number`,length:4,default:[0,0,0,0],units:`pixels`,requires:[`icon-image`,`text-field`,{"icon-text-fit":[`both`,`width`,`height`]}],expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"icon-image":{type:`resolvedImage`,tokens:!0,expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"icon-rotate":{type:`number`,default:0,period:360,units:`degrees`,requires:[`icon-image`],expression:{interpolated:!0,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"icon-padding":{type:`number`,default:2,minimum:0,units:`pixels`,requires:[`icon-image`],expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"icon-keep-upright":{type:`boolean`,default:!1,requires:[`icon-image`,{"icon-rotation-alignment":`map`},{"symbol-placement":[`line`,`line-center`]}],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"icon-offset":{type:`array`,value:`number`,length:2,default:[0,0],requires:[`icon-image`],expression:{interpolated:!0,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"icon-anchor":{type:`enum`,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:`center`,requires:[`icon-image`],expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"icon-pitch-alignment":{type:`enum`,values:{map:{},viewport:{},auto:{}},default:`auto`,requires:[`icon-image`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"text-pitch-alignment":{type:`enum`,values:{map:{},viewport:{},auto:{}},default:`auto`,requires:[`text-field`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"text-rotation-alignment":{type:`enum`,values:{map:{},viewport:{},auto:{}},default:`auto`,requires:[`text-field`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"text-field":{type:`formatted`,default:``,tokens:!0,expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"text-font":{type:`array`,value:`string`,default:[`Open Sans Regular`,`Arial Unicode MS Regular`],requires:[`text-field`],expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"text-size":{type:`number`,default:16,minimum:0,units:`pixels`,requires:[`text-field`],expression:{interpolated:!0,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"text-max-width":{type:`number`,default:10,minimum:0,units:`ems`,requires:[`text-field`],expression:{interpolated:!0,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"text-line-height":{type:`number`,default:1.2,units:`ems`,requires:[`text-field`],expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"text-letter-spacing":{type:`number`,default:0,units:`ems`,requires:[`text-field`],expression:{interpolated:!0,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"text-justify":{type:`enum`,values:{auto:{},left:{},center:{},right:{}},default:`center`,requires:[`text-field`],expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"text-radial-offset":{type:`number`,units:`ems`,default:0,requires:[`text-field`],"property-type":`data-driven`,expression:{interpolated:!0,parameters:[`zoom`,`feature`]}},"text-variable-anchor":{type:`array`,value:`enum`,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:[`text-field`,{"symbol-placement":[`point`]}],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"text-anchor":{type:`enum`,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:`center`,requires:[`text-field`,{"!":`text-variable-anchor`}],expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"text-max-angle":{type:`number`,default:45,units:`degrees`,requires:[`text-field`,{"symbol-placement":[`line`,`line-center`]}],expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"text-writing-mode":{type:`array`,value:`enum`,values:{horizontal:{},vertical:{}},requires:[`text-field`,{"symbol-placement":[`point`]}],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"text-rotate":{type:`number`,default:0,period:360,units:`degrees`,requires:[`text-field`],expression:{interpolated:!0,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"text-padding":{type:`number`,default:2,minimum:0,units:`pixels`,requires:[`text-field`],expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"text-keep-upright":{type:`boolean`,default:!0,requires:[`text-field`,{"text-rotation-alignment":`map`},{"symbol-placement":[`line`,`line-center`]}],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"text-transform":{type:`enum`,values:{none:{},uppercase:{},lowercase:{}},default:`none`,requires:[`text-field`],expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"text-offset":{type:`array`,value:`number`,units:`ems`,length:2,default:[0,0],requires:[`text-field`,{"!":`text-radial-offset`}],expression:{interpolated:!0,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"text-allow-overlap":{type:`boolean`,default:!1,requires:[`text-field`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"text-ignore-placement":{type:`boolean`,default:!1,requires:[`text-field`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"text-optional":{type:`boolean`,default:!1,requires:[`text-field`,`icon-image`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},visibility:{type:`enum`,values:{visible:{},none:{}},default:`visible`,"property-type":`constant`}},layout_raster:{visibility:{type:`enum`,values:{visible:{},none:{}},default:`visible`,"property-type":`constant`}},layout_hillshade:{visibility:{type:`enum`,values:{visible:{},none:{}},default:`visible`,"property-type":`constant`}},filter:{type:`array`,value:`*`},filter_operator:{type:`enum`,values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:`enum`,values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:`expression`},stops:{type:`array`,value:`function_stop`},base:{type:`number`,default:1,minimum:0},property:{type:`string`,default:`$zoom`},type:{type:`enum`,values:{identity:{},exponential:{},interval:{},categorical:{}},default:`exponential`},colorSpace:{type:`enum`,values:{rgb:{},lab:{},hcl:{}},default:`rgb`},default:{type:`*`,required:!1}},function_stop:{type:`array`,minimum:0,maximum:24,value:[`number`,`color`],length:2},expression:{type:`array`,value:`*`,minimum:1},light:{anchor:{type:`enum`,default:`viewport`,values:{map:{},viewport:{}},"property-type":`data-constant`,transition:!1,expression:{interpolated:!1,parameters:[`zoom`]}},position:{type:`array`,default:[1.15,210,30],length:3,value:`number`,"property-type":`data-constant`,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]}},color:{type:`color`,"property-type":`data-constant`,default:`#ffffff`,expression:{interpolated:!0,parameters:[`zoom`]},transition:!0},intensity:{type:`number`,"property-type":`data-constant`,default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:[`zoom`]},transition:!0}},paint:[`paint_fill`,`paint_line`,`paint_circle`,`paint_heatmap`,`paint_fill-extrusion`,`paint_symbol`,`paint_raster`,`paint_hillshade`,`paint_background`],paint_fill:{"fill-antialias":{type:`boolean`,default:!0,expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"fill-opacity":{type:`number`,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"fill-color":{type:`color`,default:`#000000`,transition:!0,requires:[{"!":`fill-pattern`}],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"fill-outline-color":{type:`color`,transition:!0,requires:[{"!":`fill-pattern`},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"fill-translate":{type:`array`,value:`number`,length:2,default:[0,0],transition:!0,units:`pixels`,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"fill-translate-anchor":{type:`enum`,values:{map:{},viewport:{}},default:`map`,requires:[`fill-translate`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"fill-pattern":{type:`resolvedImage`,transition:!0,expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`cross-faded-data-driven`}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:`number`,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"fill-extrusion-color":{type:`color`,default:`#000000`,transition:!0,requires:[{"!":`fill-extrusion-pattern`}],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"fill-extrusion-translate":{type:`array`,value:`number`,length:2,default:[0,0],transition:!0,units:`pixels`,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"fill-extrusion-translate-anchor":{type:`enum`,values:{map:{},viewport:{}},default:`map`,requires:[`fill-extrusion-translate`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"fill-extrusion-pattern":{type:`resolvedImage`,transition:!0,expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`cross-faded-data-driven`},"fill-extrusion-height":{type:`number`,default:0,minimum:0,units:`meters`,transition:!0,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"fill-extrusion-base":{type:`number`,default:0,minimum:0,units:`meters`,transition:!0,requires:[`fill-extrusion-height`],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"fill-extrusion-vertical-gradient":{type:`boolean`,default:!0,transition:!1,expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`}},paint_line:{"line-opacity":{type:`number`,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"line-color":{type:`color`,default:`#000000`,transition:!0,requires:[{"!":`line-pattern`}],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"line-translate":{type:`array`,value:`number`,length:2,default:[0,0],transition:!0,units:`pixels`,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"line-translate-anchor":{type:`enum`,values:{map:{},viewport:{}},default:`map`,requires:[`line-translate`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"line-width":{type:`number`,default:1,minimum:0,transition:!0,units:`pixels`,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"line-gap-width":{type:`number`,default:0,minimum:0,transition:!0,units:`pixels`,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"line-offset":{type:`number`,default:0,transition:!0,units:`pixels`,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"line-blur":{type:`number`,default:0,minimum:0,transition:!0,units:`pixels`,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"line-dasharray":{type:`array`,value:`number`,minimum:0,transition:!0,units:`line widths`,requires:[{"!":`line-pattern`}],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`cross-faded`},"line-pattern":{type:`resolvedImage`,transition:!0,expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`cross-faded-data-driven`},"line-gradient":{type:`color`,transition:!1,requires:[{"!":`line-dasharray`},{"!":`line-pattern`},{source:`geojson`,has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:[`line-progress`]},"property-type":`color-ramp`}},paint_circle:{"circle-radius":{type:`number`,default:5,minimum:0,transition:!0,units:`pixels`,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"circle-color":{type:`color`,default:`#000000`,transition:!0,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"circle-blur":{type:`number`,default:0,transition:!0,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"circle-opacity":{type:`number`,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"circle-translate":{type:`array`,value:`number`,length:2,default:[0,0],transition:!0,units:`pixels`,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"circle-translate-anchor":{type:`enum`,values:{map:{},viewport:{}},default:`map`,requires:[`circle-translate`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"circle-pitch-scale":{type:`enum`,values:{map:{},viewport:{}},default:`map`,expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"circle-pitch-alignment":{type:`enum`,values:{map:{},viewport:{}},default:`viewport`,expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"circle-stroke-width":{type:`number`,default:0,minimum:0,transition:!0,units:`pixels`,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"circle-stroke-color":{type:`color`,default:`#000000`,transition:!0,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"circle-stroke-opacity":{type:`number`,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`}},paint_heatmap:{"heatmap-radius":{type:`number`,default:30,minimum:1,transition:!0,units:`pixels`,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"heatmap-weight":{type:`number`,default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"heatmap-intensity":{type:`number`,default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"heatmap-color":{type:`color`,default:[`interpolate`,[`linear`],[`heatmap-density`],0,`rgba(0, 0, 255, 0)`,.1,`royalblue`,.3,`cyan`,.5,`lime`,.7,`yellow`,1,`red`],transition:!1,expression:{interpolated:!0,parameters:[`heatmap-density`]},"property-type":`color-ramp`},"heatmap-opacity":{type:`number`,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`}},paint_symbol:{"icon-opacity":{type:`number`,default:1,minimum:0,maximum:1,transition:!0,requires:[`icon-image`],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"icon-color":{type:`color`,default:`#000000`,transition:!0,requires:[`icon-image`],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"icon-halo-color":{type:`color`,default:`rgba(0, 0, 0, 0)`,transition:!0,requires:[`icon-image`],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"icon-halo-width":{type:`number`,default:0,minimum:0,transition:!0,units:`pixels`,requires:[`icon-image`],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"icon-halo-blur":{type:`number`,default:0,minimum:0,transition:!0,units:`pixels`,requires:[`icon-image`],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"icon-translate":{type:`array`,value:`number`,length:2,default:[0,0],transition:!0,units:`pixels`,requires:[`icon-image`],expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"icon-translate-anchor":{type:`enum`,values:{map:{},viewport:{}},default:`map`,requires:[`icon-image`,`icon-translate`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"text-opacity":{type:`number`,default:1,minimum:0,maximum:1,transition:!0,requires:[`text-field`],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"text-color":{type:`color`,default:`#000000`,transition:!0,overridable:!0,requires:[`text-field`],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"text-halo-color":{type:`color`,default:`rgba(0, 0, 0, 0)`,transition:!0,requires:[`text-field`],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"text-halo-width":{type:`number`,default:0,minimum:0,transition:!0,units:`pixels`,requires:[`text-field`],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"text-halo-blur":{type:`number`,default:0,minimum:0,transition:!0,units:`pixels`,requires:[`text-field`],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"text-translate":{type:`array`,value:`number`,length:2,default:[0,0],transition:!0,units:`pixels`,requires:[`text-field`],expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"text-translate-anchor":{type:`enum`,values:{map:{},viewport:{}},default:`map`,requires:[`text-field`,`text-translate`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`}},paint_raster:{"raster-opacity":{type:`number`,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"raster-hue-rotate":{type:`number`,default:0,period:360,transition:!0,units:`degrees`,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"raster-brightness-min":{type:`number`,default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"raster-brightness-max":{type:`number`,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"raster-saturation":{type:`number`,default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"raster-contrast":{type:`number`,default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"raster-resampling":{type:`enum`,values:{linear:{},nearest:{}},default:`linear`,expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"raster-fade-duration":{type:`number`,default:300,minimum:0,transition:!1,units:`milliseconds`,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`}},paint_hillshade:{"hillshade-illumination-direction":{type:`number`,default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"hillshade-illumination-anchor":{type:`enum`,values:{map:{},viewport:{}},default:`viewport`,expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"hillshade-exaggeration":{type:`number`,default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"hillshade-shadow-color":{type:`color`,default:`#000000`,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"hillshade-highlight-color":{type:`color`,default:`#FFFFFF`,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"hillshade-accent-color":{type:`color`,default:`#000000`,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`}},paint_background:{"background-color":{type:`color`,default:`#000000`,transition:!0,requires:[{"!":`background-pattern`}],expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"background-pattern":{type:`resolvedImage`,transition:!0,expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`cross-faded`},"background-opacity":{type:`number`,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`}},transition:{duration:{type:`number`,default:300,minimum:0,units:`milliseconds`},delay:{type:`number`,default:0,minimum:0,units:`milliseconds`}},"property-type":{"data-driven":{type:`property-type`},"cross-faded":{type:`property-type`},"cross-faded-data-driven":{type:`property-type`},"color-ramp":{type:`property-type`},"data-constant":{type:`property-type`},constant:{type:`property-type`}},promoteId:{"*":{type:`string`}}},V=function(e,t,n,r){this.message=(e?e+`: `:``)+n,r&&(this.identifier=r),t!=null&&t.__line__&&(this.line=t.__line__)};function Ue(e){var t=e.value;return t?[new V(e.key,t,`constants have been deprecated as of v8`)]:[]}function We(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r=0,i=t;r<i.length;r+=1){var a=i[r];for(var o in a)e[o]=a[o]}return e}function Ge(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Ke(e){if(Array.isArray(e))return e.map(Ke);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var n in e)t[n]=Ke(e[n]);return t}return Ge(e)}var qe=function(e){function t(t,n){e.call(this,n),this.message=n,this.key=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Error),Je=function(e,t){t===void 0&&(t=[]),this.parent=e,this.bindings={};for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.bindings[i[0]]=i[1]}};Je.prototype.concat=function(e){return new Je(this,e)},Je.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw Error(e+` not found in scope.`)},Je.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};var Ye={kind:`null`},H={kind:`number`},Xe={kind:`string`},Ze={kind:`boolean`},Qe={kind:`color`},$e={kind:`object`},et={kind:`value`},tt={kind:`collator`},nt={kind:`formatted`},rt={kind:`resolvedImage`};function it(e,t){return{kind:`array`,itemType:e,N:t}}function at(e){if(e.kind===`array`){var t=at(e.itemType);return typeof e.N==`number`?`array<`+t+`, `+e.N+`>`:e.itemType.kind===`value`?`array`:`array<`+t+`>`}return e.kind}var ot=[Ye,H,Xe,Ze,Qe,nt,$e,it(et),rt];function st(e,t){if(t.kind===`error`)return null;if(e.kind===`array`){if(t.kind===`array`&&(t.N===0&&t.itemType.kind===`value`||!st(e.itemType,t.itemType))&&(typeof e.N!=`number`||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if(e.kind===`value`){for(var n=0,r=ot;n<r.length;n+=1)if(!st(r[n],t))return null}}return`Expected `+at(e)+` but found `+at(t)+` instead.`}function ct(e,t){return t.some((function(t){return t.kind===e.kind}))}function lt(e,t){return t.some((function(t){return t===`null`?e===null:t===`array`?Array.isArray(e):t===`object`?e&&!Array.isArray(e)&&typeof e==`object`:t===typeof e}))}var ut=t((function(e,t){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(e){return(e=Math.round(e))<0?0:e>255?255:e}function i(e){return r(e[e.length-1]===`%`?parseFloat(e)/100*255:parseInt(e))}function a(e){return(t=e[e.length-1]===`%`?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function o(e,t,n){return n<0?n+=1:n>1&&--n,6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{t.parseCSSColor=function(e){var t,s=e.replace(/ /g,``).toLowerCase();if(s in n)return n[s].slice();if(s[0]===`#`)return s.length===4?(t=parseInt(s.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:s.length===7&&(t=parseInt(s.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var c=s.indexOf(`(`),l=s.indexOf(`)`);if(c!==-1&&l+1===s.length){var u=s.substr(0,c),d=s.substr(c+1,l-(c+1)).split(`,`),f=1;switch(u){case`rgba`:if(d.length!==4)return null;f=a(d.pop());case`rgb`:return d.length===3?[i(d[0]),i(d[1]),i(d[2]),f]:null;case`hsla`:if(d.length!==4)return null;f=a(d.pop());case`hsl`:if(d.length!==3)return null;var p=(parseFloat(d[0])%360+360)%360/360,m=a(d[1]),h=a(d[2]),g=h<=.5?h*(m+1):h+m-h*m,_=2*h-g;return[r(255*o(_,g,p+1/3)),r(255*o(_,g,p)),r(255*o(_,g,p-1/3)),f];default:return null}}return null}}catch{}})).parseCSSColor,dt=function(e,t,n,r){r===void 0&&(r=1),this.r=e,this.g=t,this.b=n,this.a=r};dt.parse=function(e){if(e){if(e instanceof dt)return e;if(typeof e==`string`){var t=ut(e);if(t)return new dt(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},dt.prototype.toString=function(){var e=this.toArray(),t=e[1],n=e[2],r=e[3];return`rgba(`+Math.round(e[0])+`,`+Math.round(t)+`,`+Math.round(n)+`,`+r+`)`},dt.prototype.toArray=function(){var e=this.a;return e===0?[0,0,0,0]:[255*this.r/e,255*this.g/e,255*this.b/e,e]},dt.black=new dt(0,0,0,1),dt.white=new dt(1,1,1,1),dt.transparent=new dt(0,0,0,0),dt.red=new dt(1,0,0,1);var ft=function(e,t,n){this.sensitivity=e?t?`variant`:`case`:t?`accent`:`base`,this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:`search`})};ft.prototype.compare=function(e,t){return this.collator.compare(e,t)},ft.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var pt=function(e,t,n,r,i){this.text=e,this.image=t,this.scale=n,this.fontStack=r,this.textColor=i},mt=function(e){this.sections=e};mt.fromString=function(e){return new mt([new pt(e,null,null,null,null)])},mt.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some((function(e){return e.text.length!==0||e.image&&e.image.name.length!==0}))},mt.factory=function(e){return e instanceof mt?e:mt.fromString(e)},mt.prototype.toString=function(){return this.sections.length===0?``:this.sections.map((function(e){return e.text})).join(``)},mt.prototype.serialize=function(){for(var e=[`format`],t=0,n=this.sections;t<n.length;t+=1){var r=n[t];if(r.image)e.push([`image`,r.image.name]);else{e.push(r.text);var i={};r.fontStack&&(i[`text-font`]=[`literal`,r.fontStack.split(`,`)]),r.scale&&(i[`font-scale`]=r.scale),r.textColor&&(i[`text-color`]=[`rgba`].concat(r.textColor.toArray())),e.push(i)}}return e};var ht=function(e){this.name=e.name,this.available=e.available};function gt(e,t,n,r){return typeof e==`number`&&e>=0&&e<=255&&typeof t==`number`&&t>=0&&t<=255&&typeof n==`number`&&n>=0&&n<=255?r===void 0||typeof r==`number`&&r>=0&&r<=1?null:`Invalid rgba value [`+[e,t,n,r].join(`, `)+`]: 'a' must be between 0 and 1.`:`Invalid rgba value [`+(typeof r==`number`?[e,t,n,r]:[e,t,n]).join(`, `)+`]: 'r', 'g', and 'b' must be between 0 and 255.`}function _t(e){if(e===null||typeof e==`string`||typeof e==`boolean`||typeof e==`number`||e instanceof dt||e instanceof ft||e instanceof mt||e instanceof ht)return!0;if(Array.isArray(e)){for(var t=0,n=e;t<n.length;t+=1)if(!_t(n[t]))return!1;return!0}if(typeof e==`object`){for(var r in e)if(!_t(e[r]))return!1;return!0}return!1}function vt(e){if(e===null)return Ye;if(typeof e==`string`)return Xe;if(typeof e==`boolean`)return Ze;if(typeof e==`number`)return H;if(e instanceof dt)return Qe;if(e instanceof ft)return tt;if(e instanceof mt)return nt;if(e instanceof ht)return rt;if(Array.isArray(e)){for(var t,n=e.length,r=0,i=e;r<i.length;r+=1){var a=vt(i[r]);if(t){if(t===a)continue;t=et;break}t=a}return it(t||et,n)}return $e}function yt(e){var t=typeof e;return e===null?``:t===`string`||t===`number`||t===`boolean`?String(e):e instanceof dt||e instanceof mt||e instanceof ht?e.toString():JSON.stringify(e)}ht.prototype.toString=function(){return this.name},ht.fromString=function(e){return e?new ht({name:e,available:!1}):null},ht.prototype.serialize=function(){return[`image`,this.name]};var bt=function(e,t){this.type=e,this.value=t};bt.parse=function(e,t){if(e.length!==2)return t.error(`'literal' expression requires exactly one argument, but found `+(e.length-1)+` instead.`);if(!_t(e[1]))return t.error(`invalid value`);var n=e[1],r=vt(n),i=t.expectedType;return r.kind!==`array`||r.N!==0||!i||i.kind!==`array`||typeof i.N==`number`&&i.N!==0||(r=i),new bt(r,n)},bt.prototype.evaluate=function(){return this.value},bt.prototype.eachChild=function(){},bt.prototype.outputDefined=function(){return!0},bt.prototype.serialize=function(){return this.type.kind===`array`||this.type.kind===`object`?[`literal`,this.value]:this.value instanceof dt?[`rgba`].concat(this.value.toArray()):this.value instanceof mt?this.value.serialize():this.value};var xt=function(e){this.name=`ExpressionEvaluationError`,this.message=e};xt.prototype.toJSON=function(){return this.message};var St={string:Xe,number:H,boolean:Ze,object:$e},Ct=function(e,t){this.type=e,this.args=t};Ct.parse=function(e,t){if(e.length<2)return t.error(`Expected at least one argument.`);var n,r=1,i=e[0];if(i===`array`){var a,o;if(e.length>2){var s=e[1];if(typeof s!=`string`||!(s in St)||s===`object`)return t.error(`The item type argument of "array" must be one of string, number, boolean`,1);a=St[s],r++}else a=et;if(e.length>3){if(e[2]!==null&&(typeof e[2]!=`number`||e[2]<0||e[2]!==Math.floor(e[2])))return t.error(`The length argument to "array" must be a positive integer literal`,2);o=e[2],r++}n=it(a,o)}else n=St[i];for(var c=[];r<e.length;r++){var l=t.parse(e[r],r,et);if(!l)return null;c.push(l)}return new Ct(n,c)},Ct.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var n=this.args[t].evaluate(e);if(!st(this.type,vt(n)))return n;if(t===this.args.length-1)throw new xt(`Expected value to be of type `+at(this.type)+`, but found `+at(vt(n))+` instead.`)}return null},Ct.prototype.eachChild=function(e){this.args.forEach(e)},Ct.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},Ct.prototype.serialize=function(){var e=this.type,t=[e.kind];if(e.kind===`array`){var n=e.itemType;if(n.kind===`string`||n.kind===`number`||n.kind===`boolean`){t.push(n.kind);var r=e.N;(typeof r==`number`||this.args.length>1)&&t.push(r)}}return t.concat(this.args.map((function(e){return e.serialize()})))};var wt=function(e){this.type=nt,this.sections=e};wt.parse=function(e,t){if(e.length<2)return t.error(`Expected at least one argument.`);var n=e[1];if(!Array.isArray(n)&&typeof n==`object`)return t.error(`First argument must be an image or text section.`);for(var r=[],i=!1,a=1;a<=e.length-1;++a){var o=e[a];if(i&&typeof o==`object`&&!Array.isArray(o)){i=!1;var s=null;if(o[`font-scale`]&&!(s=t.parse(o[`font-scale`],1,H)))return null;var c=null;if(o[`text-font`]&&!(c=t.parse(o[`text-font`],1,it(Xe))))return null;var l=null;if(o[`text-color`]&&!(l=t.parse(o[`text-color`],1,Qe)))return null;var u=r[r.length-1];u.scale=s,u.font=c,u.textColor=l}else{var d=t.parse(e[a],1,et);if(!d)return null;var f=d.type.kind;if(f!==`string`&&f!==`value`&&f!==`null`&&f!==`resolvedImage`)return t.error(`Formatted text type must be 'string', 'value', 'image' or 'null'.`);i=!0,r.push({content:d,scale:null,font:null,textColor:null})}}return new wt(r)},wt.prototype.evaluate=function(e){return new mt(this.sections.map((function(t){var n=t.content.evaluate(e);return vt(n)===rt?new pt(``,n,null,null,null):new pt(yt(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(`,`):null,t.textColor?t.textColor.evaluate(e):null)})))},wt.prototype.eachChild=function(e){for(var t=0,n=this.sections;t<n.length;t+=1){var r=n[t];e(r.content),r.scale&&e(r.scale),r.font&&e(r.font),r.textColor&&e(r.textColor)}},wt.prototype.outputDefined=function(){return!1},wt.prototype.serialize=function(){for(var e=[`format`],t=0,n=this.sections;t<n.length;t+=1){var r=n[t];e.push(r.content.serialize());var i={};r.scale&&(i[`font-scale`]=r.scale.serialize()),r.font&&(i[`text-font`]=r.font.serialize()),r.textColor&&(i[`text-color`]=r.textColor.serialize()),e.push(i)}return e};var Tt=function(e){this.type=rt,this.input=e};Tt.parse=function(e,t){if(e.length!==2)return t.error(`Expected two arguments.`);var n=t.parse(e[1],1,Xe);return n?new Tt(n):t.error(`No image name provided.`)},Tt.prototype.evaluate=function(e){var t=this.input.evaluate(e),n=ht.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n},Tt.prototype.eachChild=function(e){e(this.input)},Tt.prototype.outputDefined=function(){return!1},Tt.prototype.serialize=function(){return[`image`,this.input.serialize()]};var Et={"to-boolean":Ze,"to-color":Qe,"to-number":H,"to-string":Xe},Dt=function(e,t){this.type=e,this.args=t};Dt.parse=function(e,t){if(e.length<2)return t.error(`Expected at least one argument.`);var n=e[0];if((n===`to-boolean`||n===`to-string`)&&e.length!==2)return t.error(`Expected one argument.`);for(var r=Et[n],i=[],a=1;a<e.length;a++){var o=t.parse(e[a],a,et);if(!o)return null;i.push(o)}return new Dt(r,i)},Dt.prototype.evaluate=function(e){if(this.type.kind===`boolean`)return!!this.args[0].evaluate(e);if(this.type.kind===`color`){for(var t,n,r=0,i=this.args;r<i.length;r+=1){if(n=null,(t=i[r].evaluate(e))instanceof dt)return t;if(typeof t==`string`){var a=e.parseColor(t);if(a)return a}else if(Array.isArray(t)&&!(n=t.length<3||t.length>4?`Invalid rbga value `+JSON.stringify(t)+`: expected an array containing either three or four numeric values.`:gt(t[0],t[1],t[2],t[3])))return new dt(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new xt(n||`Could not parse color from value '`+(typeof t==`string`?t:String(JSON.stringify(t)))+`'`)}if(this.type.kind===`number`){for(var o=null,s=0,c=this.args;s<c.length;s+=1){if((o=c[s].evaluate(e))===null)return 0;var l=Number(o);if(!isNaN(l))return l}throw new xt(`Could not convert `+JSON.stringify(o)+` to number.`)}return this.type.kind===`formatted`?mt.fromString(yt(this.args[0].evaluate(e))):this.type.kind===`resolvedImage`?ht.fromString(yt(this.args[0].evaluate(e))):yt(this.args[0].evaluate(e))},Dt.prototype.eachChild=function(e){this.args.forEach(e)},Dt.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},Dt.prototype.serialize=function(){if(this.type.kind===`formatted`)return new wt([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind===`resolvedImage`)return new Tt(this.args[0]).serialize();var e=[`to-`+this.type.kind];return this.eachChild((function(t){e.push(t.serialize())})),e};var Ot=[`Unknown`,`Point`,`LineString`,`Polygon`],kt=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};kt.prototype.id=function(){return this.feature&&`id`in this.feature?this.feature.id:null},kt.prototype.geometryType=function(){return this.feature?typeof this.feature.type==`number`?Ot[this.feature.type]:this.feature.type:null},kt.prototype.geometry=function(){return this.feature&&`geometry`in this.feature?this.feature.geometry:null},kt.prototype.canonicalID=function(){return this.canonical},kt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},kt.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||=this._parseColorCache[e]=dt.parse(e),t};var At=function(e,t,n,r){this.name=e,this.type=t,this._evaluate=n,this.args=r};At.prototype.evaluate=function(e){return this._evaluate(e,this.args)},At.prototype.eachChild=function(e){this.args.forEach(e)},At.prototype.outputDefined=function(){return!1},At.prototype.serialize=function(){return[this.name].concat(this.args.map((function(e){return e.serialize()})))},At.parse=function(e,t){var n,r=e[0],i=At.definitions[r];if(!i)return t.error(`Unknown expression "`+r+`". If you wanted a literal array, use ["literal", [...]].`,0);for(var a=Array.isArray(i)?i[0]:i.type,o=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=o.filter((function(t){var n=t[0];return!Array.isArray(n)||n.length===e.length-1})),c=null,l=0,u=s;l<u.length;l+=1){var d=u[l],f=d[0],p=d[1];c=new Qt(t.registry,t.path,null,t.scope);for(var m=[],h=!1,g=1;g<e.length;g++){var _=e[g],v=Array.isArray(f)?f[g-1]:f.type,y=c.parse(_,1+m.length,v);if(!y){h=!0;break}m.push(y)}if(!h)if(Array.isArray(f)&&f.length!==m.length)c.error(`Expected `+f.length+` arguments, but found `+m.length+` instead.`);else{for(var b=0;b<m.length;b++){var x=Array.isArray(f)?f[b]:f.type,S=m[b];c.concat(b+1).checkSubtype(x,S.type)}if(c.errors.length===0)return new At(r,a,p,m)}}if(s.length===1)(n=t.errors).push.apply(n,c.errors);else{for(var C=(s.length?s:o).map((function(e){var t;return t=e[0],Array.isArray(t)?`(`+t.map(at).join(`, `)+`)`:`(`+at(t.type)+`...)`})).join(` | `),w=[],T=1;T<e.length;T++){var E=t.parse(e[T],1+w.length);if(!E)return null;w.push(at(E.type))}t.error(`Expected arguments of type `+C+`, but found (`+w.join(`, `)+`) instead.`)}return null},At.register=function(e,t){for(var n in At.definitions=t,t)e[n]=At};var jt=function(e,t,n){this.type=tt,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t};function Mt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function Nt(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function Pt(e,t){var n=(180+e[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,i=2**t.z;return[Math.round(n*i*8192),Math.round(r*i*8192)]}function Ft(e,t,n){return t[1]>e[1]!=n[1]>e[1]&&e[0]<(n[0]-t[0])*(e[1]-t[1])/(n[1]-t[1])+t[0]}function It(e,t){for(var n,r,i,a,o,s,c,l=!1,u=0,d=t.length;u<d;u++)for(var f=t[u],p=0,m=f.length;p<m-1;p++){if((a=(n=e)[0]-(r=f[p])[0])*(c=n[1]-(i=f[p+1])[1])-(s=n[0]-i[0])*(o=n[1]-r[1])==0&&a*s<=0&&o*c<=0)return!1;Ft(e,f[p],f[p+1])&&(l=!l)}return l}function Lt(e,t){for(var n=0;n<t.length;n++)if(It(e,t[n]))return!0;return!1}function Rt(e,t,n,r){var i=r[0]-n[0],a=r[1]-n[1],o=(e[0]-n[0])*a-i*(e[1]-n[1]),s=(t[0]-n[0])*a-i*(t[1]-n[1]);return o>0&&s<0||o<0&&s>0}function zt(e,t,n){for(var r=0,i=n;r<i.length;r+=1)for(var a=i[r],o=0;o<a.length-1;++o)if((d=[(u=a[o+1])[0]-(l=a[o])[0],u[1]-l[1]])[0]*(f=[(c=t)[0]-(s=e)[0],c[1]-s[1]])[1]-d[1]*f[0]!=0&&Rt(s,c,l,u)&&Rt(l,u,s,c))return!0;var s,c,l,u,d,f;return!1}function Bt(e,t){for(var n=0;n<e.length;++n)if(!It(e[n],t))return!1;for(var r=0;r<e.length-1;++r)if(zt(e[r],e[r+1],t))return!1;return!0}function Vt(e,t){for(var n=0;n<t.length;n++)if(Bt(e,t[n]))return!0;return!1}function Ht(e,t,n){for(var r=[],i=0;i<e.length;i++){for(var a=[],o=0;o<e[i].length;o++){var s=Pt(e[i][o],n);Mt(t,s),a.push(s)}r.push(a)}return r}function Ut(e,t,n){for(var r=[],i=0;i<e.length;i++){var a=Ht(e[i],t,n);r.push(a)}return r}function Wt(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){var i=.5*r,a=e[0]-n[0]>i?-r:n[0]-e[0]>i?r:0;a===0&&(a=e[0]-n[2]>i?-r:n[2]-e[0]>i?r:0),e[0]+=a}Mt(t,e)}function Gt(e,t,n,r){for(var i=8192*2**r.z,a=[8192*r.x,8192*r.y],o=[],s=0,c=e;s<c.length;s+=1)for(var l=0,u=c[s];l<u.length;l+=1){var d=u[l],f=[d.x+a[0],d.y+a[1]];Wt(f,t,n,i),o.push(f)}return o}function Kt(e,t,n,r){for(var i,a=8192*2**r.z,o=[8192*r.x,8192*r.y],s=[],c=0,l=e;c<l.length;c+=1){for(var u=[],d=0,f=l[c];d<f.length;d+=1){var p=f[d],m=[p.x+o[0],p.y+o[1]];Mt(t,m),u.push(m)}s.push(u)}if(t[2]-t[0]<=a/2){(i=t)[0]=i[1]=1/0,i[2]=i[3]=-1/0;for(var h=0,g=s;h<g.length;h+=1)for(var _=0,v=g[h];_<v.length;_+=1)Wt(v[_],t,n,a)}return s}jt.parse=function(e,t){if(e.length!==2)return t.error(`Expected one argument.`);var n=e[1];if(typeof n!=`object`||Array.isArray(n))return t.error(`Collator options argument must be an object.`);var r=t.parse(n[`case-sensitive`]!==void 0&&n[`case-sensitive`],1,Ze);if(!r)return null;var i=t.parse(n[`diacritic-sensitive`]!==void 0&&n[`diacritic-sensitive`],1,Ze);if(!i)return null;var a=null;return n.locale&&!(a=t.parse(n.locale,1,Xe))?null:new jt(r,i,a)},jt.prototype.evaluate=function(e){return new ft(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},jt.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},jt.prototype.outputDefined=function(){return!1},jt.prototype.serialize=function(){var e={};return e[`case-sensitive`]=this.caseSensitive.serialize(),e[`diacritic-sensitive`]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),[`collator`,e]};var qt=function(e,t){this.type=Ze,this.geojson=e,this.geometries=t};function Jt(e){if(e instanceof At&&(e.name===`get`&&e.args.length===1||e.name===`feature-state`||e.name===`has`&&e.args.length===1||e.name===`properties`||e.name===`geometry-type`||e.name===`id`||/^filter-/.test(e.name))||e instanceof qt)return!1;var t=!0;return e.eachChild((function(e){t&&!Jt(e)&&(t=!1)})),t}function Yt(e){if(e instanceof At&&e.name===`feature-state`)return!1;var t=!0;return e.eachChild((function(e){t&&!Yt(e)&&(t=!1)})),t}function Xt(e,t){if(e instanceof At&&t.indexOf(e.name)>=0)return!1;var n=!0;return e.eachChild((function(e){n&&!Xt(e,t)&&(n=!1)})),n}qt.parse=function(e,t){if(e.length!==2)return t.error(`'within' expression requires exactly one argument, but found `+(e.length-1)+` instead.`);if(_t(e[1])){var n=e[1];if(n.type===`FeatureCollection`)for(var r=0;r<n.features.length;++r){var i=n.features[r].geometry.type;if(i===`Polygon`||i===`MultiPolygon`)return new qt(n,n.features[r].geometry)}else if(n.type===`Feature`){var a=n.geometry.type;if(a===`Polygon`||a===`MultiPolygon`)return new qt(n,n.geometry)}else if(n.type===`Polygon`||n.type===`MultiPolygon`)return new qt(n,n)}return t.error(`'within' expression requires valid geojson object that contains polygon geometry type.`)},qt.prototype.evaluate=function(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()===`Point`)return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(t.type===`Polygon`){var a=Ht(t.coordinates,r,i),o=Gt(e.geometry(),n,r,i);if(!Nt(n,r))return!1;for(var s=0,c=o;s<c.length;s+=1)if(!It(c[s],a))return!1}if(t.type===`MultiPolygon`){var l=Ut(t.coordinates,r,i),u=Gt(e.geometry(),n,r,i);if(!Nt(n,r))return!1;for(var d=0,f=u;d<f.length;d+=1)if(!Lt(f[d],l))return!1}return!0}(e,this.geometries);if(e.geometryType()===`LineString`)return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(t.type===`Polygon`){var a=Ht(t.coordinates,r,i),o=Kt(e.geometry(),n,r,i);if(!Nt(n,r))return!1;for(var s=0,c=o;s<c.length;s+=1)if(!Bt(c[s],a))return!1}if(t.type===`MultiPolygon`){var l=Ut(t.coordinates,r,i),u=Kt(e.geometry(),n,r,i);if(!Nt(n,r))return!1;for(var d=0,f=u;d<f.length;d+=1)if(!Vt(f[d],l))return!1}return!0}(e,this.geometries)}return!1},qt.prototype.eachChild=function(){},qt.prototype.outputDefined=function(){return!0},qt.prototype.serialize=function(){return[`within`,this.geojson]};var Zt=function(e,t){this.type=t.type,this.name=e,this.boundExpression=t};Zt.parse=function(e,t){if(e.length!==2||typeof e[1]!=`string`)return t.error(`'var' expression requires exactly one string literal argument.`);var n=e[1];return t.scope.has(n)?new Zt(n,t.scope.get(n)):t.error(`Unknown variable "`+n+`". Make sure "`+n+`" has been bound in an enclosing "let" expression before using it.`,1)},Zt.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},Zt.prototype.eachChild=function(){},Zt.prototype.outputDefined=function(){return!1},Zt.prototype.serialize=function(){return[`var`,this.name]};var Qt=function(e,t,n,r,i){t===void 0&&(t=[]),r===void 0&&(r=new Je),i===void 0&&(i=[]),this.registry=e,this.path=t,this.key=t.map((function(e){return`[`+e+`]`})).join(``),this.scope=r,this.errors=i,this.expectedType=n};function $t(e,t){for(var n,r=e.length-1,i=0,a=r,o=0;i<=a;)if((n=e[o=Math.floor((i+a)/2)])<=t){if(o===r||t<e[o+1])return o;i=o+1}else{if(!(n>t))throw new xt(`Input is not a number.`);a=o-1}return 0}Qt.prototype.parse=function(e,t,n,r,i){return i===void 0&&(i={}),t?this.concat(t,n,r)._parse(e,i):this._parse(e,i)},Qt.prototype._parse=function(e,t){function n(e,t,n){return n===`assert`?new Ct(t,[e]):n===`coerce`?new Dt(t,[e]):e}if(e!==null&&typeof e!=`string`&&typeof e!=`boolean`&&typeof e!=`number`||(e=[`literal`,e]),Array.isArray(e)){if(e.length===0)return this.error(`Expected an array with at least one element. If you wanted a literal array, use ["literal", []].`);var r=e[0];if(typeof r!=`string`)return this.error(`Expression name must be a string, but found `+typeof r+` instead. If you wanted a literal array, use ["literal", [...]].`,0),null;var i=this.registry[r];if(i){var a=i.parse(e,this);if(!a)return null;if(this.expectedType){var o=this.expectedType,s=a.type;if(o.kind!==`string`&&o.kind!==`number`&&o.kind!==`boolean`&&o.kind!==`object`&&o.kind!==`array`||s.kind!==`value`)if(o.kind!==`color`&&o.kind!==`formatted`&&o.kind!==`resolvedImage`||s.kind!==`value`&&s.kind!==`string`){if(this.checkSubtype(o,s))return null}else a=n(a,o,t.typeAnnotation||`coerce`);else a=n(a,o,t.typeAnnotation||`assert`)}if(!(a instanceof bt)&&a.type.kind!==`resolvedImage`&&function e(t){if(t instanceof Zt)return e(t.boundExpression);if(t instanceof At&&t.name===`error`||t instanceof jt||t instanceof qt)return!1;var n=t instanceof Dt||t instanceof Ct,r=!0;return t.eachChild((function(t){r=n?r&&e(t):r&&t instanceof bt})),!!r&&Jt(t)&&Xt(t,[`zoom`,`heatmap-density`,`line-progress`,`accumulated`,`is-supported-script`])}(a)){var c=new kt;try{a=new bt(a.type,a.evaluate(c))}catch(e){return this.error(e.message),null}}return a}return this.error(`Unknown expression "`+r+`". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(e===void 0?`'undefined' value invalid. Use null instead.`:typeof e==`object`?`Bare objects invalid. Use ["literal", {...}] instead.`:`Expected an array, but found `+typeof e+` instead.`)},Qt.prototype.concat=function(e,t,n){var r=typeof e==`number`?this.path.concat(e):this.path,i=n?this.scope.concat(n):this.scope;return new Qt(this.registry,r,t||null,i,this.errors)},Qt.prototype.error=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var r=``+this.key+t.map((function(e){return`[`+e+`]`})).join(``);this.errors.push(new qe(r,e))},Qt.prototype.checkSubtype=function(e,t){var n=st(e,t);return n&&this.error(n),n};var en=function(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var r=0,i=n;r<i.length;r+=1){var a=i[r],o=a[1];this.labels.push(a[0]),this.outputs.push(o)}};function tn(e,t,n){return e*(1-n)+t*n}en.parse=function(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only `+(e.length-1)+`.`);if((e.length-1)%2!=0)return t.error(`Expected an even number of arguments.`);var n=t.parse(e[1],1,H);if(!n)return null;var r=[],i=null;t.expectedType&&t.expectedType.kind!==`value`&&(i=t.expectedType);for(var a=1;a<e.length;a+=2){var o=a===1?-1/0:e[a],s=e[a+1],c=a,l=a+1;if(typeof o!=`number`)return t.error(`Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.`,c);if(r.length&&r[r.length-1][0]>=o)return t.error(`Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.`,c);var u=t.parse(s,l,i);if(!u)return null;i||=u.type,r.push([o,u])}return new en(i,n,r)},en.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(t.length===1)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var i=t.length;return r>=t[i-1]?n[i-1].evaluate(e):n[$t(t,r)].evaluate(e)},en.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1)e(n[t])},en.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},en.prototype.serialize=function(){for(var e=[`step`,this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e};var nn=Object.freeze({__proto__:null,number:tn,color:function(e,t,n){return new dt(tn(e.r,t.r,n),tn(e.g,t.g,n),tn(e.b,t.b,n),tn(e.a,t.a,n))},array:function(e,t,n){return e.map((function(e,r){return tn(e,t[r],n)}))}}),rn=6/29*3*(6/29),an=Math.PI/180,on=180/Math.PI;function sn(e){return e>.008856451679035631?e**(1/3):e/rn+4/29}function cn(e){return e>6/29?e*e*e:rn*(e-4/29)}function ln(e){return 255*(e<=.0031308?12.92*e:1.055*e**(1/2.4)-.055)}function un(e){return(e/=255)<=.04045?e/12.92:((e+.055)/1.055)**2.4}function dn(e){var t=un(e.r),n=un(e.g),r=un(e.b),i=sn((.4124564*t+.3575761*n+.1804375*r)/.95047),a=sn((.2126729*t+.7151522*n+.072175*r)/1);return{l:116*a-16,a:500*(i-a),b:200*(a-sn((.0193339*t+.119192*n+.9503041*r)/1.08883)),alpha:e.a}}function fn(e){var t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=1*cn(t),n=.95047*cn(n),r=1.08883*cn(r),new dt(ln(3.2404542*n-1.5371385*t-.4985314*r),ln(-.969266*n+1.8760108*t+.041556*r),ln(.0556434*n-.2040259*t+1.0572252*r),e.alpha)}function pn(e,t,n){var r=t-e;return e+n*(r>180||r<-180?r-360*Math.round(r/360):r)}var mn={forward:dn,reverse:fn,interpolate:function(e,t,n){return{l:tn(e.l,t.l,n),a:tn(e.a,t.a,n),b:tn(e.b,t.b,n),alpha:tn(e.alpha,t.alpha,n)}}},hn={forward:function(e){var t=dn(e),n=t.l,r=t.a,i=t.b,a=Math.atan2(i,r)*on;return{h:a<0?a+360:a,c:Math.sqrt(r*r+i*i),l:n,alpha:e.a}},reverse:function(e){var t=e.h*an,n=e.c;return fn({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:pn(e.h,t.h,n),c:tn(e.c,t.c,n),l:tn(e.l,t.l,n),alpha:tn(e.alpha,t.alpha,n)}}},gn=Object.freeze({__proto__:null,lab:mn,hcl:hn}),_n=function(e,t,n,r,i){this.type=e,this.operator=t,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(var a=0,o=i;a<o.length;a+=1){var s=o[a],c=s[1];this.labels.push(s[0]),this.outputs.push(c)}};function vn(e,t,n,r){var i=r-n,a=e-n;return i===0?0:t===1?a/i:(t**+a-1)/(t**+i-1)}_n.interpolationFactor=function(e,t,r,i){var a=0;if(e.name===`exponential`)a=vn(t,e.base,r,i);else if(e.name===`linear`)a=vn(t,1,r,i);else if(e.name===`cubic-bezier`){var o=e.controlPoints;a=new n(o[0],o[1],o[2],o[3]).solve(vn(t,1,r,i))}return a},_n.parse=function(e,t){var n=e[0],r=e[1],i=e[2],a=e.slice(3);if(!Array.isArray(r)||r.length===0)return t.error(`Expected an interpolation type expression.`,1);if(r[0]===`linear`)r={name:`linear`};else if(r[0]===`exponential`){var o=r[1];if(typeof o!=`number`)return t.error(`Exponential interpolation requires a numeric base.`,1,1);r={name:`exponential`,base:o}}else{if(r[0]!==`cubic-bezier`)return t.error(`Unknown interpolation type `+String(r[0]),1,0);var s=r.slice(1);if(s.length!==4||s.some((function(e){return typeof e!=`number`||e<0||e>1})))return t.error(`Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.`,1);r={name:`cubic-bezier`,controlPoints:s}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only `+(e.length-1)+`.`);if((e.length-1)%2!=0)return t.error(`Expected an even number of arguments.`);if(!(i=t.parse(i,2,H)))return null;var c=[],l=null;n===`interpolate-hcl`||n===`interpolate-lab`?l=Qe:t.expectedType&&t.expectedType.kind!==`value`&&(l=t.expectedType);for(var u=0;u<a.length;u+=2){var d=a[u],f=a[u+1],p=u+3,m=u+4;if(typeof d!=`number`)return t.error(`Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.`,p);if(c.length&&c[c.length-1][0]>=d)return t.error(`Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.`,p);var h=t.parse(f,m,l);if(!h)return null;l||=h.type,c.push([d,h])}return l.kind===`number`||l.kind===`color`||l.kind===`array`&&l.itemType.kind===`number`&&typeof l.N==`number`?new _n(l,n,r,i,c):t.error(`Type `+at(l)+` is not interpolatable.`)},_n.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(t.length===1)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var i=t.length;if(r>=t[i-1])return n[i-1].evaluate(e);var a=$t(t,r),o=_n.interpolationFactor(this.interpolation,r,t[a],t[a+1]),s=n[a].evaluate(e),c=n[a+1].evaluate(e);return this.operator===`interpolate`?nn[this.type.kind.toLowerCase()](s,c,o):this.operator===`interpolate-hcl`?hn.reverse(hn.interpolate(hn.forward(s),hn.forward(c),o)):mn.reverse(mn.interpolate(mn.forward(s),mn.forward(c),o))},_n.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1)e(n[t])},_n.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},_n.prototype.serialize=function(){for(var e=this.interpolation.name===`linear`?[`linear`]:this.interpolation.name===`exponential`?this.interpolation.base===1?[`linear`]:[`exponential`,this.interpolation.base]:[`cubic-bezier`].concat(this.interpolation.controlPoints),t=[this.operator,e,this.input.serialize()],n=0;n<this.labels.length;n++)t.push(this.labels[n],this.outputs[n].serialize());return t};var yn=function(e,t){this.type=e,this.args=t};yn.parse=function(e,t){if(e.length<2)return t.error(`Expectected at least one argument.`);var n=null,r=t.expectedType;r&&r.kind!==`value`&&(n=r);for(var i=[],a=0,o=e.slice(1);a<o.length;a+=1){var s=t.parse(o[a],1+i.length,n,void 0,{typeAnnotation:`omit`});if(!s)return null;n||=s.type,i.push(s)}var c=r&&i.some((function(e){return st(r,e.type)}));return new yn(c?et:n,i)},yn.prototype.evaluate=function(e){for(var t,n=null,r=0,i=0,a=this.args;i<a.length&&(r++,(n=a[i].evaluate(e))&&n instanceof ht&&!n.available&&(t||=n.name,n=null,r===this.args.length&&(n=t)),n===null);i+=1);return n},yn.prototype.eachChild=function(e){this.args.forEach(e)},yn.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},yn.prototype.serialize=function(){var e=[`coalesce`];return this.eachChild((function(t){e.push(t.serialize())})),e};var bn=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};bn.prototype.evaluate=function(e){return this.result.evaluate(e)},bn.prototype.eachChild=function(e){for(var t=0,n=this.bindings;t<n.length;t+=1)e(n[t][1]);e(this.result)},bn.parse=function(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found `+(e.length-1)+` instead.`);for(var n=[],r=1;r<e.length-1;r+=2){var i=e[r];if(typeof i!=`string`)return t.error(`Expected string, but found `+typeof i+` instead.`,r);if(/[^a-zA-Z0-9_]/.test(i))return t.error(`Variable names must contain only alphanumeric characters or '_'.`,r);var a=t.parse(e[r+1],r+1);if(!a)return null;n.push([i,a])}var o=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return o?new bn(n,o):null},bn.prototype.outputDefined=function(){return this.result.outputDefined()},bn.prototype.serialize=function(){for(var e=[`let`],t=0,n=this.bindings;t<n.length;t+=1){var r=n[t];e.push(r[0],r[1].serialize())}return e.push(this.result.serialize()),e};var xn=function(e,t,n){this.type=e,this.index=t,this.input=n};xn.parse=function(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found `+(e.length-1)+` instead.`);var n=t.parse(e[1],1,H),r=t.parse(e[2],2,it(t.expectedType||et));return n&&r?new xn(r.type.itemType,n,r):null},xn.prototype.evaluate=function(e){var t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new xt(`Array index out of bounds: `+t+` < 0.`);if(t>=n.length)throw new xt(`Array index out of bounds: `+t+` > `+(n.length-1)+`.`);if(t!==Math.floor(t))throw new xt(`Array index must be an integer, but found `+t+` instead.`);return n[t]},xn.prototype.eachChild=function(e){e(this.index),e(this.input)},xn.prototype.outputDefined=function(){return!1},xn.prototype.serialize=function(){return[`at`,this.index.serialize(),this.input.serialize()]};var Sn=function(e,t){this.type=Ze,this.needle=e,this.haystack=t};Sn.parse=function(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found `+(e.length-1)+` instead.`);var n=t.parse(e[1],1,et),r=t.parse(e[2],2,et);return n&&r?ct(n.type,[Ze,Xe,H,Ye,et])?new Sn(n,r):t.error(`Expected first argument to be of type boolean, string, number or null, but found `+at(n.type)+` instead`):null},Sn.prototype.evaluate=function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!n)return!1;if(!lt(t,[`boolean`,`string`,`number`,`null`]))throw new xt(`Expected first argument to be of type boolean, string, number or null, but found `+at(vt(t))+` instead.`);if(!lt(n,[`string`,`array`]))throw new xt(`Expected second argument to be of type array or string, but found `+at(vt(n))+` instead.`);return n.indexOf(t)>=0},Sn.prototype.eachChild=function(e){e(this.needle),e(this.haystack)},Sn.prototype.outputDefined=function(){return!0},Sn.prototype.serialize=function(){return[`in`,this.needle.serialize(),this.haystack.serialize()]};var Cn=function(e,t,n){this.type=H,this.needle=e,this.haystack=t,this.fromIndex=n};Cn.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found `+(e.length-1)+` instead.`);var n=t.parse(e[1],1,et),r=t.parse(e[2],2,et);if(!n||!r)return null;if(!ct(n.type,[Ze,Xe,H,Ye,et]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found `+at(n.type)+` instead`);if(e.length===4){var i=t.parse(e[3],3,H);return i?new Cn(n,r,i):null}return new Cn(n,r)},Cn.prototype.evaluate=function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!lt(t,[`boolean`,`string`,`number`,`null`]))throw new xt(`Expected first argument to be of type boolean, string, number or null, but found `+at(vt(t))+` instead.`);if(!lt(n,[`string`,`array`]))throw new xt(`Expected second argument to be of type array or string, but found `+at(vt(n))+` instead.`);if(this.fromIndex){var r=this.fromIndex.evaluate(e);return n.indexOf(t,r)}return n.indexOf(t)},Cn.prototype.eachChild=function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)},Cn.prototype.outputDefined=function(){return!1},Cn.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var e=this.fromIndex.serialize();return[`index-of`,this.needle.serialize(),this.haystack.serialize(),e]}return[`index-of`,this.needle.serialize(),this.haystack.serialize()]};var wn=function(e,t,n,r,i,a){this.inputType=e,this.type=t,this.input=n,this.cases=r,this.outputs=i,this.otherwise=a};wn.parse=function(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only `+(e.length-1)+`.`);if(e.length%2!=1)return t.error(`Expected an even number of arguments.`);var n,r;t.expectedType&&t.expectedType.kind!==`value`&&(r=t.expectedType);for(var i={},a=[],o=2;o<e.length-1;o+=2){var s=e[o],c=e[o+1];Array.isArray(s)||(s=[s]);var l=t.concat(o);if(s.length===0)return l.error(`Expected at least one branch label.`);for(var u=0,d=s;u<d.length;u+=1){var f=d[u];if(typeof f!=`number`&&typeof f!=`string`)return l.error(`Branch labels must be numbers or strings.`);if(typeof f==`number`&&Math.abs(f)>2**53-1)return l.error(`Branch labels must be integers no larger than `+(2**53-1)+`.`);if(typeof f==`number`&&Math.floor(f)!==f)return l.error(`Numeric branch labels must be integer values.`);if(n){if(l.checkSubtype(n,vt(f)))return null}else n=vt(f);if(i[String(f)]!==void 0)return l.error(`Branch labels must be unique.`);i[String(f)]=a.length}var p=t.parse(c,o,r);if(!p)return null;r||=p.type,a.push(p)}var m=t.parse(e[1],1,et);if(!m)return null;var h=t.parse(e[e.length-1],e.length-1,r);return h?m.type.kind!==`value`&&t.concat(1).checkSubtype(n,m.type)?null:new wn(n,r,m,i,a,h):null},wn.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(vt(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},wn.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},wn.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))&&this.otherwise.outputDefined()},wn.prototype.serialize=function(){for(var e=this,t=[`match`,this.input.serialize()],n=[],r={},i=0,a=Object.keys(this.cases).sort();i<a.length;i+=1){var o=a[i];(d=r[this.cases[o]])===void 0?(r[this.cases[o]]=n.length,n.push([this.cases[o],[o]])):n[d][1].push(o)}for(var s=function(t){return e.inputType.kind===`number`?Number(t):t},c=0,l=n;c<l.length;c+=1){var u=l[c],d=u[0],f=u[1];t.push(f.length===1?s(f[0]):f.map(s)),t.push(this.outputs[outputIndex$1].serialize())}return t.push(this.otherwise.serialize()),t};var Tn=function(e,t,n){this.type=e,this.branches=t,this.otherwise=n};Tn.parse=function(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only `+(e.length-1)+`.`);if(e.length%2!=0)return t.error(`Expected an odd number of arguments.`);var n;t.expectedType&&t.expectedType.kind!==`value`&&(n=t.expectedType);for(var r=[],i=1;i<e.length-1;i+=2){var a=t.parse(e[i],i,Ze);if(!a)return null;var o=t.parse(e[i+1],i+1,n);if(!o)return null;r.push([a,o]),n||=o.type}var s=t.parse(e[e.length-1],e.length-1,n);return s?new Tn(n,r,s):null},Tn.prototype.evaluate=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var r=n[t],i=r[1];if(r[0].evaluate(e))return i.evaluate(e)}return this.otherwise.evaluate(e)},Tn.prototype.eachChild=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var r=n[t],i=r[1];e(r[0]),e(i)}e(this.otherwise)},Tn.prototype.outputDefined=function(){return this.branches.every((function(e){return e[1].outputDefined()}))&&this.otherwise.outputDefined()},Tn.prototype.serialize=function(){var e=[`case`];return this.eachChild((function(t){e.push(t.serialize())})),e};var En=function(e,t,n,r){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=r};function Dn(e,t){return e===`==`||e===`!=`?t.kind===`boolean`||t.kind===`string`||t.kind===`number`||t.kind===`null`||t.kind===`value`:t.kind===`string`||t.kind===`number`||t.kind===`value`}function On(e,t,n,r){return r.compare(t,n)===0}function kn(e,t,n){var r=e!==`==`&&e!==`!=`;return function(){function i(e,t,n){this.type=Ze,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument=e.type.kind===`value`||t.type.kind===`value`}return i.parse=function(e,t){if(e.length!==3&&e.length!==4)return t.error(`Expected two or three arguments.`);var n=e[0],a=t.parse(e[1],1,et);if(!a)return null;if(!Dn(n,a.type))return t.concat(1).error(`"`+n+`" comparisons are not supported for type '`+at(a.type)+`'.`);var o=t.parse(e[2],2,et);if(!o)return null;if(!Dn(n,o.type))return t.concat(2).error(`"`+n+`" comparisons are not supported for type '`+at(o.type)+`'.`);if(a.type.kind!==o.type.kind&&a.type.kind!==`value`&&o.type.kind!==`value`)return t.error(`Cannot compare types '`+at(a.type)+`' and '`+at(o.type)+`'.`);r&&(a.type.kind===`value`&&o.type.kind!==`value`?a=new Ct(o.type,[a]):a.type.kind!==`value`&&o.type.kind===`value`&&(o=new Ct(a.type,[o])));var s=null;if(e.length===4){if(a.type.kind!==`string`&&o.type.kind!==`string`&&a.type.kind!==`value`&&o.type.kind!==`value`)return t.error(`Cannot use collator to compare non-string types.`);if(!(s=t.parse(e[3],3,tt)))return null}return new i(a,o,s)},i.prototype.evaluate=function(i){var a=this.lhs.evaluate(i),o=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){var s=vt(a),c=vt(o);if(s.kind!==c.kind||s.kind!==`string`&&s.kind!==`number`)throw new xt(`Expected arguments for "`+e+`" to be (string, string) or (number, number), but found (`+s.kind+`, `+c.kind+`) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){var l=vt(a),u=vt(o);if(l.kind!==`string`||u.kind!==`string`)return t(i,a,o)}return this.collator?n(i,a,o,this.collator.evaluate(i)):t(i,a,o)},i.prototype.eachChild=function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var t=[e];return this.eachChild((function(e){t.push(e.serialize())})),t},i}()}En.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found `+(e.length-1)+` instead.`);var n=t.parse(e[1],1,et),r=t.parse(e[2],2,H);if(!n||!r)return null;if(!ct(n.type,[it(et),Xe,et]))return t.error(`Expected first argument to be of type array or string, but found `+at(n.type)+` instead`);if(e.length===4){var i=t.parse(e[3],3,H);return i?new En(n.type,n,r,i):null}return new En(n.type,n,r)},En.prototype.evaluate=function(e){var t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!lt(t,[`string`,`array`]))throw new xt(`Expected first argument to be of type array or string, but found `+at(vt(t))+` instead.`);if(this.endIndex){var r=this.endIndex.evaluate(e);return t.slice(n,r)}return t.slice(n)},En.prototype.eachChild=function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)},En.prototype.outputDefined=function(){return!1},En.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var e=this.endIndex.serialize();return[`slice`,this.input.serialize(),this.beginIndex.serialize(),e]}return[`slice`,this.input.serialize(),this.beginIndex.serialize()]};var An=kn(`==`,(function(e,t,n){return t===n}),On),jn=kn(`!=`,(function(e,t,n){return t!==n}),(function(e,t,n,r){return!On(0,t,n,r)})),Mn=kn(`<`,(function(e,t,n){return t<n}),(function(e,t,n,r){return r.compare(t,n)<0})),Nn=kn(`>`,(function(e,t,n){return t>n}),(function(e,t,n,r){return r.compare(t,n)>0})),Pn=kn(`<=`,(function(e,t,n){return t<=n}),(function(e,t,n,r){return r.compare(t,n)<=0})),Fn=kn(`>=`,(function(e,t,n){return t>=n}),(function(e,t,n,r){return r.compare(t,n)>=0})),In=function(e,t,n,r,i){this.type=Xe,this.number=e,this.locale=t,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=i};In.parse=function(e,t){if(e.length!==3)return t.error(`Expected two arguments.`);var n=t.parse(e[1],1,H);if(!n)return null;var r=e[2];if(typeof r!=`object`||Array.isArray(r))return t.error(`NumberFormat options argument must be an object.`);var i=null;if(r.locale&&!(i=t.parse(r.locale,1,Xe)))return null;var a=null;if(r.currency&&!(a=t.parse(r.currency,1,Xe)))return null;var o=null;if(r[`min-fraction-digits`]&&!(o=t.parse(r[`min-fraction-digits`],1,H)))return null;var s=null;return r[`max-fraction-digits`]&&!(s=t.parse(r[`max-fraction-digits`],1,H))?null:new In(n,i,a,o,s)},In.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?`currency`:`decimal`,currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},In.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},In.prototype.outputDefined=function(){return!1},In.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e[`min-fraction-digits`]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e[`max-fraction-digits`]=this.maxFractionDigits.serialize()),[`number-format`,this.number.serialize(),e]};var Ln=function(e){this.type=H,this.input=e};Ln.parse=function(e,t){if(e.length!==2)return t.error(`Expected 1 argument, but found `+(e.length-1)+` instead.`);var n=t.parse(e[1],1);return n?n.type.kind!==`array`&&n.type.kind!==`string`&&n.type.kind!==`value`?t.error(`Expected argument of type string or array, but found `+at(n.type)+` instead.`):new Ln(n):null},Ln.prototype.evaluate=function(e){var t=this.input.evaluate(e);if(typeof t==`string`||Array.isArray(t))return t.length;throw new xt(`Expected value to be of type string or array, but found `+at(vt(t))+` instead.`)},Ln.prototype.eachChild=function(e){e(this.input)},Ln.prototype.outputDefined=function(){return!1},Ln.prototype.serialize=function(){var e=[`length`];return this.eachChild((function(t){e.push(t.serialize())})),e};var Rn={"==":An,"!=":jn,">":Nn,"<":Mn,">=":Fn,"<=":Pn,array:Ct,at:xn,boolean:Ct,case:Tn,coalesce:yn,collator:jt,format:wt,image:Tt,in:Sn,"index-of":Cn,interpolate:_n,"interpolate-hcl":_n,"interpolate-lab":_n,length:Ln,let:bn,literal:bt,match:wn,number:Ct,"number-format":In,object:Ct,slice:En,step:en,string:Ct,"to-boolean":Dt,"to-color":Dt,"to-number":Dt,"to-string":Dt,var:Zt,within:qt};function zn(e,t){var n=t[0],r=t[1],i=t[2],a=t[3];n=n.evaluate(e),r=r.evaluate(e),i=i.evaluate(e);var o=a?a.evaluate(e):1,s=gt(n,r,i,o);if(s)throw new xt(s);return new dt(n/255*o,r/255*o,i/255*o,o)}function Bn(e,t){return e in t}function Vn(e,t){var n=t[e];return n===void 0?null:n}function Hn(e){return{type:e}}function Un(e){return{result:`success`,value:e}}function Wn(e){return{result:`error`,value:e}}function Gn(e){return e[`property-type`]===`data-driven`||e[`property-type`]===`cross-faded-data-driven`}function Kn(e){return!!e.expression&&e.expression.parameters.indexOf(`zoom`)>-1}function qn(e){return!!e.expression&&e.expression.interpolated}function Jn(e){return e instanceof Number?`number`:e instanceof String?`string`:e instanceof Boolean?`boolean`:Array.isArray(e)?`array`:e===null?`null`:typeof e}function Yn(e){return typeof e==`object`&&!!e&&!Array.isArray(e)}function Xn(e){return e}function Zn(e,t,n){return e===void 0?t===void 0?n===void 0?void 0:n:t:e}function Qn(e,t,n,r,i){return Zn(typeof n===i?r[n]:void 0,e.default,t.default)}function $n(e,t,n){if(Jn(n)!==`number`)return Zn(e.default,t.default);var r=e.stops.length;if(r===1||n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];var i=$t(e.stops.map((function(e){return e[0]})),n);return e.stops[i][1]}function er(e,t,n){var r=e.base===void 0?1:e.base;if(Jn(n)!==`number`)return Zn(e.default,t.default);var i=e.stops.length;if(i===1||n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];var a=$t(e.stops.map((function(e){return e[0]})),n),o=function(e,t,n,r){var i=r-n,a=e-n;return i===0?0:t===1?a/i:(t**+a-1)/(t**+i-1)}(n,r,e.stops[a][0],e.stops[a+1][0]),s=e.stops[a][1],c=e.stops[a+1][1],l=nn[t.type]||Xn;if(e.colorSpace&&e.colorSpace!==`rgb`){var u=gn[e.colorSpace];l=function(e,t){return u.reverse(u.interpolate(u.forward(e),u.forward(t),o))}}return typeof s.evaluate==`function`?{evaluate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=s.evaluate.apply(void 0,e),r=c.evaluate.apply(void 0,e);if(n!==void 0&&r!==void 0)return l(n,r,o)}}:l(s,c,o)}function tr(e,t,n){return t.type===`color`?n=dt.parse(n):t.type===`formatted`?n=mt.fromString(n.toString()):t.type===`resolvedImage`?n=ht.fromString(n.toString()):Jn(n)===t.type||t.type===`enum`&&t.values[n]||(n=void 0),Zn(n,e.default,t.default)}At.register(Rn,{error:[{kind:`error`},[Xe],function(e,t){throw new xt(t[0].evaluate(e))}],typeof:[Xe,[et],function(e,t){return at(vt(t[0].evaluate(e)))}],"to-rgba":[it(H,4),[Qe],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[Qe,[H,H,H],zn],rgba:[Qe,[H,H,H,H],zn],has:{type:Ze,overloads:[[[Xe],function(e,t){return Bn(t[0].evaluate(e),e.properties())}],[[Xe,$e],function(e,t){var n=t[1];return Bn(t[0].evaluate(e),n.evaluate(e))}]]},get:{type:et,overloads:[[[Xe],function(e,t){return Vn(t[0].evaluate(e),e.properties())}],[[Xe,$e],function(e,t){var n=t[1];return Vn(t[0].evaluate(e),n.evaluate(e))}]]},"feature-state":[et,[Xe],function(e,t){return Vn(t[0].evaluate(e),e.featureState||{})}],properties:[$e,[],function(e){return e.properties()}],"geometry-type":[Xe,[],function(e){return e.geometryType()}],id:[et,[],function(e){return e.id()}],zoom:[H,[],function(e){return e.globals.zoom}],"heatmap-density":[H,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[H,[],function(e){return e.globals.lineProgress||0}],accumulated:[et,[],function(e){return e.globals.accumulated===void 0?null:e.globals.accumulated}],"+":[H,Hn(H),function(e,t){for(var n=0,r=0,i=t;r<i.length;r+=1)n+=i[r].evaluate(e);return n}],"*":[H,Hn(H),function(e,t){for(var n=1,r=0,i=t;r<i.length;r+=1)n*=i[r].evaluate(e);return n}],"-":{type:H,overloads:[[[H,H],function(e,t){var n=t[1];return t[0].evaluate(e)-n.evaluate(e)}],[[H],function(e,t){return-t[0].evaluate(e)}]]},"/":[H,[H,H],function(e,t){var n=t[1];return t[0].evaluate(e)/n.evaluate(e)}],"%":[H,[H,H],function(e,t){var n=t[1];return t[0].evaluate(e)%n.evaluate(e)}],ln2:[H,[],function(){return Math.LN2}],pi:[H,[],function(){return Math.PI}],e:[H,[],function(){return Math.E}],"^":[H,[H,H],function(e,t){var n=t[1];return t[0].evaluate(e)**+n.evaluate(e)}],sqrt:[H,[H],function(e,t){return Math.sqrt(t[0].evaluate(e))}],log10:[H,[H],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN10}],ln:[H,[H],function(e,t){return Math.log(t[0].evaluate(e))}],log2:[H,[H],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN2}],sin:[H,[H],function(e,t){return Math.sin(t[0].evaluate(e))}],cos:[H,[H],function(e,t){return Math.cos(t[0].evaluate(e))}],tan:[H,[H],function(e,t){return Math.tan(t[0].evaluate(e))}],asin:[H,[H],function(e,t){return Math.asin(t[0].evaluate(e))}],acos:[H,[H],function(e,t){return Math.acos(t[0].evaluate(e))}],atan:[H,[H],function(e,t){return Math.atan(t[0].evaluate(e))}],min:[H,Hn(H),function(e,t){return Math.min.apply(Math,t.map((function(t){return t.evaluate(e)})))}],max:[H,Hn(H),function(e,t){return Math.max.apply(Math,t.map((function(t){return t.evaluate(e)})))}],abs:[H,[H],function(e,t){return Math.abs(t[0].evaluate(e))}],round:[H,[H],function(e,t){var n=t[0].evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[H,[H],function(e,t){return Math.floor(t[0].evaluate(e))}],ceil:[H,[H],function(e,t){return Math.ceil(t[0].evaluate(e))}],"filter-==":[Ze,[Xe,et],function(e,t){var n=t[0],r=t[1];return e.properties()[n.value]===r.value}],"filter-id-==":[Ze,[et],function(e,t){var n=t[0];return e.id()===n.value}],"filter-type-==":[Ze,[Xe],function(e,t){var n=t[0];return e.geometryType()===n.value}],"filter-<":[Ze,[Xe,et],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],a=r.value;return typeof i==typeof a&&i<a}],"filter-id-<":[Ze,[et],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[Ze,[Xe,et],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],a=r.value;return typeof i==typeof a&&i>a}],"filter-id->":[Ze,[et],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[Ze,[Xe,et],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],a=r.value;return typeof i==typeof a&&i<=a}],"filter-id-<=":[Ze,[et],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[Ze,[Xe,et],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],a=r.value;return typeof i==typeof a&&i>=a}],"filter-id->=":[Ze,[et],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[Ze,[et],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[Ze,[],function(e){return e.id()!==null&&e.id()!==void 0}],"filter-type-in":[Ze,[it(Xe)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[Ze,[it(et)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[Ze,[Xe,it(et)],function(e,t){var n=t[0];return t[1].value.indexOf(e.properties()[n.value])>=0}],"filter-in-large":[Ze,[Xe,it(et)],function(e,t){var n=t[0],r=t[1];return function(e,t,n,r){for(;n<=r;){var i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}(e.properties()[n.value],r.value,0,r.value.length-1)}],all:{type:Ze,overloads:[[[Ze,Ze],function(e,t){var n=t[1];return t[0].evaluate(e)&&n.evaluate(e)}],[Hn(Ze),function(e,t){for(var n=0,r=t;n<r.length;n+=1)if(!r[n].evaluate(e))return!1;return!0}]]},any:{type:Ze,overloads:[[[Ze,Ze],function(e,t){var n=t[1];return t[0].evaluate(e)||n.evaluate(e)}],[Hn(Ze),function(e,t){for(var n=0,r=t;n<r.length;n+=1)if(r[n].evaluate(e))return!0;return!1}]]},"!":[Ze,[Ze],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[Ze,[Xe],function(e,t){var n=e.globals&&e.globals.isSupportedScript;return!n||n(t[0].evaluate(e))}],upcase:[Xe,[Xe],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[Xe,[Xe],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[Xe,Hn(et),function(e,t){return t.map((function(t){return yt(t.evaluate(e))})).join(``)}],"resolved-locale":[Xe,[tt],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});var nr=function(e,t){this.expression=e,this._warningHistory={},this._evaluator=new kt,this._defaultValue=t?function(e){return e.type===`color`&&Yn(e.default)?new dt(0,0,0,0):e.type===`color`?dt.parse(e.default)||null:e.default===void 0?null:e.default}(t):null,this._enumValues=t&&t.type===`enum`?t.values:null};function rr(e){return Array.isArray(e)&&e.length>0&&typeof e[0]==`string`&&e[0]in Rn}function ir(e,t){var n=new Qt(Rn,[],t?function(e){var t={color:Qe,string:Xe,number:H,enum:Xe,boolean:Ze,formatted:nt,resolvedImage:rt};return e.type===`array`?it(t[e.value]||et,e.length):t[e.type]}(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&t.type===`string`?{typeAnnotation:`coerce`}:void 0);return r?Un(new nr(r,t)):Wn(n.errors)}nr.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,a){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a,this.expression.evaluate(this._evaluator)},nr.prototype.evaluate=function(e,t,n,r,i,a){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a||null;try{var o=this.expression.evaluate(this._evaluator);if(o==null||typeof o==`number`&&o!=o)return this._defaultValue;if(this._enumValues&&!(o in this._enumValues))throw new xt(`Expected value to be one of `+Object.keys(this._enumValues).map((function(e){return JSON.stringify(e)})).join(`, `)+`, but found `+JSON.stringify(o)+` instead.`);return o}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,typeof console<`u`&&console.warn(e.message)),this._defaultValue}};var ar=function(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent=e!==`constant`&&!Yt(t.expression)};ar.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,a)},ar.prototype.evaluate=function(e,t,n,r,i,a){return this._styleExpression.evaluate(e,t,n,r,i,a)};var or=function(e,t,n,r){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent=e!==`camera`&&!Yt(t.expression),this.interpolationType=r};function sr(e,t){if((e=ir(e,t)).result===`error`)return e;var n=e.value.expression,r=Jt(n);if(!r&&!Gn(t))return Wn([new qe(``,`data expressions not supported`)]);var i=Xt(n,[`zoom`]);if(!i&&!Kn(t))return Wn([new qe(``,`zoom expressions not supported`)]);var a=function e(t){var n=null;if(t instanceof bn)n=e(t.result);else if(t instanceof yn)for(var r=0,i=t.args;r<i.length&&!(n=e(i[r]));r+=1);else (t instanceof en||t instanceof _n)&&t.input instanceof At&&t.input.name===`zoom`&&(n=t);return n instanceof qe||t.eachChild((function(t){var r=e(t);r instanceof qe?n=r:!n&&r?n=new qe(``,`"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.`):n&&r&&n!==r&&(n=new qe(``,`Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.`))})),n}(n);return a||i?a instanceof qe?Wn([a]):a instanceof _n&&!qn(t)?Wn([new qe(``,`"interpolate" expressions cannot be used with this property`)]):Un(a?new or(r?`camera`:`composite`,e.value,a.labels,a instanceof _n?a.interpolation:void 0):new ar(r?`constant`:`source`,e.value)):Wn([new qe(``,`"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.`)])}or.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,a)},or.prototype.evaluate=function(e,t,n,r,i,a){return this._styleExpression.evaluate(e,t,n,r,i,a)},or.prototype.interpolationFactor=function(e,t,n){return this.interpolationType?_n.interpolationFactor(this.interpolationType,e,t,n):0};var cr=function(e,t){this._parameters=e,this._specification=t,We(this,function e(t,n){var r,i,a,o=n.type===`color`,s=t.stops&&typeof t.stops[0][0]==`object`,c=s||!(s||t.property!==void 0),l=t.type||(qn(n)?`exponential`:`interval`);if(o&&((t=We({},t)).stops&&(t.stops=t.stops.map((function(e){return[e[0],dt.parse(e[1])]}))),t.default=dt.parse(t.default?t.default:n.default)),t.colorSpace&&t.colorSpace!==`rgb`&&!gn[t.colorSpace])throw Error(`Unknown color space: `+t.colorSpace);if(l===`exponential`)r=er;else if(l===`interval`)r=$n;else if(l===`categorical`){r=Qn,i=Object.create(null);for(var u=0,d=t.stops;u<d.length;u+=1){var f=d[u];i[f[0]]=f[1]}a=typeof t.stops[0][0]}else{if(l!==`identity`)throw Error(`Unknown function type "`+l+`"`);r=tr}if(s){for(var p={},m=[],h=0;h<t.stops.length;h++){var g=t.stops[h],_=g[0].zoom;p[_]===void 0&&(p[_]={zoom:_,type:t.type,property:t.property,default:t.default,stops:[]},m.push(_)),p[_].stops.push([g[0].value,g[1]])}for(var v=[],y=0,b=m;y<b.length;y+=1){var x=b[y];v.push([p[x].zoom,e(p[x],n)])}var S={name:`linear`};return{kind:`composite`,interpolationType:S,interpolationFactor:_n.interpolationFactor.bind(void 0,S),zoomStops:v.map((function(e){return e[0]})),evaluate:function(e,r){var i=e.zoom;return er({stops:v,base:t.base},n,i).evaluate(i,r)}}}if(c){var C=l===`exponential`?{name:`exponential`,base:t.base===void 0?1:t.base}:null;return{kind:`camera`,interpolationType:C,interpolationFactor:_n.interpolationFactor.bind(void 0,C),zoomStops:t.stops.map((function(e){return e[0]})),evaluate:function(e){return r(t,n,e.zoom,i,a)}}}return{kind:`source`,evaluate:function(e,o){var s=o&&o.properties?o.properties[t.property]:void 0;return s===void 0?Zn(t.default,n.default):r(t,n,s,i,a)}}}(this._parameters,this._specification))};function lr(e){var t=e.key,n=e.value,r=e.valueSpec||{},i=e.objectElementValidators||{},a=e.style,o=e.styleSpec,s=[],c=Jn(n);if(c!==`object`)return[new V(t,n,`object expected, `+c+` found`)];for(var l in n){var u=l.split(`.`)[0],d=r[u]||r[`*`],f=void 0;if(i[u])f=i[u];else if(r[u])f=Pr;else if(i[`*`])f=i[`*`];else{if(!r[`*`]){s.push(new V(t,n[l],`unknown property "`+l+`"`));continue}f=Pr}s=s.concat(f({key:(t&&t+`.`)+l,value:n[l],valueSpec:d,style:a,styleSpec:o,object:n,objectKey:l},n))}for(var p in r)i[p]||r[p].required&&r[p].default===void 0&&n[p]===void 0&&s.push(new V(t,n,`missing required property "`+p+`"`));return s}function ur(e){var t=e.value,n=e.valueSpec,r=e.style,i=e.styleSpec,a=e.key,o=e.arrayElementValidator||Pr;if(Jn(t)!==`array`)return[new V(a,t,`array expected, `+Jn(t)+` found`)];if(n.length&&t.length!==n.length)return[new V(a,t,`array length `+n.length+` expected, length `+t.length+` found`)];if(n[`min-length`]&&t.length<n[`min-length`])return[new V(a,t,`array length at least `+n[`min-length`]+` expected, length `+t.length+` found`)];var s={type:n.value,values:n.values};i.$version<7&&(s.function=n.function),Jn(n.value)===`object`&&(s=n.value);for(var c=[],l=0;l<t.length;l++)c=c.concat(o({array:t,arrayIndex:l,value:t[l],valueSpec:s,style:r,styleSpec:i,key:a+`[`+l+`]`}));return c}function dr(e){var t=e.key,n=e.value,r=e.valueSpec,i=Jn(n);return i===`number`&&n!=n&&(i=`NaN`),i===`number`?`minimum`in r&&n<r.minimum?[new V(t,n,n+` is less than the minimum value `+r.minimum)]:`maximum`in r&&n>r.maximum?[new V(t,n,n+` is greater than the maximum value `+r.maximum)]:[]:[new V(t,n,`number expected, `+i+` found`)]}function fr(e){var t,n,r,i=e.valueSpec,a=Ge(e.value.type),o={},s=a!==`categorical`&&e.value.property===void 0,c=!s,l=Jn(e.value.stops)===`array`&&Jn(e.value.stops[0])===`array`&&Jn(e.value.stops[0][0])===`object`,u=lr({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if(a===`identity`)return[new V(e.key,e.value,`identity function may not have a "stops" property`)];var t=[],n=e.value;return t=t.concat(ur({key:e.key,value:n,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:d})),Jn(n)===`array`&&n.length===0&&t.push(new V(e.key,n,`array must have at least one stop`)),t},default:function(e){return Pr({key:e.key,value:e.value,valueSpec:i,style:e.style,styleSpec:e.styleSpec})}}});return a===`identity`&&s&&u.push(new V(e.key,e.value,`missing required property "property"`)),a===`identity`||e.value.stops||u.push(new V(e.key,e.value,`missing required property "stops"`)),a===`exponential`&&e.valueSpec.expression&&!qn(e.valueSpec)&&u.push(new V(e.key,e.value,`exponential functions not supported`)),e.styleSpec.$version>=8&&(c&&!Gn(e.valueSpec)?u.push(new V(e.key,e.value,`property functions not supported`)):s&&!Kn(e.valueSpec)&&u.push(new V(e.key,e.value,`zoom functions not supported`))),a!==`categorical`&&!l||e.value.property!==void 0||u.push(new V(e.key,e.value,`"property" property is required`)),u;function d(e){var t=[],a=e.value,s=e.key;if(Jn(a)!==`array`)return[new V(s,a,`array expected, `+Jn(a)+` found`)];if(a.length!==2)return[new V(s,a,`array length 2 expected, length `+a.length+` found`)];if(l){if(Jn(a[0])!==`object`)return[new V(s,a,`object expected, `+Jn(a[0])+` found`)];if(a[0].zoom===void 0)return[new V(s,a,`object stop key must have zoom`)];if(a[0].value===void 0)return[new V(s,a,`object stop key must have value`)];if(r&&r>Ge(a[0].zoom))return[new V(s,a[0].zoom,`stop zoom values must appear in ascending order`)];Ge(a[0].zoom)!==r&&(r=Ge(a[0].zoom),n=void 0,o={}),t=t.concat(lr({key:s+`[0]`,value:a[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:dr,value:f}}))}else t=t.concat(f({key:s+`[0]`,value:a[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},a));return rr(Ke(a[1]))?t.concat([new V(s+`[1]`,a[1],`expressions are not allowed in function stops.`)]):t.concat(Pr({key:s+`[1]`,value:a[1],valueSpec:i,style:e.style,styleSpec:e.styleSpec}))}function f(e,r){var s=Jn(e.value),c=Ge(e.value),l=e.value===null?r:e.value;if(t){if(s!==t)return[new V(e.key,l,s+` stop domain type must match previous stop domain type `+t)]}else t=s;if(s!==`number`&&s!==`string`&&s!==`boolean`)return[new V(e.key,l,`stop domain value must be a number, string, or boolean`)];if(s!==`number`&&a!==`categorical`){var u=`number expected, `+s+` found`;return Gn(i)&&a===void 0&&(u+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new V(e.key,l,u)]}return a!==`categorical`||s!==`number`||isFinite(c)&&Math.floor(c)===c?a!==`categorical`&&s===`number`&&n!==void 0&&c<n?[new V(e.key,l,`stop domain values must appear in ascending order`)]:(n=c,a===`categorical`&&c in o?[new V(e.key,l,`stop domain values must be unique`)]:(o[c]=!0,[])):[new V(e.key,l,`integer expected, found `+c)]}}function pr(e){var t=(e.expressionContext===`property`?sr:ir)(Ke(e.value),e.valueSpec);if(t.result===`error`)return t.value.map((function(t){return new V(``+e.key+t.key,e.value,t.message)}));var n=t.value.expression||t.value._styleExpression.expression;if(e.expressionContext===`property`&&e.propertyKey===`text-font`&&!n.outputDefined())return[new V(e.key,e.value,`Invalid data expression for "`+e.propertyKey+`". Output values must be contained as literals within the expression.`)];if(e.expressionContext===`property`&&e.propertyType===`layout`&&!Yt(n))return[new V(e.key,e.value,`"feature-state" data expressions are not supported with layout properties.`)];if(e.expressionContext===`filter`&&!Yt(n))return[new V(e.key,e.value,`"feature-state" data expressions are not supported with filters.`)];if(e.expressionContext&&e.expressionContext.indexOf(`cluster`)===0){if(!Xt(n,[`zoom`,`feature-state`]))return[new V(e.key,e.value,`"zoom" and "feature-state" expressions are not supported with cluster properties.`)];if(e.expressionContext===`cluster-initial`&&!Jt(n))return[new V(e.key,e.value,`Feature data expressions are not supported with initial expression part of cluster properties.`)]}return[]}function mr(e){var t=e.key,n=e.value,r=e.valueSpec,i=[];return Array.isArray(r.values)?r.values.indexOf(Ge(n))===-1&&i.push(new V(t,n,`expected one of [`+r.values.join(`, `)+`], `+JSON.stringify(n)+` found`)):Object.keys(r.values).indexOf(Ge(n))===-1&&i.push(new V(t,n,`expected one of [`+Object.keys(r.values).join(`, `)+`], `+JSON.stringify(n)+` found`)),i}function hr(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||e.length===0)return!1;switch(e[0]){case`has`:return e.length>=2&&e[1]!==`$id`&&e[1]!==`$type`;case`in`:return e.length>=3&&(typeof e[1]!=`string`||Array.isArray(e[2]));case`!in`:case`!has`:case`none`:return!1;case`==`:case`!=`:case`>`:case`>=`:case`<`:case`<=`:return e.length!==3||Array.isArray(e[1])||Array.isArray(e[2]);case`any`:case`all`:for(var t=0,n=e.slice(1);t<n.length;t+=1){var r=n[t];if(!hr(r)&&typeof r!=`boolean`)return!1}return!0;default:return!0}}cr.deserialize=function(e){return new cr(e._parameters,e._specification)},cr.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}};var gr={type:`boolean`,default:!1,transition:!1,"property-type":`data-driven`,expression:{interpolated:!1,parameters:[`zoom`,`feature`]}};function _r(e){if(e==null)return{filter:function(){return!0},needGeometry:!1};hr(e)||(e=yr(e));var t=ir(e,gr);if(t.result===`error`)throw Error(t.value.map((function(e){return e.key+`: `+e.message})).join(`, `));return{filter:function(e,n,r){return t.value.evaluate(e,n,{},r)},needGeometry:function e(t){if(!Array.isArray(t))return!1;if(t[0]===`within`)return!0;for(var n=1;n<t.length;n++)if(e(t[n]))return!0;return!1}(e)}}function vr(e,t){return e<t?-1:e>t?1:0}function yr(e){if(!e)return!0;var t,n=e[0];return e.length<=1?n!==`any`:n===`==`?br(e[1],e[2],`==`):n===`!=`?Cr(br(e[1],e[2],`==`)):n===`<`||n===`>`||n===`<=`||n===`>=`?br(e[1],e[2],n):n===`any`?(t=e.slice(1),[`any`].concat(t.map(yr))):n===`all`?[`all`].concat(e.slice(1).map(yr)):n===`none`?[`all`].concat(e.slice(1).map(yr).map(Cr)):n===`in`?xr(e[1],e.slice(2)):n===`!in`?Cr(xr(e[1],e.slice(2))):n===`has`?Sr(e[1]):n===`!has`?Cr(Sr(e[1])):n!==`within`||e}function br(e,t,n){switch(e){case`$type`:return[`filter-type-`+n,t];case`$id`:return[`filter-id-`+n,t];default:return[`filter-`+n,e,t]}}function xr(e,t){if(t.length===0)return!1;switch(e){case`$type`:return[`filter-type-in`,[`literal`,t]];case`$id`:return[`filter-id-in`,[`literal`,t]];default:return t.length>200&&!t.some((function(e){return typeof e!=typeof t[0]}))?[`filter-in-large`,e,[`literal`,t.sort(vr)]]:[`filter-in-small`,e,[`literal`,t]]}}function Sr(e){switch(e){case`$type`:return!0;case`$id`:return[`filter-has-id`];default:return[`filter-has`,e]}}function Cr(e){return[`!`,e]}function wr(e){return hr(Ke(e.value))?pr(We({},e,{expressionContext:`filter`,valueSpec:{value:`boolean`}})):function e(t){var n=t.value,r=t.key;if(Jn(n)!==`array`)return[new V(r,n,`array expected, `+Jn(n)+` found`)];var i,a=t.styleSpec,o=[];if(n.length<1)return[new V(r,n,`filter array must have at least 1 element`)];switch(o=o.concat(mr({key:r+`[0]`,value:n[0],valueSpec:a.filter_operator,style:t.style,styleSpec:t.styleSpec})),Ge(n[0])){case`<`:case`<=`:case`>`:case`>=`:n.length>=2&&Ge(n[1])===`$type`&&o.push(new V(r,n,`"$type" cannot be use with operator "`+n[0]+`"`));case`==`:case`!=`:n.length!==3&&o.push(new V(r,n,`filter array for operator "`+n[0]+`" must have 3 elements`));case`in`:case`!in`:n.length>=2&&(i=Jn(n[1]))!==`string`&&o.push(new V(r+`[1]`,n[1],`string expected, `+i+` found`));for(var s=2;s<n.length;s++)i=Jn(n[s]),Ge(n[1])===`$type`?o=o.concat(mr({key:r+`[`+s+`]`,value:n[s],valueSpec:a.geometry_type,style:t.style,styleSpec:t.styleSpec})):i!==`string`&&i!==`number`&&i!==`boolean`&&o.push(new V(r+`[`+s+`]`,n[s],`string, number, or boolean expected, `+i+` found`));break;case`any`:case`all`:case`none`:for(var c=1;c<n.length;c++)o=o.concat(e({key:r+`[`+c+`]`,value:n[c],style:t.style,styleSpec:t.styleSpec}));break;case`has`:case`!has`:i=Jn(n[1]),n.length===2?i!==`string`&&o.push(new V(r+`[1]`,n[1],`string expected, `+i+` found`)):o.push(new V(r,n,`filter array for "`+n[0]+`" operator must have 2 elements`));break;case`within`:i=Jn(n[1]),n.length===2?i!==`object`&&o.push(new V(r+`[1]`,n[1],`object expected, `+i+` found`)):o.push(new V(r,n,`filter array for "`+n[0]+`" operator must have 2 elements`))}return o}(e)}function Tr(e,t){var n=e.key,r=e.style,i=e.styleSpec,a=e.value,o=e.objectKey,s=i[t+`_`+e.layerType];if(!s)return[];var c=o.match(/^(.*)-transition$/);if(t===`paint`&&c&&s[c[1]]&&s[c[1]].transition)return Pr({key:n,value:a,valueSpec:i.transition,style:r,styleSpec:i});var l,u=e.valueSpec||s[o];if(!u)return[new V(n,a,`unknown property "`+o+`"`)];if(Jn(a)===`string`&&Gn(u)&&!u.tokens&&(l=/^{([^}]+)}$/.exec(a)))return[new V(n,a,`"`+o+`" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": `+JSON.stringify(l[1])+" }`.")];var d=[];return e.layerType===`symbol`&&(o===`text-field`&&r&&!r.glyphs&&d.push(new V(n,a,`use of "text-field" requires a style "glyphs" property`)),o===`text-font`&&Yn(Ke(a))&&Ge(a.type)===`identity`&&d.push(new V(n,a,`"text-font" does not support identity functions`))),d.concat(Pr({key:e.key,value:a,valueSpec:u,style:r,styleSpec:i,expressionContext:`property`,propertyType:t,propertyKey:o}))}function Er(e){return Tr(e,`paint`)}function Dr(e){return Tr(e,`layout`)}function Or(e){var t=[],n=e.value,r=e.key,i=e.style,a=e.styleSpec;n.type||n.ref||t.push(new V(r,n,`either "type" or "ref" is required`));var o,s=Ge(n.type),c=Ge(n.ref);if(n.id)for(var l=Ge(n.id),u=0;u<e.arrayIndex;u++){var d=i.layers[u];Ge(d.id)===l&&t.push(new V(r,n.id,`duplicate layer id "`+n.id+`", previously used at line `+d.id.__line__))}if(`ref`in n)[`type`,`source`,`source-layer`,`filter`,`layout`].forEach((function(e){e in n&&t.push(new V(r,n[e],`"`+e+`" is prohibited for ref layers`))})),i.layers.forEach((function(e){Ge(e.id)===c&&(o=e)})),o?o.ref?t.push(new V(r,n.ref,`ref cannot reference another ref layer`)):s=Ge(o.type):t.push(new V(r,n.ref,`ref layer "`+c+`" not found`));else if(s!==`background`)if(n.source){var f=i.sources&&i.sources[n.source],p=f&&Ge(f.type);f?p===`vector`&&s===`raster`?t.push(new V(r,n.source,`layer "`+n.id+`" requires a raster source`)):p===`raster`&&s!==`raster`?t.push(new V(r,n.source,`layer "`+n.id+`" requires a vector source`)):p!==`vector`||n[`source-layer`]?p===`raster-dem`&&s!==`hillshade`?t.push(new V(r,n.source,`raster-dem source can only be used with layer type 'hillshade'.`)):s!==`line`||!n.paint||!n.paint[`line-gradient`]||p===`geojson`&&f.lineMetrics||t.push(new V(r,n,`layer "`+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):t.push(new V(r,n,`layer "`+n.id+`" must specify a "source-layer"`)):t.push(new V(r,n.source,`source "`+n.source+`" not found`))}else t.push(new V(r,n,`missing required property "source"`));return t=t.concat(lr({key:r,value:n,valueSpec:a.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Pr({key:r+`.type`,value:n.type,valueSpec:a.layer.type,style:e.style,styleSpec:e.styleSpec,object:n,objectKey:`type`})},filter:wr,layout:function(e){return lr({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return Dr(We({layerType:s},e))}}})},paint:function(e){return lr({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return Er(We({layerType:s},e))}}})}}}))}function kr(e){var t=e.value,n=e.key,r=Jn(t);return r===`string`?[]:[new V(n,t,`string expected, `+r+` found`)]}var Ar={promoteId:function(e){var t=e.key,n=e.value;if(Jn(n)===`string`)return kr({key:t,value:n});var r=[];for(var i in n)r.push.apply(r,kr({key:t+`.`+i,value:n[i]}));return r}};function jr(e){var t=e.value,n=e.key,r=e.styleSpec,i=e.style;if(!t.type)return[new V(n,t,`"type" is required`)];var a,o=Ge(t.type);switch(o){case`vector`:case`raster`:case`raster-dem`:return lr({key:n,value:t,valueSpec:r[`source_`+o.replace(`-`,`_`)],style:e.style,styleSpec:r,objectElementValidators:Ar});case`geojson`:if(a=lr({key:n,value:t,valueSpec:r.source_geojson,style:i,styleSpec:r,objectElementValidators:Ar}),t.cluster)for(var s in t.clusterProperties){var c=t.clusterProperties[s],l=c[0],u=typeof l==`string`?[l,[`accumulated`],[`get`,s]]:l;a.push.apply(a,pr({key:n+`.`+s+`.map`,value:c[1],expressionContext:`cluster-map`})),a.push.apply(a,pr({key:n+`.`+s+`.reduce`,value:u,expressionContext:`cluster-reduce`}))}return a;case`video`:return lr({key:n,value:t,valueSpec:r.source_video,style:i,styleSpec:r});case`image`:return lr({key:n,value:t,valueSpec:r.source_image,style:i,styleSpec:r});case`canvas`:return[new V(n,null,`Please use runtime APIs to add canvas sources, rather than including them in stylesheets.`,`source.canvas`)];default:return mr({key:n+`.type`,value:t.type,valueSpec:{values:[`vector`,`raster`,`raster-dem`,`geojson`,`video`,`image`]},style:i,styleSpec:r})}}function Mr(e){var t=e.value,n=e.styleSpec,r=n.light,i=e.style,a=[],o=Jn(t);if(t===void 0)return a;if(o!==`object`)return a.concat([new V(`light`,t,`object expected, `+o+` found`)]);for(var s in t){var c=s.match(/^(.*)-transition$/);a=a.concat(c&&r[c[1]]&&r[c[1]].transition?Pr({key:s,value:t[s],valueSpec:n.transition,style:i,styleSpec:n}):r[s]?Pr({key:s,value:t[s],valueSpec:r[s],style:i,styleSpec:n}):[new V(s,t[s],`unknown property "`+s+`"`)])}return a}var Nr={"*":function(){return[]},array:ur,boolean:function(e){var t=e.value,n=e.key,r=Jn(t);return r===`boolean`?[]:[new V(n,t,`boolean expected, `+r+` found`)]},number:dr,color:function(e){var t=e.key,n=e.value,r=Jn(n);return r===`string`?ut(n)===null?[new V(t,n,`color expected, "`+n+`" found`)]:[]:[new V(t,n,`color expected, `+r+` found`)]},constants:Ue,enum:mr,filter:wr,function:fr,layer:Or,object:lr,source:jr,light:Mr,string:kr,formatted:function(e){return kr(e).length===0?[]:pr(e)},resolvedImage:function(e){return kr(e).length===0?[]:pr(e)}};function Pr(e){var t=e.value,n=e.valueSpec,r=e.styleSpec;return n.expression&&Yn(Ge(t))?fr(e):n.expression&&rr(Ke(t))?pr(e):n.type&&Nr[n.type]?Nr[n.type](e):lr(We({},e,{valueSpec:n.type?r[n.type]:n}))}function Fr(e){var t=e.value,n=e.key,r=kr(e);return r.length||(t.indexOf(`{fontstack}`)===-1&&r.push(new V(n,t,`"glyphs" url must include a "{fontstack}" token`)),t.indexOf(`{range}`)===-1&&r.push(new V(n,t,`"glyphs" url must include a "{range}" token`))),r}function Ir(e,t){t===void 0&&(t=B);var n=[];return n=n.concat(Pr({key:``,value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:Fr,"*":function(){return[]}}})),e.constants&&(n=n.concat(Ue({key:`constants`,value:e.constants,style:e,styleSpec:t}))),Lr(n)}function Lr(e){return[].concat(e).sort((function(e,t){return e.line-t.line}))}function Rr(e){return function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return Lr(e.apply(this,t))}}Ir.source=Rr(jr),Ir.light=Rr(Mr),Ir.layer=Rr(Or),Ir.filter=Rr(wr),Ir.paintProperty=Rr(Er),Ir.layoutProperty=Rr(Dr);var zr=Ir,Br=zr.light,Vr=zr.paintProperty,Hr=zr.layoutProperty;function Ur(e,t){var n=!1;if(t&&t.length)for(var r=0,i=t;r<i.length;r+=1)e.fire(new Ve(Error(i[r].message))),n=!0;return n}var Wr=Gr;function Gr(e,t,n){var r=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var i=new Int32Array(this.arrayBuffer);e=i[0],this.d=(t=i[1])+2*(n=i[2]);for(var a=0;a<this.d*this.d;a++){var o=i[3+a],s=i[3+a+1];r.push(o===s?null:i.subarray(o,s))}var c=i[3+r.length+1];this.keys=i.subarray(i[3+r.length],c),this.bboxes=i.subarray(c),this.insert=this._insertReadonly}else{this.d=t+2*n;for(var l=0;l<this.d*this.d;l++)r.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;var u=n/t*e;this.min=-u,this.max=e+u}Gr.prototype.insert=function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Gr.prototype._insertReadonly=function(){throw`Cannot insert into a GridIndex created from an ArrayBuffer.`},Gr.prototype._insertCell=function(e,t,n,r,i,a){this.cells[i].push(a)},Gr.prototype.query=function(e,t,n,r,i){var a=this.min,o=this.max;if(e<=a&&t<=a&&o<=n&&o<=r&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,n,r,this._queryCell,s,{},i),s},Gr.prototype._queryCell=function(e,t,n,r,i,a,o,s){var c=this.cells[i];if(c!==null)for(var l=this.keys,u=this.bboxes,d=0;d<c.length;d++){var f=c[d];if(o[f]===void 0){var p=4*f;(s?s(u[p+0],u[p+1],u[p+2],u[p+3]):e<=u[p+2]&&t<=u[p+3]&&n>=u[p+0]&&r>=u[p+1])?(o[f]=!0,a.push(l[f])):o[f]=!1}}},Gr.prototype._forEachCell=function(e,t,n,r,i,a,o,s){for(var c=this._convertToCellCoord(e),l=this._convertToCellCoord(t),u=this._convertToCellCoord(n),d=this._convertToCellCoord(r),f=c;f<=u;f++)for(var p=l;p<=d;p++){var m=this.d*p+f;if((!s||s(this._convertFromCellCoord(f),this._convertFromCellCoord(p),this._convertFromCellCoord(f+1),this._convertFromCellCoord(p+1)))&&i.call(this,e,t,n,r,m,a,o,s))return}},Gr.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},Gr.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},Gr.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(t+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var a=t,o=0;o<e.length;o++){var s=e[o];i[3+o]=a,i.set(s,a),a+=s.length}return i[3+e.length]=a,i.set(this.keys,a),i[3+e.length+1]=a+=this.keys.length,i.set(this.bboxes,a),a+=this.bboxes.length,i.buffer};var Kr=o.ImageData,qr=o.ImageBitmap,Jr={};function U(e,t,n){n===void 0&&(n={}),Object.defineProperty(t,`_classRegistryKey`,{value:e,writeable:!1}),Jr[e]={klass:t,omit:n.omit||[],shallow:n.shallow||[]}}for(var Yr in U(`Object`,Object),Wr.serialize=function(e,t){var n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}},Wr.deserialize=function(e){return new Wr(e.buffer)},U(`Grid`,Wr),U(`Color`,dt),U(`Error`,Error),U(`ResolvedImage`,ht),U(`StylePropertyFunction`,cr),U(`StyleExpression`,nr,{omit:[`_evaluator`]}),U(`ZoomDependentExpression`,or),U(`ZoomConstantExpression`,ar),U(`CompoundExpression`,At,{omit:[`_evaluate`]}),Rn)Rn[Yr]._classRegistryKey||U(`Expression_`+Yr,Rn[Yr]);function Xr(e){return e&&typeof ArrayBuffer<`u`&&(e instanceof ArrayBuffer||e.constructor&&e.constructor.name===`ArrayBuffer`)}function Zr(e){return qr&&e instanceof qr}function Qr(e,t){if(e==null||typeof e==`boolean`||typeof e==`number`||typeof e==`string`||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(Xr(e)||Zr(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var n=e;return t&&t.push(n.buffer),n}if(e instanceof Kr)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){for(var r=[],i=0,a=e;i<a.length;i+=1)r.push(Qr(a[i],t));return r}if(typeof e==`object`){var o=e.constructor,s=o._classRegistryKey;if(!s)throw Error(`can't serialize object of unregistered class`);var c=o.serialize?o.serialize(e,t):{};if(!o.serialize){for(var l in e)if(e.hasOwnProperty(l)&&!(Jr[s].omit.indexOf(l)>=0)){var u=e[l];c[l]=Jr[s].shallow.indexOf(l)>=0?u:Qr(u,t)}e instanceof Error&&(c.message=e.message)}if(c.$name)throw Error(`$name property is reserved for worker serialization logic.`);return s!==`Object`&&(c.$name=s),c}throw Error(`can't serialize object of type `+typeof e)}function $r(e){if(e==null||typeof e==`boolean`||typeof e==`number`||typeof e==`string`||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||Xr(e)||Zr(e)||ArrayBuffer.isView(e)||e instanceof Kr)return e;if(Array.isArray(e))return e.map($r);if(typeof e==`object`){var t=e.$name||`Object`,n=Jr[t].klass;if(!n)throw Error(`can't deserialize unregistered class `+t);if(n.deserialize)return n.deserialize(e);for(var r=Object.create(n.prototype),i=0,a=Object.keys(e);i<a.length;i+=1){var o=a[i];if(o!==`$name`){var s=e[o];r[o]=Jr[t].shallow.indexOf(o)>=0?s:$r(s)}}return r}throw Error(`can't deserialize object of type `+typeof e)}var ei=function(){this.first=!0};ei.prototype.update=function(e,t){var n=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=n,!0))};var W={"Latin-1 Supplement":function(e){return e>=128&&e<=255},Arabic:function(e){return e>=1536&&e<=1791},"Arabic Supplement":function(e){return e>=1872&&e<=1919},"Arabic Extended-A":function(e){return e>=2208&&e<=2303},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},Khmer:function(e){return e>=6016&&e<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Arabic Presentation Forms-A":function(e){return e>=64336&&e<=65023},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Arabic Presentation Forms-B":function(e){return e>=65136&&e<=65279},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}};function ti(e){for(var t=0,n=e;t<n.length;t+=1)if(ni(n[t].charCodeAt(0)))return!0;return!1}function ni(e){return!(e!==746&&e!==747&&(e<4352||!(W[`Bopomofo Extended`](e)||W.Bopomofo(e)||W[`CJK Compatibility Forms`](e)&&!(e>=65097&&e<=65103)||W[`CJK Compatibility Ideographs`](e)||W[`CJK Compatibility`](e)||W[`CJK Radicals Supplement`](e)||W[`CJK Strokes`](e)||!(!W[`CJK Symbols and Punctuation`](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||e===12336)||W[`CJK Unified Ideographs Extension A`](e)||W[`CJK Unified Ideographs`](e)||W[`Enclosed CJK Letters and Months`](e)||W[`Hangul Compatibility Jamo`](e)||W[`Hangul Jamo Extended-A`](e)||W[`Hangul Jamo Extended-B`](e)||W[`Hangul Jamo`](e)||W[`Hangul Syllables`](e)||W.Hiragana(e)||W[`Ideographic Description Characters`](e)||W.Kanbun(e)||W[`Kangxi Radicals`](e)||W[`Katakana Phonetic Extensions`](e)||W.Katakana(e)&&e!==12540||!(!W[`Halfwidth and Fullwidth Forms`](e)||e===65288||e===65289||e===65293||e>=65306&&e<=65310||e===65339||e===65341||e===65343||e>=65371&&e<=65503||e===65507||e>=65512&&e<=65519)||!(!W[`Small Form Variants`](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||W[`Unified Canadian Aboriginal Syllabics`](e)||W[`Unified Canadian Aboriginal Syllabics Extended`](e)||W[`Vertical Forms`](e)||W[`Yijing Hexagram Symbols`](e)||W[`Yi Syllables`](e)||W[`Yi Radicals`](e))))}function ri(e){return!(ni(e)||function(e){return!!(W[`Latin-1 Supplement`](e)&&(e===167||e===169||e===174||e===177||e===188||e===189||e===190||e===215||e===247)||W[`General Punctuation`](e)&&(e===8214||e===8224||e===8225||e===8240||e===8241||e===8251||e===8252||e===8258||e===8263||e===8264||e===8265||e===8273)||W[`Letterlike Symbols`](e)||W[`Number Forms`](e)||W[`Miscellaneous Technical`](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||e===9003||e>=9085&&e<=9114||e>=9150&&e<=9165||e===9167||e>=9169&&e<=9179||e>=9186&&e<=9215)||W[`Control Pictures`](e)&&e!==9251||W[`Optical Character Recognition`](e)||W[`Enclosed Alphanumerics`](e)||W[`Geometric Shapes`](e)||W[`Miscellaneous Symbols`](e)&&!(e>=9754&&e<=9759)||W[`Miscellaneous Symbols and Arrows`](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||W[`CJK Symbols and Punctuation`](e)||W.Katakana(e)||W[`Private Use Area`](e)||W[`CJK Compatibility Forms`](e)||W[`Small Form Variants`](e)||W[`Halfwidth and Fullwidth Forms`](e)||e===8734||e===8756||e===8757||e>=9984&&e<=10087||e>=10102&&e<=10131||e===65532||e===65533)}(e))}function ii(e){return e>=1424&&e<=2303||W[`Arabic Presentation Forms-A`](e)||W[`Arabic Presentation Forms-B`](e)}function ai(e,t){return!(!t&&ii(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||W.Khmer(e))}function oi(e){for(var t=0,n=e;t<n.length;t+=1)if(ii(n[t].charCodeAt(0)))return!0;return!1}var si=null,ci=`unavailable`,li=null,ui=function(e){e&&typeof e==`string`&&e.indexOf(`NetworkError`)>-1&&(ci=`error`),si&&si(e)};function di(){fi.fire(new Be(`pluginStateChange`,{pluginStatus:ci,pluginURL:li}))}var fi=new He,pi=function(){return ci},mi=function(){if(ci!==`deferred`||!li)throw Error(`rtl-text-plugin cannot be downloaded unless a pluginURL is specified`);ci=`loading`,di(),li&&Pe({url:li},(function(e){e?ui(e):(ci=`loaded`,di())}))},hi={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return ci===`loaded`||hi.applyArabicShaping!=null},isLoading:function(){return ci===`loading`},setState:function(e){ci=e.pluginStatus,li=e.pluginURL},isParsed:function(){return hi.applyArabicShaping!=null&&hi.processBidirectionalText!=null&&hi.processStyledBidirectionalText!=null},getPluginURL:function(){return li}},gi=function(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new ei,this.transition={})};gi.prototype.isSupportedScript=function(e){return function(e,t){for(var n=0,r=e;n<r.length;n+=1)if(!ai(r[n].charCodeAt(0),t))return!1;return!0}(e,hi.isLoaded())},gi.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},gi.prototype.getCrossfadeParameters=function(){var e=this.zoom,t=e-Math.floor(e),n=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*t}};var _i=function(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(Yn(e))return new cr(e,t);if(rr(e)){var n=sr(e,t);if(n.result===`error`)throw Error(n.value.map((function(e){return e.key+`: `+e.message})).join(`, `));return n.value}var r=e;return typeof e==`string`&&t.type===`color`&&(r=dt.parse(e)),{kind:`constant`,evaluate:function(){return r}}}(t===void 0?e.specification.default:t,e.specification)};_i.prototype.isDataDriven=function(){return this.expression.kind===`source`||this.expression.kind===`composite`},_i.prototype.possiblyEvaluate=function(e,t,n){return this.property.possiblyEvaluate(this,e,t,n)};var vi=function(e){this.property=e,this.value=new _i(e,void 0)};vi.prototype.transitioned=function(e,t){return new bi(this.property,this.value,t,f({},e.transition,this.transition),e.now)},vi.prototype.untransitioned=function(){return new bi(this.property,this.value,null,{},0)};var yi=function(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)};yi.prototype.getValue=function(e){return x(this._values[e].value.value)},yi.prototype.setValue=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new vi(this._values[e].property)),this._values[e].value=new _i(this._values[e].property,t===null?void 0:x(t))},yi.prototype.getTransition=function(e){return x(this._values[e].transition)},yi.prototype.setTransition=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new vi(this._values[e].property)),this._values[e].transition=x(t)||void 0},yi.prototype.serialize=function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t],i=this.getValue(r);i!==void 0&&(e[r]=i);var a=this.getTransition(r);a!==void 0&&(e[r+`-transition`]=a)}return e},yi.prototype.transitioned=function(e,t){for(var n=new xi(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var a=i[r];n._values[a]=this._values[a].transitioned(e,t._values[a])}return n},yi.prototype.untransitioned=function(){for(var e=new xi(this._properties),t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t];e._values[r]=this._values[r].untransitioned()}return e};var bi=function(e,t,n,r,i){this.property=e,this.value=t,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,e.specification.transition&&(r.delay||r.duration)&&(this.prior=n)};bi.prototype.possiblyEvaluate=function(e,t,n){var r=e.now||0,i=this.value.possiblyEvaluate(e,t,n),a=this.prior;if(a){if(r>this.end||this.value.isDataDriven())return this.prior=null,i;if(r<this.begin)return a.possiblyEvaluate(e,t,n);var o=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(a.possiblyEvaluate(e,t,n),i,function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}(o))}return i};var xi=function(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)};xi.prototype.possiblyEvaluate=function(e,t,n){for(var r=new wi(this._properties),i=0,a=Object.keys(this._values);i<a.length;i+=1){var o=a[i];r._values[o]=this._values[o].possiblyEvaluate(e,t,n)}return r},xi.prototype.hasTransition=function(){for(var e=0,t=Object.keys(this._values);e<t.length;e+=1)if(this._values[t[e]].prior)return!0;return!1};var Si=function(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)};Si.prototype.getValue=function(e){return x(this._values[e].value)},Si.prototype.setValue=function(e,t){this._values[e]=new _i(this._values[e].property,t===null?void 0:x(t))},Si.prototype.serialize=function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t],i=this.getValue(r);i!==void 0&&(e[r]=i)}return e},Si.prototype.possiblyEvaluate=function(e,t,n){for(var r=new wi(this._properties),i=0,a=Object.keys(this._values);i<a.length;i+=1){var o=a[i];r._values[o]=this._values[o].possiblyEvaluate(e,t,n)}return r};var Ci=function(e,t,n){this.property=e,this.value=t,this.parameters=n};Ci.prototype.isConstant=function(){return this.value.kind===`constant`},Ci.prototype.constantOr=function(e){return this.value.kind===`constant`?this.value.value:e},Ci.prototype.evaluate=function(e,t,n,r){return this.property.evaluate(this.value,this.parameters,e,t,n,r)};var wi=function(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)};wi.prototype.get=function(e){return this._values[e]};var G=function(e){this.specification=e};G.prototype.possiblyEvaluate=function(e,t){return e.expression.evaluate(t)},G.prototype.interpolate=function(e,t,n){var r=nn[this.specification.type];return r?r(e,t,n):e};var K=function(e,t){this.specification=e,this.overrides=t};K.prototype.possiblyEvaluate=function(e,t,n,r){return new Ci(this,e.expression.kind===`constant`||e.expression.kind===`camera`?{kind:`constant`,value:e.expression.evaluate(t,null,{},n,r)}:e.expression,t)},K.prototype.interpolate=function(e,t,n){if(e.value.kind!==`constant`||t.value.kind!==`constant`)return e;if(e.value.value===void 0||t.value.value===void 0)return new Ci(this,{kind:`constant`,value:void 0},e.parameters);var r=nn[this.specification.type];return r?new Ci(this,{kind:`constant`,value:r(e.value.value,t.value.value,n)},e.parameters):e},K.prototype.evaluate=function(e,t,n,r,i,a){return e.kind===`constant`?e.value:e.evaluate(t,n,r,i,a)};var Ti=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(e,t,n,r){if(e.value===void 0)return new Ci(this,{kind:`constant`,value:void 0},t);if(e.expression.kind===`constant`){var i=e.expression.evaluate(t,null,{},n,r),a=e.property.specification.type===`resolvedImage`&&typeof i!=`string`?i.name:i,o=this._calculate(a,a,a,t);return new Ci(this,{kind:`constant`,value:o},t)}if(e.expression.kind===`camera`){var s=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new Ci(this,{kind:`constant`,value:s},t)}return new Ci(this,e.expression,t)},t.prototype.evaluate=function(e,t,n,r,i,a){if(e.kind===`source`){var o=e.evaluate(t,n,r,i,a);return this._calculate(o,o,o,t)}return e.kind===`composite`?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},n,r),e.evaluate({zoom:Math.floor(t.zoom)},n,r),e.evaluate({zoom:Math.floor(t.zoom)+1},n,r),t):e.value},t.prototype._calculate=function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}},t.prototype.interpolate=function(e){return e},t}(K),Ei=function(e){this.specification=e};Ei.prototype.possiblyEvaluate=function(e,t,n,r){if(e.value!==void 0){if(e.expression.kind===`constant`){var i=e.expression.evaluate(t,null,{},n,r);return this._calculate(i,i,i,t)}return this._calculate(e.expression.evaluate(new gi(Math.floor(t.zoom-1),t)),e.expression.evaluate(new gi(Math.floor(t.zoom),t)),e.expression.evaluate(new gi(Math.floor(t.zoom+1),t)),t)}},Ei.prototype._calculate=function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}},Ei.prototype.interpolate=function(e){return e};var Di=function(e){this.specification=e};Di.prototype.possiblyEvaluate=function(e,t,n,r){return!!e.expression.evaluate(t,null,{},n,r)},Di.prototype.interpolate=function(){return!1};var Oi=function(e){for(var t in this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],e){var n=e[t];n.specification.overridable&&this.overridableProperties.push(t);var r=this.defaultPropertyValues[t]=new _i(n,void 0),i=this.defaultTransitionablePropertyValues[t]=new vi(n);this.defaultTransitioningPropertyValues[t]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=r.possiblyEvaluate({})}};U(`DataDrivenProperty`,K),U(`DataConstantProperty`,G),U(`CrossFadedDataDrivenProperty`,Ti),U(`CrossFadedProperty`,Ei),U(`ColorRampProperty`,Di);var ki=function(e){function t(t,n){if(e.call(this),this.id=t.id,this.type=t.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},t.type!==`custom`&&(this.metadata=(t=t).metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,t.type!==`background`&&(this.source=t.source,this.sourceLayer=t[`source-layer`],this.filter=t.filter),n.layout&&(this._unevaluatedLayout=new Si(n.layout)),n.paint)){for(var r in this._transitionablePaint=new yi(n.paint),t.paint)this.setPaintProperty(r,t.paint[r],{validate:!1});for(var i in t.layout)this.setLayoutProperty(i,t.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new wi(n.paint)}}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},t.prototype.getLayoutProperty=function(e){return e===`visibility`?this.visibility:this._unevaluatedLayout.getValue(e)},t.prototype.setLayoutProperty=function(e,t,n){n===void 0&&(n={}),t!=null&&this._validate(Hr,`layers.`+this.id+`.layout.`+e,e,t,n)||(e===`visibility`?this.visibility=t:this._unevaluatedLayout.setValue(e,t))},t.prototype.getPaintProperty=function(e){return v(e,`-transition`)?this._transitionablePaint.getTransition(e.slice(0,-11)):this._transitionablePaint.getValue(e)},t.prototype.setPaintProperty=function(e,t,n){if(n===void 0&&(n={}),t!=null&&this._validate(Vr,`layers.`+this.id+`.paint.`+e,e,t,n))return!1;if(v(e,`-transition`))return this._transitionablePaint.setTransition(e.slice(0,-11),t||void 0),!1;var r=this._transitionablePaint._values[e],i=r.property.specification[`property-type`]===`cross-faded-data-driven`,a=r.value.isDataDriven(),o=r.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);var s=this._transitionablePaint._values[e].value;return s.isDataDriven()||a||i||this._handleOverridablePaintPropertyUpdate(e,o,s)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){},t.prototype._handleOverridablePaintPropertyUpdate=function(e,t,n){return!1},t.prototype.isHidden=function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||this.visibility===`none`},t.prototype.updateTransitions=function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)},t.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},t.prototype.recalculate=function(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)},t.prototype.serialize=function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),b(e,(function(e,t){return!(e===void 0||t===`layout`&&!Object.keys(e).length||t===`paint`&&!Object.keys(e).length)}))},t.prototype._validate=function(e,t,n,r,i){return i===void 0&&(i={}),(!i||!1!==i.validate)&&Ur(this,e.call(zr,{key:t,layerType:this.type,objectKey:n,value:r,styleSpec:B,style:{glyphs:!0,sprite:!0}}))},t.prototype.is3D=function(){return!1},t.prototype.isTileClipped=function(){return!1},t.prototype.hasOffscreenPass=function(){return!1},t.prototype.resize=function(){},t.prototype.isStateDependent=function(){for(var e in this.paint._values){var t=this.paint.get(e);if(t instanceof Ci&&Gn(t.property.specification)&&(t.value.kind===`source`||t.value.kind===`composite`)&&t.value.isStateDependent)return!0}return!1},t}(He),Ai={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},ji=function(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Mi=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Ni(e,t){t===void 0&&(t=1);var n=0,r=0;return{members:e.map((function(e){var i=Ai[e.type].BYTES_PER_ELEMENT,a=n=Pi(n,Math.max(t,i)),o=e.components||1;return r=Math.max(r,i),n+=i*o,{name:e.name,type:e.type,components:o,offset:a}})),size:Pi(n,Math.max(r,t)),alignment:t}}function Pi(e,t){return Math.ceil(e/t)*t}Mi.serialize=function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}},Mi.deserialize=function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t},Mi.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Mi.prototype.clear=function(){this.length=0},Mi.prototype.resize=function(e){this.reserve(e),this.length=e},Mi.prototype.reserve=function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},Mi.prototype._refreshViews=function(){throw Error(`_refreshViews() must be implemented by each concrete StructArray layout`)};var Fi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.int16[r+0]=t,this.int16[r+1]=n,e},t}(Mi);Fi.prototype.bytesPerElement=4,U(`StructArrayLayout2i4`,Fi);var Ii=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var a=4*e;return this.int16[a+0]=t,this.int16[a+1]=n,this.int16[a+2]=r,this.int16[a+3]=i,e},t}(Mi);Ii.prototype.bytesPerElement=8,U(`StructArrayLayout4i8`,Ii);var Li=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i,a)},t.prototype.emplace=function(e,t,n,r,i,a,o){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=a,this.int16[s+5]=o,e},t}(Mi);Li.prototype.bytesPerElement=12,U(`StructArrayLayout2i4i12`,Li);var Ri=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i,a)},t.prototype.emplace=function(e,t,n,r,i,a,o){var s=4*e,c=8*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.uint8[c+4]=r,this.uint8[c+5]=i,this.uint8[c+6]=a,this.uint8[c+7]=o,e},t}(Mi);Ri.prototype.bytesPerElement=8,U(`StructArrayLayout2i4ub8`,Ri);var zi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.float32[r+0]=t,this.float32[r+1]=n,e},t}(Mi);zi.prototype.bytesPerElement=8,U(`StructArrayLayout2f8`,zi);var Bi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a,o,s,c,l){var u=this.length;return this.resize(u+1),this.emplace(u,e,t,n,r,i,a,o,s,c,l)},t.prototype.emplace=function(e,t,n,r,i,a,o,s,c,l,u){var d=10*e;return this.uint16[d+0]=t,this.uint16[d+1]=n,this.uint16[d+2]=r,this.uint16[d+3]=i,this.uint16[d+4]=a,this.uint16[d+5]=o,this.uint16[d+6]=s,this.uint16[d+7]=c,this.uint16[d+8]=l,this.uint16[d+9]=u,e},t}(Mi);Bi.prototype.bytesPerElement=20,U(`StructArrayLayout10ui20`,Bi);var Vi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a,o,s,c,l,u,d){var f=this.length;return this.resize(f+1),this.emplace(f,e,t,n,r,i,a,o,s,c,l,u,d)},t.prototype.emplace=function(e,t,n,r,i,a,o,s,c,l,u,d,f){var p=12*e;return this.int16[p+0]=t,this.int16[p+1]=n,this.int16[p+2]=r,this.int16[p+3]=i,this.uint16[p+4]=a,this.uint16[p+5]=o,this.uint16[p+6]=s,this.uint16[p+7]=c,this.int16[p+8]=l,this.int16[p+9]=u,this.int16[p+10]=d,this.int16[p+11]=f,e},t}(Mi);Vi.prototype.bytesPerElement=24,U(`StructArrayLayout4i4ui4i24`,Vi);var Hi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=3*e;return this.float32[i+0]=t,this.float32[i+1]=n,this.float32[i+2]=r,e},t}(Mi);Hi.prototype.bytesPerElement=12,U(`StructArrayLayout3f12`,Hi);var Ui=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.uint32[1*e+0]=t,e},t}(Mi);Ui.prototype.bytesPerElement=4,U(`StructArrayLayout1ul4`,Ui);var Wi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a,o,s,c){var l=this.length;return this.resize(l+1),this.emplace(l,e,t,n,r,i,a,o,s,c)},t.prototype.emplace=function(e,t,n,r,i,a,o,s,c,l){var u=10*e,d=5*e;return this.int16[u+0]=t,this.int16[u+1]=n,this.int16[u+2]=r,this.int16[u+3]=i,this.int16[u+4]=a,this.int16[u+5]=o,this.uint32[d+3]=s,this.uint16[u+8]=c,this.uint16[u+9]=l,e},t}(Mi);Wi.prototype.bytesPerElement=20,U(`StructArrayLayout6i1ul2ui20`,Wi);var Gi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i,a)},t.prototype.emplace=function(e,t,n,r,i,a,o){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=a,this.int16[s+5]=o,e},t}(Mi);Gi.prototype.bytesPerElement=12,U(`StructArrayLayout2i2i2i12`,Gi);var Ki=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i)},t.prototype.emplace=function(e,t,n,r,i,a){var o=4*e,s=8*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=r,this.int16[s+6]=i,this.int16[s+7]=a,e},t}(Mi);Ki.prototype.bytesPerElement=16,U(`StructArrayLayout2f1f2i16`,Ki);var qi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var a=12*e,o=3*e;return this.uint8[a+0]=t,this.uint8[a+1]=n,this.float32[o+1]=r,this.float32[o+2]=i,e},t}(Mi);qi.prototype.bytesPerElement=12,U(`StructArrayLayout2ub2f12`,qi);var Ji=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=3*e;return this.uint16[i+0]=t,this.uint16[i+1]=n,this.uint16[i+2]=r,e},t}(Mi);Ji.prototype.bytesPerElement=6,U(`StructArrayLayout3ui6`,Ji);var Yi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g){var _=this.length;return this.resize(_+1),this.emplace(_,e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g)},t.prototype.emplace=function(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_){var v=24*e,y=12*e,b=48*e;return this.int16[v+0]=t,this.int16[v+1]=n,this.uint16[v+2]=r,this.uint16[v+3]=i,this.uint32[y+2]=a,this.uint32[y+3]=o,this.uint32[y+4]=s,this.uint16[v+10]=c,this.uint16[v+11]=l,this.uint16[v+12]=u,this.float32[y+7]=d,this.float32[y+8]=f,this.uint8[b+36]=p,this.uint8[b+37]=m,this.uint8[b+38]=h,this.uint32[y+10]=g,this.int16[v+22]=_,e},t}(Mi);Yi.prototype.bytesPerElement=48,U(`StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48`,Yi);var Xi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S,C,w,T,E,D){var O=this.length;return this.resize(O+1),this.emplace(O,e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S,C,w,T,E,D)},t.prototype.emplace=function(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S,C,w,T,E,D,O){var k=34*e,A=17*e;return this.int16[k+0]=t,this.int16[k+1]=n,this.int16[k+2]=r,this.int16[k+3]=i,this.int16[k+4]=a,this.int16[k+5]=o,this.int16[k+6]=s,this.int16[k+7]=c,this.uint16[k+8]=l,this.uint16[k+9]=u,this.uint16[k+10]=d,this.uint16[k+11]=f,this.uint16[k+12]=p,this.uint16[k+13]=m,this.uint16[k+14]=h,this.uint16[k+15]=g,this.uint16[k+16]=_,this.uint16[k+17]=v,this.uint16[k+18]=y,this.uint16[k+19]=b,this.uint16[k+20]=x,this.uint16[k+21]=S,this.uint16[k+22]=C,this.uint32[A+12]=w,this.float32[A+13]=T,this.float32[A+14]=E,this.float32[A+15]=D,this.float32[A+16]=O,e},t}(Mi);Xi.prototype.bytesPerElement=68,U(`StructArrayLayout8i15ui1ul4f68`,Xi);var Zi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.float32[1*e+0]=t,e},t}(Mi);Zi.prototype.bytesPerElement=4,U(`StructArrayLayout1f4`,Zi);var Qi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=3*e;return this.int16[i+0]=t,this.int16[i+1]=n,this.int16[i+2]=r,e},t}(Mi);Qi.prototype.bytesPerElement=6,U(`StructArrayLayout3i6`,Qi);var $i=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=4*e;return this.uint32[2*e+0]=t,this.uint16[i+2]=n,this.uint16[i+3]=r,e},t}(Mi);$i.prototype.bytesPerElement=8,U(`StructArrayLayout1ul2ui8`,$i);var ea=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,e},t}(Mi);ea.prototype.bytesPerElement=4,U(`StructArrayLayout2ui4`,ea);var ta=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.uint16[1*e+0]=t,e},t}(Mi);ta.prototype.bytesPerElement=2,U(`StructArrayLayout1ui2`,ta);var na=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var a=4*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=r,this.float32[a+3]=i,e},t}(Mi);na.prototype.bytesPerElement=16,U(`StructArrayLayout4f16`,na);var ra=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.anchorPoint.get=function(){return new i(this.anchorPointX,this.anchorPointY)},Object.defineProperties(t.prototype,n),t}(ji);ra.prototype.size=20;var ia=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new ra(this,e)},t}(Wi);U(`CollisionBoxArray`,ia);var aa=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},n.placedOrientation.set=function(e){this._structArray.uint8[this._pos1+37]=e},n.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},n.hidden.set=function(e){this._structArray.uint8[this._pos1+38]=e},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},n.crossTileID.set=function(e){this._structArray.uint32[this._pos4+10]=e},n.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(t.prototype,n),t}(ji);aa.prototype.size=48;var oa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new aa(this,e)},t}(Yi);U(`PlacedSymbolArray`,oa);var sa=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},n.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},n.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},n.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},n.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},n.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},n.key.get=function(){return this._structArray.uint16[this._pos2+8]},n.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},n.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},n.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},n.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},n.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},n.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},n.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},n.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},n.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},n.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},n.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},n.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},n.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},n.crossTileID.set=function(e){this._structArray.uint32[this._pos4+12]=e},n.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},n.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},n.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},n.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(t.prototype,n),t}(ji);sa.prototype.size=68;var ca=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new sa(this,e)},t}(Xi);U(`SymbolInstanceArray`,ca);var la=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getoffsetX=function(e){return this.float32[1*e+0]},t}(Zi);U(`GlyphOffsetArray`,la);var ua=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getx=function(e){return this.int16[3*e+0]},t.prototype.gety=function(e){return this.int16[3*e+1]},t.prototype.gettileUnitDistanceFromAnchor=function(e){return this.int16[3*e+2]},t}(Qi);U(`SymbolLineVertexArray`,ua);var da=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(t.prototype,n),t}(ji);da.prototype.size=8;var fa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new da(this,e)},t}($i);U(`FeatureIndexArray`,fa);var pa=Ni([{name:`a_pos`,components:2,type:`Int16`}],4).members,ma=function(e){e===void 0&&(e=[]),this.segments=e};function ha(e,t){return 256*(e=u(Math.floor(e),0,255))+u(Math.floor(t),0,255)}ma.prototype.prepareSegment=function(e,t,n,r){var i=this.segments[this.segments.length-1];return e>ma.MAX_VERTEX_ARRAY_LENGTH&&C(`Max vertices per segment is `+ma.MAX_VERTEX_ARRAY_LENGTH+`: bucket requested `+e),(!i||i.vertexLength+e>ma.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==r)&&(i={vertexOffset:t.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},r!==void 0&&(i.sortKey=r),this.segments.push(i)),i},ma.prototype.get=function(){return this.segments},ma.prototype.destroy=function(){for(var e=0,t=this.segments;e<t.length;e+=1){var n=t[e];for(var r in n.vaos)n.vaos[r].destroy()}},ma.simpleSegment=function(e,t,n,r){return new ma([{vertexOffset:e,primitiveOffset:t,vertexLength:n,primitiveLength:r,vaos:{},sortKey:0}])},ma.MAX_VERTEX_ARRAY_LENGTH=2**16-1,U(`SegmentVector`,ma);var ga=Ni([{name:`a_pattern_from`,components:4,type:`Uint16`},{name:`a_pattern_to`,components:4,type:`Uint16`},{name:`a_pixel_ratio_from`,components:1,type:`Uint16`},{name:`a_pixel_ratio_to`,components:1,type:`Uint16`}]),_a=t((function(e){e.exports=function(e,t){var n,r,i,a,o,s,c,l;for(r=e.length-(n=3&e.length),i=t,o=3432918353,s=461845907,l=0;l<r;)c=255&e.charCodeAt(l)|(255&e.charCodeAt(++l))<<8|(255&e.charCodeAt(++l))<<16|(255&e.charCodeAt(++l))<<24,++l,i=27492+(65535&(a=5*(65535&(i=(i^=c=(65535&(c=(c=(65535&c)*o+(((c>>>16)*o&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(a>>>16)&65535)<<16);switch(c=0,n){case 3:c^=(255&e.charCodeAt(l+2))<<16;case 2:c^=(255&e.charCodeAt(l+1))<<8;case 1:i^=c=(65535&(c=(c=(65535&(c^=255&e.charCodeAt(l)))*o+(((c>>>16)*o&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}})),va=t((function(e){e.exports=function(e,t){for(var n,r=e.length,i=t^r,a=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++a;switch(r){case 3:i^=(255&e.charCodeAt(a+2))<<16;case 2:i^=(255&e.charCodeAt(a+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(a)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}})),ya=_a,ba=va;ya.murmur3=_a,ya.murmur2=ba;var xa=function(){this.ids=[],this.positions=[],this.indexed=!1};xa.prototype.add=function(e,t,n,r){this.ids.push(Ca(e)),this.positions.push(t,n,r)},xa.prototype.getPositions=function(e){for(var t=Ca(e),n=0,r=this.ids.length-1;n<r;){var i=n+r>>1;this.ids[i]>=t?r=i:n=i+1}for(var a=[];this.ids[n]===t;)a.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return a},xa.serialize=function(e,t){var n=new Float64Array(e.ids),r=new Uint32Array(e.positions);return function e(t,n,r,i){for(;r<i;){for(var a=t[r+i>>1],o=r-1,s=i+1;;){do o++;while(t[o]<a);do s--;while(t[s]>a);if(o>=s)break;wa(t,o,s),wa(n,3*o,3*s),wa(n,3*o+1,3*s+1),wa(n,3*o+2,3*s+2)}s-r<i-s?(e(t,n,r,s),r=s+1):(e(t,n,s+1,i),i=s)}}(n,r,0,n.length-1),t&&t.push(n.buffer,r.buffer),{ids:n,positions:r}},xa.deserialize=function(e){var t=new xa;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t};var Sa=2**53-1;function Ca(e){var t=+e;return!isNaN(t)&&t<=Sa?t:ya(String(e))}function wa(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}U(`FeaturePositionMap`,xa);var Ta=function(e,t){this.gl=e.gl,this.location=t},Ea=function(e){function t(t,n){e.call(this,t,n),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))},t}(Ta),Da=function(e){function t(t,n){e.call(this,t,n),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))},t}(Ta),Oa=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))},t}(Ta),ka=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))},t}(Ta),Aa=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))},t}(Ta),ja=function(e){function t(t,n){e.call(this,t,n),this.current=dt.transparent}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))},t}(Ta),Ma=new Float32Array(16),Na=function(e){function t(t,n){e.call(this,t,n),this.current=Ma}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(var t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}},t}(Ta);function Pa(e){return[ha(255*e.r,255*e.g),ha(255*e.b,255*e.a)]}var Fa=function(e,t,n){this.value=e,this.uniformNames=t.map((function(e){return`u_`+e})),this.type=n};Fa.prototype.setUniform=function(e,t,n){e.set(n.constantOr(this.value))},Fa.prototype.getBinding=function(e,t,n){return this.type===`color`?new ja(e,t):new Da(e,t)};var Ia=function(e,t){this.uniformNames=t.map((function(e){return`u_`+e})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Ia.prototype.setConstantPatternPositions=function(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr},Ia.prototype.setUniform=function(e,t,n,r){var i=r===`u_pattern_to`?this.patternTo:r===`u_pattern_from`?this.patternFrom:r===`u_pixel_ratio_to`?this.pixelRatioTo:r===`u_pixel_ratio_from`?this.pixelRatioFrom:null;i&&e.set(i)},Ia.prototype.getBinding=function(e,t,n){return n.substr(0,9)===`u_pattern`?new Aa(e,t):new Da(e,t)};var La=function(e,t,n,r){this.expression=e,this.type=n,this.maxValue=0,this.paintVertexAttributes=t.map((function(e){return{name:`a_`+e,type:`Float32`,components:n===`color`?2:1,offset:0}})),this.paintVertexArray=new r};La.prototype.populatePaintArray=function(e,t,n,r,i){var a=this.paintVertexArray.length,o=this.expression.evaluate(new gi(0),t,{},r,[],i);this.paintVertexArray.resize(e),this._setPaintValue(a,e,o)},La.prototype.updatePaintArray=function(e,t,n,r){var i=this.expression.evaluate({zoom:0},n,r);this._setPaintValue(e,t,i)},La.prototype._setPaintValue=function(e,t,n){if(this.type===`color`)for(var r=Pa(n),i=e;i<t;i++)this.paintVertexArray.emplace(i,r[0],r[1]);else{for(var a=e;a<t;a++)this.paintVertexArray.emplace(a,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}},La.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},La.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Ra=function(e,t,n,r,i,a){this.expression=e,this.uniformNames=t.map((function(e){return`u_`+e+`_t`})),this.type=n,this.useIntegerZoom=r,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=t.map((function(e){return{name:`a_`+e,type:`Float32`,components:n===`color`?4:2,offset:0}})),this.paintVertexArray=new a};Ra.prototype.populatePaintArray=function(e,t,n,r,i){var a=this.expression.evaluate(new gi(this.zoom),t,{},r,[],i),o=this.expression.evaluate(new gi(this.zoom+1),t,{},r,[],i),s=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(s,e,a,o)},Ra.prototype.updatePaintArray=function(e,t,n,r){var i=this.expression.evaluate({zoom:this.zoom},n,r),a=this.expression.evaluate({zoom:this.zoom+1},n,r);this._setPaintValue(e,t,i,a)},Ra.prototype._setPaintValue=function(e,t,n,r){if(this.type===`color`)for(var i=Pa(n),a=Pa(r),o=e;o<t;o++)this.paintVertexArray.emplace(o,i[0],i[1],a[0],a[1]);else{for(var s=e;s<t;s++)this.paintVertexArray.emplace(s,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}},Ra.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ra.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ra.prototype.setUniform=function(e,t){var n=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,r=u(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);e.set(r)},Ra.prototype.getBinding=function(e,t,n){return new Da(e,t)};var za=function(e,t,n,r,i,a){this.expression=e,this.type=t,this.useIntegerZoom=n,this.zoom=r,this.layerId=a,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i};za.prototype.populatePaintArray=function(e,t,n){var r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(r,e,t.patterns&&t.patterns[this.layerId],n)},za.prototype.updatePaintArray=function(e,t,n,r,i){this._setPaintValues(e,t,n.patterns&&n.patterns[this.layerId],i)},za.prototype._setPaintValues=function(e,t,n,r){if(r&&n){var i=r[n.min],a=r[n.mid],o=r[n.max];if(i&&a&&o)for(var s=e;s<t;s++)this.zoomInPaintVertexArray.emplace(s,a.tl[0],a.tl[1],a.br[0],a.br[1],i.tl[0],i.tl[1],i.br[0],i.br[1],a.pixelRatio,i.pixelRatio),this.zoomOutPaintVertexArray.emplace(s,a.tl[0],a.tl[1],a.br[0],a.br[1],o.tl[0],o.tl[1],o.br[0],o.br[1],a.pixelRatio,o.pixelRatio)}},za.prototype.upload=function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,ga.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,ga.members,this.expression.isStateDependent))},za.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Ba=function(e,t,n){this.binders={},this._buffers=[];var r=[];for(var i in e.paint._values)if(n(i)){var a=e.paint.get(i);if(a instanceof Ci&&Gn(a.property.specification)){var o=Ha(i,e.type),s=a.value,c=a.property.specification.type,l=a.property.useIntegerZoom,u=a.property.specification[`property-type`],d=u===`cross-faded`||u===`cross-faded-data-driven`;if(s.kind===`constant`)this.binders[i]=d?new Ia(s.value,o):new Fa(s.value,o,c),r.push(`/u_`+i);else if(s.kind===`source`||d){var f=Ua(i,c,`source`);this.binders[i]=d?new za(s,c,l,t,f,e.id):new La(s,o,c,f),r.push(`/a_`+i)}else{var p=Ua(i,c,`composite`);this.binders[i]=new Ra(s,o,c,l,t,p),r.push(`/z_`+i)}}}this.cacheKey=r.sort().join(``)};Ba.prototype.getMaxValue=function(e){var t=this.binders[e];return t instanceof La||t instanceof Ra?t.maxValue:0},Ba.prototype.populatePaintArrays=function(e,t,n,r,i){for(var a in this.binders){var o=this.binders[a];(o instanceof La||o instanceof Ra||o instanceof za)&&o.populatePaintArray(e,t,n,r,i)}},Ba.prototype.setConstantPatternPositions=function(e,t){for(var n in this.binders){var r=this.binders[n];r instanceof Ia&&r.setConstantPatternPositions(e,t)}},Ba.prototype.updatePaintArrays=function(e,t,n,r,i){var a=!1;for(var o in e)for(var s=0,c=t.getPositions(o);s<c.length;s+=1){var l=c[s],u=n.feature(l.index);for(var d in this.binders){var f=this.binders[d];(f instanceof La||f instanceof Ra||f instanceof za)&&!0===f.expression.isStateDependent&&(f.expression=r.paint.get(d).value,f.updatePaintArray(l.start,l.end,u,e[o],i),a=!0)}}return a},Ba.prototype.defines=function(){var e=[];for(var t in this.binders){var n=this.binders[t];(n instanceof Fa||n instanceof Ia)&&e.push.apply(e,n.uniformNames.map((function(e){return`#define HAS_UNIFORM_`+e})))}return e},Ba.prototype.getBinderAttributes=function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof La||n instanceof Ra)for(var r=0;r<n.paintVertexAttributes.length;r++)e.push(n.paintVertexAttributes[r].name);else if(n instanceof za)for(var i=0;i<ga.members.length;i++)e.push(ga.members[i].name)}return e},Ba.prototype.getBinderUniforms=function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof Fa||n instanceof Ia||n instanceof Ra)for(var r=0,i=n.uniformNames;r<i.length;r+=1)e.push(i[r])}return e},Ba.prototype.getPaintVertexBuffers=function(){return this._buffers},Ba.prototype.getUniforms=function(e,t){var n=[];for(var r in this.binders){var i=this.binders[r];if(i instanceof Fa||i instanceof Ia||i instanceof Ra)for(var a=0,o=i.uniformNames;a<o.length;a+=1){var s=o[a];if(t[s]){var c=i.getBinding(e,t[s],s);n.push({name:s,property:r,binding:c})}}}return n},Ba.prototype.setUniforms=function(e,t,n,r){for(var i=0,a=t;i<a.length;i+=1){var o=a[i],s=o.name,c=o.property;this.binders[c].setUniform(o.binding,r,n.get(c),s)}},Ba.prototype.updatePaintBuffers=function(e){for(var t in this._buffers=[],this.binders){var n=this.binders[t];if(e&&n instanceof za){var r=e.fromScale===2?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;r&&this._buffers.push(r)}else (n instanceof La||n instanceof Ra)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}},Ba.prototype.upload=function(e){for(var t in this.binders){var n=this.binders[t];(n instanceof La||n instanceof Ra||n instanceof za)&&n.upload(e)}this.updatePaintBuffers()},Ba.prototype.destroy=function(){for(var e in this.binders){var t=this.binders[e];(t instanceof La||t instanceof Ra||t instanceof za)&&t.destroy()}};var Va=function(e,t,n){n===void 0&&(n=function(){return!0}),this.programConfigurations={};for(var r=0,i=e;r<i.length;r+=1){var a=i[r];this.programConfigurations[a.id]=new Ba(a,t,n)}this.needsUpload=!1,this._featureMap=new xa,this._bufferOffset=0};function Ha(e,t){return{"text-opacity":[`opacity`],"icon-opacity":[`opacity`],"text-color":[`fill_color`],"icon-color":[`fill_color`],"text-halo-color":[`halo_color`],"icon-halo-color":[`halo_color`],"text-halo-blur":[`halo_blur`],"icon-halo-blur":[`halo_blur`],"text-halo-width":[`halo_width`],"icon-halo-width":[`halo_width`],"line-gap-width":[`gapwidth`],"line-pattern":[`pattern_to`,`pattern_from`,`pixel_ratio_to`,`pixel_ratio_from`],"fill-pattern":[`pattern_to`,`pattern_from`,`pixel_ratio_to`,`pixel_ratio_from`],"fill-extrusion-pattern":[`pattern_to`,`pattern_from`,`pixel_ratio_to`,`pixel_ratio_from`]}[e]||[e.replace(t+`-`,``).replace(/-/g,`_`)]}function Ua(e,t,n){var r={color:{source:zi,composite:na},number:{source:Zi,composite:zi}},i=function(e){return{"line-pattern":{source:Bi,composite:Bi},"fill-pattern":{source:Bi,composite:Bi},"fill-extrusion-pattern":{source:Bi,composite:Bi}}[e]}(e);return i&&i[n]||r[t][n]}Va.prototype.populatePaintArrays=function(e,t,n,r,i,a){for(var o in this.programConfigurations)this.programConfigurations[o].populatePaintArrays(e,t,r,i,a);t.id!==void 0&&this._featureMap.add(t.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0},Va.prototype.updatePaintArrays=function(e,t,n,r){for(var i=0,a=n;i<a.length;i+=1){var o=a[i];this.needsUpload=this.programConfigurations[o.id].updatePaintArrays(e,this._featureMap,t,o,r)||this.needsUpload}},Va.prototype.get=function(e){return this.programConfigurations[e]},Va.prototype.upload=function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}},Va.prototype.destroy=function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()},U(`ConstantBinder`,Fa),U(`CrossFadedConstantBinder`,Ia),U(`SourceExpressionBinder`,La),U(`CrossFadedCompositeBinder`,za),U(`CompositeExpressionBinder`,Ra),U(`ProgramConfiguration`,Ba,{omit:[`_buffers`]}),U(`ProgramConfigurationSet`,Va);var Wa=2**14-1,Ga=-Wa-1;function Ka(e){for(var t=8192/e.extent,n=e.loadGeometry(),r=0;r<n.length;r++)for(var i=n[r],a=0;a<i.length;a++){var o=i[a],s=Math.round(o.x*t),c=Math.round(o.y*t);o.x=u(s,Ga,Wa),o.y=u(c,Ga,Wa),(s<o.x||s>o.x+1||c<o.y||c>o.y+1)&&C(`Geometry exceeds allowed extent, reduce your vector tile buffer size`)}return n}function qa(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?Ka(e):[]}}function Ja(e,t,n,r,i){e.emplaceBack(2*t+(r+1)/2,2*n+(i+1)/2)}var Ya=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Fi,this.indexArray=new Ji,this.segments=new ma,this.programConfigurations=new Va(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function Xa(e,t){for(var n=0;n<e.length;n++)if(ao(t,e[n]))return!0;for(var r=0;r<t.length;r++)if(ao(e,t[r]))return!0;return!!eo(e,t)}function Za(e,t,n){return!!ao(e,t)||!!no(t,e,n)}function Qa(e,t){if(e.length===1)return io(t,e[0]);for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++)if(ao(e,r[i]))return!0;for(var a=0;a<e.length;a++)if(io(t,e[a]))return!0;for(var o=0;o<t.length;o++)if(eo(e,t[o]))return!0;return!1}function $a(e,t,n){if(e.length>1){if(eo(e,t))return!0;for(var r=0;r<t.length;r++)if(no(t[r],e,n))return!0}for(var i=0;i<e.length;i++)if(no(e[i],t,n))return!0;return!1}function eo(e,t){if(e.length===0||t.length===0)return!1;for(var n=0;n<e.length-1;n++)for(var r=e[n],i=e[n+1],a=0;a<t.length-1;a++)if(to(r,i,t[a],t[a+1]))return!0;return!1}function to(e,t,n,r){return w(e,n,r)!==w(t,n,r)&&w(e,t,n)!==w(e,t,r)}function no(e,t,n){var r=n*n;if(t.length===1)return e.distSqr(t[0])<r;for(var i=1;i<t.length;i++)if(ro(e,t[i-1],t[i])<r)return!0;return!1}function ro(e,t,n){var r=t.distSqr(n);if(r===0)return e.distSqr(t);var i=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return e.distSqr(i<0?t:i>1?n:n.sub(t)._mult(i)._add(t))}function io(e,t){for(var n,r,i,a=!1,o=0;o<e.length;o++)for(var s=0,c=(n=e[o]).length-1;s<n.length;c=s++)(r=n[s]).y>t.y!=(i=n[c]).y>t.y&&t.x<(i.x-r.x)*(t.y-r.y)/(i.y-r.y)+r.x&&(a=!a);return a}function ao(e,t){for(var n=!1,r=0,i=e.length-1;r<e.length;i=r++){var a=e[r],o=e[i];a.y>t.y!=o.y>t.y&&t.x<(o.x-a.x)*(t.y-a.y)/(o.y-a.y)+a.x&&(n=!n)}return n}function oo(e,t,n){var r=n[0],i=n[2];if(e.x<r.x&&t.x<r.x||e.x>i.x&&t.x>i.x||e.y<r.y&&t.y<r.y||e.y>i.y&&t.y>i.y)return!1;var a=w(e,t,n[0]);return a!==w(e,t,n[1])||a!==w(e,t,n[2])||a!==w(e,t,n[3])}function so(e,t,n){var r=t.paint.get(e).value;return r.kind===`constant`?r.value:n.programConfigurations.get(t.id).getMaxValue(e)}function co(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function lo(e,t,n,r,a){if(!t[0]&&!t[1])return e;var o=i.convert(t)._mult(a);n===`viewport`&&o._rotate(-r);for(var s=[],c=0;c<e.length;c++)s.push(e[c].sub(o));return s}Ya.prototype.populate=function(e,t,n){var r=this.layers[0],i=[],a=null;r.type===`circle`&&(a=r.layout.get(`circle-sort-key`));for(var o=0,s=e;o<s.length;o+=1){var c=s[o],l=c.feature,u=c.id,d=c.index,f=c.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,m=qa(l,p);if(this.layers[0]._featureFilter.filter(new gi(this.zoom),m,n)){var h=a?a.evaluate(m,{},n):void 0,g={id:u,properties:l.properties,type:l.type,sourceLayerIndex:f,index:d,geometry:p?m.geometry:Ka(l),patterns:{},sortKey:h};i.push(g)}}a&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var _=0,v=i;_<v.length;_+=1){var y=v[_],b=y.geometry,x=y.index,S=y.sourceLayerIndex,C=e[x].feature;this.addFeature(y,b,x,n),t.featureIndex.insert(C,b,x,S,this.index)}},Ya.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Ya.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ya.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ya.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,pa),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Ya.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ya.prototype.addFeature=function(e,t,n,r){for(var i=0,a=t;i<a.length;i+=1)for(var o=0,s=a[i];o<s.length;o+=1){var c=s[o],l=c.x,u=c.y;if(!(l<0||l>=8192||u<0||u>=8192)){var d=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),f=d.vertexLength;Ja(this.layoutVertexArray,l,u,-1,-1),Ja(this.layoutVertexArray,l,u,1,-1),Ja(this.layoutVertexArray,l,u,1,1),Ja(this.layoutVertexArray,l,u,-1,1),this.indexArray.emplaceBack(f,f+1,f+2),this.indexArray.emplaceBack(f,f+3,f+2),d.vertexLength+=4,d.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{},r)},U(`CircleBucket`,Ya,{omit:[`layers`]});var uo=new Oi({"circle-sort-key":new K(B.layout_circle[`circle-sort-key`])}),fo={paint:new Oi({"circle-radius":new K(B.paint_circle[`circle-radius`]),"circle-color":new K(B.paint_circle[`circle-color`]),"circle-blur":new K(B.paint_circle[`circle-blur`]),"circle-opacity":new K(B.paint_circle[`circle-opacity`]),"circle-translate":new G(B.paint_circle[`circle-translate`]),"circle-translate-anchor":new G(B.paint_circle[`circle-translate-anchor`]),"circle-pitch-scale":new G(B.paint_circle[`circle-pitch-scale`]),"circle-pitch-alignment":new G(B.paint_circle[`circle-pitch-alignment`]),"circle-stroke-width":new K(B.paint_circle[`circle-stroke-width`]),"circle-stroke-color":new K(B.paint_circle[`circle-stroke-color`]),"circle-stroke-opacity":new K(B.paint_circle[`circle-stroke-opacity`])}),layout:uo},po=typeof Float32Array<`u`?Float32Array:Array;function mo(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ho(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],l=t[6],u=t[7],d=t[8],f=t[9],p=t[10],m=t[11],h=t[12],g=t[13],_=t[14],v=t[15],y=n[0],b=n[1],x=n[2],S=n[3];return e[0]=y*r+b*s+x*d+S*h,e[1]=y*i+b*c+x*f+S*g,e[2]=y*a+b*l+x*p+S*_,e[3]=y*o+b*u+x*m+S*v,e[4]=(y=n[4])*r+(b=n[5])*s+(x=n[6])*d+(S=n[7])*h,e[5]=y*i+b*c+x*f+S*g,e[6]=y*a+b*l+x*p+S*_,e[7]=y*o+b*u+x*m+S*v,e[8]=(y=n[8])*r+(b=n[9])*s+(x=n[10])*d+(S=n[11])*h,e[9]=y*i+b*c+x*f+S*g,e[10]=y*a+b*l+x*p+S*_,e[11]=y*o+b*u+x*m+S*v,e[12]=(y=n[12])*r+(b=n[13])*s+(x=n[14])*d+(S=n[15])*h,e[13]=y*i+b*c+x*f+S*g,e[14]=y*a+b*l+x*p+S*_,e[15]=y*o+b*u+x*m+S*v,e}Math.hypot||(Math.hypot=function(){for(var e=arguments,t=0,n=arguments.length;n--;)t+=e[n]*e[n];return Math.sqrt(t)});var go,_o=ho;function vo(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}go=new po(3),po!=Float32Array&&(go[0]=0,go[1]=0,go[2]=0),function(){var e=new po(4);po!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0)}();var yo=(function(){var e=new po(2);po!=Float32Array&&(e[0]=0,e[1]=0)}(),function(e){function t(t){e.call(this,t,fo)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new Ya(e)},t.prototype.queryRadius=function(e){var t=e;return so(`circle-radius`,this,t)+so(`circle-stroke-width`,this,t)+co(this.paint.get(`circle-translate`))},t.prototype.queryIntersectsFeature=function(e,t,n,r,i,a,o,s){for(var c=lo(e,this.paint.get(`circle-translate`),this.paint.get(`circle-translate-anchor`),a.angle,o),l=this.paint.get(`circle-radius`).evaluate(t,n)+this.paint.get(`circle-stroke-width`).evaluate(t,n),u=this.paint.get(`circle-pitch-alignment`)===`map`,d=u?c:function(e,t){return e.map((function(e){return bo(e,t)}))}(c,s),f=u?l*o:l,p=0,m=r;p<m.length;p+=1)for(var h=0,g=m[p];h<g.length;h+=1){var _=g[h],v=u?_:bo(_,s),y=f,b=vo([],[_.x,_.y,0,1],s);if(this.paint.get(`circle-pitch-scale`)===`viewport`&&this.paint.get(`circle-pitch-alignment`)===`map`?y*=b[3]/a.cameraToCenterDistance:this.paint.get(`circle-pitch-scale`)===`map`&&this.paint.get(`circle-pitch-alignment`)===`viewport`&&(y*=a.cameraToCenterDistance/b[3]),Za(d,v,y))return!0}return!1},t}(ki));function bo(e,t){var n=vo([],[e.x,e.y,0,1],t);return new i(n[0]/n[3],n[1]/n[3])}var xo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Ya);function So(e,t,n,r){var i=t.width,a=t.height;if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==i*a*n)throw RangeError(`mismatched image size`)}else r=new Uint8Array(i*a*n);return e.width=i,e.height=a,e.data=r,e}function Co(e,t,n){var r=t.width,i=t.height;if(r!==e.width||i!==e.height){var a=So({},{width:r,height:i},n);wo(e,a,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,r),height:Math.min(e.height,i)},n),e.width=r,e.height=i,e.data=a.data}}function wo(e,t,n,r,i,a){if(i.width===0||i.height===0)return t;if(i.width>e.width||i.height>e.height||n.x>e.width-i.width||n.y>e.height-i.height)throw RangeError(`out of range source coordinates for image copy`);if(i.width>t.width||i.height>t.height||r.x>t.width-i.width||r.y>t.height-i.height)throw RangeError(`out of range destination coordinates for image copy`);for(var o=e.data,s=t.data,c=0;c<i.height;c++)for(var l=((n.y+c)*e.width+n.x)*a,u=((r.y+c)*t.width+r.x)*a,d=0;d<i.width*a;d++)s[u+d]=o[l+d];return t}U(`HeatmapBucket`,xo,{omit:[`layers`]});var To=function(e,t){So(this,e,1,t)};To.prototype.resize=function(e){Co(this,e,1)},To.prototype.clone=function(){return new To({width:this.width,height:this.height},new Uint8Array(this.data))},To.copy=function(e,t,n,r,i){wo(e,t,n,r,i,1)};var Eo=function(e,t){So(this,e,4,t)};Eo.prototype.resize=function(e){Co(this,e,4)},Eo.prototype.replace=function(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e},Eo.prototype.clone=function(){return new Eo({width:this.width,height:this.height},new Uint8Array(this.data))},Eo.copy=function(e,t,n,r,i){wo(e,t,n,r,i,4)},U(`AlphaImage`,To),U(`RGBAImage`,Eo);var Do={paint:new Oi({"heatmap-radius":new K(B.paint_heatmap[`heatmap-radius`]),"heatmap-weight":new K(B.paint_heatmap[`heatmap-weight`]),"heatmap-intensity":new G(B.paint_heatmap[`heatmap-intensity`]),"heatmap-color":new Di(B.paint_heatmap[`heatmap-color`]),"heatmap-opacity":new G(B.paint_heatmap[`heatmap-opacity`])})};function Oo(e){var t={},n=e.resolution||256,r=e.clips?e.clips.length:1,i=e.image||new Eo({width:n,height:r}),a=function(n,r,a){t[e.evaluationKey]=a;var o=e.expression.evaluate(t);i.data[n+r+0]=Math.floor(255*o.r/o.a),i.data[n+r+1]=Math.floor(255*o.g/o.a),i.data[n+r+2]=Math.floor(255*o.b/o.a),i.data[n+r+3]=Math.floor(255*o.a)};if(e.clips)for(var o=0,s=0;o<r;++o,s+=4*n)for(var c=0,l=0;c<n;c++,l+=4){var u=c/(n-1),d=e.clips[o];a(s,l,d.start*(1-u)+d.end*u)}else for(var f=0,p=0;f<n;f++,p+=4)a(0,p,f/(n-1));return i}var ko=function(e){function t(t){e.call(this,t,Do),this._updateColorRamp()}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new xo(e)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){e===`heatmap-color`&&this._updateColorRamp()},t.prototype._updateColorRamp=function(){this.colorRamp=Oo({expression:this._transitionablePaint._values[`heatmap-color`].value.expression,evaluationKey:`heatmapDensity`,image:this.colorRamp}),this.colorRampTexture=null},t.prototype.resize=function(){this.heatmapFbo&&=(this.heatmapFbo.destroy(),null)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype.hasOffscreenPass=function(){return this.paint.get(`heatmap-opacity`)!==0&&this.visibility!==`none`},t}(ki),Ao={paint:new Oi({"hillshade-illumination-direction":new G(B.paint_hillshade[`hillshade-illumination-direction`]),"hillshade-illumination-anchor":new G(B.paint_hillshade[`hillshade-illumination-anchor`]),"hillshade-exaggeration":new G(B.paint_hillshade[`hillshade-exaggeration`]),"hillshade-shadow-color":new G(B.paint_hillshade[`hillshade-shadow-color`]),"hillshade-highlight-color":new G(B.paint_hillshade[`hillshade-highlight-color`]),"hillshade-accent-color":new G(B.paint_hillshade[`hillshade-accent-color`])})},jo=function(e){function t(t){e.call(this,t,Ao)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.hasOffscreenPass=function(){return this.paint.get(`hillshade-exaggeration`)!==0&&this.visibility!==`none`},t}(ki),Mo=Ni([{name:`a_pos`,components:2,type:`Int16`}],4).members,No=Fo,Po=Fo;function Fo(e,t,n){n||=2;var r,i,a,o,s,c,l,u=t&&t.length,d=u?t[0]*n:e.length,f=Io(e,0,d,n,!0),p=[];if(!f||f.next===f.prev)return p;if(u&&(f=function(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=Io(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(qo(o));for(s.sort(Uo),i=0;i<s.length;i++)Wo(s[i],n),n=Lo(n,n.next);return n}(e,t,f,n)),e.length>80*n){r=a=e[0],i=o=e[1];for(var m=n;m<d;m+=n)(s=e[m])<r&&(r=s),(c=e[m+1])<i&&(i=c),s>a&&(a=s),c>o&&(o=c);l=(l=Math.max(a-r,o-i))===0?0:1/l}return Ro(f,p,n,r,i,l),p}function Io(e,t,n,r,i){var a,o;if(i===cs(e,t,n,r)>0)for(a=t;a<n;a+=r)o=rs(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=rs(a,e[a],e[a+1],o);return o&&Zo(o,o.next)&&(os(o),o=o.next),o}function Lo(e,t){if(!e)return e;t||=e;var n,r=e;do if(n=!1,r.steiner||!Zo(r,r.next)&&Xo(r.prev,r,r.next)!==0)r=r.next;else{if(os(r),(r=t=r.prev)===r.next)break;n=!0}while(n||r!==t);return t}function Ro(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do i.z===null&&(i.z=Ko(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,c,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(c=l;s>0||c>0&&r;)s!==0&&(c===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,c--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1)}(i)}(e,r,i,a);for(var s,c,l=e;e.prev!==e.next;)if(s=e.prev,c=e.next,a?Bo(e,r,i,a):zo(e))t.push(s.i/n),t.push(e.i/n),t.push(c.i/n),os(e),e=c.next,l=c.next;else if((e=c)===l){o?o===1?Ro(e=Vo(Lo(e),t,n),t,n,r,i,a,2):o===2&&Ho(e,t,n,r,i,a):Ro(Lo(e),t,n,r,i,a,1);break}}}function zo(e){var t=e.prev,n=e,r=e.next;if(Xo(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Jo(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Xo(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Bo(e,t,n,r){var i=e.prev,a=e,o=e.next;if(Xo(i,a,o)>=0)return!1;for(var s=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,c=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,l=Ko(i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,t,n,r),u=Ko(s,c,t,n,r),d=e.prevZ,f=e.nextZ;d&&d.z>=l&&f&&f.z<=u;){if(d!==e.prev&&d!==e.next&&Jo(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Xo(d.prev,d,d.next)>=0||(d=d.prevZ,f!==e.prev&&f!==e.next&&Jo(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Xo(f.prev,f,f.next)>=0))return!1;f=f.nextZ}for(;d&&d.z>=l;){if(d!==e.prev&&d!==e.next&&Jo(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Xo(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;f&&f.z<=u;){if(f!==e.prev&&f!==e.next&&Jo(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Xo(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function Vo(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!Zo(i,a)&&Qo(i,r,r.next,a)&&ts(i,a)&&ts(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),os(r),os(r.next),r=e=a),r=r.next}while(r!==e);return Lo(r)}function Ho(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Yo(o,s)){var c=ns(o,s);o=Lo(o,o.next),c=Lo(c,c.next),Ro(o,t,n,r,i,a),Ro(c,t,n,r,i,a);return}s=s.next}o=o.next}while(o!==e)}function Uo(e,t){return e.x-t.x}function Wo(e,t){if(t=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n;var c,l=n,u=n.x,d=n.y,f=1/0;r=n;do i>=r.x&&r.x>=u&&i!==r.x&&Jo(a<d?i:o,a,u,d,a<d?o:i,a,r.x,r.y)&&(c=Math.abs(a-r.y)/(i-r.x),ts(r,e)&&(c<f||c===f&&(r.x>n.x||r.x===n.x&&Go(n,r)))&&(n=r,f=c)),r=r.next;while(r!==l);return n}(e,t)){var n=ns(t,e);Lo(t,t.next),Lo(n,n.next)}}function Go(e,t){return Xo(e.prev,e,t.prev)<0&&Xo(t.next,e,e.next)<0}function Ko(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function qo(e){var t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function Jo(e,t,n,r,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function Yo(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Qo(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(ts(e,t)&&ts(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}(e,t)&&(Xo(e.prev,e,t.prev)||Xo(e,t.prev,t))||Zo(e,t)&&Xo(e.prev,e,e.next)>0&&Xo(t.prev,t,t.next)>0)}function Xo(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Zo(e,t){return e.x===t.x&&e.y===t.y}function Qo(e,t,n,r){var i=es(Xo(e,t,n)),a=es(Xo(e,t,r)),o=es(Xo(n,r,e)),s=es(Xo(n,r,t));return i!==a&&o!==s||!(i!==0||!$o(e,n,t))||!(a!==0||!$o(e,r,t))||!(o!==0||!$o(n,e,r))||!(s!==0||!$o(n,t,r))}function $o(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function es(e){return e>0?1:e<0?-1:0}function ts(e,t){return Xo(e.prev,e,e.next)<0?Xo(e,t,e.next)>=0&&Xo(e,e.prev,t)>=0:Xo(e,t,e.prev)<0||Xo(e,e.next,t)<0}function ns(e,t){var n=new ss(e.i,e.x,e.y),r=new ss(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function rs(e,t,n,r){var i=new ss(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function os(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function ss(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function cs(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}function ls(e,t,n,r,i){(function e(t,n,r,i,a){for(;i>r;){if(i-r>600){var o=i-r+1,s=n-r+1,c=Math.log(o),l=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*l*(o-l)/o)*(s-o/2<0?-1:1);e(t,n,Math.max(r,Math.floor(n-s*l/o+u)),Math.min(i,Math.floor(n+(o-s)*l/o+u)),a)}var d=t[n],f=r,p=i;for(us(t,r,n),a(t[i],d)>0&&us(t,r,i);f<p;){for(us(t,f,p),f++,p--;a(t[f],d)<0;)f++;for(;a(t[p],d)>0;)p--}a(t[r],d)===0?us(t,r,p):us(t,++p,i),p<=n&&(r=p+1),n<=p&&(i=p-1)}})(e,t,n||0,r||e.length-1,i||ds)}function us(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function ds(e,t){return e<t?-1:e>t?1:0}function fs(e,t){var n=e.length;if(n<=1)return[e];for(var r,i,a=[],o=0;o<n;o++){var s=T(e[o]);s!==0&&(e[o].area=Math.abs(s),i===void 0&&(i=s<0),i===s<0?(r&&a.push(r),r=[e[o]]):r.push(e[o]))}if(r&&a.push(r),t>1)for(var c=0;c<a.length;c++)a[c].length<=t||(ls(a[c],t,1,a[c].length-1,ps),a[c]=a[c].slice(0,t));return a}function ps(e,t){return t.area-e.area}function ms(e,t,n){for(var r=n.patternDependencies,i=!1,a=0,o=t;a<o.length;a+=1){var s=o[a].paint.get(e+`-pattern`);s.isConstant()||(i=!0);var c=s.constantOr(null);c&&(i=!0,r[c.to]=!0,r[c.from]=!0)}return i}function hs(e,t,n,r,i){for(var a=i.patternDependencies,o=0,s=t;o<s.length;o+=1){var c=s[o],l=c.paint.get(e+`-pattern`).value;if(l.kind!==`constant`){var u=l.evaluate({zoom:r-1},n,{},i.availableImages),d=l.evaluate({zoom:r},n,{},i.availableImages),f=l.evaluate({zoom:r+1},n,{},i.availableImages);d=d&&d.name?d.name:d,f=f&&f.name?f.name:f,a[u=u&&u.name?u.name:u]=!0,a[d]=!0,a[f]=!0,n.patterns[c.id]={min:u,mid:d,max:f}}}return n}Fo.deviation=function(e,t,n,r){var i=t&&t.length,a=Math.abs(cs(e,0,i?t[0]*n:e.length,n));if(i)for(var o=0,s=t.length;o<s;o++)a-=Math.abs(cs(e,t[o]*n,o<s-1?t[o+1]*n:e.length,n));var c=0;for(o=0;o<r.length;o+=3){var l=r[o]*n,u=r[o+1]*n,d=r[o+2]*n;c+=Math.abs((e[l]-e[d])*(e[u+1]-e[l+1])-(e[l]-e[u])*(e[d+1]-e[l+1]))}return a===0&&c===0?0:Math.abs((c-a)/a)},Fo.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)n.vertices.push(e[i][a][o]);i>0&&n.holes.push(r+=e[i-1].length)}return n},No.default=Po;var gs=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Fi,this.indexArray=new Ji,this.indexArray2=new ea,this.programConfigurations=new Va(e.layers,e.zoom),this.segments=new ma,this.segments2=new ma,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};gs.prototype.populate=function(e,t,n){this.hasPattern=ms(`fill`,this.layers,t);for(var r=this.layers[0].layout.get(`fill-sort-key`),i=[],a=0,o=e;a<o.length;a+=1){var s=o[a],c=s.feature,l=s.id,u=s.index,d=s.sourceLayerIndex,f=this.layers[0]._featureFilter.needGeometry,p=qa(c,f);if(this.layers[0]._featureFilter.filter(new gi(this.zoom),p,n)){var m=r?r.evaluate(p,{},n,t.availableImages):void 0,h={id:l,properties:c.properties,type:c.type,sourceLayerIndex:d,index:u,geometry:f?p.geometry:Ka(c),patterns:{},sortKey:m};i.push(h)}}r&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var g=0,_=i;g<_.length;g+=1){var v=_[g],y=v.geometry,b=v.index,x=v.sourceLayerIndex;if(this.hasPattern){var S=hs(`fill`,this.layers,v,this.zoom,t);this.patternFeatures.push(S)}else this.addFeature(v,y,b,n,{});t.featureIndex.insert(e[b].feature,y,b,x,this.index)}},gs.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},gs.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var a=i[r];this.addFeature(a,a.geometry,a.index,t,n)}},gs.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},gs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},gs.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Mo),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0},gs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},gs.prototype.addFeature=function(e,t,n,r,i){for(var a=0,o=fs(t,500);a<o.length;a+=1){for(var s=o[a],c=0,l=0,u=s;l<u.length;l+=1)c+=u[l].length;for(var d=this.segments.prepareSegment(c,this.layoutVertexArray,this.indexArray),f=d.vertexLength,p=[],m=[],h=0,g=s;h<g.length;h+=1){var _=g[h];if(_.length!==0){_!==s[0]&&m.push(p.length/2);var v=this.segments2.prepareSegment(_.length,this.layoutVertexArray,this.indexArray2),y=v.vertexLength;this.layoutVertexArray.emplaceBack(_[0].x,_[0].y),this.indexArray2.emplaceBack(y+_.length-1,y),p.push(_[0].x),p.push(_[0].y);for(var b=1;b<_.length;b++)this.layoutVertexArray.emplaceBack(_[b].x,_[b].y),this.indexArray2.emplaceBack(y+b-1,y+b),p.push(_[b].x),p.push(_[b].y);v.vertexLength+=_.length,v.primitiveLength+=_.length}}for(var x=No(p,m),S=0;S<x.length;S+=3)this.indexArray.emplaceBack(f+x[S],f+x[S+1],f+x[S+2]);d.vertexLength+=c,d.primitiveLength+=x.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},U(`FillBucket`,gs,{omit:[`layers`,`patternFeatures`]});var _s=new Oi({"fill-sort-key":new K(B.layout_fill[`fill-sort-key`])}),vs={paint:new Oi({"fill-antialias":new G(B.paint_fill[`fill-antialias`]),"fill-opacity":new K(B.paint_fill[`fill-opacity`]),"fill-color":new K(B.paint_fill[`fill-color`]),"fill-outline-color":new K(B.paint_fill[`fill-outline-color`]),"fill-translate":new G(B.paint_fill[`fill-translate`]),"fill-translate-anchor":new G(B.paint_fill[`fill-translate-anchor`]),"fill-pattern":new Ti(B.paint_fill[`fill-pattern`])}),layout:_s},ys=function(e){function t(t){e.call(this,t,vs)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(t,n){e.prototype.recalculate.call(this,t,n);var r=this.paint._values[`fill-outline-color`];r.value.kind===`constant`&&r.value.value===void 0&&(this.paint._values[`fill-outline-color`]=this.paint._values[`fill-color`])},t.prototype.createBucket=function(e){return new gs(e)},t.prototype.queryRadius=function(){return co(this.paint.get(`fill-translate`))},t.prototype.queryIntersectsFeature=function(e,t,n,r,i,a,o){return Qa(lo(e,this.paint.get(`fill-translate`),this.paint.get(`fill-translate-anchor`),a.angle,o),r)},t.prototype.isTileClipped=function(){return!0},t}(ki),bs=Ni([{name:`a_pos`,components:2,type:`Int16`},{name:`a_normal_ed`,components:4,type:`Int16`}],4).members,xs=Ss;function Ss(e,t,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=i,e.readFields(Cs,this,t)}function Cs(e,t,n){e==1?t.id=n.readVarint():e==2?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):e==3?t.type=n.readVarint():e==4&&(t._geometry=n.pos)}function ws(e){for(var t,n,r=0,i=0,a=e.length,o=a-1;i<a;o=i++)r+=((n=e[o]).x-(t=e[i]).x)*(t.y+n.y);return r}Ss.types=[`Unknown`,`Point`,`LineString`,`Polygon`],Ss.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,a=0,o=0,s=0,c=[];e.pos<n;){if(a<=0){var l=e.readVarint();r=7&l,a=l>>3}if(a--,r===1||r===2)o+=e.readSVarint(),s+=e.readSVarint(),r===1&&(t&&c.push(t),t=[]),t.push(new i(o,s));else{if(r!==7)throw Error(`unknown command `+r);t&&t.push(t[0].clone())}}return t&&c.push(t),c},Ss.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,a=0,o=1/0,s=-1/0,c=1/0,l=-1/0;e.pos<t;){if(r<=0){var u=e.readVarint();n=7&u,r=u>>3}if(r--,n===1||n===2)(i+=e.readSVarint())<o&&(o=i),i>s&&(s=i),(a+=e.readSVarint())<c&&(c=a),a>l&&(l=a);else if(n!==7)throw Error(`unknown command `+n)}return[o,c,s,l]},Ss.prototype.toGeoJSON=function(e,t,n){var r,i,a=this.extent*2**n,o=this.extent*e,s=this.extent*t,c=this.loadGeometry(),l=Ss.types[this.type];function u(e){for(var t=0;t<e.length;t++){var n=e[t];e[t]=[360*(n.x+o)/a-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/a)*Math.PI/180))-90]}}switch(this.type){case 1:var d=[];for(r=0;r<c.length;r++)d[r]=c[r][0];u(c=d);break;case 2:for(r=0;r<c.length;r++)u(c[r]);break;case 3:for(c=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],a=0;a<t;a++){var o=ws(e[a]);o!==0&&(r===void 0&&(r=o<0),r===o<0?(n&&i.push(n),n=[e[a]]):n.push(e[a]))}return n&&i.push(n),i}(c),r=0;r<c.length;r++)for(i=0;i<c[r].length;i++)u(c[r][i])}c.length===1?c=c[0]:l=`Multi`+l;var f={type:`Feature`,geometry:{type:l,coordinates:c},properties:this.properties};return`id`in this&&(f.id=this.id),f};var Ts=Es;function Es(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(Ds,this,t),this.length=this._features.length}function Ds(e,t,n){e===15?t.version=n.readVarint():e===1?t.name=n.readString():e===5?t.extent=n.readVarint():e===2?t._features.push(n.pos):e===3?t._keys.push(n.readString()):e===4&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=r===1?e.readString():r===2?e.readFloat():r===3?e.readDouble():r===4?e.readVarint64():r===5?e.readVarint():r===6?e.readSVarint():r===7?e.readBoolean():null}return t}(n))}function Os(e,t,n){if(e===3){var r=new Ts(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}Es.prototype.feature=function(e){if(e<0||e>=this._features.length)throw Error(`feature index out of bounds`);this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new xs(this._pbf,t,this.extent,this._keys,this._values)};var ks={VectorTile:function(e,t){this.layers=e.readFields(Os,{},t)},VectorTileFeature:xs,VectorTileLayer:Ts},As=ks.VectorTileFeature.types,js=2**13;function Ms(e,t,n,r,i,a,o,s){e.emplaceBack(t,n,2*Math.floor(r*js)+o,i*js*2,a*js*2,Math.round(s))}var Ns=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Li,this.indexArray=new Ji,this.programConfigurations=new Va(e.layers,e.zoom),this.segments=new ma,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function Ps(e,t){return e.x===t.x&&(e.x<0||e.x>8192)||e.y===t.y&&(e.y<0||e.y>8192)}Ns.prototype.populate=function(e,t,n){this.features=[],this.hasPattern=ms(`fill-extrusion`,this.layers,t);for(var r=0,i=e;r<i.length;r+=1){var a=i[r],o=a.feature,s=a.id,c=a.index,l=a.sourceLayerIndex,u=this.layers[0]._featureFilter.needGeometry,d=qa(o,u);if(this.layers[0]._featureFilter.filter(new gi(this.zoom),d,n)){var f={id:s,sourceLayerIndex:l,index:c,geometry:u?d.geometry:Ka(o),properties:o.properties,type:o.type,patterns:{}};this.hasPattern?this.features.push(hs(`fill-extrusion`,this.layers,f,this.zoom,t)):this.addFeature(f,f.geometry,c,n,{}),t.featureIndex.insert(o,f.geometry,c,l,this.index,!0)}}},Ns.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.features;r<i.length;r+=1){var a=i[r];this.addFeature(a,a.geometry,a.index,t,n)}},Ns.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Ns.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ns.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ns.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,bs),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Ns.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ns.prototype.addFeature=function(e,t,n,r,i){for(var a=0,o=fs(t,500);a<o.length;a+=1){for(var s=o[a],c=0,l=0,u=s;l<u.length;l+=1)c+=u[l].length;for(var d=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),f=0,p=s;f<p.length;f+=1){var m=p[f];if(m.length!==0&&!((M=m).every((function(e){return e.x<0}))||M.every((function(e){return e.x>8192}))||M.every((function(e){return e.y<0}))||M.every((function(e){return e.y>8192}))))for(var h=0,g=0;g<m.length;g++){var _=m[g];if(g>=1){var v=m[g-1];if(!Ps(_,v)){d.vertexLength+4>ma.MAX_VERTEX_ARRAY_LENGTH&&(d=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var y=_.sub(v)._perp()._unit(),b=v.dist(_);h+b>32768&&(h=0),Ms(this.layoutVertexArray,_.x,_.y,y.x,y.y,0,0,h),Ms(this.layoutVertexArray,_.x,_.y,y.x,y.y,0,1,h),Ms(this.layoutVertexArray,v.x,v.y,y.x,y.y,0,0,h+=b),Ms(this.layoutVertexArray,v.x,v.y,y.x,y.y,0,1,h);var x=d.vertexLength;this.indexArray.emplaceBack(x,x+2,x+1),this.indexArray.emplaceBack(x+1,x+2,x+3),d.vertexLength+=4,d.primitiveLength+=2}}}}if(d.vertexLength+c>ma.MAX_VERTEX_ARRAY_LENGTH&&(d=this.segments.prepareSegment(c,this.layoutVertexArray,this.indexArray)),As[e.type]===`Polygon`){for(var S=[],C=[],w=d.vertexLength,T=0,E=s;T<E.length;T+=1){var D=E[T];if(D.length!==0){D!==s[0]&&C.push(S.length/2);for(var O=0;O<D.length;O++){var k=D[O];Ms(this.layoutVertexArray,k.x,k.y,0,0,1,1,0),S.push(k.x),S.push(k.y)}}}for(var A=No(S,C),j=0;j<A.length;j+=3)this.indexArray.emplaceBack(w+A[j],w+A[j+2],w+A[j+1]);d.primitiveLength+=A.length/3,d.vertexLength+=c}}var M;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},U(`FillExtrusionBucket`,Ns,{omit:[`layers`,`features`]});var Fs={paint:new Oi({"fill-extrusion-opacity":new G(B[`paint_fill-extrusion`][`fill-extrusion-opacity`]),"fill-extrusion-color":new K(B[`paint_fill-extrusion`][`fill-extrusion-color`]),"fill-extrusion-translate":new G(B[`paint_fill-extrusion`][`fill-extrusion-translate`]),"fill-extrusion-translate-anchor":new G(B[`paint_fill-extrusion`][`fill-extrusion-translate-anchor`]),"fill-extrusion-pattern":new Ti(B[`paint_fill-extrusion`][`fill-extrusion-pattern`]),"fill-extrusion-height":new K(B[`paint_fill-extrusion`][`fill-extrusion-height`]),"fill-extrusion-base":new K(B[`paint_fill-extrusion`][`fill-extrusion-base`]),"fill-extrusion-vertical-gradient":new G(B[`paint_fill-extrusion`][`fill-extrusion-vertical-gradient`])})},Is=function(e){function t(t){e.call(this,t,Fs)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new Ns(e)},t.prototype.queryRadius=function(){return co(this.paint.get(`fill-extrusion-translate`))},t.prototype.is3D=function(){return!0},t.prototype.queryIntersectsFeature=function(e,t,n,r,a,o,s,c){var l=lo(e,this.paint.get(`fill-extrusion-translate`),this.paint.get(`fill-extrusion-translate-anchor`),o.angle,s),u=this.paint.get(`fill-extrusion-height`).evaluate(t,n),d=this.paint.get(`fill-extrusion-base`).evaluate(t,n),f=function(e,t,n,r){for(var a=[],o=0,s=e;o<s.length;o+=1){var c=s[o],l=[c.x,c.y,0,1];vo(l,l,t),a.push(new i(l[0]/l[3],l[1]/l[3]))}return a}(l,c),p=function(e,t,n,r){for(var a=[],o=[],s=r[8]*t,c=r[9]*t,l=r[10]*t,u=r[11]*t,d=r[8]*n,f=r[9]*n,p=r[10]*n,m=r[11]*n,h=0,g=e;h<g.length;h+=1){for(var _=[],v=[],y=0,b=g[h];y<b.length;y+=1){var x=b[y],S=x.x,C=x.y,w=r[0]*S+r[4]*C+r[12],T=r[1]*S+r[5]*C+r[13],E=r[2]*S+r[6]*C+r[14],D=r[3]*S+r[7]*C+r[15],O=E+l,k=D+u,A=w+d,j=T+f,M=E+p,N=D+m,P=new i((w+s)/k,(T+c)/k);P.z=O/k,_.push(P);var F=new i(A/N,j/N);F.z=M/N,v.push(F)}a.push(_),o.push(v)}return[a,o]}(r,d,u,c);return function(e,t,n){var r=1/0;Qa(n,t)&&(r=Rs(n,t[0]));for(var i=0;i<t.length;i++)for(var a=t[i],o=e[i],s=0;s<a.length-1;s++){var c=a[s],l=[c,a[s+1],o[s+1],o[s],c];Xa(n,l)&&(r=Math.min(r,Rs(n,l)))}return r!==1/0&&r}(p[0],p[1],f)},t}(ki);function Ls(e,t){return e.x*t.x+e.y*t.y}function Rs(e,t){if(e.length===1){for(var n,r=0,i=t[r++];!n||i.equals(n);)if(!(n=t[r++]))return 1/0;for(;r<t.length;r++){var a=t[r],o=e[0],s=n.sub(i),c=a.sub(i),l=o.sub(i),u=Ls(s,s),d=Ls(s,c),f=Ls(c,c),p=Ls(l,s),m=Ls(l,c),h=u*f-d*d,g=(f*p-d*m)/h,_=(u*m-d*p)/h,v=i.z*(1-g-_)+n.z*g+a.z*_;if(isFinite(v))return v}return 1/0}for(var y=1/0,b=0,x=t;b<x.length;b+=1)y=Math.min(y,x[b].z);return y}var zs=Ni([{name:`a_pos_normal`,components:2,type:`Int16`},{name:`a_data`,components:4,type:`Uint8`}],4).members,Bs=Ni([{name:`a_uv_x`,components:1,type:`Float32`},{name:`a_split_index`,components:1,type:`Float32`}]).members,Vs=ks.VectorTileFeature.types,Hs=Math.cos(Math.PI/180*37.5),Us=2**14/.5,Ws=function(e){var t=this;this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((function(e){t.gradients[e.id]={}})),this.layoutVertexArray=new Ri,this.layoutVertexArray2=new zi,this.indexArray=new Ji,this.programConfigurations=new Va(e.layers,e.zoom),this.segments=new ma,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};Ws.prototype.populate=function(e,t,n){this.hasPattern=ms(`line`,this.layers,t);for(var r=this.layers[0].layout.get(`line-sort-key`),i=[],a=0,o=e;a<o.length;a+=1){var s=o[a],c=s.feature,l=s.id,u=s.index,d=s.sourceLayerIndex,f=this.layers[0]._featureFilter.needGeometry,p=qa(c,f);if(this.layers[0]._featureFilter.filter(new gi(this.zoom),p,n)){var m=r?r.evaluate(p,{},n):void 0,h={id:l,properties:c.properties,type:c.type,sourceLayerIndex:d,index:u,geometry:f?p.geometry:Ka(c),patterns:{},sortKey:m};i.push(h)}}r&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var g=0,_=i;g<_.length;g+=1){var v=_[g],y=v.geometry,b=v.index,x=v.sourceLayerIndex;if(this.hasPattern){var S=hs(`line`,this.layers,v,this.zoom,t);this.patternFeatures.push(S)}else this.addFeature(v,y,b,n,{});t.featureIndex.insert(e[b].feature,y,b,x,this.index)}},Ws.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Ws.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var a=i[r];this.addFeature(a,a.geometry,a.index,t,n)}},Ws.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ws.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ws.prototype.upload=function(e){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Bs)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,zs),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Ws.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ws.prototype.lineFeatureClips=function(e){if(e.properties&&e.properties.hasOwnProperty(`mapbox_clip_start`)&&e.properties.hasOwnProperty(`mapbox_clip_end`))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}},Ws.prototype.addFeature=function(e,t,n,r,i){var a=this.layers[0].layout,o=a.get(`line-join`).evaluate(e,{}),s=a.get(`line-cap`),c=a.get(`line-miter-limit`),l=a.get(`line-round-limit`);this.lineClips=this.lineFeatureClips(e);for(var u=0,d=t;u<d.length;u+=1)this.addLine(d[u],e,o,s,c,l);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},Ws.prototype.addLine=function(e,t,n,r,i,a){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var o=0;o<e.length-1;o++)this.totalDistance+=e[o].dist(e[o+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var s=Vs[t.type]===`Polygon`,c=e.length;c>=2&&e[c-1].equals(e[c-2]);)c--;for(var l=0;l<c-1&&e[l].equals(e[l+1]);)l++;if(!(c<(s?3:2))){n===`bevel`&&(i=1.05);var u,d=this.overscaling<=16?122880/(512*this.overscaling):0,f=this.segments.prepareSegment(10*c,this.layoutVertexArray,this.indexArray),p=void 0,m=void 0,h=void 0,g=void 0;this.e1=this.e2=-1,s&&(g=e[l].sub(u=e[c-2])._unit()._perp());for(var _=l;_<c;_++)if(!(m=_===c-1?s?e[l+1]:void 0:e[_+1])||!e[_].equals(m)){g&&(h=g),u&&(p=u),u=e[_],g=m?m.sub(u)._unit()._perp():h;var v=(h||=g).add(g);v.x===0&&v.y===0||v._unit();var y=h.x*g.x+h.y*g.y,b=v.x*g.x+v.y*g.y,x=b===0?1/0:1/b,S=2*Math.sqrt(2-2*b),C=b<Hs&&p&&m,w=h.x*g.y-h.y*g.x>0;if(C&&_>l){var T=u.dist(p);if(T>2*d){var E=u.sub(u.sub(p)._mult(d/T)._round());this.updateDistance(p,E),this.addCurrentVertex(E,h,0,0,f),p=E}}var D=p&&m,O=D?n:s?`butt`:r;if(D&&O===`round`&&(x<a?O=`miter`:x<=2&&(O=`fakeround`)),O===`miter`&&x>i&&(O=`bevel`),O===`bevel`&&(x>2&&(O=`flipbevel`),x<i&&(O=`miter`)),p&&this.updateDistance(p,u),O===`miter`)v._mult(x),this.addCurrentVertex(u,v,0,0,f);else if(O===`flipbevel`){if(x>100)v=g.mult(-1);else{var k=x*h.add(g).mag()/h.sub(g).mag();v._perp()._mult(k*(w?-1:1))}this.addCurrentVertex(u,v,0,0,f),this.addCurrentVertex(u,v.mult(-1),0,0,f)}else if(O===`bevel`||O===`fakeround`){var A=-Math.sqrt(x*x-1),j=w?A:0,M=w?0:A;if(p&&this.addCurrentVertex(u,h,j,M,f),O===`fakeround`)for(var N=Math.round(180*S/Math.PI/20),P=1;P<N;P++){var F=P/N;if(F!==.5){var ee=F-.5;F+=F*ee*(F-1)*((1.0904+y*(y*(3.55645-1.43519*y)-3.2452))*ee*ee+(.848013+y*(.215638*y-1.06021)))}var I=g.sub(h)._mult(F)._add(h)._unit()._mult(w?-1:1);this.addHalfVertex(u,I.x,I.y,!1,w,0,f)}m&&this.addCurrentVertex(u,g,-j,-M,f)}else if(O===`butt`)this.addCurrentVertex(u,v,0,0,f);else if(O===`square`){var te=p?1:-1;this.addCurrentVertex(u,v,te,te,f)}else O===`round`&&(p&&(this.addCurrentVertex(u,h,0,0,f),this.addCurrentVertex(u,h,1,1,f,!0)),m&&(this.addCurrentVertex(u,g,-1,-1,f,!0),this.addCurrentVertex(u,g,0,0,f)));if(C&&_<c-1){var L=u.dist(m);if(L>2*d){var ne=u.add(m.sub(u)._mult(d/L)._round());this.updateDistance(u,ne),this.addCurrentVertex(ne,g,0,0,f),u=ne}}}}},Ws.prototype.addCurrentVertex=function(e,t,n,r,i,a){a===void 0&&(a=!1);var o=t.y*r-t.x,s=-t.y-t.x*r;this.addHalfVertex(e,t.x+t.y*n,t.y-t.x*n,a,!1,n,i),this.addHalfVertex(e,o,s,a,!0,-r,i),this.distance>Us/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(e,t,n,r,i,a))},Ws.prototype.addHalfVertex=function(e,t,n,r,i,a,o){var s=.5*(this.lineClips?this.scaledDistance*(Us-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((e.x<<1)+(r?1:0),(e.y<<1)+(i?1:0),Math.round(63*t)+128,Math.round(63*n)+128,1+(a===0?0:a<0?-1:1)|(63&s)<<2,s>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var c=o.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,c),o.primitiveLength++),i?this.e2=c:this.e1=c},Ws.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Ws.prototype.updateDistance=function(e,t){this.distance+=e.dist(t),this.updateScaledDistance()},U(`LineBucket`,Ws,{omit:[`layers`,`patternFeatures`]});var Gs=new Oi({"line-cap":new G(B.layout_line[`line-cap`]),"line-join":new K(B.layout_line[`line-join`]),"line-miter-limit":new G(B.layout_line[`line-miter-limit`]),"line-round-limit":new G(B.layout_line[`line-round-limit`]),"line-sort-key":new K(B.layout_line[`line-sort-key`])}),Ks={paint:new Oi({"line-opacity":new K(B.paint_line[`line-opacity`]),"line-color":new K(B.paint_line[`line-color`]),"line-translate":new G(B.paint_line[`line-translate`]),"line-translate-anchor":new G(B.paint_line[`line-translate-anchor`]),"line-width":new K(B.paint_line[`line-width`]),"line-gap-width":new K(B.paint_line[`line-gap-width`]),"line-offset":new K(B.paint_line[`line-offset`]),"line-blur":new K(B.paint_line[`line-blur`]),"line-dasharray":new Ei(B.paint_line[`line-dasharray`]),"line-pattern":new Ti(B.paint_line[`line-pattern`]),"line-gradient":new Di(B.paint_line[`line-gradient`])}),layout:Gs},qs=new(function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(t,n){return n=new gi(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),e.prototype.possiblyEvaluate.call(this,t,n)},t.prototype.evaluate=function(t,n,r,i){return n=f({},n,{zoom:Math.floor(n.zoom)}),e.prototype.evaluate.call(this,t,n,r,i)},t}(K))(Ks.paint.properties[`line-width`].specification);qs.useIntegerZoom=!0;var Js=function(e){function t(t){e.call(this,t,Ks),this.gradientVersion=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._handleSpecialPaintPropertyUpdate=function(e){e===`line-gradient`&&(this.stepInterpolant=this._transitionablePaint._values[`line-gradient`].value.expression._styleExpression.expression instanceof en,this.gradientVersion=(this.gradientVersion+1)%s)},t.prototype.gradientExpression=function(){return this._transitionablePaint._values[`line-gradient`].value.expression},t.prototype.recalculate=function(t,n){e.prototype.recalculate.call(this,t,n),this.paint._values[`line-floorwidth`]=qs.possiblyEvaluate(this._transitioningPaint._values[`line-width`].value,t)},t.prototype.createBucket=function(e){return new Ws(e)},t.prototype.queryRadius=function(e){var t=e,n=Ys(so(`line-width`,this,t),so(`line-gap-width`,this,t)),r=so(`line-offset`,this,t);return n/2+Math.abs(r)+co(this.paint.get(`line-translate`))},t.prototype.queryIntersectsFeature=function(e,t,n,r,a,o,s){var c=lo(e,this.paint.get(`line-translate`),this.paint.get(`line-translate-anchor`),o.angle,s),l=s/2*Ys(this.paint.get(`line-width`).evaluate(t,n),this.paint.get(`line-gap-width`).evaluate(t,n)),u=this.paint.get(`line-offset`).evaluate(t,n);return u&&(r=function(e,t){for(var n=[],r=new i(0,0),a=0;a<e.length;a++){for(var o=e[a],s=[],c=0;c<o.length;c++){var l=o[c],u=o[c+1],d=c===0?r:l.sub(o[c-1])._unit()._perp(),f=c===o.length-1?r:u.sub(l)._unit()._perp(),p=d._add(f)._unit();p._mult(1/(p.x*f.x+p.y*f.y)),s.push(p._mult(t)._add(l))}n.push(s)}return n}(r,u*s)),function(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];if(e.length>=3){for(var a=0;a<i.length;a++)if(ao(e,i[a]))return!0}if($a(e,i,n))return!0}return!1}(c,r,l)},t.prototype.isTileClipped=function(){return!0},t}(ki);function Ys(e,t){return t>0?t+2*e:e}var Xs=Ni([{name:`a_pos_offset`,components:4,type:`Int16`},{name:`a_data`,components:4,type:`Uint16`},{name:`a_pixeloffset`,components:4,type:`Int16`}],4),Zs=Ni([{name:`a_projected_pos`,components:3,type:`Float32`}],4),Qs=(Ni([{name:`a_fade_opacity`,components:1,type:`Uint32`}],4),Ni([{name:`a_placed`,components:2,type:`Uint8`},{name:`a_shift`,components:2,type:`Float32`}])),$s=(Ni([{type:`Int16`,name:`anchorPointX`},{type:`Int16`,name:`anchorPointY`},{type:`Int16`,name:`x1`},{type:`Int16`,name:`y1`},{type:`Int16`,name:`x2`},{type:`Int16`,name:`y2`},{type:`Uint32`,name:`featureIndex`},{type:`Uint16`,name:`sourceLayerIndex`},{type:`Uint16`,name:`bucketIndex`}]),Ni([{name:`a_pos`,components:2,type:`Int16`},{name:`a_anchor_pos`,components:2,type:`Int16`},{name:`a_extrude`,components:2,type:`Int16`}],4)),ec=Ni([{name:`a_pos`,components:2,type:`Float32`},{name:`a_radius`,components:1,type:`Float32`},{name:`a_flags`,components:2,type:`Int16`}],4);function tc(e,t,n){return e.sections.forEach((function(e){e.text=function(e,t,n){var r=t.layout.get(`text-transform`).evaluate(n,{});return r===`uppercase`?e=e.toLocaleUpperCase():r===`lowercase`&&(e=e.toLocaleLowerCase()),hi.applyArabicShaping&&(e=hi.applyArabicShaping(e)),e}(e.text,t,n)})),e}Ni([{name:`triangle`,components:3,type:`Uint16`}]),Ni([{type:`Int16`,name:`anchorX`},{type:`Int16`,name:`anchorY`},{type:`Uint16`,name:`glyphStartIndex`},{type:`Uint16`,name:`numGlyphs`},{type:`Uint32`,name:`vertexStartIndex`},{type:`Uint32`,name:`lineStartIndex`},{type:`Uint32`,name:`lineLength`},{type:`Uint16`,name:`segment`},{type:`Uint16`,name:`lowerSize`},{type:`Uint16`,name:`upperSize`},{type:`Float32`,name:`lineOffsetX`},{type:`Float32`,name:`lineOffsetY`},{type:`Uint8`,name:`writingMode`},{type:`Uint8`,name:`placedOrientation`},{type:`Uint8`,name:`hidden`},{type:`Uint32`,name:`crossTileID`},{type:`Int16`,name:`associatedIconIndex`}]),Ni([{type:`Int16`,name:`anchorX`},{type:`Int16`,name:`anchorY`},{type:`Int16`,name:`rightJustifiedTextSymbolIndex`},{type:`Int16`,name:`centerJustifiedTextSymbolIndex`},{type:`Int16`,name:`leftJustifiedTextSymbolIndex`},{type:`Int16`,name:`verticalPlacedTextSymbolIndex`},{type:`Int16`,name:`placedIconSymbolIndex`},{type:`Int16`,name:`verticalPlacedIconSymbolIndex`},{type:`Uint16`,name:`key`},{type:`Uint16`,name:`textBoxStartIndex`},{type:`Uint16`,name:`textBoxEndIndex`},{type:`Uint16`,name:`verticalTextBoxStartIndex`},{type:`Uint16`,name:`verticalTextBoxEndIndex`},{type:`Uint16`,name:`iconBoxStartIndex`},{type:`Uint16`,name:`iconBoxEndIndex`},{type:`Uint16`,name:`verticalIconBoxStartIndex`},{type:`Uint16`,name:`verticalIconBoxEndIndex`},{type:`Uint16`,name:`featureIndex`},{type:`Uint16`,name:`numHorizontalGlyphVertices`},{type:`Uint16`,name:`numVerticalGlyphVertices`},{type:`Uint16`,name:`numIconVertices`},{type:`Uint16`,name:`numVerticalIconVertices`},{type:`Uint16`,name:`useRuntimeCollisionCircles`},{type:`Uint32`,name:`crossTileID`},{type:`Float32`,name:`textBoxScale`},{type:`Float32`,components:2,name:`textOffset`},{type:`Float32`,name:`collisionCircleDiameter`}]),Ni([{type:`Float32`,name:`offsetX`}]),Ni([{type:`Int16`,name:`x`},{type:`Int16`,name:`y`},{type:`Int16`,name:`tileUnitDistanceFromAnchor`}]);var nc={"!":`︕`,"#":`＃`,$:`＄`,"%":`％`,"&":`＆`,"(":`︵`,")":`︶`,"*":`＊`,"+":`＋`,",":`︐`,"-":`︲`,".":`・`,"/":`／`,":":`︓`,";":`︔`,"<":`︿`,"=":`＝`,">":`﹀`,"?":`︖`,"@":`＠`,"[":`﹇`,"\\":`＼`,"]":`﹈`,"^":`＾`,_:`︳`,"`":`｀`,"{":`︷`,"|":`―`,"}":`︸`,"~":`～`,"¢":`￠`,"£":`￡`,"¥":`￥`,"¦":`￤`,"¬":`￢`,"¯":`￣`,"–":`︲`,"—":`︱`,"‘":`﹃`,"’":`﹄`,"“":`﹁`,"”":`﹂`,"…":`︙`,"‧":`・`,"₩":`￦`,"、":`︑`,"。":`︒`,"〈":`︿`,"〉":`﹀`,"《":`︽`,"》":`︾`,"「":`﹁`,"」":`﹂`,"『":`﹃`,"』":`﹄`,"【":`︻`,"】":`︼`,"〔":`︹`,"〕":`︺`,"〖":`︗`,"〗":`︘`,"！":`︕`,"（":`︵`,"）":`︶`,"，":`︐`,"－":`︲`,"．":`・`,"：":`︓`,"；":`︔`,"＜":`︿`,"＞":`﹀`,"？":`︖`,"［":`﹇`,"］":`﹈`,"＿":`︳`,"｛":`︷`,"｜":`―`,"｝":`︸`,"｟":`︵`,"｠":`︶`,"｡":`︒`,"｢":`﹁`,"｣":`﹂`},rc=function(e,t,n,r,i){var a,o,s=8*i-r-1,c=(1<<s)-1,l=c>>1,u=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,a=p&(1<<-u)-1,p>>=-u,u+=s;u>0;a=256*a+e[t+d],d+=f,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=256*o+e[t+d],d+=f,u-=8);if(a===0)a=1-l;else{if(a===c)return o?NaN:1/0*(p?-1:1);o+=2**r,a-=l}return(p?-1:1)*o*2**(a-r)},ic=function(e,t,n,r,i,a){var o,s,c,l=8*a-i-1,u=(1<<l)-1,d=u>>1,f=i===23?2**-24-2**-77:0,p=r?0:a-1,m=r?1:-1,h=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=2**-o)<1&&(o--,c*=2),(t+=o+d>=1?f/c:f*2**(1-d))*c>=2&&(o++,c/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*c-1)*2**i,o+=d):(s=t*2**(d-1)*2**i,o=0));i>=8;e[n+p]=255&s,p+=m,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+p]=255&o,p+=m,o/=256,l-=8);e[n+p-m]|=128*h},ac=oc;function oc(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}oc.Varint=0,oc.Fixed64=1,oc.Bytes=2,oc.Fixed32=5;var sc=typeof TextDecoder>`u`?null:new TextDecoder(`utf8`);function cc(e){return e.type===oc.Bytes?e.readVarint()+e.pos:e.pos+1}function lc(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function uc(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function dc(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function fc(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function pc(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function mc(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function hc(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function gc(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function _c(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function vc(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function yc(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function bc(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function xc(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function Sc(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function Cc(e,t,n){e===1&&n.readMessage(wc,t)}function wc(e,t,n){if(e===3){var r=n.readMessage(Tc,{}),i=r.width,a=r.height,o=r.left,s=r.top,c=r.advance;t.push({id:r.id,bitmap:new To({width:i+6,height:a+6},r.bitmap),metrics:{width:i,height:a,left:o,top:s,advance:c}})}}function Tc(e,t,n){e===1?t.id=n.readVarint():e===2?t.bitmap=n.readBytes():e===3?t.width=n.readVarint():e===4?t.height=n.readVarint():e===5?t.left=n.readSVarint():e===6?t.top=n.readSVarint():e===7&&(t.advance=n.readVarint())}function Ec(e){for(var t=0,n=0,r=0,i=e;r<i.length;r+=1){var a=i[r];t+=a.w*a.h,n=Math.max(n,a.w)}e.sort((function(e,t){return t.h-e.h}));for(var o=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}],s=0,c=0,l=0,u=e;l<u.length;l+=1)for(var d=u[l],f=o.length-1;f>=0;f--){var p=o[f];if(!(d.w>p.w||d.h>p.h)){if(d.x=p.x,d.y=p.y,c=Math.max(c,d.y+d.h),s=Math.max(s,d.x+d.w),d.w===p.w&&d.h===p.h){var m=o.pop();f<o.length&&(o[f]=m)}else d.h===p.h?(p.x+=d.w,p.w-=d.w):d.w===p.w?(p.y+=d.h,p.h-=d.h):(o.push({x:p.x+d.w,y:p.y,w:p.w-d.w,h:d.h}),p.y+=d.h,p.h-=d.h);break}}return{w:s,h:c,fill:t/(s*c)||0}}oc.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n||=this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,a=this.pos;this.type=7&r,e(i,t,this),this.pos===a&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=bc(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=Sc(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=bc(this.buf,this.pos)+4294967296*bc(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=bc(this.buf,this.pos)+4294967296*Sc(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=rc(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=rc(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,i,a=n.buf;if(r=(112&(i=a[n.pos++]))>>4,i<128||(r|=(127&(i=a[n.pos++]))<<3,i<128)||(r|=(127&(i=a[n.pos++]))<<10,i<128)||(r|=(127&(i=a[n.pos++]))<<17,i<128)||(r|=(127&(i=a[n.pos++]))<<24,i<128)||(r|=(1&(i=a[n.pos++]))<<31,i<128))return lc(e,r,t);throw Error(`Expected varint not more than 10 bytes`)}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&sc?function(e,t,n){return sc.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){for(var r=``,i=t;i<n;){var a,o,s,c=e[i],l=null,u=c>239?4:c>223?3:c>191?2:1;if(i+u>n)break;u===1?c<128&&(l=c):u===2?(192&(a=e[i+1]))==128&&(l=(31&c)<<6|63&a)<=127&&(l=null):u===3?(o=e[i+2],(192&(a=e[i+1]))==128&&(192&o)==128&&((l=(15&c)<<12|(63&a)<<6|63&o)<=2047||l>=55296&&l<=57343)&&(l=null)):u===4&&(o=e[i+2],s=e[i+3],(192&(a=e[i+1]))==128&&(192&o)==128&&(192&s)==128&&((l=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)<=65535||l>=1114112)&&(l=null)),l===null?(l=65533,u=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=u}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==oc.Bytes)return e.push(this.readVarint(t));var n=cc(this);for(e||=[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==oc.Bytes)return e.push(this.readSVarint());var t=cc(this);for(e||=[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==oc.Bytes)return e.push(this.readBoolean());var t=cc(this);for(e||=[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==oc.Bytes)return e.push(this.readFloat());var t=cc(this);for(e||=[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==oc.Bytes)return e.push(this.readDouble());var t=cc(this);for(e||=[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==oc.Bytes)return e.push(this.readFixed32());var t=cc(this);for(e||=[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==oc.Bytes)return e.push(this.readSFixed32());var t=cc(this);for(e||=[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==oc.Bytes)return e.push(this.readFixed64());var t=cc(this);for(e||=[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==oc.Bytes)return e.push(this.readSFixed64());var t=cc(this);for(e||=[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===oc.Varint)for(;this.buf[this.pos++]>127;);else if(t===oc.Bytes)this.pos=this.readVarint()+this.pos;else if(t===oc.Fixed32)this.pos+=4;else{if(t!==oc.Fixed64)throw Error(`Unimplemented type: `+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),xc(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),xc(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),xc(this.buf,-1&e,this.pos),xc(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),xc(this.buf,-1&e,this.pos),xc(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw Error(`Given varint doesn't fit into 10 bytes`);t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,n.buf[n.pos]=127&(e>>>=7)}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(!!e)},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,i,a=0;a<t.length;a++){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){r>56319||a+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&=(e[n++]=239,e[n++]=191,e[n++]=189,null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&uc(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),ic(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),ic(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&uc(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,oc.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,dc,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,fc,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,hc,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,pc,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,mc,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,gc,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,_c,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,vc,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,yc,t)},writeBytesField:function(e,t){this.writeTag(e,oc.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,oc.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,oc.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,oc.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,oc.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,oc.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,oc.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,oc.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,oc.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,oc.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,!!t)}};var Dc=function(e,t){var n=t.pixelRatio,r=t.version,i=t.stretchX,a=t.stretchY,o=t.content;this.paddedRect=e,this.pixelRatio=n,this.stretchX=i,this.stretchY=a,this.content=o,this.version=r},Oc={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Oc.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},Oc.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},Oc.tlbr.get=function(){return this.tl.concat(this.br)},Oc.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Dc.prototype,Oc);var kc=function(e,t){var n={},r={};this.haveRenderCallbacks=[];var i=[];this.addImages(e,n,i),this.addImages(t,r,i);var a=Ec(i),o=new Eo({width:a.w||1,height:a.h||1});for(var s in e){var c=e[s],l=n[s].paddedRect;Eo.copy(c.data,o,{x:0,y:0},{x:l.x+1,y:l.y+1},c.data)}for(var u in t){var d=t[u],f=r[u].paddedRect,p=f.x+1,m=f.y+1,h=d.data.width,g=d.data.height;Eo.copy(d.data,o,{x:0,y:0},{x:p,y:m},d.data),Eo.copy(d.data,o,{x:0,y:g-1},{x:p,y:m-1},{width:h,height:1}),Eo.copy(d.data,o,{x:0,y:0},{x:p,y:m+g},{width:h,height:1}),Eo.copy(d.data,o,{x:h-1,y:0},{x:p-1,y:m},{width:1,height:g}),Eo.copy(d.data,o,{x:0,y:0},{x:p+h,y:m},{width:1,height:g})}this.image=o,this.iconPositions=n,this.patternPositions=r};kc.prototype.addImages=function(e,t,n){for(var r in e){var i=e[r],a={x:0,y:0,w:i.data.width+2,h:i.data.height+2};n.push(a),t[r]=new Dc(a,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}},kc.prototype.patchUpdatedImages=function(e,t){for(var n in e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)},kc.prototype.patchUpdatedImage=function(e,t,n){if(e&&t&&e.version!==t.version){e.version=t.version;var r=e.tl;n.update(t.data,void 0,{x:r[0],y:r[1]})}},U(`ImagePosition`,Dc),U(`ImageAtlas`,kc);var Ac={horizontal:1,vertical:2,horizontalOnly:3},jc=function(){this.scale=1,this.fontStack=``,this.imageName=null};jc.forText=function(e,t){var n=new jc;return n.scale=e||1,n.fontStack=t,n},jc.forImage=function(e){var t=new jc;return t.imageName=e,t};var Mc=function(){this.text=``,this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Nc(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h){var g,_=Mc.fromFeature(e,i);d===Ac.vertical&&_.verticalizePunctuation();var v=hi.processBidirectionalText,y=hi.processStyledBidirectionalText;if(v&&_.sections.length===1){g=[];for(var b=0,x=v(_.toString(),Bc(_,l,a,t,r,p,m));b<x.length;b+=1){var S=x[b],C=new Mc;C.text=S,C.sections=_.sections;for(var w=0;w<S.length;w++)C.sectionIndex.push(0);g.push(C)}}else if(y){g=[];for(var T=0,E=y(_.text,_.sectionIndex,Bc(_,l,a,t,r,p,m));T<E.length;T+=1){var D=E[T],O=new Mc;O.text=D[0],O.sectionIndex=D[1],O.sections=_.sections,g.push(O)}}else g=function(e,t){for(var n=[],r=e.text,i=0,a=0,o=t;a<o.length;a+=1){var s=o[a];n.push(e.substring(i,s)),i=s}return i<r.length&&n.push(e.substring(i,r.length)),n}(_,Bc(_,l,a,t,r,p,m));var k=[],A={positionedLines:k,text:_.toString(),top:u[1],bottom:u[1],left:u[0],right:u[0],writingMode:d,iconsInText:!1,verticalizable:!1};return function(e,t,n,r,i,a,o,s,c,l,u,d){for(var f=0,p=-17,m=0,h=0,g=s===`right`?1:s===`left`?0:.5,_=0,v=0,y=i;v<y.length;v+=1){var b=y[v];b.trim();var x=b.getMaxScale(),S=24*(x-1),C={positionedGlyphs:[],lineOffset:0};e.positionedLines[_]=C;var w=C.positionedGlyphs,T=0;if(b.length()){for(var E=0;E<b.length();E++){var D=b.getSection(E),O=b.getSectionIndex(E),k=b.getCharCode(E),A=0,j=null,M=null,N=null,P=24,F=!(c===Ac.horizontal||!u&&!ni(k)||u&&(Pc[k]||(ae=k,W.Arabic(ae)||W[`Arabic Supplement`](ae)||W[`Arabic Extended-A`](ae)||W[`Arabic Presentation Forms-A`](ae)||W[`Arabic Presentation Forms-B`](ae))));if(D.imageName){var ee=r[D.imageName];if(!ee)continue;N=D.imageName,e.iconsInText=e.iconsInText||!0,M=ee.paddedRect;var I=ee.displaySize;D.scale=24*D.scale/d,A=S+(24-I[1]*D.scale),P=(j={width:I[0],height:I[1],left:1,top:-3,advance:F?I[1]:I[0]}).advance;var te=F?I[0]*D.scale-24*x:I[1]*D.scale-24*x;te>0&&te>T&&(T=te)}else{var L=n[D.fontStack],ne=L&&L[k];if(ne&&ne.rect)M=ne.rect,j=ne.metrics;else{var re=t[D.fontStack],ie=re&&re[k];if(!ie)continue;j=ie.metrics}A=24*(x-D.scale)}F?(e.verticalizable=!0,w.push({glyph:k,imageName:N,x:f,y:p+A,vertical:F,scale:D.scale,fontStack:D.fontStack,sectionIndex:O,metrics:j,rect:M}),f+=P*D.scale+l):(w.push({glyph:k,imageName:N,x:f,y:p+A,vertical:F,scale:D.scale,fontStack:D.fontStack,sectionIndex:O,metrics:j,rect:M}),f+=j.advance*D.scale+l)}w.length!==0&&(m=Math.max(f-l,m),Hc(w,0,w.length-1,g,T)),f=0;var R=a*x+T;C.lineOffset=Math.max(T,S),p+=R,h=Math.max(R,h),++_}else p+=a,++_}var ae,oe=p- -17,se=Vc(o),ce=se.horizontalAlign,le=se.verticalAlign;(function(e,t,n,r,i,a,o,s,c){var l,u=(t-n)*i;l=a===o?(-r*c+.5)*o:-s*r- -17;for(var d=0,f=e;d<f.length;d+=1)for(var p=0,m=f[d].positionedGlyphs;p<m.length;p+=1){var h=m[p];h.x+=u,h.y+=l}})(e.positionedLines,g,ce,le,m,h,a,oe,i.length),e.top+=-le*oe,e.bottom=e.top+oe,e.left+=-ce*m,e.right=e.left+m}(A,t,n,r,g,o,s,c,d,l,f,h),!function(e){for(var t=0,n=e;t<n.length;t+=1)if(n[t].positionedGlyphs.length!==0)return!1;return!0}(k)&&A}Mc.fromFeature=function(e,t){for(var n=new Mc,r=0;r<e.sections.length;r++){var i=e.sections[r];i.image?n.addImageSection(i):n.addTextSection(i,t)}return n},Mc.prototype.length=function(){return this.text.length},Mc.prototype.getSection=function(e){return this.sections[this.sectionIndex[e]]},Mc.prototype.getSectionIndex=function(e){return this.sectionIndex[e]},Mc.prototype.getCharCode=function(e){return this.text.charCodeAt(e)},Mc.prototype.verticalizePunctuation=function(){this.text=function(e){for(var t=``,n=0;n<e.length;n++){var r=e.charCodeAt(n+1)||null,i=e.charCodeAt(n-1)||null;t+=r&&ri(r)&&!nc[e[n+1]]||i&&ri(i)&&!nc[e[n-1]]||!nc[e[n]]?e[n]:nc[e[n]]}return t}(this.text)},Mc.prototype.trim=function(){for(var e=0,t=0;t<this.text.length&&Pc[this.text.charCodeAt(t)];t++)e++;for(var n=this.text.length,r=this.text.length-1;r>=0&&r>=e&&Pc[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(e,n),this.sectionIndex=this.sectionIndex.slice(e,n)},Mc.prototype.substring=function(e,t){var n=new Mc;return n.text=this.text.substring(e,t),n.sectionIndex=this.sectionIndex.slice(e,t),n.sections=this.sections,n},Mc.prototype.toString=function(){return this.text},Mc.prototype.getMaxScale=function(){var e=this;return this.sectionIndex.reduce((function(t,n){return Math.max(t,e.sections[n].scale)}),0)},Mc.prototype.addTextSection=function(e,t){this.text+=e.text,this.sections.push(jc.forText(e.scale,e.fontStack||t));for(var n=this.sections.length-1,r=0;r<e.text.length;++r)this.sectionIndex.push(n)},Mc.prototype.addImageSection=function(e){var t=e.image?e.image.name:``;if(t.length!==0){var n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(jc.forImage(t)),this.sectionIndex.push(this.sections.length-1)):C(`Reached maximum number of images 6401`)}else C(`Can't add FormattedSection with an empty image.`)},Mc.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Pc={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Fc={};function Ic(e,t,n,r,i,a){if(t.imageName){var o=r[t.imageName];return o?o.displaySize[0]*t.scale*24/a+i:0}var s=n[t.fontStack],c=s&&s[e];return c?c.metrics.advance*t.scale+i:0}function Lc(e,t,n,r){var i=(e-t)**2;return r?e<t?i/2:2*i:i+Math.abs(n)*n}function Rc(e,t,n){var r=0;return e===10&&(r-=1e4),n&&(r+=150),e!==40&&e!==65288||(r+=50),t!==41&&t!==65289||(r+=50),r}function zc(e,t,n,r,i,a){for(var o=null,s=Lc(t,n,i,a),c=0,l=r;c<l.length;c+=1){var u=l[c],d=Lc(t-u.x,n,i,a)+u.badness;d<=s&&(o=u,s=d)}return{index:e,x:t,priorBreak:o,badness:s}}function Bc(e,t,n,r,i,a,o){if(a!==`point`||!e)return[];for(var s,c=[],l=function(e,t,n,r,i,a){for(var o=0,s=0;s<e.length();s++){var c=e.getSection(s);o+=Ic(e.getCharCode(s),c,r,i,t,a)}return o/Math.max(1,Math.ceil(o/n))}(e,t,n,r,i,o),u=e.text.indexOf(`​`)>=0,d=0,f=0;f<e.length();f++){var p=e.getSection(f),m=e.getCharCode(f);if(Pc[m]||(d+=Ic(m,p,r,i,t,o)),f<e.length()-1){var h=!((s=m)<11904||!(W[`Bopomofo Extended`](s)||W.Bopomofo(s)||W[`CJK Compatibility Forms`](s)||W[`CJK Compatibility Ideographs`](s)||W[`CJK Compatibility`](s)||W[`CJK Radicals Supplement`](s)||W[`CJK Strokes`](s)||W[`CJK Symbols and Punctuation`](s)||W[`CJK Unified Ideographs Extension A`](s)||W[`CJK Unified Ideographs`](s)||W[`Enclosed CJK Letters and Months`](s)||W[`Halfwidth and Fullwidth Forms`](s)||W.Hiragana(s)||W[`Ideographic Description Characters`](s)||W[`Kangxi Radicals`](s)||W[`Katakana Phonetic Extensions`](s)||W.Katakana(s)||W[`Vertical Forms`](s)||W[`Yi Radicals`](s)||W[`Yi Syllables`](s)));(Fc[m]||h||p.imageName)&&c.push(zc(f+1,d,l,c,Rc(m,e.getCharCode(f+1),h&&u),!1))}}return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(zc(e.length(),d,l,c,0,!0))}function Vc(e){var t=.5,n=.5;switch(e){case`right`:case`top-right`:case`bottom-right`:t=1;break;case`left`:case`top-left`:case`bottom-left`:t=0}switch(e){case`bottom`:case`bottom-right`:case`bottom-left`:n=1;break;case`top`:case`top-right`:case`top-left`:n=0}return{horizontalAlign:t,verticalAlign:n}}function Hc(e,t,n,r,i){if(r||i)for(var a=e[n],o=(e[n].x+a.metrics.advance*a.scale)*r,s=t;s<=n;s++)e[s].x-=o,e[s].y+=i}function Uc(e,t,n,r,i,a){var o,s=e.image;if(s.content){var c=s.content,l=s.pixelRatio||1;o=[c[0]/l,c[1]/l,s.displaySize[0]-c[2]/l,s.displaySize[1]-c[3]/l]}var u,d,f,p,m=t.left*a,h=t.right*a;n===`width`||n===`both`?(p=i[0]+m-r[3],d=i[0]+h+r[1]):d=(p=i[0]+(m+h-s.displaySize[0])/2)+s.displaySize[0];var g=t.top*a,_=t.bottom*a;return n===`height`||n===`both`?(u=i[1]+g-r[0],f=i[1]+_+r[2]):f=(u=i[1]+(g+_-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:u,right:d,bottom:f,left:p,collisionPadding:o}}Fc[10]=!0,Fc[32]=!0,Fc[38]=!0,Fc[40]=!0,Fc[41]=!0,Fc[43]=!0,Fc[45]=!0,Fc[47]=!0,Fc[173]=!0,Fc[183]=!0,Fc[8203]=!0,Fc[8208]=!0,Fc[8211]=!0,Fc[8231]=!0;var Wc=function(e){function t(t,n,r,i){e.call(this,t,n),this.angle=r,i!==void 0&&(this.segment=i)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(i);function Gc(e,t){var n=t.expression;if(n.kind===`constant`)return{kind:`constant`,layoutSize:n.evaluate(new gi(e+1))};if(n.kind===`source`)return{kind:`source`};for(var r=n.zoomStops,i=n.interpolationType,a=0;a<r.length&&r[a]<=e;)a++;for(var o=a=Math.max(0,a-1);o<r.length&&r[o]<e+1;)o++;o=Math.min(r.length-1,o);var s=r[a],c=r[o];return n.kind===`composite`?{kind:`composite`,minZoom:s,maxZoom:c,interpolationType:i}:{kind:`camera`,minZoom:s,maxZoom:c,minSize:n.evaluate(new gi(s)),maxSize:n.evaluate(new gi(c)),interpolationType:i}}function Kc(e,t,n){var r=t.uSize,i=n.lowerSize;return e.kind===`source`?i/128:e.kind===`composite`?tn(i/128,n.upperSize/128,t.uSizeT):r}function qc(e,t){var n=0,r=0;if(e.kind===`constant`)r=e.layoutSize;else if(e.kind!==`source`){var i=e.interpolationType,a=i?u(_n.interpolationFactor(i,t,e.minZoom,e.maxZoom),0,1):0;e.kind===`camera`?r=tn(e.minSize,e.maxSize,a):n=a}return{uSizeT:n,uSize:r}}U(`Anchor`,Wc);var Jc=Object.freeze({__proto__:null,getSizeData:Gc,evaluateSizeForFeature:Kc,evaluateSizeForZoom:qc,SIZE_PACK_FACTOR:128});function Yc(e,t,n,r,i){if(t.segment===void 0)return!0;for(var a=t,o=t.segment+1,s=0;s>-n/2;){if(--o<0)return!1;s-=e[o].dist(a),a=e[o]}s+=e[o].dist(e[o+1]),o++;for(var c=[],l=0;s<n/2;){var u=e[o],d=e[o+1];if(!d)return!1;var f=e[o-1].angleTo(u)-u.angleTo(d);for(f=Math.abs((f+3*Math.PI)%(2*Math.PI)-Math.PI),c.push({distance:s,angleDelta:f}),l+=f;s-c[0].distance>r;)l-=c.shift().angleDelta;if(l>i)return!1;o++,s+=u.dist(d)}return!0}function q(e){for(var t=0,n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function Xc(e,t,n){return e?.6*t*n:0}function Zc(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function Qc(e,t,n,r,i,a){for(var o=Xc(n,i,a),s=Zc(n,r)*a,c=0,l=q(e)/2,u=0;u<e.length-1;u++){var d=e[u],f=e[u+1],p=d.dist(f);if(c+p>l){var m=(l-c)/p,h=tn(d.x,f.x,m),g=tn(d.y,f.y,m),_=new Wc(h,g,f.angleTo(d),u);return _._round(),!o||Yc(e,_,s,o,t)?_:void 0}c+=p}}function $c(e,t,n,r,i,a,o,s,c){var l=Xc(r,a,o),u=Zc(r,i),d=u*o,f=e[0].x===0||e[0].x===c||e[0].y===0||e[0].y===c;return t-d<t/4&&(t=d+t/4),function e(t,n,r,i,a,o,s,c,l){for(var u=o/2,d=q(t),f=0,p=n-r,m=[],h=0;h<t.length-1;h++){for(var g=t[h],_=t[h+1],v=g.dist(_),y=_.angleTo(g);p+r<f+v;){var b=((p+=r)-f)/v,x=tn(g.x,_.x,b),S=tn(g.y,_.y,b);if(x>=0&&x<l&&S>=0&&S<l&&p-u>=0&&p+u<=d){var C=new Wc(x,S,y,h);C._round(),i&&!Yc(t,C,o,i,a)||m.push(C)}}f+=v}return c||m.length||s||(m=e(t,f/2,r,i,a,o,s,!0,l)),m}(e,f?t/2*s%t:(u/2+2*a)*o*s%t,t,l,n,d,f,!1,c)}function el(e,t,n,r,a){for(var o=[],s=0;s<e.length;s++)for(var c=e[s],l=void 0,u=0;u<c.length-1;u++){var d=c[u],f=c[u+1];d.x<t&&f.x<t||(d.x<t?d=new i(t,d.y+(t-d.x)/(f.x-d.x)*(f.y-d.y))._round():f.x<t&&(f=new i(t,d.y+(t-d.x)/(f.x-d.x)*(f.y-d.y))._round()),d.y<n&&f.y<n||(d.y<n?d=new i(d.x+(n-d.y)/(f.y-d.y)*(f.x-d.x),n)._round():f.y<n&&(f=new i(d.x+(n-d.y)/(f.y-d.y)*(f.x-d.x),n)._round()),d.x>=r&&f.x>=r||(d.x>=r?d=new i(r,d.y+(r-d.x)/(f.x-d.x)*(f.y-d.y))._round():f.x>=r&&(f=new i(r,d.y+(r-d.x)/(f.x-d.x)*(f.y-d.y))._round()),d.y>=a&&f.y>=a||(d.y>=a?d=new i(d.x+(a-d.y)/(f.y-d.y)*(f.x-d.x),a)._round():f.y>=a&&(f=new i(d.x+(a-d.y)/(f.y-d.y)*(f.x-d.x),a)._round()),l&&d.equals(l[l.length-1])||o.push(l=[d]),l.push(f)))))}return o}function tl(e,t,n,r){var a=[],o=e.image,s=o.pixelRatio,c=o.paddedRect.w-2,l=o.paddedRect.h-2,u=e.right-e.left,d=e.bottom-e.top,f=o.stretchX||[[0,c]],p=o.stretchY||[[0,l]],m=function(e,t){return e+t[1]-t[0]},h=f.reduce(m,0),g=p.reduce(m,0),_=c-h,v=l-g,y=0,b=h,x=0,S=g,C=0,w=_,T=0,E=v;if(o.content&&r){var D=o.content;y=nl(f,0,D[0]),x=nl(p,0,D[1]),b=nl(f,D[0],D[2]),S=nl(p,D[1],D[3]),C=D[0]-y,T=D[1]-x,w=D[2]-D[0]-b,E=D[3]-D[1]-S}var O=function(r,a,c,l){var f=il(r.stretch-y,b,u,e.left),p=al(r.fixed-C,w,r.stretch,h),m=il(a.stretch-x,S,d,e.top),_=al(a.fixed-T,E,a.stretch,g),v=il(c.stretch-y,b,u,e.left),D=al(c.fixed-C,w,c.stretch,h),O=il(l.stretch-x,S,d,e.top),k=al(l.fixed-T,E,l.stretch,g),A=new i(f,m),j=new i(v,m),M=new i(v,O),N=new i(f,O),P=new i(p/s,_/s),F=new i(D/s,k/s),ee=t*Math.PI/180;if(ee){var I=Math.sin(ee),te=Math.cos(ee),L=[te,-I,I,te];A._matMult(L),j._matMult(L),N._matMult(L),M._matMult(L)}var ne=r.stretch+r.fixed,re=a.stretch+a.fixed;return{tl:A,tr:j,bl:N,br:M,tex:{x:o.paddedRect.x+1+ne,y:o.paddedRect.y+1+re,w:c.stretch+c.fixed-ne,h:l.stretch+l.fixed-re},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:P,pixelOffsetBR:F,minFontScaleX:w/s/u,minFontScaleY:E/s/d,isSDF:n}};if(r&&(o.stretchX||o.stretchY))for(var k=rl(f,_,h),A=rl(p,v,g),j=0;j<k.length-1;j++)for(var M=k[j],N=k[j+1],P=0;P<A.length-1;P++)a.push(O(M,A[P],N,A[P+1]));else a.push(O({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:c+1},{fixed:0,stretch:l+1}));return a}function nl(e,t,n){for(var r=0,i=0,a=e;i<a.length;i+=1){var o=a[i];r+=Math.max(t,Math.min(n,o[1]))-Math.max(t,Math.min(n,o[0]))}return r}function rl(e,t,n){for(var r=[{fixed:-1,stretch:0}],i=0,a=e;i<a.length;i+=1){var o=a[i],s=o[0],c=o[1],l=r[r.length-1];r.push({fixed:s-l.stretch,stretch:l.stretch}),r.push({fixed:s-l.stretch,stretch:l.stretch+(c-s)})}return r.push({fixed:t+1,stretch:n}),r}function il(e,t,n,r){return e/t*n+r}function al(e,t,n,r){return e-t*n/r}var ol=function(e,t,n,r,a,o,s,c,l,u){if(this.boxStartIndex=e.length,l){var d=o.top,f=o.bottom,p=o.collisionPadding;p&&(d-=p[1],f+=p[3]);var m=f-d;m>0&&(m=Math.max(10,m),this.circleDiameter=m)}else{var h=o.top*s-c,g=o.bottom*s+c,_=o.left*s-c,v=o.right*s+c,y=o.collisionPadding;if(y&&(_-=y[0]*s,h-=y[1]*s,v+=y[2]*s,g+=y[3]*s),u){var b=new i(_,h),x=new i(v,h),S=new i(_,g),C=new i(v,g),w=u*Math.PI/180;b._rotate(w),x._rotate(w),S._rotate(w),C._rotate(w),_=Math.min(b.x,x.x,S.x,C.x),v=Math.max(b.x,x.x,S.x,C.x),h=Math.min(b.y,x.y,S.y,C.y),g=Math.max(b.y,x.y,S.y,C.y)}e.emplaceBack(t.x,t.y,_,h,v,g,n,r,a)}this.boxEndIndex=e.length},sl=function(e,t){if(e===void 0&&(e=[]),t===void 0&&(t=cl),this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)};function cl(e,t){return e<t?-1:e>t?1:0}function ll(e,t,n){t===void 0&&(t=1),n===void 0&&(n=!1);for(var r=1/0,a=1/0,o=-1/0,s=-1/0,c=e[0],l=0;l<c.length;l++){var u=c[l];(!l||u.x<r)&&(r=u.x),(!l||u.y<a)&&(a=u.y),(!l||u.x>o)&&(o=u.x),(!l||u.y>s)&&(s=u.y)}var d=Math.min(o-r,s-a),f=d/2,p=new sl([],ul);if(d===0)return new i(r,a);for(var m=r;m<o;m+=d)for(var h=a;h<s;h+=d)p.push(new dl(m+f,h+f,f,e));for(var g=function(e){for(var t=0,n=0,r=0,i=e[0],a=0,o=i.length,s=o-1;a<o;s=a++){var c=i[a],l=i[s],u=c.x*l.y-l.x*c.y;n+=(c.x+l.x)*u,r+=(c.y+l.y)*u,t+=3*u}return new dl(n/t,r/t,0,e)}(e),_=p.length;p.length;){var v=p.pop();(v.d>g.d||!g.d)&&(g=v,n&&console.log(`found best %d after %d probes`,Math.round(1e4*v.d)/1e4,_)),v.max-g.d<=t||(p.push(new dl(v.p.x-(f=v.h/2),v.p.y-f,f,e)),p.push(new dl(v.p.x+f,v.p.y-f,f,e)),p.push(new dl(v.p.x-f,v.p.y+f,f,e)),p.push(new dl(v.p.x+f,v.p.y+f,f,e)),_+=4)}return n&&(console.log(`num probes: `+_),console.log(`best distance: `+g.d)),g.p}function ul(e,t){return t.max-e.max}function dl(e,t,n,r){this.p=new i(e,t),this.h=n,this.d=function(e,t){for(var n=!1,r=1/0,i=0;i<t.length;i++)for(var a=t[i],o=0,s=a.length,c=s-1;o<s;c=o++){var l=a[o],u=a[c];l.y>e.y!=u.y>e.y&&e.x<(u.x-l.x)*(e.y-l.y)/(u.y-l.y)+l.x&&(n=!n),r=Math.min(r,ro(e,l,u))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}sl.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1)},sl.prototype.pop=function(){if(this.length!==0){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}},sl.prototype.peek=function(){return this.data[0]},sl.prototype._up=function(e){for(var t=this.data,n=this.compare,r=t[e];e>0;){var i=e-1>>1,a=t[i];if(n(r,a)>=0)break;t[e]=a,e=i}t[e]=r},sl.prototype._down=function(e){for(var t=this.data,n=this.compare,r=this.length>>1,i=t[e];e<r;){var a=1+(e<<1),o=t[a],s=a+1;if(s<this.length&&n(t[s],o)<0&&(a=s,o=t[s]),n(o,i)>=0)break;t[e]=o,e=a}t[e]=i};var fl=1/0;function pl(e,t){return t[1]===fl?function(e,t){var n=0,r=0;t<0&&(t=0);var i=t/Math.sqrt(2);switch(e){case`top-right`:case`top-left`:r=i-7;break;case`bottom-right`:case`bottom-left`:r=7-i;break;case`bottom`:r=7-t;break;case`top`:r=t-7}switch(e){case`top-right`:case`bottom-right`:n=-i;break;case`top-left`:case`bottom-left`:n=i;break;case`left`:n=t;break;case`right`:n=-t}return[n,r]}(e,t[0]):function(e,t,n){var r=0,i=0;switch(t=Math.abs(t),n=Math.abs(n),e){case`top-right`:case`top-left`:case`top`:i=n-7;break;case`bottom-right`:case`bottom-left`:case`bottom`:i=7-n}switch(e){case`top-right`:case`bottom-right`:case`right`:r=-t;break;case`top-left`:case`bottom-left`:case`left`:r=t}return[r,i]}(e,t[0],t[1])}function ml(e){switch(e){case`right`:case`top-right`:case`bottom-right`:return`right`;case`left`:case`top-left`:case`bottom-left`:return`left`}return`center`}function hl(e,t,n,r,a,o,s,c,l,u,d,f,p,m,h){var g=function(e,t,n,r,a,o,s,c){for(var l=r.layout.get(`text-rotate`).evaluate(o,{})*Math.PI/180,u=[],d=0,f=t.positionedLines;d<f.length;d+=1)for(var p=f[d],m=0,h=p.positionedGlyphs;m<h.length;m+=1){var g=h[m];if(g.rect){var _=g.rect||{},v=4,y=!0,b=1,x=0,S=(a||c)&&g.vertical,C=g.metrics.advance*g.scale/2;if(c&&t.verticalizable&&(x=p.lineOffset/2-(g.imageName?-(24-g.metrics.width*g.scale)/2:24*(g.scale-1))),g.imageName){var w=s[g.imageName];y=w.sdf,v=1/(b=w.pixelRatio)}var T=a?[g.x+C,g.y]:[0,0],E=a?[0,0]:[g.x+C+n[0],g.y+n[1]-x],D=[0,0];S&&(D=E,E=[0,0]);var O=(g.metrics.left-v)*g.scale-C+E[0],k=(-g.metrics.top-v)*g.scale+E[1],A=O+_.w*g.scale/b,j=k+_.h*g.scale/b,M=new i(O,k),N=new i(A,k),P=new i(O,j),F=new i(A,j);if(S){var ee=new i(-C,C- -17),I=-Math.PI/2,te=12-C,L=new i(22-te,-(g.imageName?te:0)),ne=new(Function.prototype.bind.apply(i,[null].concat(D)));M._rotateAround(I,ee)._add(L)._add(ne),N._rotateAround(I,ee)._add(L)._add(ne),P._rotateAround(I,ee)._add(L)._add(ne),F._rotateAround(I,ee)._add(L)._add(ne)}if(l){var re=Math.sin(l),ie=Math.cos(l),R=[ie,-re,re,ie];M._matMult(R),N._matMult(R),P._matMult(R),F._matMult(R)}var ae=new i(0,0),oe=new i(0,0);u.push({tl:M,tr:N,bl:P,br:F,tex:_,writingMode:t.writingMode,glyphOffset:T,sectionIndex:g.sectionIndex,isSDF:y,pixelOffsetTL:ae,pixelOffsetBR:oe,minFontScaleX:0,minFontScaleY:0})}}return u}(0,n,c,a,o,s,r,e.allowVerticalPlacement),_=e.textSizeData,v=null;_.kind===`source`?(v=[128*a.layout.get(`text-size`).evaluate(s,{})])[0]>32640&&C(e.layerIds[0]+`: Value for "text-size" is >= 255. Reduce your "text-size".`):_.kind===`composite`&&((v=[128*m.compositeTextSizes[0].evaluate(s,{},h),128*m.compositeTextSizes[1].evaluate(s,{},h)])[0]>32640||v[1]>32640)&&C(e.layerIds[0]+`: Value for "text-size" is >= 255. Reduce your "text-size".`),e.addSymbols(e.text,g,v,c,o,s,u,t,l.lineStartIndex,l.lineLength,p,h);for(var y=0,b=d;y<b.length;y+=1)f[b[y]]=e.text.placedSymbolArray.length-1;return 4*g.length}function gl(e){for(var t in e)return e[t];return null}function _l(e,t,n,r){var i=e.compareText;if(t in i){for(var a=i[t],o=a.length-1;o>=0;o--)if(r.dist(a[o])<n)return!0}else i[t]=[];return i[t].push(r),!1}var vl=ks.VectorTileFeature.types,J=[{name:`a_fade_opacity`,components:1,type:`Uint8`,offset:0}];function yl(e,t,n,r,i,a,o,s,c,l,u,d,f){var p=s?Math.min(32640,Math.round(s[0])):0,m=s?Math.min(32640,Math.round(s[1])):0;e.emplaceBack(t,n,Math.round(32*r),Math.round(32*i),a,o,(p<<1)+(c?1:0),m,16*l,16*u,256*d,256*f)}function bl(e,t,n){e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n)}function xl(e){for(var t=0,n=e.sections;t<n.length;t+=1)if(oi(n[t].text))return!0;return!1}var Sl=function(e){this.layoutVertexArray=new Vi,this.indexArray=new Ji,this.programConfigurations=e,this.segments=new ma,this.dynamicLayoutVertexArray=new Hi,this.opacityVertexArray=new Ui,this.placedSymbolArray=new oa};Sl.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Sl.prototype.upload=function(e,t,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Xs.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,Zs.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,J,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(e))},Sl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},U(`SymbolBuffers`,Sl);var Cl=function(e,t,n){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new n,this.segments=new ma,this.collisionVertexArray=new qi};Cl.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,Qs.members,!0)},Cl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},U(`CollisionBuffers`,Cl);var wl=function(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=mo([]),this.placementViewportMatrix=mo([]);var t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Gc(this.zoom,t[`text-size`]),this.iconSizeData=Gc(this.zoom,t[`icon-size`]);var n=this.layers[0].layout,r=n.get(`symbol-sort-key`),i=n.get(`symbol-z-order`);this.canOverlap=n.get(`text-allow-overlap`)||n.get(`icon-allow-overlap`)||n.get(`text-ignore-placement`)||n.get(`icon-ignore-placement`),this.sortFeaturesByKey=i!==`viewport-y`&&r.constantOr(1)!==void 0,this.sortFeaturesByY=(i===`viewport-y`||i===`auto`&&!this.sortFeaturesByKey)&&this.canOverlap,n.get(`symbol-placement`)===`point`&&(this.writingModes=n.get(`text-writing-mode`).map((function(e){return Ac[e]}))),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.sourceID=e.sourceID};wl.prototype.createArrays=function(){this.text=new Sl(new Va(this.layers,this.zoom,(function(e){return/^text/.test(e)}))),this.icon=new Sl(new Va(this.layers,this.zoom,(function(e){return/^icon/.test(e)}))),this.glyphOffsetArray=new la,this.lineVertexArray=new ua,this.symbolInstances=new ca},wl.prototype.calculateGlyphDependencies=function(e,t,n,r,i){for(var a=0;a<e.length;a++)if(t[e.charCodeAt(a)]=!0,(n||r)&&i){var o=nc[e.charAt(a)];o&&(t[o.charCodeAt(0)]=!0)}},wl.prototype.populate=function(e,t,n){var r=this.layers[0],i=r.layout,a=i.get(`text-font`),o=i.get(`text-field`),s=i.get(`icon-image`),c=(o.value.kind!==`constant`||o.value.value instanceof mt&&!o.value.value.isEmpty()||o.value.value.toString().length>0)&&(a.value.kind!==`constant`||a.value.value.length>0),l=s.value.kind!==`constant`||!!s.value.value||Object.keys(s.parameters).length>0,u=i.get(`symbol-sort-key`);if(this.features=[],c||l){for(var d=t.iconDependencies,f=t.glyphDependencies,p=t.availableImages,m=new gi(this.zoom),h=0,g=e;h<g.length;h+=1){var _=g[h],v=_.feature,y=_.id,b=_.index,x=_.sourceLayerIndex,S=r._featureFilter.needGeometry,C=qa(v,S);if(r._featureFilter.filter(m,C,n)){S||(C.geometry=Ka(v));var w=void 0;if(c){var T=r.getValueAndResolveTokens(`text-field`,C,n,p),E=mt.factory(T);xl(E)&&(this.hasRTLText=!0),(!this.hasRTLText||pi()===`unavailable`||this.hasRTLText&&hi.isParsed())&&(w=tc(E,r,C))}var D=void 0;if(l){var O=r.getValueAndResolveTokens(`icon-image`,C,n,p);D=O instanceof ht?O:ht.fromString(O)}if(w||D){var k=this.sortFeaturesByKey?u.evaluate(C,{},n):void 0;if(this.features.push({id:y,text:w,icon:D,index:b,sourceLayerIndex:x,geometry:C.geometry,properties:v.properties,type:vl[v.type],sortKey:k}),D&&(d[D.name]=!0),w){var A=a.evaluate(C,{},n).join(`,`),j=i.get(`text-rotation-alignment`)===`map`&&i.get(`symbol-placement`)!==`point`;this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Ac.vertical)>=0;for(var M=0,N=w.sections;M<N.length;M+=1){var P=N[M];if(P.image)d[P.image.name]=!0;else{var F=ti(w.toString()),ee=P.fontStack||A,I=f[ee]=f[ee]||{};this.calculateGlyphDependencies(P.text,I,j,this.allowVerticalPlacement,F)}}}}}}i.get(`symbol-placement`)===`line`&&(this.features=function(e){var t={},n={},r=[],i=0;function a(t){r.push(e[t]),i++}function o(e,t,i){var a=n[e];return delete n[e],n[t]=a,r[a].geometry[0].pop(),r[a].geometry[0]=r[a].geometry[0].concat(i[0]),a}function s(e,n,i){var a=t[n];return delete t[n],t[e]=a,r[a].geometry[0].shift(),r[a].geometry[0]=i[0].concat(r[a].geometry[0]),a}function c(e,t,n){var r=n?t[0][t[0].length-1]:t[0][0];return e+`:`+r.x+`:`+r.y}for(var l=0;l<e.length;l++){var u=e[l],d=u.geometry,f=u.text?u.text.toString():null;if(f){var p=c(f,d),m=c(f,d,!0);if(p in n&&m in t&&n[p]!==t[m]){var h=s(p,m,d),g=o(p,m,r[h].geometry);delete t[p],delete n[m],n[c(f,r[g].geometry,!0)]=g,r[h].geometry=null}else p in n?o(p,m,d):m in t?s(p,m,d):(a(l),t[p]=i-1,n[m]=i-1)}else a(l)}return r.filter((function(e){return e.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(e,t){return e.sortKey-t.sortKey}))}},wl.prototype.update=function(e,t,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n))},wl.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},wl.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},wl.prototype.upload=function(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},wl.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},wl.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},wl.prototype.addToLineVertexArray=function(e,t){var n=this.lineVertexArray.length;if(e.segment!==void 0){for(var r=e.dist(t[e.segment+1]),i=e.dist(t[e.segment]),a={},o=e.segment+1;o<t.length;o++)a[o]={x:t[o].x,y:t[o].y,tileUnitDistanceFromAnchor:r},o<t.length-1&&(r+=t[o+1].dist(t[o]));for(var s=e.segment||0;s>=0;s--)a[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=t[s-1].dist(t[s]));for(var c=0;c<t.length;c++){var l=a[c];this.lineVertexArray.emplaceBack(l.x,l.y,l.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},wl.prototype.addSymbols=function(e,t,n,r,i,a,o,s,c,l,u,d){for(var f=e.indexArray,p=e.layoutVertexArray,m=e.segments.prepareSegment(4*t.length,p,f,this.canOverlap?a.sortKey:void 0),h=this.glyphOffsetArray.length,g=m.vertexLength,_=this.allowVerticalPlacement&&o===Ac.vertical?Math.PI/2:0,v=a.text&&a.text.sections,y=0;y<t.length;y++){var b=t[y],x=b.tl,S=b.tr,C=b.bl,w=b.br,T=b.tex,E=b.pixelOffsetTL,D=b.pixelOffsetBR,O=b.minFontScaleX,k=b.minFontScaleY,A=b.glyphOffset,j=b.isSDF,M=b.sectionIndex,N=m.vertexLength,P=A[1];yl(p,s.x,s.y,x.x,P+x.y,T.x,T.y,n,j,E.x,E.y,O,k),yl(p,s.x,s.y,S.x,P+S.y,T.x+T.w,T.y,n,j,D.x,E.y,O,k),yl(p,s.x,s.y,C.x,P+C.y,T.x,T.y+T.h,n,j,E.x,D.y,O,k),yl(p,s.x,s.y,w.x,P+w.y,T.x+T.w,T.y+T.h,n,j,D.x,D.y,O,k),bl(e.dynamicLayoutVertexArray,s,_),f.emplaceBack(N,N+1,N+2),f.emplaceBack(N+1,N+2,N+3),m.vertexLength+=4,m.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(A[0]),y!==t.length-1&&M===t[y+1].sectionIndex||e.programConfigurations.populatePaintArrays(p.length,a,a.index,{},d,v&&v[M])}e.placedSymbolArray.emplaceBack(s.x,s.y,h,this.glyphOffsetArray.length-h,g,c,l,s.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],o,0,!1,0,u)},wl.prototype._addCollisionDebugVertex=function(e,t,n,r,i,a){return t.emplaceBack(0,0),e.emplaceBack(n.x,n.y,r,i,Math.round(a.x),Math.round(a.y))},wl.prototype.addCollisionDebugVertices=function(e,t,n,r,a,o,s){var c=a.segments.prepareSegment(4,a.layoutVertexArray,a.indexArray),l=c.vertexLength,u=a.layoutVertexArray,d=a.collisionVertexArray,f=s.anchorX,p=s.anchorY;this._addCollisionDebugVertex(u,d,o,f,p,new i(e,t)),this._addCollisionDebugVertex(u,d,o,f,p,new i(n,t)),this._addCollisionDebugVertex(u,d,o,f,p,new i(n,r)),this._addCollisionDebugVertex(u,d,o,f,p,new i(e,r)),c.vertexLength+=4;var m=a.indexArray;m.emplaceBack(l,l+1),m.emplaceBack(l+1,l+2),m.emplaceBack(l+2,l+3),m.emplaceBack(l+3,l),c.primitiveLength+=4},wl.prototype.addDebugCollisionBoxes=function(e,t,n,r){for(var i=e;i<t;i++){var a=this.collisionBoxArray.get(i);this.addCollisionDebugVertices(a.x1,a.y1,a.x2,a.y2,r?this.textCollisionBox:this.iconCollisionBox,a.anchorPoint,n)}},wl.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Cl(Gi,$s.members,ea),this.iconCollisionBox=new Cl(Gi,$s.members,ea);for(var e=0;e<this.symbolInstances.length;e++){var t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}},wl.prototype._deserializeCollisionBoxesForSymbol=function(e,t,n,r,i,a,o,s,c){for(var l={},u=t;u<n;u++){var d=e.get(u);l.textBox={x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2,anchorPointX:d.anchorPointX,anchorPointY:d.anchorPointY},l.textFeatureIndex=d.featureIndex;break}for(var f=r;f<i;f++){var p=e.get(f);l.verticalTextBox={x1:p.x1,y1:p.y1,x2:p.x2,y2:p.y2,anchorPointX:p.anchorPointX,anchorPointY:p.anchorPointY},l.verticalTextFeatureIndex=p.featureIndex;break}for(var m=a;m<o;m++){var h=e.get(m);l.iconBox={x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2,anchorPointX:h.anchorPointX,anchorPointY:h.anchorPointY},l.iconFeatureIndex=h.featureIndex;break}for(var g=s;g<c;g++){var _=e.get(g);l.verticalIconBox={x1:_.x1,y1:_.y1,x2:_.x2,y2:_.y2,anchorPointX:_.anchorPointX,anchorPointY:_.anchorPointY},l.verticalIconFeatureIndex=_.featureIndex;break}return l},wl.prototype.deserializeCollisionBoxes=function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}},wl.prototype.hasTextData=function(){return this.text.segments.get().length>0},wl.prototype.hasIconData=function(){return this.icon.segments.get().length>0},wl.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},wl.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},wl.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},wl.prototype.addIndicesForPlacedSymbol=function(e,t){for(var n=e.placedSymbolArray.get(t),r=n.vertexStartIndex+4*n.numGlyphs,i=n.vertexStartIndex;i<r;i+=4)e.indexArray.emplaceBack(i,i+1,i+2),e.indexArray.emplaceBack(i+1,i+2,i+3)},wl.prototype.getSortedSymbolIndexes=function(e){if(this.sortedAngle===e&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var t=Math.sin(e),n=Math.cos(e),r=[],i=[],a=[],o=0;o<this.symbolInstances.length;++o){a.push(o);var s=this.symbolInstances.get(o);r.push(0|Math.round(t*s.anchorX+n*s.anchorY)),i.push(s.featureIndex)}return a.sort((function(e,t){return r[e]-r[t]||i[t]-i[e]})),a},wl.prototype.addToSortKeyRanges=function(e,t){var n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===t?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})},wl.prototype.sortFeatures=function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var n=0,r=this.symbolInstanceIndexes;n<r.length;n+=1){var i=this.symbolInstances.get(r[n]);this.featureSortOrder.push(i.featureIndex),[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((function(e,n,r){e>=0&&r.indexOf(e)===n&&t.addIndicesForPlacedSymbol(t.text,e)})),i.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,i.verticalPlacedTextSymbolIndex),i.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.placedIconSymbolIndex),i.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},U(`SymbolBucket`,wl,{omit:[`layers`,`collisionBoxArray`,`features`,`compareText`]}),wl.MAX_GLYPHS=65535,wl.addDynamicAttributes=bl;var Tl=new Oi({"symbol-placement":new G(B.layout_symbol[`symbol-placement`]),"symbol-spacing":new G(B.layout_symbol[`symbol-spacing`]),"symbol-avoid-edges":new G(B.layout_symbol[`symbol-avoid-edges`]),"symbol-sort-key":new K(B.layout_symbol[`symbol-sort-key`]),"symbol-z-order":new G(B.layout_symbol[`symbol-z-order`]),"icon-allow-overlap":new G(B.layout_symbol[`icon-allow-overlap`]),"icon-ignore-placement":new G(B.layout_symbol[`icon-ignore-placement`]),"icon-optional":new G(B.layout_symbol[`icon-optional`]),"icon-rotation-alignment":new G(B.layout_symbol[`icon-rotation-alignment`]),"icon-size":new K(B.layout_symbol[`icon-size`]),"icon-text-fit":new G(B.layout_symbol[`icon-text-fit`]),"icon-text-fit-padding":new G(B.layout_symbol[`icon-text-fit-padding`]),"icon-image":new K(B.layout_symbol[`icon-image`]),"icon-rotate":new K(B.layout_symbol[`icon-rotate`]),"icon-padding":new G(B.layout_symbol[`icon-padding`]),"icon-keep-upright":new G(B.layout_symbol[`icon-keep-upright`]),"icon-offset":new K(B.layout_symbol[`icon-offset`]),"icon-anchor":new K(B.layout_symbol[`icon-anchor`]),"icon-pitch-alignment":new G(B.layout_symbol[`icon-pitch-alignment`]),"text-pitch-alignment":new G(B.layout_symbol[`text-pitch-alignment`]),"text-rotation-alignment":new G(B.layout_symbol[`text-rotation-alignment`]),"text-field":new K(B.layout_symbol[`text-field`]),"text-font":new K(B.layout_symbol[`text-font`]),"text-size":new K(B.layout_symbol[`text-size`]),"text-max-width":new K(B.layout_symbol[`text-max-width`]),"text-line-height":new G(B.layout_symbol[`text-line-height`]),"text-letter-spacing":new K(B.layout_symbol[`text-letter-spacing`]),"text-justify":new K(B.layout_symbol[`text-justify`]),"text-radial-offset":new K(B.layout_symbol[`text-radial-offset`]),"text-variable-anchor":new G(B.layout_symbol[`text-variable-anchor`]),"text-anchor":new K(B.layout_symbol[`text-anchor`]),"text-max-angle":new G(B.layout_symbol[`text-max-angle`]),"text-writing-mode":new G(B.layout_symbol[`text-writing-mode`]),"text-rotate":new K(B.layout_symbol[`text-rotate`]),"text-padding":new G(B.layout_symbol[`text-padding`]),"text-keep-upright":new G(B.layout_symbol[`text-keep-upright`]),"text-transform":new K(B.layout_symbol[`text-transform`]),"text-offset":new K(B.layout_symbol[`text-offset`]),"text-allow-overlap":new G(B.layout_symbol[`text-allow-overlap`]),"text-ignore-placement":new G(B.layout_symbol[`text-ignore-placement`]),"text-optional":new G(B.layout_symbol[`text-optional`])}),El={paint:new Oi({"icon-opacity":new K(B.paint_symbol[`icon-opacity`]),"icon-color":new K(B.paint_symbol[`icon-color`]),"icon-halo-color":new K(B.paint_symbol[`icon-halo-color`]),"icon-halo-width":new K(B.paint_symbol[`icon-halo-width`]),"icon-halo-blur":new K(B.paint_symbol[`icon-halo-blur`]),"icon-translate":new G(B.paint_symbol[`icon-translate`]),"icon-translate-anchor":new G(B.paint_symbol[`icon-translate-anchor`]),"text-opacity":new K(B.paint_symbol[`text-opacity`]),"text-color":new K(B.paint_symbol[`text-color`],{runtimeType:Qe,getOverride:function(e){return e.textColor},hasOverride:function(e){return!!e.textColor}}),"text-halo-color":new K(B.paint_symbol[`text-halo-color`]),"text-halo-width":new K(B.paint_symbol[`text-halo-width`]),"text-halo-blur":new K(B.paint_symbol[`text-halo-blur`]),"text-translate":new G(B.paint_symbol[`text-translate`]),"text-translate-anchor":new G(B.paint_symbol[`text-translate-anchor`])}),layout:Tl},Dl=function(e){this.type=e.property.overrides?e.property.overrides.runtimeType:Ye,this.defaultValue=e};Dl.prototype.evaluate=function(e){if(e.formattedSection){var t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default},Dl.prototype.eachChild=function(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)},Dl.prototype.outputDefined=function(){return!1},Dl.prototype.serialize=function(){return null},U(`FormatSectionOverride`,Dl,{omit:[`defaultValue`]});var Ol=function(e){function t(t){e.call(this,t,El)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(t,n){if(e.prototype.recalculate.call(this,t,n),this.layout.get(`icon-rotation-alignment`)===`auto`&&(this.layout._values[`icon-rotation-alignment`]=this.layout.get(`symbol-placement`)===`point`?`viewport`:`map`),this.layout.get(`text-rotation-alignment`)===`auto`&&(this.layout._values[`text-rotation-alignment`]=this.layout.get(`symbol-placement`)===`point`?`viewport`:`map`),this.layout.get(`text-pitch-alignment`)===`auto`&&(this.layout._values[`text-pitch-alignment`]=this.layout.get(`text-rotation-alignment`)),this.layout.get(`icon-pitch-alignment`)===`auto`&&(this.layout._values[`icon-pitch-alignment`]=this.layout.get(`icon-rotation-alignment`)),this.layout.get(`symbol-placement`)===`point`){var r=this.layout.get(`text-writing-mode`);if(r){for(var i=[],a=0,o=r;a<o.length;a+=1){var s=o[a];i.indexOf(s)<0&&i.push(s)}this.layout._values[`text-writing-mode`]=i}else this.layout._values[`text-writing-mode`]=[`horizontal`]}this._setPaintOverrides()},t.prototype.getValueAndResolveTokens=function(e,t,n,r){var i=this.layout.get(e).evaluate(t,{},n,r),a=this._unevaluatedLayout._values[e];return a.isDataDriven()||rr(a.value)||!i?i:function(e,t){return t.replace(/{([^{}]+)}/g,(function(t,n){return n in e?String(e[n]):``}))}(t.properties,i)},t.prototype.createBucket=function(e){return new wl(e)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype._setPaintOverrides=function(){for(var e=0,n=El.paint.overridableProperties;e<n.length;e+=1){var r=n[e];if(t.hasPaintOverride(this.layout,r)){var i,a=this.paint.get(r),o=new Dl(a),s=new nr(o,a.property.specification);i=a.value.kind===`constant`||a.value.kind===`source`?new ar(`source`,s):new or(`composite`,s,a.value.zoomStops,a.value._interpolationType),this.paint._values[r]=new Ci(a.property,i,a.parameters)}}},t.prototype._handleOverridablePaintPropertyUpdate=function(e,n,r){return!(!this.layout||n.isDataDriven()||r.isDataDriven())&&t.hasPaintOverride(this.layout,e)},t.hasPaintOverride=function(e,t){var n=e.get(`text-field`),r=El.paint.properties[t],i=!1,a=function(e){for(var t=0,n=e;t<n.length;t+=1)if(r.overrides&&r.overrides.hasOverride(n[t]))return void(i=!0)};if(n.value.kind===`constant`&&n.value.value instanceof mt)a(n.value.value.sections);else if(n.value.kind===`source`){var o=function(e){i||(e instanceof bt&&vt(e.value)===nt?a(e.value.sections):e instanceof wt?a(e.sections):e.eachChild(o))},s=n.value;s._styleExpression&&o(s._styleExpression.expression)}return i},t}(ki),kl={paint:new Oi({"background-color":new G(B.paint_background[`background-color`]),"background-pattern":new Ei(B.paint_background[`background-pattern`]),"background-opacity":new G(B.paint_background[`background-opacity`])})},Al=function(e){function t(t){e.call(this,t,kl)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(ki),jl={paint:new Oi({"raster-opacity":new G(B.paint_raster[`raster-opacity`]),"raster-hue-rotate":new G(B.paint_raster[`raster-hue-rotate`]),"raster-brightness-min":new G(B.paint_raster[`raster-brightness-min`]),"raster-brightness-max":new G(B.paint_raster[`raster-brightness-max`]),"raster-saturation":new G(B.paint_raster[`raster-saturation`]),"raster-contrast":new G(B.paint_raster[`raster-contrast`]),"raster-resampling":new G(B.paint_raster[`raster-resampling`]),"raster-fade-duration":new G(B.paint_raster[`raster-fade-duration`])})},Ml=function(e){function t(t){e.call(this,t,jl)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(ki),Nl=function(e){function t(t){e.call(this,t,{}),this.implementation=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.is3D=function(){return this.implementation.renderingMode===`3d`},t.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},t.prototype.recalculate=function(){},t.prototype.updateTransitions=function(){},t.prototype.hasTransition=function(){},t.prototype.serialize=function(){},t.prototype.onAdd=function(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},t.prototype.onRemove=function(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)},t}(ki),Pl={circle:yo,heatmap:ko,hillshade:jo,fill:ys,"fill-extrusion":Is,line:Js,symbol:Ol,background:Al,raster:Ml},Fl=o.HTMLImageElement,Il=o.HTMLCanvasElement,Ll=o.HTMLVideoElement,Y=o.ImageData,Rl=o.ImageBitmap,zl=function(e,t,n,r){this.context=e,this.format=n,this.texture=e.gl.createTexture(),this.update(t,r)};zl.prototype.update=function(e,t,n){var r=e.width,i=e.height,a=!(this.size&&this.size[0]===r&&this.size[1]===i||n),o=this.context,s=o.gl;if(this.useMipmap=!!(t&&t.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),o.pixelStoreUnpackFlipY.set(!1),o.pixelStoreUnpack.set(1),o.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!t||!1!==t.premultiply)),a)this.size=[r,i],e instanceof Fl||e instanceof Il||e instanceof Ll||e instanceof Y||Rl&&e instanceof Rl?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,r,i,0,this.format,s.UNSIGNED_BYTE,e.data);else{var c=n||{x:0,y:0},l=c.x,u=c.y;e instanceof Fl||e instanceof Il||e instanceof Ll||e instanceof Y||Rl&&e instanceof Rl?s.texSubImage2D(s.TEXTURE_2D,0,l,u,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,l,u,r,i,s.RGBA,s.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},zl.prototype.bind=function(e,t,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),e!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||e),this.filter=e),t!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,t),this.wrap=t)},zl.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},zl.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Bl=function(e){var t=this;this._callback=e,this._triggered=!1,typeof MessageChannel<`u`&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){t._triggered=!1,t._callback()})};Bl.prototype.trigger=function(){var e=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){e._triggered=!1,e._callback()}),0))},Bl.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Vl=function(e,t,n){this.target=e,this.parent=t,this.mapId=n,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},_([`receive`,`process`],this),this.invoker=new Bl(this.process),this.target.addEventListener(`message`,this.receive,!1),this.globalScope=E()?e:o};function Hl(e,t,n){var r=2*Math.PI*6378137/256/2**n;return[e*r-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}Vl.prototype.send=function(e,t,n,r,i){var a=this;i===void 0&&(i=!1);var o=Math.round(0xde0b6b3a7640000*Math.random()).toString(36).substring(0,10);n&&(this.callbacks[o]=n);var s=k(this.globalScope)?void 0:[];return this.target.postMessage({id:o,type:e,hasCallback:!!n,targetMapId:r,mustQueue:i,sourceMapId:this.mapId,data:Qr(t,s)},s),{cancel:function(){n&&delete a.callbacks[o],a.target.postMessage({id:o,type:`<cancel>`,targetMapId:r,sourceMapId:a.mapId})}}},Vl.prototype.receive=function(e){var t=e.data,n=t.id;if(n&&(!t.targetMapId||this.mapId===t.targetMapId))if(t.type===`<cancel>`){delete this.tasks[n];var r=this.cancelCallbacks[n];delete this.cancelCallbacks[n],r&&r()}else E()||t.mustQueue?(this.tasks[n]=t,this.taskQueue.push(n),this.invoker.trigger()):this.processTask(n,t)},Vl.prototype.process=function(){if(this.taskQueue.length){var e=this.taskQueue.shift(),t=this.tasks[e];delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),t&&this.processTask(e,t)}},Vl.prototype.processTask=function(e,t){var n=this;if(t.type===`<response>`){var r=this.callbacks[e];delete this.callbacks[e],r&&(t.error?r($r(t.error)):r(null,$r(t.data)))}else{var i=!1,a=k(this.globalScope)?void 0:[],o=t.hasCallback?function(t,r){i=!0,delete n.cancelCallbacks[e],n.target.postMessage({id:e,type:`<response>`,sourceMapId:n.mapId,error:t?Qr(t):null,data:Qr(r,a)},a)}:function(e){i=!0},s=null,c=$r(t.data);if(this.parent[t.type])s=this.parent[t.type](t.sourceMapId,c,o);else if(this.parent.getWorkerSource){var l=t.type.split(`.`);s=this.parent.getWorkerSource(t.sourceMapId,l[0],c.source)[l[1]](c,o)}else o(Error(`Could not find function `+t.type));!i&&s&&s.cancel&&(this.cancelCallbacks[e]=s.cancel)}},Vl.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener(`message`,this.receive,!1)};var Ul=function(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):e.length===4?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};Ul.prototype.setNorthEast=function(e){return this._ne=e instanceof Wl?new Wl(e.lng,e.lat):Wl.convert(e),this},Ul.prototype.setSouthWest=function(e){return this._sw=e instanceof Wl?new Wl(e.lng,e.lat):Wl.convert(e),this},Ul.prototype.extend=function(e){var t,n,r=this._sw,i=this._ne;if(e instanceof Wl)t=e,n=e;else{if(!(e instanceof Ul))return Array.isArray(e)?e.length===4||e.every(Array.isArray)?this.extend(Ul.convert(e)):this.extend(Wl.convert(e)):this;if(n=e._ne,!(t=e._sw)||!n)return this}return r||i?(r.lng=Math.min(t.lng,r.lng),r.lat=Math.min(t.lat,r.lat),i.lng=Math.max(n.lng,i.lng),i.lat=Math.max(n.lat,i.lat)):(this._sw=new Wl(t.lng,t.lat),this._ne=new Wl(n.lng,n.lat)),this},Ul.prototype.getCenter=function(){return new Wl((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Ul.prototype.getSouthWest=function(){return this._sw},Ul.prototype.getNorthEast=function(){return this._ne},Ul.prototype.getNorthWest=function(){return new Wl(this.getWest(),this.getNorth())},Ul.prototype.getSouthEast=function(){return new Wl(this.getEast(),this.getSouth())},Ul.prototype.getWest=function(){return this._sw.lng},Ul.prototype.getSouth=function(){return this._sw.lat},Ul.prototype.getEast=function(){return this._ne.lng},Ul.prototype.getNorth=function(){return this._ne.lat},Ul.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Ul.prototype.toString=function(){return`LngLatBounds(`+this._sw.toString()+`, `+this._ne.toString()+`)`},Ul.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Ul.prototype.contains=function(e){var t=Wl.convert(e),n=t.lng,r=t.lat,i=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&i},Ul.convert=function(e){return!e||e instanceof Ul?e:new Ul(e)};var Wl=function(e,t){if(isNaN(e)||isNaN(t))throw Error(`Invalid LngLat object: (`+e+`, `+t+`)`);if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw Error(`Invalid LngLat latitude value: must be between -90 and 90`)};Wl.prototype.wrap=function(){return new Wl(d(this.lng,-180,180),this.lat)},Wl.prototype.toArray=function(){return[this.lng,this.lat]},Wl.prototype.toString=function(){return`LngLat(`+this.lng+`, `+this.lat+`)`},Wl.prototype.distanceTo=function(e){var t=Math.PI/180,n=this.lat*t,r=e.lat*t,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-this.lng)*t);return 6371008.8*Math.acos(Math.min(i,1))},Wl.prototype.toBounds=function(e){e===void 0&&(e=0);var t=360*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return new Ul(new Wl(this.lng-n,this.lat-t),new Wl(this.lng+n,this.lat+t))},Wl.convert=function(e){if(e instanceof Wl)return e;if(Array.isArray(e)&&(e.length===2||e.length===3))return new Wl(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&typeof e==`object`&&e)return new Wl(Number(`lng`in e?e.lng:e.lon),Number(e.lat));throw Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Gl=2*Math.PI*6371008.8;function Kl(e){return Gl*Math.cos(e*Math.PI/180)}function ql(e){return(180+e)/360}function Jl(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Yl(e,t){return e/Kl(t)}function Xl(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}var Zl=function(e,t,n){n===void 0&&(n=0),this.x=+e,this.y=+t,this.z=+n};Zl.fromLngLat=function(e,t){t===void 0&&(t=0);var n=Wl.convert(e);return new Zl(ql(n.lng),Jl(n.lat),Yl(t,n.lat))},Zl.prototype.toLngLat=function(){return new Wl(360*this.x-180,Xl(this.y))},Zl.prototype.toAltitude=function(){return this.z*Kl(Xl(this.y))},Zl.prototype.meterInMercatorCoordinateUnits=function(){return 1/Gl*(e=Xl(this.y),1/Math.cos(e*Math.PI/180));var e};var Ql=function(e,t,n){this.z=e,this.x=t,this.y=n,this.key=tu(0,e,e,t,n)};Ql.prototype.equals=function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y},Ql.prototype.url=function(e,t){var n,r,i,a,o,s=(r=this.y,i=this.z,a=Hl(256*(n=this.x),256*(r=2**i-r-1),i),o=Hl(256*(n+1),256*(r+1),i),a[0]+`,`+a[1]+`,`+o[0]+`,`+o[1]),c=function(e,t,n){for(var r,i=``,a=e;a>0;a--)i+=(t&(r=1<<a-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace(`{prefix}`,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(`{z}`,String(this.z)).replace(`{x}`,String(this.x)).replace(`{y}`,String(t===`tms`?2**this.z-this.y-1:this.y)).replace(`{quadkey}`,c).replace(`{bbox-epsg-3857}`,s)},Ql.prototype.getTilePoint=function(e){var t=2**this.z;return new i(8192*(e.x*t-this.x),8192*(e.y*t-this.y))},Ql.prototype.toString=function(){return this.z+`/`+this.x+`/`+this.y};var $l=function(e,t){this.wrap=e,this.canonical=t,this.key=tu(e,t.z,t.z,t.x,t.y)},eu=function(e,t,n,r,i){this.overscaledZ=e,this.wrap=t,this.canonical=new Ql(n,+r,+i),this.key=tu(t,e,n,r,i)};function tu(e,t,n,r,i){(e*=2)<0&&(e=-1*e-1);var a=1<<n;return(a*a*e+a*i+r).toString(36)+n.toString(36)+t.toString(36)}eu.prototype.equals=function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)},eu.prototype.scaledTo=function(e){var t=this.canonical.z-e;return e>this.canonical.z?new eu(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new eu(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)},eu.prototype.calculateScaledKey=function(e,t){var n=this.canonical.z-e;return e>this.canonical.z?tu(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y):tu(this.wrap*+t,e,e,this.canonical.x>>n,this.canonical.y>>n)},eu.prototype.isChildOf=function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return e.overscaledZ===0||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t},eu.prototype.children=function(e){if(this.overscaledZ>=e)return[new eu(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var t=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new eu(t,this.wrap,t,n,r),new eu(t,this.wrap,t,n+1,r),new eu(t,this.wrap,t,n,r+1),new eu(t,this.wrap,t,n+1,r+1)]},eu.prototype.isLessThan=function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))},eu.prototype.wrapped=function(){return new eu(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},eu.prototype.unwrapTo=function(e){return new eu(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)},eu.prototype.overscaleFactor=function(){return 2**(this.overscaledZ-this.canonical.z)},eu.prototype.toUnwrapped=function(){return new $l(this.wrap,this.canonical)},eu.prototype.toString=function(){return this.overscaledZ+`/`+this.canonical.x+`/`+this.canonical.y},eu.prototype.getTilePoint=function(e){return this.canonical.getTilePoint(new Zl(e.x-this.wrap,e.y))},U(`CanonicalTileID`,Ql),U(`OverscaledTileID`,eu,{omit:[`posMatrix`]});var nu=function(e,t,n){if(this.uid=e,t.height!==t.width)throw RangeError(`DEM tiles must be square`);if(n&&n!==`mapbox`&&n!==`terrarium`)return C(`"`+n+`" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=t.height;var r=this.dim=t.height-2;this.data=new Uint32Array(t.data.buffer),this.encoding=n||`mapbox`;for(var i=0;i<r;i++)this.data[this._idx(-1,i)]=this.data[this._idx(0,i)],this.data[this._idx(r,i)]=this.data[this._idx(r-1,i)],this.data[this._idx(i,-1)]=this.data[this._idx(i,0)],this.data[this._idx(i,r)]=this.data[this._idx(i,r-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(r,-1)]=this.data[this._idx(r-1,0)],this.data[this._idx(-1,r)]=this.data[this._idx(0,r-1)],this.data[this._idx(r,r)]=this.data[this._idx(r-1,r-1)]};nu.prototype.get=function(e,t){var n=new Uint8Array(this.data.buffer),r=4*this._idx(e,t);return(this.encoding===`terrarium`?this._unpackTerrarium:this._unpackMapbox)(n[r],n[r+1],n[r+2])},nu.prototype.getUnpackVector=function(){return this.encoding===`terrarium`?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},nu.prototype._idx=function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw RangeError(`out of range source coordinates for DEM data`);return(t+1)*this.stride+(e+1)},nu.prototype._unpackMapbox=function(e,t,n){return(256*e*256+256*t+n)/10-1e4},nu.prototype._unpackTerrarium=function(e,t,n){return 256*e+t+n/256-32768},nu.prototype.getPixels=function(){return new Eo({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},nu.prototype.backfillBorder=function(e,t,n){if(this.dim!==e.dim)throw Error(`dem dimension mismatch`);var r=t*this.dim,i=t*this.dim+this.dim,a=n*this.dim,o=n*this.dim+this.dim;switch(t){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:a=o-1;break;case 1:o=a+1}for(var s=-t*this.dim,c=-n*this.dim,l=a;l<o;l++)for(var u=r;u<i;u++)this.data[this._idx(u,l)]=e.data[this._idx(u+s,l+c)]},U(`DEMData`,nu);var ru=function(e){this._stringToNumber={},this._numberToString=[];for(var t=0;t<e.length;t++){var n=e[t];this._stringToNumber[n]=t,this._numberToString[t]=n}};ru.prototype.encode=function(e){return this._stringToNumber[e]},ru.prototype.decode=function(e){return this._numberToString[e]};var iu=function(e,t,n,r,i){this.type=`Feature`,this._vectorTileFeature=e,e._z=t,e._x=n,e._y=r,this.properties=e.properties,this.id=i},au={geometry:{configurable:!0}};au.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},au.geometry.set=function(e){this._geometry=e},iu.prototype.toJSON=function(){var e={geometry:this.geometry};for(var t in this)t!==`_geometry`&&t!==`_vectorTileFeature`&&(e[t]=this[t]);return e},Object.defineProperties(iu.prototype,au);var ou=function(){this.state={},this.stateChanges={},this.deletedStates={}};ou.prototype.updateState=function(e,t,n){var r=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][r]=this.stateChanges[e][r]||{},f(this.stateChanges[e][r],n),this.deletedStates[e]===null)for(var i in this.deletedStates[e]={},this.state[e])i!==r&&(this.deletedStates[e][i]=null);else if(this.deletedStates[e]&&this.deletedStates[e][r]===null)for(var a in this.deletedStates[e][r]={},this.state[e][r])n[a]||(this.deletedStates[e][r][a]=null);else for(var o in n)this.deletedStates[e]&&this.deletedStates[e][r]&&this.deletedStates[e][r][o]===null&&delete this.deletedStates[e][r][o]},ou.prototype.removeFeatureState=function(e,t,n){if(this.deletedStates[e]!==null){var r=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&t!==void 0)this.deletedStates[e][r]!==null&&(this.deletedStates[e][r]=this.deletedStates[e][r]||{},this.deletedStates[e][r][n]=null);else if(t!==void 0)if(this.stateChanges[e]&&this.stateChanges[e][r])for(n in this.deletedStates[e][r]={},this.stateChanges[e][r])this.deletedStates[e][r][n]=null;else this.deletedStates[e][r]=null;else this.deletedStates[e]=null}},ou.prototype.getState=function(e,t){var n=String(t),r=f({},(this.state[e]||{})[n],(this.stateChanges[e]||{})[n]);if(this.deletedStates[e]===null)return{};if(this.deletedStates[e]){var i=this.deletedStates[e][t];if(i===null)return{};for(var a in i)delete r[a]}return r},ou.prototype.initializeTileState=function(e,t){e.setFeatureState(this.state,t)},ou.prototype.coalesceChanges=function(e,t){var n={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var i={};for(var a in this.stateChanges[r])this.state[r][a]||(this.state[r][a]={}),f(this.state[r][a],this.stateChanges[r][a]),i[a]=this.state[r][a];n[r]=i}for(var o in this.deletedStates){this.state[o]=this.state[o]||{};var s={};if(this.deletedStates[o]===null)for(var c in this.state[o])s[c]={},this.state[o][c]={};else for(var l in this.deletedStates[o]){if(this.deletedStates[o][l]===null)this.state[o][l]={};else for(var u=0,d=Object.keys(this.deletedStates[o][l]);u<d.length;u+=1)delete this.state[o][l][d[u]];s[l]=this.state[o][l]}n[o]=n[o]||{},f(n[o],s)}if(this.stateChanges={},this.deletedStates={},Object.keys(n).length!==0)for(var p in e)e[p].setFeatureState(n,t)};var su=function(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new Wr(8192,16,0),this.grid3D=new Wr(8192,16,0),this.featureIndexArray=new fa,this.promoteId=t};function cu(e,t,n,r,i){return y(e,(function(e,a){var o=t instanceof wi?t.get(a):null;return o&&o.evaluate?o.evaluate(n,r,i):o}))}function lu(e){for(var t=1/0,n=1/0,r=-1/0,i=-1/0,a=0,o=e;a<o.length;a+=1){var s=o[a];t=Math.min(t,s.x),n=Math.min(n,s.y),r=Math.max(r,s.x),i=Math.max(i,s.y)}return{minX:t,minY:n,maxX:r,maxY:i}}function uu(e,t){return t-e}su.prototype.insert=function(e,t,n,r,i,a){var o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var s=a?this.grid3D:this.grid,c=0;c<t.length;c++){for(var l=t[c],u=[1/0,1/0,-1/0,-1/0],d=0;d<l.length;d++){var f=l[d];u[0]=Math.min(u[0],f.x),u[1]=Math.min(u[1],f.y),u[2]=Math.max(u[2],f.x),u[3]=Math.max(u[3],f.y)}u[0]<8192&&u[1]<8192&&u[2]>=0&&u[3]>=0&&s.insert(o,u[0],u[1],u[2],u[3])}},su.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new ks.VectorTile(new ac(this.rawTileData)).layers,this.sourceLayerCoder=new ru(this.vtLayers?Object.keys(this.vtLayers).sort():[`_geojsonTileLayer`])),this.vtLayers},su.prototype.query=function(e,t,n,r){var a=this;this.loadVTLayers();for(var o=e.params||{},s=8192/e.tileSize/e.scale,c=_r(o.filter),l=e.queryGeometry,u=e.queryPadding*s,d=lu(l),f=this.grid.query(d.minX-u,d.minY-u,d.maxX+u,d.maxY+u),p=lu(e.cameraQueryGeometry),m=this.grid3D.query(p.minX-u,p.minY-u,p.maxX+u,p.maxY+u,(function(t,n,r,a){return function(e,t,n,r,a){for(var o=0,s=e;o<s.length;o+=1){var c=s[o];if(t<=c.x&&n<=c.y&&r>=c.x&&a>=c.y)return!0}var l=[new i(t,n),new i(t,a),new i(r,a),new i(r,n)];if(e.length>2){for(var u=0,d=l;u<d.length;u+=1)if(ao(e,d[u]))return!0}for(var f=0;f<e.length-1;f++)if(oo(e[f],e[f+1],l))return!0;return!1}(e.cameraQueryGeometry,t-u,n-u,r+u,a+u)})),h=0,g=m;h<g.length;h+=1)f.push(g[h]);f.sort(uu);for(var _,v={},y=function(i){var u=f[i];if(u!==_){_=u;var d=a.featureIndexArray.get(u),p=null;a.loadMatchingFeature(v,d.bucketIndex,d.sourceLayerIndex,d.featureIndex,c,o.layers,o.availableImages,t,n,r,(function(t,n,r){return p||=Ka(t),n.queryIntersectsFeature(l,t,r,p,a.z,e.transform,s,e.pixelPosMatrix)}))}},b=0;b<f.length;b++)y(b);return v},su.prototype.loadMatchingFeature=function(e,t,n,r,i,a,o,s,c,l,u){var d=this.bucketLayerIDs[t];if(!a||function(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}(a,d)){var p=this.sourceLayerCoder.decode(n),m=this.vtLayers[p].feature(r);if(i.needGeometry){var h=qa(m,!0);if(!i.filter(new gi(this.tileID.overscaledZ),h,this.tileID.canonical))return}else if(!i.filter(new gi(this.tileID.overscaledZ),m))return;for(var g=this.getId(m,p),_=0;_<d.length;_++){var v=d[_];if(!(a&&a.indexOf(v)<0)){var y=s[v];if(y){var b={};g!==void 0&&l&&(b=l.getState(y.sourceLayer||`_geojsonTileLayer`,g));var x=f({},c[v]);x.paint=cu(x.paint,y.paint,m,b,o),x.layout=cu(x.layout,y.layout,m,b,o);var S=!u||u(m,y,b);if(S){var C=new iu(m,this.z,this.x,this.y,g);C.layer=x;var w=e[v];w===void 0&&(w=e[v]=[]),w.push({featureIndex:r,feature:C,intersectionZ:S})}}}}}},su.prototype.lookupSymbolFeatures=function(e,t,n,r,i,a,o,s){var c={};this.loadVTLayers();for(var l=_r(i),u=0,d=e;u<d.length;u+=1)this.loadMatchingFeature(c,n,r,d[u],l,a,o,s,t);return c},su.prototype.hasLayer=function(e){for(var t=0,n=this.bucketLayerIDs;t<n.length;t+=1)for(var r=0,i=n[t];r<i.length;r+=1)if(e===i[r])return!0;return!1},su.prototype.getId=function(e,t){var n=e.id;return this.promoteId&&typeof(n=e.properties[typeof this.promoteId==`string`?this.promoteId:this.promoteId[t]])==`boolean`&&(n=Number(n)),n},U(`FeatureIndex`,su,{omit:[`rawTileData`,`sourceLayerCoder`]});var du=function(e,t){this.tileID=e,this.uid=m(),this.uses=0,this.tileSize=t,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state=`loading`};du.prototype.registerFadeDuration=function(e){var t=e+this.timeAdded;t<te.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)},du.prototype.wasRequested=function(){return this.state===`errored`||this.state===`loaded`||this.state===`reloading`},du.prototype.loadVectorData=function(e,t,n){if(this.hasData()&&this.unloadVectorData(),this.state=`loaded`,e){for(var r in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){var n={};if(!t)return n;for(var r=function(){var e=a[i],r=e.layerIds.map((function(e){return t.getLayer(e)})).filter(Boolean);if(r.length!==0){e.layers=r,e.stateDependentLayerIds&&(e.stateDependentLayers=e.stateDependentLayerIds.map((function(e){return r.filter((function(t){return t.id===e}))[0]})));for(var o=0,s=r;o<s.length;o+=1)n[s[o].id]=e}},i=0,a=e;i<a.length;i+=1)r();return n}(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[r];if(i instanceof wl){if(this.hasSymbolBuckets=!0,!n)break;i.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var a in this.buckets){var o=this.buckets[a];if(o instanceof wl&&o.hasRTLText){this.hasRTLText=!0,hi.isLoading()||hi.isLoaded()||pi()!==`deferred`||mi();break}}for(var s in this.queryPadding=0,this.buckets){var c=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(s).queryRadius(c))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new ia},du.prototype.unloadVectorData=function(){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&=null,this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state=`unloaded`},du.prototype.getBucket=function(e){return this.buckets[e.id]},du.prototype.upload=function(e){for(var t in this.buckets){var n=this.buckets[t];n.uploadPending()&&n.upload(e)}var r=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new zl(e,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&=(this.glyphAtlasTexture=new zl(e,this.glyphAtlasImage,r.ALPHA),null)},du.prototype.prepare=function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)},du.prototype.queryRenderedFeatures=function(e,t,n,r,i,a,o,s,c,l){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:i,scale:a,tileSize:this.tileSize,pixelPosMatrix:l,transform:s,params:o,queryPadding:this.queryPadding*c},e,t,n):{}},du.prototype.querySourceFeatures=function(e,t){var n=this.latestFeatureIndex;if(n&&n.rawTileData){var r=n.loadVTLayers(),i=t?t.sourceLayer:``,a=r._geojsonTileLayer||r[i];if(a)for(var o=_r(t&&t.filter),s=this.tileID.canonical,c=s.z,l=s.x,u=s.y,d={z:c,x:l,y:u},f=0;f<a.length;f++){var p=a.feature(f);if(o.needGeometry){var m=qa(p,!0);if(!o.filter(new gi(this.tileID.overscaledZ),m,this.tileID.canonical))continue}else if(!o.filter(new gi(this.tileID.overscaledZ),p))continue;var h=n.getId(p,i),g=new iu(p,c,l,u,h);g.tile=d,e.push(g)}}},du.prototype.hasData=function(){return this.state===`loaded`||this.state===`reloading`||this.state===`expired`},du.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},du.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var n=D(e.cacheControl);n[`max-age`]&&(this.expirationTime=Date.now()+1e3*n[`max-age`])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var r=Date.now(),i=!1;if(this.expirationTime>r)i=!1;else if(t)if(this.expirationTime<t)i=!0;else{var a=this.expirationTime-t;a?this.expirationTime=r+Math.max(a,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state=`expired`):this.expiredRequestCount=0}},du.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),2**31-1)},du.prototype.setFeatureState=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(e).length!==0){var n=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets)if(t.style.hasLayer(r)){var i=this.buckets[r],a=i.layers[0].sourceLayer||`_geojsonTileLayer`,o=n[a],s=e[a];if(o&&s&&Object.keys(s).length!==0){i.update(s,o,this.imageAtlas&&this.imageAtlas.patternPositions||{});var c=t&&t.style&&t.style.getLayer(r);c&&(this.queryPadding=Math.max(this.queryPadding,c.queryRadius(i)))}}}},du.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},du.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<te.now()},du.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},du.prototype.setHoldDuration=function(e){this.symbolFadeHoldUntil=te.now()+e},du.prototype.setDependencies=function(e,t){for(var n={},r=0,i=t;r<i.length;r+=1)n[i[r]]=!0;this.dependencies[e]=n},du.prototype.hasDependency=function(e,t){for(var n=0,r=e;n<r.length;n+=1){var i=this.dependencies[r[n]];if(i){for(var a=0,o=t;a<o.length;a+=1)if(i[o[a]])return!0}}return!1};var fu=o.performance,pu=function(e){this._marks={start:[e.url,`start`].join(`#`),end:[e.url,`end`].join(`#`),measure:e.url.toString()},fu.mark(this._marks.start)};pu.prototype.finish=function(){fu.mark(this._marks.end);var e=fu.getEntriesByName(this._marks.measure);return e.length===0&&(fu.measure(this._marks.measure,this._marks.start,this._marks.end),e=fu.getEntriesByName(this._marks.measure),fu.clearMarks(this._marks.start),fu.clearMarks(this._marks.end),fu.clearMeasures(this._marks.measure)),e},e.Actor=Vl,e.AlphaImage=To,e.CanonicalTileID=Ql,e.CollisionBoxArray=ia,e.Color=dt,e.DEMData=nu,e.DataConstantProperty=G,e.DictionaryCoder=ru,e.EXTENT=8192,e.ErrorEvent=Ve,e.EvaluationParameters=gi,e.Event=Be,e.Evented=He,e.FeatureIndex=su,e.FillBucket=gs,e.FillExtrusionBucket=Ns,e.ImageAtlas=kc,e.ImagePosition=Dc,e.LineBucket=Ws,e.LngLat=Wl,e.LngLatBounds=Ul,e.MercatorCoordinate=Zl,e.ONE_EM=24,e.OverscaledTileID=eu,e.Point=i,e.Point$1=i,e.Properties=Oi,e.Protobuf=ac,e.RGBAImage=Eo,e.RequestManager=oe,e.RequestPerformance=pu,e.ResourceType=Oe,e.SegmentVector=ma,e.SourceFeatureState=ou,e.StructArrayLayout1ui2=ta,e.StructArrayLayout2f1f2i16=Ki,e.StructArrayLayout2i4=Fi,e.StructArrayLayout3ui6=Ji,e.StructArrayLayout4i8=Ii,e.SymbolBucket=wl,e.Texture=zl,e.Tile=du,e.Transitionable=yi,e.Uniform1f=Da,e.Uniform1i=Ea,e.Uniform2f=Oa,e.Uniform3f=ka,e.Uniform4f=Aa,e.UniformColor=ja,e.UniformMatrix4f=Na,e.UnwrappedTileID=$l,e.ValidationError=V,e.WritingMode=Ac,e.ZoomHistory=ei,e.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e},e.addDynamicAttributes=bl,e.asyncAll=function(e,t,n){if(!e.length)return n(null,[]);var r=e.length,i=Array(e.length),a=null;e.forEach((function(e,o){t(e,(function(e,t){e&&(a=e),i[o]=t,--r==0&&n(a,i)}))}))},e.bezier=c,e.bindAll=_,e.browser=te,e.cacheEntryPossiblyAdded=function(e){++Ee>Se&&(e.getActor().send(`enforceCacheSizeLimit`,xe),Ee=0)},e.clamp=u,e.clearTileCache=function(e){var t=o.caches.delete(`mapbox-tiles`);e&&t.catch(e).then((function(){return e()}))},e.clipLine=el,e.clone=function(e){var t=new po(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=x,e.clone$2=function(e){var t=new po(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.collisionCircleLayout=ec,e.config=L,e.create=function(){var e=new po(16);return po!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=function(){var e=new po(9);return po!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e},e.create$2=function(){var e=new po(4);return po!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},e.createCommonjsModule=t,e.createExpression=ir,e.createLayout=Ni,e.createStyleLayer=function(e){return e.type===`custom`?new Nl(e):new Pl[e.type](e)},e.cross=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],c=n[2];return e[0]=i*c-a*s,e[1]=a*o-r*c,e[2]=r*s-i*o,e},e.deepEqual=function e(t,n){if(Array.isArray(t)){if(!Array.isArray(n)||t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if(typeof t==`object`&&t&&n!==null){if(typeof n!=`object`||Object.keys(t).length!==Object.keys(n).length)return!1;for(var i in t)if(!e(t[i],n[i]))return!1;return!0}return t===n},e.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},e.dot$1=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},e.ease=l,e.emitValidationErrors=Ur,e.endsWith=v,e.enforceCacheSizeLimit=function(e){Ce(),he&&he.then((function(t){t.keys().then((function(n){for(var r=0;r<n.length-e;r++)t.delete(n[r])}))}))},e.evaluateSizeForFeature=Kc,e.evaluateSizeForZoom=qc,e.evaluateVariableOffset=pl,e.evented=fi,e.extend=f,e.featureFilter=_r,e.filterObject=b,e.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.getAnchorAlignment=Vc,e.getAnchorJustification=ml,e.getArrayBuffer=Pe,e.getImage=Le,e.getJSON=function(e,t){return Ne(f(e,{type:`json`}),t)},e.getRTLTextPluginStatus=pi,e.getReferrer=Ae,e.getVideo=function(e,t){var n,r,i=o.document.createElement(`video`);i.muted=!0,i.onloadstart=function(){t(null,i)};for(var a=0;a<e.length;a++){var s=o.document.createElement(`source`);n=e[a],r=void 0,(r=o.document.createElement(`a`)).href=n,(r.protocol!==o.document.location.protocol||r.host!==o.document.location.host)&&(i.crossOrigin=`Anonymous`),s.src=e[a],i.appendChild(s)}return{cancel:function(){}}},e.identity=mo,e.invert=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],l=t[7],u=t[8],d=t[9],f=t[10],p=t[11],m=t[12],h=t[13],g=t[14],_=t[15],v=n*s-r*o,y=n*c-i*o,b=n*l-a*o,x=r*c-i*s,S=r*l-a*s,C=i*l-a*c,w=u*h-d*m,T=u*g-f*m,E=u*_-p*m,D=d*g-f*h,O=d*_-p*h,k=f*_-p*g,A=v*k-y*O+b*D+x*E-S*T+C*w;return A?(e[0]=(s*k-c*O+l*D)*(A=1/A),e[1]=(i*O-r*k-a*D)*A,e[2]=(h*C-g*S+_*x)*A,e[3]=(f*S-d*C-p*x)*A,e[4]=(c*E-o*k-l*T)*A,e[5]=(n*k-i*E+a*T)*A,e[6]=(g*b-m*C-_*y)*A,e[7]=(u*C-f*b+p*y)*A,e[8]=(o*O-s*E+l*w)*A,e[9]=(r*E-n*O-a*w)*A,e[10]=(m*S-h*b+_*v)*A,e[11]=(d*b-u*S-p*v)*A,e[12]=(s*T-o*D-c*w)*A,e[13]=(n*D-r*T+i*w)*A,e[14]=(h*y-m*x-g*v)*A,e[15]=(u*x-d*y+f*v)*A,e):null},e.isChar=W,e.isMapboxURL=se,e.keysDifference=function(e,t){var n=[];for(var r in e)r in t||n.push(r);return n},e.makeRequest=Ne,e.mapObject=y,e.mercatorXfromLng=ql,e.mercatorYfromLat=Jl,e.mercatorZfromAltitude=Yl,e.mul=_o,e.multiply=ho,e.mvt=ks,e.nextPowerOfTwo=function(e){return e<=1?1:2**Math.ceil(Math.log(e)/Math.LN2)},e.normalize=function(e,t){var n=t[0],r=t[1],i=t[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e},e.number=tn,e.offscreenCanvasSupported=De,e.ortho=function(e,t,n,r,i,a,o){var s=1/(t-n),c=1/(r-i),l=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*c,e[14]=(o+a)*l,e[15]=1,e},e.parseGlyphPBF=function(e){return new ac(e).readFields(Cc,[])},e.pbf=ac,e.performSymbolLayout=function(e,t,n,r,i,a,o){e.createArrays(),e.tilePixelRatio=8192/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;var s=e.layers[0].layout,c=e.layers[0]._unevaluatedLayout._values,l={};if(e.textSizeData.kind===`composite`){var u=e.textSizeData,d=u.maxZoom;l.compositeTextSizes=[c[`text-size`].possiblyEvaluate(new gi(u.minZoom),o),c[`text-size`].possiblyEvaluate(new gi(d),o)]}if(e.iconSizeData.kind===`composite`){var f=e.iconSizeData,p=f.maxZoom;l.compositeIconSizes=[c[`icon-size`].possiblyEvaluate(new gi(f.minZoom),o),c[`icon-size`].possiblyEvaluate(new gi(p),o)]}l.layoutTextSize=c[`text-size`].possiblyEvaluate(new gi(e.zoom+1),o),l.layoutIconSize=c[`icon-size`].possiblyEvaluate(new gi(e.zoom+1),o),l.textMaxSize=c[`text-size`].possiblyEvaluate(new gi(18));for(var m=24*s.get(`text-line-height`),h=s.get(`text-rotation-alignment`)===`map`&&s.get(`symbol-placement`)!==`point`,g=s.get(`text-keep-upright`),_=s.get(`text-size`),v=function(){var a=b[y],c=s.get(`text-font`).evaluate(a,{},o).join(`,`),u=_.evaluate(a,{},o),d=l.layoutTextSize.evaluate(a,{},o),f=l.layoutIconSize.evaluate(a,{},o),p={horizontal:{},vertical:void 0},v=a.text,x=[0,0];if(v){var S=v.toString(),w=24*s.get(`text-letter-spacing`).evaluate(a,{},o),T=function(e){for(var t=0,n=e;t<n.length;t+=1)if(r=n[t].charCodeAt(0),W.Arabic(r)||W[`Arabic Supplement`](r)||W[`Arabic Extended-A`](r)||W[`Arabic Presentation Forms-A`](r)||W[`Arabic Presentation Forms-B`](r))return!1;var r;return!0}(S)?w:0,E=s.get(`text-anchor`).evaluate(a,{},o),D=s.get(`text-variable-anchor`);if(!D){var O=s.get(`text-radial-offset`).evaluate(a,{},o);x=O?pl(E,[24*O,fl]):s.get(`text-offset`).evaluate(a,{},o).map((function(e){return 24*e}))}var k=h?`center`:s.get(`text-justify`).evaluate(a,{},o),A=s.get(`symbol-placement`),j=A===`point`?24*s.get(`text-max-width`).evaluate(a,{},o):0,M=function(){e.allowVerticalPlacement&&ti(S)&&(p.vertical=Nc(v,t,n,i,c,j,m,E,`left`,T,x,Ac.vertical,!0,A,d,u))};if(!h&&D){for(var N=k===`auto`?D.map((function(e){return ml(e)})):[k],P=!1,F=0;F<N.length;F++){var ee=N[F];if(!p.horizontal[ee])if(P)p.horizontal[ee]=p.horizontal[0];else{var I=Nc(v,t,n,i,c,j,m,`center`,ee,T,x,Ac.horizontal,!1,A,d,u);I&&(p.horizontal[ee]=I,P=I.positionedLines.length===1)}}M()}else{k===`auto`&&(k=ml(E));var te=Nc(v,t,n,i,c,j,m,E,k,T,x,Ac.horizontal,!1,A,d,u);te&&(p.horizontal[k]=te),M(),ti(S)&&h&&g&&(p.vertical=Nc(v,t,n,i,c,j,m,E,k,T,x,Ac.vertical,!1,A,d,u))}}var L=void 0,ne=!1;if(a.icon&&a.icon.name){var re=r[a.icon.name];re&&(L=function(e,t,n){var r=Vc(n),i=t[0]-e.displaySize[0]*r.horizontalAlign,a=t[1]-e.displaySize[1]*r.verticalAlign;return{image:e,top:a,bottom:a+e.displaySize[1],left:i,right:i+e.displaySize[0]}}(i[a.icon.name],s.get(`icon-offset`).evaluate(a,{},o),s.get(`icon-anchor`).evaluate(a,{},o)),ne=re.sdf,e.sdfIcons===void 0?e.sdfIcons=re.sdf:e.sdfIcons!==re.sdf&&C(`Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer`),(re.pixelRatio!==e.pixelRatio||s.get(`icon-rotate`).constantOr(1)!==0)&&(e.iconsNeedLinear=!0))}var ie=gl(p.horizontal)||p.vertical;e.iconsInText=!!ie&&ie.iconsInText,(ie||L)&&function(e,t,n,r,i,a,o,s,c,l,u){var d=a.textMaxSize.evaluate(t,{});d===void 0&&(d=o);var f,p=e.layers[0].layout,m=p.get(`icon-offset`).evaluate(t,{},u),h=gl(n.horizontal),g=o/24,_=e.tilePixelRatio*g,v=e.tilePixelRatio*d/24,y=e.tilePixelRatio*s,b=e.tilePixelRatio*p.get(`symbol-spacing`),x=p.get(`text-padding`)*e.tilePixelRatio,S=p.get(`icon-padding`)*e.tilePixelRatio,w=p.get(`text-max-angle`)/180*Math.PI,T=p.get(`text-rotation-alignment`)===`map`&&p.get(`symbol-placement`)!==`point`,E=p.get(`icon-rotation-alignment`)===`map`&&p.get(`symbol-placement`)!==`point`,D=p.get(`symbol-placement`),O=b/2,k=p.get(`icon-text-fit`);r&&k!==`none`&&(e.allowVerticalPlacement&&n.vertical&&(f=Uc(r,n.vertical,k,p.get(`icon-text-fit-padding`),m,g)),h&&(r=Uc(r,h,k,p.get(`icon-text-fit-padding`),m,g)));var A=function(s,d){d.x<0||d.x>=8192||d.y<0||d.y>=8192||function(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S,w,T){var E,D,O,k,A,j=e.addToLineVertexArray(t,n),M=0,N=0,P=0,F=0,ee=-1,I=-1,te={},L=ya(``),ne=0,re=0;if(s._unevaluatedLayout.getValue(`text-radial-offset`)===void 0?(ne=(E=s.layout.get(`text-offset`).evaluate(b,{},w).map((function(e){return 24*e})))[0],re=E[1]):(ne=24*s.layout.get(`text-radial-offset`).evaluate(b,{},w),re=fl),e.allowVerticalPlacement&&r.vertical){var ie=s.layout.get(`text-rotate`).evaluate(b,{},w)+90;k=new ol(c,t,l,u,d,r.vertical,f,p,m,ie),o&&(A=new ol(c,t,l,u,d,o,g,_,m,ie))}if(i){var R=s.layout.get(`icon-rotate`).evaluate(b,{}),ae=s.layout.get(`icon-text-fit`)!==`none`,oe=tl(i,R,S,ae),se=o?tl(o,R,S,ae):void 0;O=new ol(c,t,l,u,d,i,g,_,!1,R),M=4*oe.length;var ce=e.iconSizeData,le=null;ce.kind===`source`?(le=[128*s.layout.get(`icon-size`).evaluate(b,{})])[0]>32640&&C(e.layerIds[0]+`: Value for "icon-size" is >= 255. Reduce your "icon-size".`):ce.kind===`composite`&&((le=[128*x.compositeIconSizes[0].evaluate(b,{},w),128*x.compositeIconSizes[1].evaluate(b,{},w)])[0]>32640||le[1]>32640)&&C(e.layerIds[0]+`: Value for "icon-size" is >= 255. Reduce your "icon-size".`),e.addSymbols(e.icon,oe,le,y,v,b,!1,t,j.lineStartIndex,j.lineLength,-1,w),ee=e.icon.placedSymbolArray.length-1,se&&(N=4*se.length,e.addSymbols(e.icon,se,le,y,v,b,Ac.vertical,t,j.lineStartIndex,j.lineLength,-1,w),I=e.icon.placedSymbolArray.length-1)}for(var ue in r.horizontal){var de=r.horizontal[ue];if(!D){L=ya(de.text);var fe=s.layout.get(`text-rotate`).evaluate(b,{},w);D=new ol(c,t,l,u,d,de,f,p,m,fe)}var pe=de.positionedLines.length===1;if(P+=hl(e,t,de,a,s,m,b,h,j,r.vertical?Ac.horizontal:Ac.horizontalOnly,pe?Object.keys(r.horizontal):[ue],te,ee,x,w),pe)break}r.vertical&&(F+=hl(e,t,r.vertical,a,s,m,b,h,j,Ac.vertical,[`vertical`],te,I,x,w));var me=D?D.boxStartIndex:e.collisionBoxArray.length,he=D?D.boxEndIndex:e.collisionBoxArray.length,ge=k?k.boxStartIndex:e.collisionBoxArray.length,_e=k?k.boxEndIndex:e.collisionBoxArray.length,z=O?O.boxStartIndex:e.collisionBoxArray.length,ve=O?O.boxEndIndex:e.collisionBoxArray.length,ye=A?A.boxStartIndex:e.collisionBoxArray.length,be=A?A.boxEndIndex:e.collisionBoxArray.length,xe=-1,Se=function(e,t){return e&&e.circleDiameter?Math.max(e.circleDiameter,t):t};xe=Se(D,xe),xe=Se(k,xe),xe=Se(O,xe);var Ce=(xe=Se(A,xe))>-1?1:0;Ce&&(xe*=T/24),e.glyphOffsetArray.length>=wl.MAX_GLYPHS&&C(`Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907`),b.sortKey!==void 0&&e.addToSortKeyRanges(e.symbolInstances.length,b.sortKey),e.symbolInstances.emplaceBack(t.x,t.y,te.right>=0?te.right:-1,te.center>=0?te.center:-1,te.left>=0?te.left:-1,te.vertical||-1,ee,I,L,me,he,ge,_e,z,ve,ye,be,l,P,F,M,N,Ce,0,f,ne,re,xe)}(e,d,s,n,r,i,f,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,_,x,T,c,y,S,E,m,t,a,l,u,o)};if(D===`line`)for(var j=0,M=el(t.geometry,0,0,8192,8192);j<M.length;j+=1)for(var N=M[j],P=0,F=$c(N,b,w,n.vertical||h,r,24,v,e.overscaling,8192);P<F.length;P+=1){var ee=F[P];h&&_l(e,h.text,O,ee)||A(N,ee)}else if(D===`line-center`)for(var I=0,te=t.geometry;I<te.length;I+=1){var L=te[I];if(L.length>1){var ne=Qc(L,w,n.vertical||h,r,24,v);ne&&A(L,ne)}}else if(t.type===`Polygon`)for(var re=0,ie=fs(t.geometry,0);re<ie.length;re+=1){var R=ie[re],ae=ll(R,16);A(R[0],new Wc(ae.x,ae.y,0))}else if(t.type===`LineString`)for(var oe=0,se=t.geometry;oe<se.length;oe+=1){var ce=se[oe];A(ce,new Wc(ce[0].x,ce[0].y,0))}else if(t.type===`Point`)for(var le=0,ue=t.geometry;le<ue.length;le+=1)for(var de=0,fe=ue[le];de<fe.length;de+=1){var pe=fe[de];A([pe],new Wc(pe.x,pe.y,0))}}(e,a,p,L,r,l,d,f,x,ne,o)},y=0,b=e.features;y<b.length;y+=1)v();a&&e.generateCollisionDebugBuffers()},e.perspective=function(e,t,n,r,i){var a,o=1/Math.tan(t/2);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(e[10]=(i+r)*(a=1/(r-i)),e[14]=2*i*r*a):(e[10]=-1,e[14]=-2*r),e},e.pick=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r];i in e&&(n[i]=e[i])}return n},e.plugin=hi,e.polygonIntersectsPolygon=Xa,e.postMapLoadEvent=be,e.postTurnstileEvent=ve,e.potpack=Ec,e.refProperties=[`type`,`source`,`source-layer`,`minzoom`,`maxzoom`,`filter`,`layout`],e.register=U,e.registerForPluginStateChange=function(e){return e({pluginStatus:ci,pluginURL:li}),fi.on(`pluginStateChange`,e),e},e.renderColorRamp=Oo,e.rotate=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),c=Math.cos(n);return e[0]=r*c+a*s,e[1]=i*c+o*s,e[2]=r*-s+a*c,e[3]=i*-s+o*c,e},e.rotateX=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],o=t[5],s=t[6],c=t[7],l=t[8],u=t[9],d=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+l*r,e[5]=o*i+u*r,e[6]=s*i+d*r,e[7]=c*i+f*r,e[8]=l*i-a*r,e[9]=u*i-o*r,e[10]=d*i-s*r,e[11]=f*i-c*r,e},e.rotateZ=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],c=t[3],l=t[4],u=t[5],d=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+l*r,e[1]=o*i+u*r,e[2]=s*i+d*r,e[3]=c*i+f*r,e[4]=l*i-a*r,e[5]=u*i-o*r,e[6]=d*i-s*r,e[7]=f*i-c*r,e},e.scale=function(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.scale$1=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},e.scale$2=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e},e.setCacheLimits=function(e,t){xe=e,Se=t},e.setRTLTextPlugin=function(e,t,n){if(n===void 0&&(n=!1),ci===`deferred`||ci===`loading`||ci===`loaded`)throw Error(`setRTLTextPlugin cannot be called multiple times.`);li=te.resolveURL(e),ci=`deferred`,si=t,di(),n||mi()},e.sphericalToCartesian=function(e){var t=e[0],n=e[1],r=e[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:t*Math.cos(n)*Math.sin(r),y:t*Math.sin(n)*Math.sin(r),z:t*Math.cos(r)}},e.sqrLen=function(e){var t=e[0],n=e[1];return t*t+n*n},e.styleSpec=B,e.sub=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e},e.symbolSize=Jc,e.transformMat3=function(e,t,n){var r=t[0],i=t[1],a=t[2];return e[0]=r*n[0]+i*n[3]+a*n[6],e[1]=r*n[1]+i*n[4]+a*n[7],e[2]=r*n[2]+i*n[5]+a*n[8],e},e.transformMat4=vo,e.translate=function(e,t,n){var r,i,a,o,s,c,l,u,d,f,p,m,h=n[0],g=n[1],_=n[2];return t===e?(e[12]=t[0]*h+t[4]*g+t[8]*_+t[12],e[13]=t[1]*h+t[5]*g+t[9]*_+t[13],e[14]=t[2]*h+t[6]*g+t[10]*_+t[14],e[15]=t[3]*h+t[7]*g+t[11]*_+t[15]):(i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],l=t[6],u=t[7],d=t[8],f=t[9],p=t[10],m=t[11],e[0]=r=t[0],e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=c,e[6]=l,e[7]=u,e[8]=d,e[9]=f,e[10]=p,e[11]=m,e[12]=r*h+s*g+d*_+t[12],e[13]=i*h+c*g+f*_+t[13],e[14]=a*h+l*g+p*_+t[14],e[15]=o*h+u*g+m*_+t[15]),e},e.triggerPluginCompletionEvent=ui,e.uniqueId=m,e.validateCustomStyleLayer=function(e){var t=[],n=e.id;return n===void 0&&t.push({message:`layers.`+n+`: missing required property "id"`}),e.render===void 0&&t.push({message:`layers.`+n+`: missing required method "render"`}),e.renderingMode&&e.renderingMode!==`2d`&&e.renderingMode!==`3d`&&t.push({message:`layers.`+n+`: property "renderingMode" must be either "2d" or "3d"`}),t},e.validateLight=Br,e.validateStyle=zr,e.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},e.vectorTile=ks,e.version=`1.13.3`,e.warnOnce=C,e.webpSupported=ne,e.window=o,e.wrap=d})),r([`./shared`],(function(e){function t(e){var n=typeof e;if(n===`number`||n===`boolean`||n===`string`||e==null)return JSON.stringify(e);if(Array.isArray(e)){for(var r=`[`,i=0,a=e;i<a.length;i+=1)r+=t(a[i])+`,`;return r+`]`}for(var o=Object.keys(e).sort(),s=`{`,c=0;c<o.length;c++)s+=JSON.stringify(o[c])+`:`+t(e[o[c]])+`,`;return s+`}`}function n(n){for(var r=``,i=0,a=e.refProperties;i<a.length;i+=1)r+=`/`+t(n[a[i]]);return r}var r=function(e){this.keyCache={},e&&this.replace(e)};r.prototype.replace=function(e){this._layerConfigs={},this._layers={},this.update(e,[])},r.prototype.update=function(t,r){for(var i=this,a=0,o=t;a<o.length;a+=1){var s=o[a];this._layerConfigs[s.id]=s;var c=this._layers[s.id]=e.createStyleLayer(s);c._featureFilter=e.featureFilter(c.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}for(var l=0,u=r;l<u.length;l+=1){var d=u[l];delete this.keyCache[d],delete this._layerConfigs[d],delete this._layers[d]}this.familiesBySource={};for(var f=0,p=function(e,t){for(var r={},i=0;i<e.length;i++){var a=t&&t[e[i].id]||n(e[i]);t&&(t[e[i].id]=a);var o=r[a];o||=r[a]=[],o.push(e[i])}var s=[];for(var c in r)s.push(r[c]);return s}(e.values(this._layerConfigs),this.keyCache);f<p.length;f+=1){var m=p[f].map((function(e){return i._layers[e.id]})),h=m[0];if(h.visibility!==`none`){var g=h.source||``,_=this.familiesBySource[g];_||=this.familiesBySource[g]={};var v=h.sourceLayer||`_geojsonTileLayer`,y=_[v];y||=_[v]=[],y.push(m)}}};var i=function(t){var n={},r=[];for(var i in t){var a=t[i],o=n[i]={};for(var s in a){var c=a[+s];if(c&&c.bitmap.width!==0&&c.bitmap.height!==0){var l={x:0,y:0,w:c.bitmap.width+2,h:c.bitmap.height+2};r.push(l),o[s]={rect:l,metrics:c.metrics}}}}var u=e.potpack(r),d=new e.AlphaImage({width:u.w||1,height:u.h||1});for(var f in t){var p=t[f];for(var m in p){var h=p[+m];if(h&&h.bitmap.width!==0&&h.bitmap.height!==0){var g=n[f][m].rect;e.AlphaImage.copy(h.bitmap,d,{x:0,y:0},{x:g.x+1,y:g.y+1},h.bitmap)}}}this.image=d,this.positions=n};e.register(`GlyphAtlas`,i);var a=function(t){this.tileID=new e.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId};function o(t,n,r){for(var i=new e.EvaluationParameters(n),a=0,o=t;a<o.length;a+=1)o[a].recalculate(i,r)}function s(t,n){var r=e.getArrayBuffer(t.request,(function(t,r,i,a){t?n(t):r&&n(null,{vectorTile:new e.vectorTile.VectorTile(new e.pbf(r)),rawData:r,cacheControl:i,expires:a})}));return function(){r.cancel(),n()}}a.prototype.parse=function(t,n,r,a,s){var c=this;this.status=`parsing`,this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;var l=new e.DictionaryCoder(Object.keys(t.layers).sort()),u=new e.FeatureIndex(this.tileID,this.promoteId);u.bucketLayerIDs=[];var d,f,p,m,h={},g={featureIndex:u,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:r},_=n.familiesBySource[this.source];for(var v in _){var y=t.layers[v];if(y){y.version===1&&e.warnOnce(`Vector tile source "`+this.source+`" layer "`+v+`" does not use vector tile spec v2 and therefore may have some rendering errors.`);for(var b=l.encode(v),x=[],S=0;S<y.length;S++){var C=y.feature(S),w=u.getId(C,v);x.push({feature:C,id:w,index:S,sourceLayerIndex:b})}for(var T=0,E=_[v];T<E.length;T+=1){var D=E[T],O=D[0];O.minzoom&&this.zoom<Math.floor(O.minzoom)||O.maxzoom&&this.zoom>=O.maxzoom||O.visibility!==`none`&&(o(D,this.zoom,r),(h[O.id]=O.createBucket({index:u.bucketLayerIDs.length,layers:D,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:b,sourceID:this.source})).populate(x,g,this.tileID.canonical),u.bucketLayerIDs.push(D.map((function(e){return e.id}))))}}}var k=e.mapObject(g.glyphDependencies,(function(e){return Object.keys(e).map(Number)}));Object.keys(k).length?a.send(`getGlyphs`,{uid:this.uid,stacks:k},(function(e,t){d||(d=e,f=t,M.call(c))})):f={};var A=Object.keys(g.iconDependencies);A.length?a.send(`getImages`,{icons:A,source:this.source,tileID:this.tileID,type:`icons`},(function(e,t){d||(d=e,p=t,M.call(c))})):p={};var j=Object.keys(g.patternDependencies);function M(){if(d)return s(d);if(f&&p&&m){var t=new i(f),n=new e.ImageAtlas(p,m);for(var a in h){var c=h[a];c instanceof e.SymbolBucket?(o(c.layers,this.zoom,r),e.performSymbolLayout(c,f,t.positions,p,n.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):c.hasPattern&&(c instanceof e.LineBucket||c instanceof e.FillBucket||c instanceof e.FillExtrusionBucket)&&(o(c.layers,this.zoom,r),c.addFeatures(g,this.tileID.canonical,n.patternPositions))}this.status=`done`,s(null,{buckets:e.values(h).filter((function(e){return!e.isEmpty()})),featureIndex:u,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:n,glyphMap:this.returnDependencies?f:null,iconMap:this.returnDependencies?p:null,glyphPositions:this.returnDependencies?t.positions:null})}}j.length?a.send(`getImages`,{icons:j,source:this.source,tileID:this.tileID,type:`patterns`},(function(e,t){d||(d=e,m=t,M.call(c))})):m={},M.call(this)};var c=function(e,t,n,r){this.actor=e,this.layerIndex=t,this.availableImages=n,this.loadVectorData=r||s,this.loading={},this.loaded={}};c.prototype.loadTile=function(t,n){var r=this,i=t.uid;this.loading||={};var o=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.RequestPerformance(t.request),s=this.loading[i]=new a(t);s.abort=this.loadVectorData(t,(function(t,a){if(delete r.loading[i],t||!a)return s.status=`done`,r.loaded[i]=s,n(t);var c=a.rawData,l={};a.expires&&(l.expires=a.expires),a.cacheControl&&(l.cacheControl=a.cacheControl);var u={};if(o){var d=o.finish();d&&(u.resourceTiming=JSON.parse(JSON.stringify(d)))}s.vectorTile=a.vectorTile,s.parse(a.vectorTile,r.layerIndex,r.availableImages,r.actor,(function(t,r){if(t||!r)return n(t);n(null,e.extend({rawTileData:c.slice(0)},r,l,u))})),r.loaded=r.loaded||{},r.loaded[i]=s}))},c.prototype.reloadTile=function(e,t){var n=this,r=this.loaded,i=e.uid,a=this;if(r&&r[i]){var o=r[i];o.showCollisionBoxes=e.showCollisionBoxes;var s=function(e,r){var i=o.reloadCallback;i&&(delete o.reloadCallback,o.parse(o.vectorTile,a.layerIndex,n.availableImages,a.actor,i)),t(e,r)};o.status===`parsing`?o.reloadCallback=s:o.status===`done`&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}},c.prototype.abortTile=function(e,t){var n=this.loading,r=e.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),t()},c.prototype.removeTile=function(e,t){var n=this.loaded,r=e.uid;n&&n[r]&&delete n[r],t()};var l=e.window.ImageBitmap,u=function(){this.loaded={}};function d(e,t){if(e.length!==0){f(e[0],t);for(var n=1;n<e.length;n++)f(e[n],!t)}}function f(e,t){for(var n=0,r=0,i=0,a=e.length,o=a-1;i<a;o=i++){var s=(e[i][0]-e[o][0])*(e[o][1]+e[i][1]),c=n+s;r+=Math.abs(n)>=Math.abs(s)?n-c+s:s-c+n,n=c}n+r>=0!=!!t&&e.reverse()}u.prototype.loadTile=function(t,n){var r=t.uid,i=t.encoding,a=t.rawImageData,o=l&&a instanceof l?this.getImageData(a):a,s=new e.DEMData(r,o,i);this.loaded=this.loaded||{},this.loaded[r]=s,n(null,s)},u.prototype.getImageData=function(t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(t.width,t.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext(`2d`)),this.offscreenCanvas.width=t.width,this.offscreenCanvas.height=t.height,this.offscreenCanvasContext.drawImage(t,0,0,t.width,t.height);var n=this.offscreenCanvasContext.getImageData(-1,-1,t.width+2,t.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new e.RGBAImage({width:n.width,height:n.height},n.data)},u.prototype.removeTile=function(e){var t=this.loaded,n=e.uid;t&&t[n]&&delete t[n]};var p=e.vectorTile.VectorTileFeature.prototype.toGeoJSON,m=function(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,`id`in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};m.prototype.loadGeometry=function(){if(this._feature.type===1){for(var t=[],n=0,r=this._feature.geometry;n<r.length;n+=1){var i=r[n];t.push([new e.Point$1(i[0],i[1])])}return t}for(var a=[],o=0,s=this._feature.geometry;o<s.length;o+=1){for(var c=[],l=0,u=s[o];l<u.length;l+=1){var d=u[l];c.push(new e.Point$1(d[0],d[1]))}a.push(c)}return a},m.prototype.toGeoJSON=function(e,t,n){return p.call(this,e,t,n)};var h=function(t){this.layers={_geojsonTileLayer:this},this.name=`_geojsonTileLayer`,this.extent=e.EXTENT,this.length=t.length,this._features=t};h.prototype.feature=function(e){return new m(this._features[e])};var g=e.vectorTile.VectorTileFeature,_=v;function v(e,t){this.options=t||{},this.features=e,this.length=e.length}function y(e,t){this.id=typeof e.id==`number`?e.id:void 0,this.type=e.type,this.rawGeometry=e.type===1?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}v.prototype.feature=function(e){return new y(this.features[e],this.options.extent)},y.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var n=0;n<t.length;n++){for(var r=t[n],i=[],a=0;a<r.length;a++)i.push(new e.Point$1(r[a][0],r[a][1]));this.geometry.push(i)}return this.geometry},y.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,r=1/0,i=-1/0,a=0;a<e.length;a++)for(var o=e[a],s=0;s<o.length;s++){var c=o[s];t=Math.min(t,c.x),n=Math.max(n,c.x),r=Math.min(r,c.y),i=Math.max(i,c.y)}return[t,r,n,i]},y.prototype.toGeoJSON=g.prototype.toGeoJSON;var b=S,x=_;function S(t){var n=new e.pbf;return function(e,t){for(var n in e.layers)t.writeMessage(3,C,e.layers[n])}(t,n),n.finish()}function C(e,t){var n;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||``),t.writeVarintField(5,e.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)r.feature=e.feature(n),t.writeMessage(2,w,r);var i=r.keys;for(n=0;n<i.length;n++)t.writeStringField(3,i[n]);var a=r.values;for(n=0;n<a.length;n++)t.writeMessage(4,k,a[n])}function w(e,t){var n=e.feature;n.id!==void 0&&t.writeVarintField(1,n.id),t.writeMessage(2,T,e),t.writeVarintField(3,n.type),t.writeMessage(4,O,n)}function T(e,t){var n=e.feature,r=e.keys,i=e.values,a=e.keycache,o=e.valuecache;for(var s in n.properties){var c=a[s];c===void 0&&(r.push(s),a[s]=c=r.length-1),t.writeVarint(c);var l=n.properties[s],u=typeof l;u!==`string`&&u!==`boolean`&&u!==`number`&&(l=JSON.stringify(l));var d=u+`:`+l,f=o[d];f===void 0&&(i.push(l),o[d]=f=i.length-1),t.writeVarint(f)}}function E(e,t){return(t<<3)+(7&e)}function D(e){return e<<1^e>>31}function O(e,t){for(var n=e.loadGeometry(),r=e.type,i=0,a=0,o=n.length,s=0;s<o;s++){var c=n[s],l=1;r===1&&(l=c.length),t.writeVarint(E(1,l));for(var u=r===3?c.length-1:c.length,d=0;d<u;d++){d===1&&r!==1&&t.writeVarint(E(2,u-1));var f=c[d].x-i,p=c[d].y-a;t.writeVarint(D(f)),t.writeVarint(D(p)),i+=f,a+=p}r===3&&t.writeVarint(E(7,1))}}function k(e,t){var n=typeof e;n===`string`?t.writeStringField(1,e):n===`boolean`?t.writeBooleanField(7,e):n===`number`&&(e%1==0?e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e):t.writeDoubleField(3,e))}function A(e,t,n,r){j(e,n,r),j(t,2*n,2*r),j(t,2*n+1,2*r+1)}function j(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function M(e,t,n,r){var i=e-n,a=t-r;return i*i+a*a}b.fromVectorTileJs=S,b.fromGeojsonVt=function(e,t){t||={};var n={};for(var r in e)n[r]=new _(e[r].features,t),n[r].name=r,n[r].version=t.version,n[r].extent=t.extent;return S({layers:n})},b.GeoJSONWrapper=x;var N=function(e){return e[0]},P=function(e){return e[1]},F=function(e,t,n,r,i){t===void 0&&(t=N),n===void 0&&(n=P),r===void 0&&(r=64),i===void 0&&(i=Float64Array),this.nodeSize=r,this.points=e;for(var a=e.length<65536?Uint16Array:Uint32Array,o=this.ids=new a(e.length),s=this.coords=new i(2*e.length),c=0;c<e.length;c++)o[c]=c,s[2*c]=t(e[c]),s[2*c+1]=n(e[c]);(function e(t,n,r,i,a,o){if(!(a-i<=r)){var s=i+a>>1;(function e(t,n,r,i,a,o){for(;a>i;){if(a-i>600){var s=a-i+1,c=r-i+1,l=Math.log(s),u=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*u*(s-u)/s)*(c-s/2<0?-1:1);e(t,n,r,Math.max(i,Math.floor(r-c*u/s+d)),Math.min(a,Math.floor(r+(s-c)*u/s+d)),o)}var f=n[2*r+o],p=i,m=a;for(A(t,n,i,r),n[2*a+o]>f&&A(t,n,i,a);p<m;){for(A(t,n,p,m),p++,m--;n[2*p+o]<f;)p++;for(;n[2*m+o]>f;)m--}n[2*i+o]===f?A(t,n,i,m):A(t,n,++m,a),m<=r&&(i=m+1),r<=m&&(a=m-1)}})(t,n,s,i,a,o%2),e(t,n,r,i,s-1,o+1),e(t,n,r,s+1,a,o+1)}})(o,s,r,0,o.length-1,0)};F.prototype.range=function(e,t,n,r){return function(e,t,n,r,i,a,o){for(var s,c,l=[0,e.length-1,0],u=[];l.length;){var d=l.pop(),f=l.pop(),p=l.pop();if(f-p<=o)for(var m=p;m<=f;m++)c=t[2*m+1],(s=t[2*m])>=n&&s<=i&&c>=r&&c<=a&&u.push(e[m]);else{var h=Math.floor((p+f)/2);c=t[2*h+1],(s=t[2*h])>=n&&s<=i&&c>=r&&c<=a&&u.push(e[h]);var g=(d+1)%2;(d===0?n<=s:r<=c)&&(l.push(p),l.push(h-1),l.push(g)),(d===0?i>=s:a>=c)&&(l.push(h+1),l.push(f),l.push(g))}}return u}(this.ids,this.coords,e,t,n,r,this.nodeSize)},F.prototype.within=function(e,t,n){return function(e,t,n,r,i,a){for(var o=[0,e.length-1,0],s=[],c=i*i;o.length;){var l=o.pop(),u=o.pop(),d=o.pop();if(u-d<=a)for(var f=d;f<=u;f++)M(t[2*f],t[2*f+1],n,r)<=c&&s.push(e[f]);else{var p=Math.floor((d+u)/2),m=t[2*p],h=t[2*p+1];M(m,h,n,r)<=c&&s.push(e[p]);var g=(l+1)%2;(l===0?n-i<=m:r-i<=h)&&(o.push(d),o.push(p-1),o.push(g)),(l===0?n+i>=m:r+i>=h)&&(o.push(p+1),o.push(u),o.push(g))}}return s}(this.ids,this.coords,e,t,n,this.nodeSize)};var ee={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},I=function(e){this.options=ae(Object.create(ee),e),this.trees=Array(this.options.maxZoom+1)};function te(e,t,n,r,i){return{x:e,y:t,zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function L(e,t){var n=e.geometry.coordinates,r=n[1];return{x:ie(n[0]),y:R(r),zoom:1/0,index:t,parentId:-1}}function ne(e){return{type:`Feature`,id:e.id,properties:re(e),geometry:{type:`Point`,coordinates:[(r=e.x,360*(r-.5)),(t=e.y,n=(180-360*t)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var t,n,r}function re(e){var t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+`k`:t>=1e3?Math.round(t/100)/10+`k`:t;return ae(ae({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function ie(e){return e/360+.5}function R(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function ae(e,t){for(var n in t)e[n]=t[n];return e}function oe(e){return e.x}function se(e){return e.y}function ce(e,t,n,r,i,a){var o=i-n,s=a-r;if(o!==0||s!==0){var c=((e-n)*o+(t-r)*s)/(o*o+s*s);c>1?(n=i,r=a):c>0&&(n+=o*c,r+=s*c)}return(o=e-n)*o+(s=t-r)*s}function le(e,t,n,r){var i={id:e===void 0?null:e,type:t,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,n=e.type;if(n===`Point`||n===`MultiPoint`||n===`LineString`)ue(e,t);else if(n===`Polygon`||n===`MultiLineString`)for(var r=0;r<t.length;r++)ue(e,t[r]);else if(n===`MultiPolygon`)for(r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)ue(e,t[r][i])}(i),i}function ue(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function de(e,t,n,r){if(t.geometry){var i=t.geometry.coordinates,a=t.geometry.type,o=(n.tolerance/((1<<n.maxZoom)*n.extent))**2,s=[],c=t.id;if(n.promoteId?c=t.properties[n.promoteId]:n.generateId&&(c=r||0),a===`Point`)fe(i,s);else if(a===`MultiPoint`)for(var l=0;l<i.length;l++)fe(i[l],s);else if(a===`LineString`)pe(i,s,o,!1);else if(a===`MultiLineString`){if(n.lineMetrics){for(l=0;l<i.length;l++)pe(i[l],s=[],o,!1),e.push(le(c,`LineString`,s,t.properties));return}me(i,s,o,!1)}else if(a===`Polygon`)me(i,s,o,!0);else{if(a!==`MultiPolygon`){if(a===`GeometryCollection`){for(l=0;l<t.geometry.geometries.length;l++)de(e,{id:c,geometry:t.geometry.geometries[l],properties:t.properties},n,r);return}throw Error(`Input data is not a valid GeoJSON object.`)}for(l=0;l<i.length;l++){var u=[];me(i[l],u,o,!0),s.push(u)}}e.push(le(c,a,s,t.properties))}}function fe(e,t){t.push(he(e[0])),t.push(ge(e[1])),t.push(0)}function pe(e,t,n,r){for(var i,a,o=0,s=0;s<e.length;s++){var c=he(e[s][0]),l=ge(e[s][1]);t.push(c),t.push(l),t.push(0),s>0&&(o+=r?(i*l-c*a)/2:Math.sqrt((c-i)**2+(l-a)**2)),i=c,a=l}var u=t.length-3;t[2]=1,function e(t,n,r,i){for(var a,o=i,s=r-n>>1,c=r-n,l=t[n],u=t[n+1],d=t[r],f=t[r+1],p=n+3;p<r;p+=3){var m=ce(t[p],t[p+1],l,u,d,f);if(m>o)a=p,o=m;else if(m===o){var h=Math.abs(p-s);h<c&&(a=p,c=h)}}o>i&&(a-n>3&&e(t,n,a,i),t[a+2]=o,r-a>3&&e(t,a,r,i))}(t,0,u,n),t[u+2]=1,t.size=Math.abs(o),t.start=0,t.end=t.size}function me(e,t,n,r){for(var i=0;i<e.length;i++){var a=[];pe(e[i],a,n,r),t.push(a)}}function he(e){return e/360+.5}function ge(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function _e(e,t,n,r,i,a,o,s){if(r/=t,a>=(n/=t)&&o<r)return e;if(o<n||a>=r)return null;for(var c=[],l=0;l<e.length;l++){var u=e[l],d=u.geometry,f=u.type,p=i===0?u.minX:u.minY,m=i===0?u.maxX:u.maxY;if(p>=n&&m<r)c.push(u);else if(!(m<n||p>=r)){var h=[];if(f===`Point`||f===`MultiPoint`)z(d,h,n,r,i);else if(f===`LineString`)ve(d,h,n,r,i,!1,s.lineMetrics);else if(f===`MultiLineString`)be(d,h,n,r,i,!1);else if(f===`Polygon`)be(d,h,n,r,i,!0);else if(f===`MultiPolygon`)for(var g=0;g<d.length;g++){var _=[];be(d[g],_,n,r,i,!0),_.length&&h.push(_)}if(h.length){if(s.lineMetrics&&f===`LineString`){for(g=0;g<h.length;g++)c.push(le(u.id,f,h[g],u.tags));continue}f!==`LineString`&&f!==`MultiLineString`||(h.length===1?(f=`LineString`,h=h[0]):f=`MultiLineString`),f!==`Point`&&f!==`MultiPoint`||(f=h.length===3?`Point`:`MultiPoint`),c.push(le(u.id,f,h,u.tags))}}}return c.length?c:null}function z(e,t,n,r,i){for(var a=0;a<e.length;a+=3){var o=e[a+i];o>=n&&o<=r&&(t.push(e[a]),t.push(e[a+1]),t.push(e[a+2]))}}function ve(e,t,n,r,i,a,o){for(var s,c,l=ye(e),u=i===0?Se:Ce,d=e.start,f=0;f<e.length-3;f+=3){var p=e[f],m=e[f+1],h=e[f+2],g=e[f+3],_=e[f+4],v=i===0?p:m,y=i===0?g:_,b=!1;o&&(s=Math.sqrt((p-g)**2+(m-_)**2)),v<n?y>n&&(c=u(l,p,m,g,_,n),o&&(l.start=d+s*c)):v>r?y<r&&(c=u(l,p,m,g,_,r),o&&(l.start=d+s*c)):xe(l,p,m,h),y<n&&v>=n&&(c=u(l,p,m,g,_,n),b=!0),y>r&&v<=r&&(c=u(l,p,m,g,_,r),b=!0),!a&&b&&(o&&(l.end=d+s*c),t.push(l),l=ye(e)),o&&(d+=s)}var x=e.length-3;p=e[x],m=e[x+1],h=e[x+2],(v=i===0?p:m)>=n&&v<=r&&xe(l,p,m,h),x=l.length-3,a&&x>=3&&(l[x]!==l[0]||l[x+1]!==l[1])&&xe(l,l[0],l[1],l[2]),l.length&&t.push(l)}function ye(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function be(e,t,n,r,i,a){for(var o=0;o<e.length;o++)ve(e[o],t,n,r,i,a,!1)}function xe(e,t,n,r){e.push(t),e.push(n),e.push(r)}function Se(e,t,n,r,i,a){var o=(a-t)/(r-t);return e.push(a),e.push(n+(i-n)*o),e.push(1),o}function Ce(e,t,n,r,i,a){var o=(a-n)/(i-n);return e.push(t+(r-t)*o),e.push(a),e.push(1),o}function we(e,t){for(var n=[],r=0;r<e.length;r++){var i,a=e[r],o=a.type;if(o===`Point`||o===`MultiPoint`||o===`LineString`)i=Te(a.geometry,t);else if(o===`MultiLineString`||o===`Polygon`){i=[];for(var s=0;s<a.geometry.length;s++)i.push(Te(a.geometry[s],t))}else if(o===`MultiPolygon`)for(i=[],s=0;s<a.geometry.length;s++){for(var c=[],l=0;l<a.geometry[s].length;l++)c.push(Te(a.geometry[s][l],t));i.push(c)}n.push(le(a.id,o,i,a.tags))}return n}function Te(e,t){var n=[];n.size=e.size,e.start!==void 0&&(n.start=e.start,n.end=e.end);for(var r=0;r<e.length;r+=3)n.push(e[r]+t,e[r+1],e[r+2]);return n}function Ee(e,t){if(e.transformed)return e;var n,r,i,a=1<<e.z,o=e.x,s=e.y;for(n=0;n<e.features.length;n++){var c=e.features[n],l=c.geometry,u=c.type;if(c.geometry=[],u===1)for(r=0;r<l.length;r+=2)c.geometry.push(De(l[r],l[r+1],t,a,o,s));else for(r=0;r<l.length;r++){var d=[];for(i=0;i<l[r].length;i+=2)d.push(De(l[r][i],l[r][i+1],t,a,o,s));c.geometry.push(d)}}return e.transformed=!0,e}function De(e,t,n,r,i,a){return[Math.round(n*(e*r-i)),Math.round(n*(t*r-a))]}function Oe(e,t,n,r,i){for(var a=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),o={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){o.numFeatures++,ke(o,e[s],a,i);var c=e[s].minX,l=e[s].minY,u=e[s].maxX,d=e[s].maxY;c<o.minX&&(o.minX=c),l<o.minY&&(o.minY=l),u>o.maxX&&(o.maxX=u),d>o.maxY&&(o.maxY=d)}return o}function ke(e,t,n,r){var i=t.geometry,a=t.type,o=[];if(a===`Point`||a===`MultiPoint`)for(var s=0;s<i.length;s+=3)o.push(i[s]),o.push(i[s+1]),e.numPoints++,e.numSimplified++;else if(a===`LineString`)Ae(o,i,e,n,!1,!1);else if(a===`MultiLineString`||a===`Polygon`)for(s=0;s<i.length;s++)Ae(o,i[s],e,n,a===`Polygon`,s===0);else if(a===`MultiPolygon`)for(var c=0;c<i.length;c++){var l=i[c];for(s=0;s<l.length;s++)Ae(o,l[s],e,n,!0,s===0)}if(o.length){var u=t.tags||null;if(a===`LineString`&&r.lineMetrics){for(var d in u={},t.tags)u[d]=t.tags[d];u.mapbox_clip_start=i.start/i.size,u.mapbox_clip_end=i.end/i.size}var f={geometry:o,type:a===`Polygon`||a===`MultiPolygon`?3:a===`LineString`||a===`MultiLineString`?2:1,tags:u};t.id!==null&&(f.id=t.id),e.features.push(f)}}function Ae(e,t,n,r,i,a){var o=r*r;if(r>0&&t.size<(i?o:r))n.numPoints+=t.length/3;else{for(var s=[],c=0;c<t.length;c+=3)(r===0||t[c+2]>o)&&(n.numSimplified++,s.push(t[c]),s.push(t[c+1])),n.numPoints++;i&&function(e,t){for(var n=0,r=0,i=e.length,a=i-2;r<i;a=r,r+=2)n+=(e[r]-e[a])*(e[r+1]+e[a+1]);if(n>0===t)for(r=0,i=e.length;r<i/2;r+=2){var o=e[r],s=e[r+1];e[r]=e[i-2-r],e[r+1]=e[i-1-r],e[i-2-r]=o,e[i-1-r]=s}}(s,a),e.push(s)}}function je(e,t){var n=(t=this.options=function(e,t){for(var n in t)e[n]=t[n];return e}(Object.create(this.options),t)).debug;if(n&&console.time(`preprocess data`),t.maxZoom<0||t.maxZoom>24)throw Error(`maxZoom should be in the 0-24 range`);if(t.promoteId&&t.generateId)throw Error(`promoteId and generateId cannot be used together.`);var r=function(e,t){var n=[];if(e.type===`FeatureCollection`)for(var r=0;r<e.features.length;r++)de(n,e.features[r],t,r);else de(n,e.type===`Feature`?e:{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd(`preprocess data`),console.log(`index: maxZoom: %d, maxPoints: %d`,t.indexMaxZoom,t.indexMaxPoints),console.time(`generate tiles`),this.stats={},this.total=0),(r=function(e,t){var n=t.buffer/t.extent,r=e,i=_e(e,1,-1-n,n,0,-1,2,t),a=_e(e,1,1-n,2+n,0,-1,2,t);return(i||a)&&(r=_e(e,1,-n,1+n,0,-1,2,t)||[],i&&(r=we(i,1).concat(r)),a&&(r=r.concat(we(a,-1)))),r}(r,t)).length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log(`features: %d, points: %d`,this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd(`generate tiles`),console.log(`tiles generated:`,this.total,JSON.stringify(this.stats)))}function Me(e,t,n){return 32*((1<<e)*n+t)+e}function Ne(e,t){var n=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return t(null,null);var i=new h(r.features),a=b(i);a.byteOffset===0&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),t(null,{vectorTile:i,rawData:a.buffer})}I.prototype.load=function(e){var t=this.options,n=t.log,r=t.minZoom,i=t.maxZoom,a=t.nodeSize;n&&console.time(`total time`);var o=`prepare `+e.length+` points`;n&&console.time(o),this.points=e;for(var s=[],c=0;c<e.length;c++)e[c].geometry&&s.push(L(e[c],c));this.trees[i+1]=new F(s,oe,se,a,Float32Array),n&&console.timeEnd(o);for(var l=i;l>=r;l--){var u=+Date.now();s=this._cluster(s,l),this.trees[l]=new F(s,oe,se,a,Float32Array),n&&console.log(`z%d: %d clusters in %dms`,l,s.length,+Date.now()-u)}return n&&console.timeEnd(`total time`),this},I.prototype.getClusters=function(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),i=e[2]===180?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){var o=this.getClusters([n,r,180,a],t),s=this.getClusters([-180,r,i,a],t);return o.concat(s)}for(var c=this.trees[this._limitZoom(t)],l=[],u=0,d=c.range(ie(n),R(a),ie(i),R(r));u<d.length;u+=1){var f=c.points[d[u]];l.push(f.numPoints?ne(f):this.points[f.index])}return l},I.prototype.getChildren=function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r=`No cluster with the specified id.`,i=this.trees[n];if(!i)throw Error(r);var a=i.points[t];if(!a)throw Error(r);for(var o=this.options.radius/(this.options.extent*2**(n-1)),s=[],c=0,l=i.within(a.x,a.y,o);c<l.length;c+=1){var u=i.points[l[c]];u.parentId===e&&s.push(u.numPoints?ne(u):this.points[u.index])}if(s.length===0)throw Error(r);return s},I.prototype.getLeaves=function(e,t,n){var r=[];return this._appendLeaves(r,e,t||=10,n||=0,0),r},I.prototype.getTile=function(e,t,n){var r=this.trees[this._limitZoom(e)],i=2**e,a=this.options,o=a.radius/a.extent,s=(n-o)/i,c=(n+1+o)/i,l={features:[]};return this._addTileFeatures(r.range((t-o)/i,s,(t+1+o)/i,c),r.points,t,n,i,l),t===0&&this._addTileFeatures(r.range(1-o/i,s,1,c),r.points,i,n,i,l),t===i-1&&this._addTileFeatures(r.range(0,s,o/i,c),r.points,-1,n,i,l),l.features.length?l:null},I.prototype.getClusterExpansionZoom=function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,n.length!==1)break;e=n[0].properties.cluster_id}return t},I.prototype._appendLeaves=function(e,t,n,r,i){for(var a=0,o=this.getChildren(t);a<o.length;a+=1){var s=o[a],c=s.properties;if(c&&c.cluster?i+c.point_count<=r?i+=c.point_count:i=this._appendLeaves(e,c.cluster_id,n,r,i):i<r?i++:e.push(s),e.length===n)break}return i},I.prototype._addTileFeatures=function(e,t,n,r,i,a){for(var o=0,s=e;o<s.length;o+=1){var c=t[s[o]],l=c.numPoints,u={type:1,geometry:[[Math.round(this.options.extent*(c.x*i-n)),Math.round(this.options.extent*(c.y*i-r))]],tags:l?re(c):this.points[c.index].properties},d=void 0;l?d=c.id:this.options.generateId?d=c.index:this.points[c.index].id&&(d=this.points[c.index].id),d!==void 0&&(u.id=d),a.features.push(u)}},I.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))},I.prototype._cluster=function(e,t){for(var n=[],r=this.options,i=r.reduce,a=r.minPoints,o=r.radius/(r.extent*2**t),s=0;s<e.length;s++){var c=e[s];if(!(c.zoom<=t)){c.zoom=t;for(var l=this.trees[t+1],u=l.within(c.x,c.y,o),d=c.numPoints||1,f=d,p=0,m=u;p<m.length;p+=1){var h=l.points[m[p]];h.zoom>t&&(f+=h.numPoints||1)}if(f>=a){for(var g=c.x*d,_=c.y*d,v=i&&d>1?this._map(c,!0):null,y=(s<<5)+(t+1)+this.points.length,b=0,x=u;b<x.length;b+=1){var S=l.points[x[b]];if(!(S.zoom<=t)){S.zoom=t;var C=S.numPoints||1;g+=S.x*C,_+=S.y*C,S.parentId=y,i&&(v||=this._map(c,!0),i(v,this._map(S)))}}c.parentId=y,n.push(te(g/f,_/f,y,f,v))}else if(n.push(c),f>1)for(var w=0,T=u;w<T.length;w+=1){var E=l.points[T[w]];E.zoom<=t||(E.zoom=t,n.push(E))}}}return n},I.prototype._getOriginId=function(e){return e-this.points.length>>5},I.prototype._getOriginZoom=function(e){return(e-this.points.length)%32},I.prototype._map=function(e,t){if(e.numPoints)return t?ae({},e.properties):e.properties;var n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?ae({},r):r},je.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},je.prototype.splitTile=function(e,t,n,r,i,a,o){for(var s=[e,t,n,r],c=this.options,l=c.debug;s.length;){r=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();var u=1<<t,d=Me(t,n,r),f=this.tiles[d];if(!f&&(l>1&&console.time(`creation`),f=this.tiles[d]=Oe(e,t,n,r,c),this.tileCoords.push({z:t,x:n,y:r}),l)){l>1&&(console.log(`tile z%d-%d-%d (features: %d, points: %d, simplified: %d)`,t,n,r,f.numFeatures,f.numPoints,f.numSimplified),console.timeEnd(`creation`));var p=`z`+t;this.stats[p]=(this.stats[p]||0)+1,this.total++}if(f.source=e,i){if(t===c.maxZoom||t===i)continue;var m=1<<i-t;if(n!==Math.floor(a/m)||r!==Math.floor(o/m))continue}else if(t===c.indexMaxZoom||f.numPoints<=c.indexMaxPoints)continue;if(f.source=null,e.length!==0){l>1&&console.time(`clipping`);var h,g,_,v,y,b,x=.5*c.buffer/c.extent,S=.5-x,C=.5+x,w=1+x;h=g=_=v=null,y=_e(e,u,n-x,n+C,0,f.minX,f.maxX,c),b=_e(e,u,n+S,n+w,0,f.minX,f.maxX,c),e=null,y&&=(h=_e(y,u,r-x,r+C,1,f.minY,f.maxY,c),g=_e(y,u,r+S,r+w,1,f.minY,f.maxY,c),null),b&&=(_=_e(b,u,r-x,r+C,1,f.minY,f.maxY,c),v=_e(b,u,r+S,r+w,1,f.minY,f.maxY,c),null),l>1&&console.timeEnd(`clipping`),s.push(h||[],t+1,2*n,2*r),s.push(g||[],t+1,2*n,2*r+1),s.push(_||[],t+1,2*n+1,2*r),s.push(v||[],t+1,2*n+1,2*r+1)}}},je.prototype.getTile=function(e,t,n){var r=this.options,i=r.extent,a=r.debug;if(e<0||e>24)return null;var o=1<<e,s=Me(e,t=(t%o+o)%o,n);if(this.tiles[s])return Ee(this.tiles[s],i);a>1&&console.log(`drilling down to z%d-%d-%d`,e,t,n);for(var c,l=e,u=t,d=n;!c&&l>0;)l--,u=Math.floor(u/2),d=Math.floor(d/2),c=this.tiles[Me(l,u,d)];return c&&c.source?(a>1&&console.log(`found parent tile z%d-%d-%d`,l,u,d),a>1&&console.time(`drilling down`),this.splitTile(c.source,l,u,d,e,t,n),a>1&&console.timeEnd(`drilling down`),this.tiles[s]?Ee(this.tiles[s],i):null):null};var Pe=function(t){function n(e,n,r,i){t.call(this,e,n,r,Ne),i&&(this.loadGeoJSON=i)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.loadData=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=t,this._pendingLoadDataParams=e,this._state&&this._state!==`Idle`?this._state=`NeedsLoadData`:(this._state=`Coalescing`,this._loadData())},n.prototype._loadData=function(){var t=this;if(this._pendingCallback&&this._pendingLoadDataParams){var n=this._pendingCallback,r=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var i=!!(r&&r.request&&r.request.collectResourceTiming)&&new e.RequestPerformance(r.request);this.loadGeoJSON(r,(function(a,o){if(a||!o)return n(a);if(typeof o!=`object`)return n(Error(`Input data given to '`+r.source+`' is not a valid GeoJSON object.`));(function e(t,n){var r,i=t&&t.type;if(i===`FeatureCollection`)for(r=0;r<t.features.length;r++)e(t.features[r],n);else if(i===`GeometryCollection`)for(r=0;r<t.geometries.length;r++)e(t.geometries[r],n);else if(i===`Feature`)e(t.geometry,n);else if(i===`Polygon`)d(t.coordinates,n);else if(i===`MultiPolygon`)for(r=0;r<t.coordinates.length;r++)d(t.coordinates[r],n);return t})(o,!0);try{if(r.filter){var s=e.createExpression(r.filter,{type:`boolean`,"property-type":`data-driven`,overridable:!1,transition:!1});if(s.result===`error`)throw Error(s.value.map((function(e){return e.key+`: `+e.message})).join(`, `));o={type:`FeatureCollection`,features:o.features.filter((function(e){return s.value.evaluate({zoom:0},e)}))}}t._geoJSONIndex=r.cluster?new I(function(t){var n=t.superclusterOptions,r=t.clusterProperties;if(!r||!n)return n;for(var i={},a={},o={accumulated:null,zoom:0},s={properties:null},c=Object.keys(r),l=0,u=c;l<u.length;l+=1){var d=u[l],f=r[d],p=f[0],m=e.createExpression(f[1]),h=e.createExpression(typeof p==`string`?[p,[`accumulated`],[`get`,d]]:p);i[d]=m.value,a[d]=h.value}return n.map=function(e){s.properties=e;for(var t={},n=0,r=c;n<r.length;n+=1){var a=r[n];t[a]=i[a].evaluate(o,s)}return t},n.reduce=function(e,t){s.properties=t;for(var n=0,r=c;n<r.length;n+=1){var i=r[n];o.accumulated=e[i],e[i]=a[i].evaluate(o,s)}},n}(r)).load(o.features):function(e,t){return new je(e,t)}(o,r.geojsonVtOptions)}catch(e){return n(e)}t.loaded={};var c={};if(i){var l=i.finish();l&&(c.resourceTiming={},c.resourceTiming[r.source]=JSON.parse(JSON.stringify(l)))}n(null,c)}))}},n.prototype.coalesce=function(){this._state===`Coalescing`?this._state=`Idle`:this._state===`NeedsLoadData`&&(this._state=`Coalescing`,this._loadData())},n.prototype.reloadTile=function(e,n){var r=this.loaded;return r&&r[e.uid]?t.prototype.reloadTile.call(this,e,n):this.loadTile(e,n)},n.prototype.loadGeoJSON=function(t,n){if(t.request)e.getJSON(t.request,n);else{if(typeof t.data!=`string`)return n(Error(`Input data given to '`+t.source+`' is not a valid GeoJSON object.`));try{return n(null,JSON.parse(t.data))}catch{return n(Error(`Input data given to '`+t.source+`' is not a valid GeoJSON object.`))}}},n.prototype.removeSource=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()},n.prototype.getClusterExpansionZoom=function(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}},n.prototype.getClusterChildren=function(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}},n.prototype.getClusterLeaves=function(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}},n}(c),Fe=function(t){var n=this;this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:c,geojson:Pe},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(n.workerSourceTypes[e])throw Error(`Worker source with name "`+e+`" already registered.`);n.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isParsed())throw Error(`RTL text plugin already registered.`);e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}};return Fe.prototype.setReferrer=function(e,t){this.referrer=t},Fe.prototype.setImages=function(e,t,n){for(var r in this.availableImages[e]=t,this.workerSources[e]){var i=this.workerSources[e][r];for(var a in i)i[a].availableImages=t}n()},Fe.prototype.setLayers=function(e,t,n){this.getLayerIndex(e).replace(t),n()},Fe.prototype.updateLayers=function(e,t,n){this.getLayerIndex(e).update(t.layers,t.removedIds),n()},Fe.prototype.loadTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).loadTile(t,n)},Fe.prototype.loadDEMTile=function(e,t,n){this.getDEMWorkerSource(e,t.source).loadTile(t,n)},Fe.prototype.reloadTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).reloadTile(t,n)},Fe.prototype.abortTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).abortTile(t,n)},Fe.prototype.removeTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).removeTile(t,n)},Fe.prototype.removeDEMTile=function(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)},Fe.prototype.removeSource=function(e,t,n){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var r=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],r.removeSource===void 0?n():r.removeSource(t,n)}},Fe.prototype.loadWorkerSource=function(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e.toString())}},Fe.prototype.syncRTLPluginState=function(t,n,r){try{e.plugin.setState(n);var i=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&i!=null){this.self.importScripts(i);var a=e.plugin.isParsed();r(a?void 0:Error(`RTL Text Plugin failed to import scripts from `+i),a)}}catch(e){r(e.toString())}},Fe.prototype.getAvailableImages=function(e){var t=this.availableImages[e];return t||=[],t},Fe.prototype.getLayerIndex=function(e){var t=this.layerIndexes[e];return t||=this.layerIndexes[e]=new r,t},Fe.prototype.getWorkerSource=function(e,t,n){var r=this;return this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),this.workerSources[e][t][n]||(this.workerSources[e][t][n]=new this.workerSourceTypes[t]({send:function(t,n,i){r.actor.send(t,n,i,e)}},this.getLayerIndex(e),this.getAvailableImages(e))),this.workerSources[e][t][n]},Fe.prototype.getDEMWorkerSource=function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new u),this.demWorkerSources[e][t]},Fe.prototype.enforceCacheSizeLimit=function(t,n){e.enforceCacheSizeLimit(n)},typeof WorkerGlobalScope<`u`&&typeof self<`u`&&self instanceof WorkerGlobalScope&&(self.worker=new Fe(self)),Fe})),r([`./shared`],(function(e){var t=e.createCommonjsModule((function(e){function t(e){return!n(e)}function n(e){return typeof window>`u`||typeof document>`u`?`not a browser`:Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?`JSON`in window&&`parse`in JSON&&`stringify`in JSON?function(){if(!(`Worker`in window&&`Blob`in window&&`URL`in window))return!1;var e,t,n=new Blob([``],{type:`text/javascript`}),r=URL.createObjectURL(n);try{t=new Worker(r),e=!0}catch{e=!1}return t&&t.terminate(),URL.revokeObjectURL(r),e}()?`Uint8ClampedArray`in window?ArrayBuffer.isView?function(){var e=document.createElement(`canvas`);e.width=e.height=1;var t=e.getContext(`2d`);if(!t)return!1;var n=t.getImageData(0,0,1,1);return n&&n.width===e.width}()?(r[n=e&&e.failIfMajorPerformanceCaveat]===void 0&&(r[n]=function(e){var n=function(e){var n=document.createElement(`canvas`),r=Object.create(t.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=e,n.probablySupportsContext?n.probablySupportsContext(`webgl`,r)||n.probablySupportsContext(`experimental-webgl`,r):n.supportsContext?n.supportsContext(`webgl`,r)||n.supportsContext(`experimental-webgl`,r):n.getContext(`webgl`,r)||n.getContext(`experimental-webgl`,r)}(e);if(!n)return!1;var r=n.createShader(n.VERTEX_SHADER);return!(!r||n.isContextLost())&&(n.shaderSource(r,`void main() {}`),n.compileShader(r),!0===n.getShaderParameter(r,n.COMPILE_STATUS))}(n)),r[n]?void 0:`insufficient WebGL support`):`insufficient Canvas/getImageData support`:`insufficient ArrayBuffer support`:`insufficient Uint8ClampedArray support`:`insufficient worker support`:`insufficient JSON support`:`insufficient Object support`:`insufficient Function support`:`insufficent Array support`;var n}e.exports?e.exports=t:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=t,window.mapboxgl.notSupportedReason=n);var r={};t.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),n={create:function(t,n,r){var i=e.window.document.createElement(t);return n!==void 0&&(i.className=n),r&&r.appendChild(i),i},createNS:function(t,n){return e.window.document.createElementNS(t,n)}},r=e.window.document&&e.window.document.documentElement.style;function i(e){if(!r)return e[0];for(var t=0;t<e.length;t++)if(e[t]in r)return e[t];return e[0]}var a,o=i([`userSelect`,`MozUserSelect`,`WebkitUserSelect`,`msUserSelect`]);n.disableDrag=function(){r&&o&&(a=r[o],r[o]=`none`)},n.enableDrag=function(){r&&o&&(r[o]=a)};var s=i([`transform`,`WebkitTransform`]);n.setTransform=function(e,t){e.style[s]=t};var c=!1;try{var l=Object.defineProperty({},`passive`,{get:function(){c=!0}});e.window.addEventListener(`test`,l,l),e.window.removeEventListener(`test`,l,l)}catch{c=!1}n.addEventListener=function(e,t,n,r){r===void 0&&(r={}),e.addEventListener(t,n,`passive`in r&&c?r:r.capture)},n.removeEventListener=function(e,t,n,r){r===void 0&&(r={}),e.removeEventListener(t,n,`passive`in r&&c?r:r.capture)};var u=function(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener(`click`,u,!0)};function d(e){var t=e.userImage;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}n.suppressClick=function(){e.window.addEventListener(`click`,u,!0),e.window.setTimeout((function(){e.window.removeEventListener(`click`,u,!0)}),0)},n.mousePos=function(t,n){var r=t.getBoundingClientRect();return new e.Point(n.clientX-r.left-t.clientLeft,n.clientY-r.top-t.clientTop)},n.touchPos=function(t,n){for(var r=t.getBoundingClientRect(),i=[],a=0;a<n.length;a++)i.push(new e.Point(n[a].clientX-r.left-t.clientLeft,n[a].clientY-r.top-t.clientTop));return i},n.mouseButton=function(t){return e.window.InstallTrigger!==void 0&&t.button===2&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf(`MAC`)>=0?0:t.button},n.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};var f=function(t){function n(){t.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.isLoaded=function(){return this.loaded},n.prototype.setLoaded=function(e){if(this.loaded!==e&&(this.loaded=e,e)){for(var t=0,n=this.requestors;t<n.length;t+=1){var r=n[t];this._notify(r.ids,r.callback)}this.requestors=[]}},n.prototype.getImage=function(e){return this.images[e]},n.prototype.addImage=function(e,t){this._validate(e,t)&&(this.images[e]=t)},n.prototype._validate=function(t,n){var r=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new e.ErrorEvent(Error(`Image "`+t+`" has invalid "stretchX" value`))),r=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new e.ErrorEvent(Error(`Image "`+t+`" has invalid "stretchY" value`))),r=!1),this._validateContent(n.content,n)||(this.fire(new e.ErrorEvent(Error(`Image "`+t+`" has invalid "content" value`))),r=!1),r},n.prototype._validateStretch=function(e,t){if(!e)return!0;for(var n=0,r=0,i=e;r<i.length;r+=1){var a=i[r];if(a[0]<n||a[1]<a[0]||t<a[1])return!1;n=a[1]}return!0},n.prototype._validateContent=function(e,t){return!(e&&(e.length!==4||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))},n.prototype.updateImage=function(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0},n.prototype.removeImage=function(e){var t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()},n.prototype.listImages=function(){return Object.keys(this.images)},n.prototype.getImages=function(e,t){var n=!0;if(!this.isLoaded())for(var r=0,i=e;r<i.length;r+=1)this.images[i[r]]||(n=!1);this.isLoaded()||n?this._notify(e,t):this.requestors.push({ids:e,callback:t})},n.prototype._notify=function(t,n){for(var r={},i=0,a=t;i<a.length;i+=1){var o=a[i];this.images[o]||this.fire(new e.Event(`styleimagemissing`,{id:o}));var s=this.images[o];s?r[o]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:!!(s.userImage&&s.userImage.render)}:e.warnOnce(`Image "`+o+`" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}n(null,r)},n.prototype.getPixelSize=function(){var e=this.atlasImage;return{width:e.width,height:e.height}},n.prototype.getPattern=function(t){var n=this.patterns[t],r=this.getImage(t);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{var i={w:r.data.width+2,h:r.data.height+2,x:0,y:0},a=new e.ImagePosition(i,r);this.patterns[t]={bin:i,position:a}}return this._updatePatternAtlas(),this.patterns[t].position},n.prototype.bind=function(t){var n=t.gl;this.atlasTexture?this.dirty&&=(this.atlasTexture.update(this.atlasImage),!1):this.atlasTexture=new e.Texture(t,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)},n.prototype._updatePatternAtlas=function(){var t=[];for(var n in this.patterns)t.push(this.patterns[n].bin);var r=e.potpack(t),i=r.w,a=r.h,o=this.atlasImage;for(var s in o.resize({width:i||1,height:a||1}),this.patterns){var c=this.patterns[s].bin,l=c.x+1,u=c.y+1,d=this.images[s].data,f=d.width,p=d.height;e.RGBAImage.copy(d,o,{x:0,y:0},{x:l,y:u},{width:f,height:p}),e.RGBAImage.copy(d,o,{x:0,y:p-1},{x:l,y:u-1},{width:f,height:1}),e.RGBAImage.copy(d,o,{x:0,y:0},{x:l,y:u+p},{width:f,height:1}),e.RGBAImage.copy(d,o,{x:f-1,y:0},{x:l-1,y:u},{width:1,height:p}),e.RGBAImage.copy(d,o,{x:0,y:0},{x:l+f,y:u},{width:1,height:p})}this.dirty=!0},n.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},n.prototype.dispatchRenderCallbacks=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(!this.callbackDispatchedThisFrame[r]){this.callbackDispatchedThisFrame[r]=!0;var i=this.images[r];d(i)&&this.updateImage(r,i)}}},n}(e.Evented),p=g,m=g,h=0x56bc75e2d63100000;function g(e,t,n,r,i,a){this.fontSize=e||24,this.buffer=t===void 0?3:t,this.cutoff=r||.25,this.fontFamily=i||`sans-serif`,this.fontWeight=a||`normal`,this.radius=n||8;var o=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement(`canvas`),this.canvas.width=this.canvas.height=o,this.ctx=this.canvas.getContext(`2d`),this.ctx.font=this.fontWeight+` `+this.fontSize+`px `+this.fontFamily,this.ctx.textBaseline=`middle`,this.ctx.fillStyle=`black`,this.gridOuter=new Float64Array(o*o),this.gridInner=new Float64Array(o*o),this.f=new Float64Array(o),this.d=new Float64Array(o),this.z=new Float64Array(o+1),this.v=new Int16Array(o),this.middle=Math.round(o/2*(navigator.userAgent.indexOf(`Gecko/`)>=0?1.2:1))}function _(e,t,n,r,i,a,o){for(var s=0;s<t;s++){for(var c=0;c<n;c++)r[c]=e[c*t+s];for(v(r,i,a,o,n),c=0;c<n;c++)e[c*t+s]=i[c]}for(c=0;c<n;c++){for(s=0;s<t;s++)r[s]=e[c*t+s];for(v(r,i,a,o,t),s=0;s<t;s++)e[c*t+s]=Math.sqrt(i[s])}}function v(e,t,n,r,i){n[0]=0,r[0]=-h,r[1]=+h;for(var a=1,o=0;a<i;a++){for(var s=(e[a]+a*a-(e[n[o]]+n[o]*n[o]))/(2*a-2*n[o]);s<=r[o];)o--,s=(e[a]+a*a-(e[n[o]]+n[o]*n[o]))/(2*a-2*n[o]);n[++o]=a,r[o]=s,r[o+1]=+h}for(a=0,o=0;a<i;a++){for(;r[o+1]<a;)o++;t[a]=(a-n[o])*(a-n[o])+e[n[o]]}}g.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var i=t.data[4*r+3]/255;this.gridOuter[r]=i===1?0:i===0?h:Math.max(0,.5-i)**2,this.gridInner[r]=i===1?h:i===0?0:Math.max(0,i-.5)**2}for(_(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),_(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++)n[r]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[r]-this.gridInner[r])/this.radius+this.cutoff))));return n},p.default=m;var y=function(e,t){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={}};y.prototype.setURL=function(e){this.url=e},y.prototype.getGlyphs=function(t,n){var r=this,i=[];for(var a in t)for(var o=0,s=t[a];o<s.length;o+=1)i.push({stack:a,id:s[o]});e.asyncAll(i,(function(e,t){var n=e.stack,i=e.id,a=r.entries[n];a||=r.entries[n]={glyphs:{},requests:{},ranges:{}};var o=a.glyphs[i];if(o===void 0){if(o=r._tinySDF(a,n,i))return a.glyphs[i]=o,void t(null,{stack:n,id:i,glyph:o});var s=Math.floor(i/256);if(256*s>65535)t(Error(`glyphs > 65535 not supported`));else if(a.ranges[s])t(null,{stack:n,id:i,glyph:o});else{var c=a.requests[s];c||(c=a.requests[s]=[],y.loadGlyphRange(n,s,r.url,r.requestManager,(function(e,t){if(t){for(var n in t)r._doesCharSupportLocalGlyph(+n)||(a.glyphs[+n]=t[+n]);a.ranges[s]=!0}for(var i=0,o=c;i<o.length;i+=1)(0,o[i])(e,t);delete a.requests[s]}))),c.push((function(e,r){e?t(e):r&&t(null,{stack:n,id:i,glyph:r[i]||null})}))}}else t(null,{stack:n,id:i,glyph:o})}),(function(e,t){if(e)n(e);else if(t){for(var r={},i=0,a=t;i<a.length;i+=1){var o=a[i],s=o.stack,c=o.id,l=o.glyph;(r[s]||(r[s]={}))[c]=l&&{id:l.id,bitmap:l.bitmap.clone(),metrics:l.metrics}}n(null,r)}}))},y.prototype._doesCharSupportLocalGlyph=function(t){return!!this.localIdeographFontFamily&&(e.isChar[`CJK Unified Ideographs`](t)||e.isChar[`Hangul Syllables`](t)||e.isChar.Hiragana(t)||e.isChar.Katakana(t))},y.prototype._tinySDF=function(t,n,r){var i=this.localIdeographFontFamily;if(i&&this._doesCharSupportLocalGlyph(r)){var a=t.tinySDF;if(!a){var o=`400`;/bold/i.test(n)?o=`900`:/medium/i.test(n)?o=`500`:/light/i.test(n)&&(o=`200`),a=t.tinySDF=new y.TinySDF(24,3,8,.25,i,o)}return{id:r,bitmap:new e.AlphaImage({width:30,height:30},a.draw(String.fromCharCode(r))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},y.loadGlyphRange=function(t,n,r,i,a){var o=256*n,s=o+255,c=i.transformRequest(i.normalizeGlyphsURL(r).replace(`{fontstack}`,t).replace(`{range}`,o+`-`+s),e.ResourceType.Glyphs);e.getArrayBuffer(c,(function(t,n){if(t)a(t);else if(n){for(var r={},i=0,o=e.parseGlyphPBF(n);i<o.length;i+=1){var s=o[i];r[s.id]=s}a(null,r)}}))},y.TinySDF=p;var b=function(){this.specification=e.styleSpec.light.position};b.prototype.possiblyEvaluate=function(t,n){return e.sphericalToCartesian(t.expression.evaluate(n))},b.prototype.interpolate=function(t,n,r){return{x:e.number(t.x,n.x,r),y:e.number(t.y,n.y,r),z:e.number(t.z,n.z,r)}};var x=new e.Properties({anchor:new e.DataConstantProperty(e.styleSpec.light.anchor),position:new b,color:new e.DataConstantProperty(e.styleSpec.light.color),intensity:new e.DataConstantProperty(e.styleSpec.light.intensity)}),S=function(t){function n(n){t.call(this),this._transitionable=new e.Transitionable(x),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getLight=function(){return this._transitionable.serialize()},n.prototype.setLight=function(t,n){if(n===void 0&&(n={}),!this._validate(e.validateLight,t,n))for(var r in t){var i=t[r];e.endsWith(r,`-transition`)?this._transitionable.setTransition(r.slice(0,-11),i):this._transitionable.setValue(r,i)}},n.prototype.updateTransitions=function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)},n.prototype.hasTransition=function(){return this._transitioning.hasTransition()},n.prototype.recalculate=function(e){this.properties=this._transitioning.possiblyEvaluate(e)},n.prototype._validate=function(t,n,r){return(!r||!1!==r.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.styleSpec})))},n}(e.Evented),C=function(e,t){this.width=e,this.height=t,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};C.prototype.getDash=function(e,t){var n=e.join(`,`)+String(t);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(e,t)),this.dashEntry[n]},C.prototype.getDashRanges=function(e,t,n){var r=[],i=e.length%2==1?-e[e.length-1]*n:0,a=e[0]*n,o=!0;r.push({left:i,right:a,isDash:o,zeroLength:e[0]===0});for(var s=e[0],c=1;c<e.length;c++){var l=e[c];r.push({left:i=s*n,right:a=(s+=l)*n,isDash:o=!o,zeroLength:l===0})}return r},C.prototype.addRoundDash=function(e,t,n){for(var r=t/2,i=-n;i<=n;i++)for(var a=this.width*(this.nextRow+n+i),o=0,s=e[o],c=0;c<this.width;c++){c/s.right>1&&(s=e[++o]);var l=Math.abs(c-s.left),u=Math.abs(c-s.right),d=Math.min(l,u),f=void 0,p=i/n*(r+1);if(s.isDash){var m=r-Math.abs(p);f=Math.sqrt(d*d+m*m)}else f=r-Math.sqrt(d*d+p*p);this.data[a+c]=Math.max(0,Math.min(255,f+128))}},C.prototype.addRegularDash=function(e){for(var t=e.length-1;t>=0;--t){var n=e[t],r=e[t+1];n.zeroLength?e.splice(t,1):r&&r.isDash===n.isDash&&(r.left=n.left,e.splice(t,1))}var i=e[0],a=e[e.length-1];i.isDash===a.isDash&&(i.left=a.left-this.width,a.right=i.right+this.width);for(var o=this.width*this.nextRow,s=0,c=e[s],l=0;l<this.width;l++){l/c.right>1&&(c=e[++s]);var u=Math.abs(l-c.left),d=Math.abs(l-c.right),f=Math.min(u,d);this.data[o+l]=Math.max(0,Math.min(255,(c.isDash?f:-f)+128))}},C.prototype.addDash=function(t,n){var r=n?7:0,i=2*r+1;if(this.nextRow+i>this.height)return e.warnOnce(`LineAtlas out of space`),null;for(var a=0,o=0;o<t.length;o++)a+=t[o];if(a!==0){var s=this.width/a,c=this.getDashRanges(t,this.width,s);n?this.addRoundDash(c,s,r):this.addRegularDash(c)}var l={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:a};return this.nextRow+=i,this.dirty=!0,l},C.prototype.bind=function(e){var t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,this.data))};var w=function t(n,r){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=e.uniqueId();for(var i=this.workerPool.acquire(this.id),a=0;a<i.length;a++){var o=new t.Actor(i[a],r,this.id);o.name=`Worker `+a,this.actors.push(o)}};function T(t,n,r){var i=function(i,a){if(i)return r(i);if(a){var o=e.pick(e.extend(a,t),[`tiles`,`minzoom`,`maxzoom`,`attribution`,`mapbox_logo`,`bounds`,`scheme`,`tileSize`,`encoding`]);a.vector_layers&&(o.vectorLayers=a.vector_layers,o.vectorLayerIds=o.vectorLayers.map((function(e){return e.id}))),o.tiles=n.canonicalizeTileset(o,t.url),r(null,o)}};return t.url?e.getJSON(n.transformRequest(n.normalizeSourceURL(t.url),e.ResourceType.Source),i):e.browser.frame((function(){return i(null,t)}))}w.prototype.broadcast=function(t,n,r){e.asyncAll(this.actors,(function(e,r){e.send(t,n,r)}),r||=function(){})},w.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},w.prototype.remove=function(){this.actors.forEach((function(e){e.remove()})),this.actors=[],this.workerPool.release(this.id)},w.Actor=e.Actor;var E=function(t,n,r){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=n||0,this.maxzoom=r||24};E.prototype.validateBounds=function(e){return Array.isArray(e)&&e.length===4?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]},E.prototype.contains=function(t){var n=2**t.z,r=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*n),i=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*n),a=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*n),o=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*n);return t.x>=r&&t.x<a&&t.y>=i&&t.y<o};var D=function(t){function n(n,r,i,a){if(t.call(this),this.id=n,this.dispatcher=i,this.type=`vector`,this.minzoom=0,this.maxzoom=22,this.scheme=`xyz`,this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(r,[`url`,`scheme`,`tileSize`,`promoteId`])),this._options=e.extend({type:`vector`},r),this._collectResourceTiming=r.collectResourceTiming,this.tileSize!==512)throw Error(`vector tile sources must have a tileSize of 512`);this.setEventedParent(a)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event(`dataloading`,{dataType:`source`})),this._tileJSONRequest=T(this._options,this.map._requestManager,(function(n,r){t._tileJSONRequest=null,t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(e.extend(t,r),r.bounds&&(t.tileBounds=new E(r.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(r.tiles,t.map._requestManager._customAccessToken),e.postMapLoadEvent(r.tiles,t.map._getMapId(),t.map._requestManager._skuToken,t.map._requestManager._customAccessToken),t.fire(new e.Event(`data`,{dataType:`source`,sourceDataType:`metadata`})),t.fire(new e.Event(`data`,{dataType:`source`,sourceDataType:`content`})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setSourceProperty=function(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},n.prototype.setTiles=function(e){var t=this;return this.setSourceProperty((function(){t._options.tiles=e})),this},n.prototype.setUrl=function(e){var t=this;return this.setSourceProperty((function(){t.url=e,t._options.url=e})),this},n.prototype.onRemove=function(){this._tileJSONRequest&&=(this._tileJSONRequest.cancel(),null)},n.prototype.serialize=function(){return e.extend({},this._options)},n.prototype.loadTile=function(t,n){var r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),i={request:this.map._requestManager.transformRequest(r,e.ResourceType.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function a(r,i){return delete t.request,t.aborted?n(null):r&&r.status!==404?n(r):(i&&i.resourceTiming&&(t.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&t.setExpiryData(i),t.loadVectorData(i,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(t.reloadCallback&&=(this.loadTile(t,t.reloadCallback),null)))}i.request.collectResourceTiming=this._collectResourceTiming,t.actor&&t.state!==`expired`?t.state===`loading`?t.reloadCallback=n:t.request=t.actor.send(`reloadTile`,i,a.bind(this)):(t.actor=this.dispatcher.getActor(),t.request=t.actor.send(`loadTile`,i,a.bind(this)))},n.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send(`abortTile`,{uid:e.uid,type:this.type,source:this.id},void 0)},n.prototype.unloadTile=function(e){e.unloadVectorData(),e.actor&&e.actor.send(`removeTile`,{uid:e.uid,type:this.type,source:this.id},void 0)},n.prototype.hasTransition=function(){return!1},n}(e.Evented),O=function(t){function n(n,r,i,a){t.call(this),this.id=n,this.dispatcher=i,this.setEventedParent(a),this.type=`raster`,this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme=`xyz`,this.tileSize=512,this._loaded=!1,this._options=e.extend({type:`raster`},r),e.extend(this,e.pick(r,[`url`,`scheme`,`tileSize`]))}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event(`dataloading`,{dataType:`source`})),this._tileJSONRequest=T(this._options,this.map._requestManager,(function(n,r){t._tileJSONRequest=null,t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(e.extend(t,r),r.bounds&&(t.tileBounds=new E(r.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(r.tiles),e.postMapLoadEvent(r.tiles,t.map._getMapId(),t.map._requestManager._skuToken),t.fire(new e.Event(`data`,{dataType:`source`,sourceDataType:`metadata`})),t.fire(new e.Event(`data`,{dataType:`source`,sourceDataType:`content`})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&=(this._tileJSONRequest.cancel(),null)},n.prototype.serialize=function(){return e.extend({},this._options)},n.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},n.prototype.loadTile=function(t,n){var r=this,i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(i,e.ResourceType.Tile),(function(i,a){if(delete t.request,t.aborted)t.state=`unloaded`,n(null);else if(i)t.state=`errored`,n(i);else if(a){r.map._refreshExpiredTiles&&t.setExpiryData(a),delete a.cacheControl,delete a.expires;var o=r.map.painter.context,s=o.gl;t.texture=r.map.painter.getTileTexture(a.width),t.texture?t.texture.update(a,{useMipmap:!0}):(t.texture=new e.Texture(o,a,s.RGBA,{useMipmap:!0}),t.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),o.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,o.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,o.extTextureFilterAnisotropicMax)),t.state=`loaded`,e.cacheEntryPossiblyAdded(r.dispatcher),n(null)}}))},n.prototype.abortTile=function(e,t){e.request&&(e.request.cancel(),delete e.request),t()},n.prototype.unloadTile=function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()},n.prototype.hasTransition=function(){return!1},n}(e.Evented),k=function(t){function n(n,r,i,a){t.call(this,n,r,i,a),this.type=`raster-dem`,this.maxzoom=22,this._options=e.extend({type:`raster-dem`},r),this.encoding=r.encoding||`mapbox`}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.serialize=function(){return{type:`raster-dem`,url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},n.prototype.loadTile=function(t,n){var r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function i(e,r){e&&(t.state=`errored`,n(e)),r&&(t.dem=r,t.needsHillshadePrepare=!0,t.state=`loaded`,n(null))}t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),function(r,a){if(delete t.request,t.aborted)t.state=`unloaded`,n(null);else if(r)t.state=`errored`,n(r);else if(a){this.map._refreshExpiredTiles&&t.setExpiryData(a),delete a.cacheControl,delete a.expires;var o=e.window.ImageBitmap&&a instanceof e.window.ImageBitmap&&e.offscreenCanvasSupported()?a:e.browser.getImageData(a,1),s={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:o,encoding:this.encoding};t.actor&&t.state!==`expired`||(t.actor=this.dispatcher.getActor(),t.actor.send(`loadDEMTile`,s,i.bind(this)))}}.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)},n.prototype._getNeighboringTiles=function(t){var n=t.canonical,r=2**n.z,i=(n.x-1+r)%r,a=n.x===0?t.wrap-1:t.wrap,o=(n.x+1+r)%r,s=n.x+1===r?t.wrap+1:t.wrap,c={};return c[new e.OverscaledTileID(t.overscaledZ,a,n.z,i,n.y).key]={backfilled:!1},c[new e.OverscaledTileID(t.overscaledZ,s,n.z,o,n.y).key]={backfilled:!1},n.y>0&&(c[new e.OverscaledTileID(t.overscaledZ,a,n.z,i,n.y-1).key]={backfilled:!1},c[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},c[new e.OverscaledTileID(t.overscaledZ,s,n.z,o,n.y-1).key]={backfilled:!1}),n.y+1<r&&(c[new e.OverscaledTileID(t.overscaledZ,a,n.z,i,n.y+1).key]={backfilled:!1},c[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},c[new e.OverscaledTileID(t.overscaledZ,s,n.z,o,n.y+1).key]={backfilled:!1}),c},n.prototype.unloadTile=function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state=`unloaded`,e.actor&&e.actor.send(`removeDEMTile`,{uid:e.uid,source:this.id})},n}(O),A=function(t){function n(n,r,i,a){t.call(this),this.id=n,this.type=`geojson`,this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(a),this._data=r.data,this._options=e.extend({},r),this._collectResourceTiming=r.collectResourceTiming,this._resourceTiming=[],r.maxzoom!==void 0&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;var o=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(r.buffer===void 0?128:r.buffer)*o,tolerance:(r.tolerance===void 0?.375:r.tolerance)*o,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:r.clusterMaxZoom===void 0?this.maxzoom-1:Math.min(r.clusterMaxZoom,this.maxzoom-1),minPoints:Math.max(2,r.clusterMinPoints||2),extent:e.EXTENT,radius:(r.clusterRadius||50)*o,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter},r.workerOptions)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this.fire(new e.Event(`dataloading`,{dataType:`source`})),this._updateWorkerData((function(n){if(n)t.fire(new e.ErrorEvent(n));else{var r={dataType:`source`,sourceDataType:`metadata`};t._collectResourceTiming&&t._resourceTiming&&t._resourceTiming.length>0&&(r.resourceTiming=t._resourceTiming,t._resourceTiming=[]),t.fire(new e.Event(`data`,r))}}))},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setData=function(t){var n=this;return this._data=t,this.fire(new e.Event(`dataloading`,{dataType:`source`})),this._updateWorkerData((function(t){if(t)n.fire(new e.ErrorEvent(t));else{var r={dataType:`source`,sourceDataType:`content`};n._collectResourceTiming&&n._resourceTiming&&n._resourceTiming.length>0&&(r.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new e.Event(`data`,r))}})),this},n.prototype.getClusterExpansionZoom=function(e,t){return this.actor.send(`geojson.getClusterExpansionZoom`,{clusterId:e,source:this.id},t),this},n.prototype.getClusterChildren=function(e,t){return this.actor.send(`geojson.getClusterChildren`,{clusterId:e,source:this.id},t),this},n.prototype.getClusterLeaves=function(e,t,n,r){return this.actor.send(`geojson.getClusterLeaves`,{source:this.id,clusterId:e,limit:t,offset:n},r),this},n.prototype._updateWorkerData=function(t){var n=this;this._loaded=!1;var r=e.extend({},this.workerOptions),i=this._data;typeof i==`string`?(r.request=this.map._requestManager.transformRequest(e.browser.resolveURL(i),e.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(i),this.actor.send(this.type+`.loadData`,r,(function(e,i){n._removed||i&&i.abandoned||(n._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[n.id]&&(n._resourceTiming=i.resourceTiming[n.id].slice(0)),n.actor.send(n.type+`.coalesce`,{source:r.source},null),t(e))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.loadTile=function(t,n){var r=this,i=t.actor?`reloadTile`:`loadTile`;t.actor=this.actor,t.request=this.actor.send(i,{type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(e,a){return delete t.request,t.unloadVectorData(),t.aborted?n(null):e?n(e):(t.loadVectorData(a,r.map.painter,i===`reloadTile`),n(null))}))},n.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0},n.prototype.unloadTile=function(e){e.unloadVectorData(),this.actor.send(`removeTile`,{uid:e.uid,type:this.type,source:this.id})},n.prototype.onRemove=function(){this._removed=!0,this.actor.send(`removeSource`,{type:this.type,source:this.id})},n.prototype.serialize=function(){return e.extend({},this._options,{type:this.type,data:this._data})},n.prototype.hasTransition=function(){return!1},n}(e.Evented),j=e.createLayout([{name:`a_pos`,type:`Int16`,components:2},{name:`a_texture_pos`,type:`Int16`,components:2}]),M=function(t){function n(e,n,r,i){t.call(this),this.id=e,this.dispatcher=r,this.coordinates=n.coordinates,this.type=`image`,this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=n}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(t,n){var r=this;this._loaded=!1,this.fire(new e.Event(`dataloading`,{dataType:`source`})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),(function(i,a){r._loaded=!0,i?r.fire(new e.ErrorEvent(i)):a&&(r.image=a,t&&(r.coordinates=t),n&&n(),r._finishLoading())}))},n.prototype.loaded=function(){return this._loaded},n.prototype.updateImage=function(e){var t=this;return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,(function(){t.texture=null})),this):this},n.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event(`data`,{dataType:`source`,sourceDataType:`metadata`})))},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setCoordinates=function(t){var n=this;this.coordinates=t;var r=t.map(e.MercatorCoordinate.fromLngLat);this.tileID=function(t){for(var n=1/0,r=1/0,i=-1/0,a=-1/0,o=0,s=t;o<s.length;o+=1){var c=s[o];n=Math.min(n,c.x),r=Math.min(r,c.y),i=Math.max(i,c.x),a=Math.max(a,c.y)}var l=Math.max(i-n,a-r),u=Math.max(0,Math.floor(-Math.log(l)/Math.LN2)),d=2**u;return new e.CanonicalTileID(u,Math.floor((n+i)/2*d),Math.floor((r+a)/2*d))}(r),this.minzoom=this.maxzoom=this.tileID.z;var i=r.map((function(e){return n.tileID.getTilePoint(e)._round()}));return this._boundsArray=new e.StructArrayLayout4i8,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event(`data`,{dataType:`source`,sourceDataType:`content`})),this},n.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var t=this.map.painter.context,n=t.gl;for(var r in this.boundsBuffer||=t.createVertexBuffer(this._boundsArray,j.members),this.boundsSegments||=e.SegmentVector.simpleSegment(0,0,4,2),this.texture||(this.texture=new e.Texture(t,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];i.state!==`loaded`&&(i.state=`loaded`,i.texture=this.texture)}}},n.prototype.loadTile=function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state=`errored`,t(null))},n.prototype.serialize=function(){return{type:`image`,url:this.options.url,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return!1},n}(e.Evented),N=function(t){function n(e,n,r,i){t.call(this,e,n,r,i),this.roundZoom=!0,this.type=`video`,this.options=n}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this._loaded=!1;var n=this.options;this.urls=[];for(var r=0,i=n.urls;r<i.length;r+=1)this.urls.push(this.map._requestManager.transformRequest(i[r],e.ResourceType.Source).url);e.getVideo(this.urls,(function(n,r){t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(t.video=r,t.video.loop=!0,t.video.setAttribute(`playsinline`,``),t.video.addEventListener(`playing`,(function(){t.map.triggerRepaint()})),t.map&&t.video.play(),t._finishLoading())}))},n.prototype.pause=function(){this.video&&this.video.pause()},n.prototype.play=function(){this.video&&this.video.play()},n.prototype.seek=function(t){if(this.video){var n=this.video.seekable;t<n.start(0)||t>n.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError(`sources.`+this.id,null,`Playback for this video can be set only between the `+n.start(0)+` and `+n.end(0)+`-second mark.`))):this.video.currentTime=t}},n.prototype.getVideo=function(){return this.video},n.prototype.onAdd=function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},n.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var t=this.map.painter.context,n=t.gl;for(var r in this.boundsBuffer||=t.createVertexBuffer(this._boundsArray,j.members),this.boundsSegments||=e.SegmentVector.simpleSegment(0,0,4,2),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];i.state!==`loaded`&&(i.state=`loaded`,i.texture=this.texture)}}},n.prototype.serialize=function(){return{type:`video`,urls:this.urls,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this.video&&!this.video.paused},n}(M),P=function(t){function n(n,r,i,a){t.call(this,n,r,i,a),r.coordinates?Array.isArray(r.coordinates)&&r.coordinates.length===4&&!r.coordinates.some((function(e){return!Array.isArray(e)||e.length!==2||e.some((function(e){return typeof e!=`number`}))}))||this.fire(new e.ErrorEvent(new e.ValidationError(`sources.`+n,null,`"coordinates" property must be an array of 4 longitude/latitude array pairs`))):this.fire(new e.ErrorEvent(new e.ValidationError(`sources.`+n,null,`missing required property "coordinates"`))),r.animate&&typeof r.animate!=`boolean`&&this.fire(new e.ErrorEvent(new e.ValidationError(`sources.`+n,null,`optional "animate" property must be a boolean value`))),r.canvas?typeof r.canvas==`string`||r.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError(`sources.`+n,null,`"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance`))):this.fire(new e.ErrorEvent(new e.ValidationError(`sources.`+n,null,`missing required property "canvas"`))),this.options=r,this.animate=r.animate===void 0||r.animate}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){this._loaded=!0,this.canvas||=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(Error(`Canvas dimensions cannot be less than or equal to zero.`))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&=(this.prepare(),!1)},this._finishLoading())},n.prototype.getCanvas=function(){return this.canvas},n.prototype.onAdd=function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()},n.prototype.onRemove=function(){this.pause()},n.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var n=this.map.painter.context,r=n.gl;for(var i in this.boundsBuffer||=n.createVertexBuffer(this._boundsArray,j.members),this.boundsSegments||=e.SegmentVector.simpleSegment(0,0,4,2),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(n,this.canvas,r.RGBA,{premultiply:!0}),this.tiles){var a=this.tiles[i];a.state!==`loaded`&&(a.state=`loaded`,a.texture=this.texture)}}},n.prototype.serialize=function(){return{type:`canvas`,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this._playing},n.prototype._hasInvalidDimensions=function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e+=1){var n=t[e];if(isNaN(n)||n<=0)return!0}return!1},n}(M),F={vector:D,raster:O,"raster-dem":k,geojson:A,video:N,image:M,canvas:P};function ee(t,n){var r=e.identity([]);return e.translate(r,r,[1,1,0]),e.scale(r,r,[.5*t.width,.5*t.height,1]),e.multiply(r,r,t.calculatePosMatrix(n.toUnwrapped()))}function I(e,t,n,r,i,a){var o=function(e,t,n){if(e)for(var r=0,i=e;r<i.length;r+=1){var a=t[i[r]];if(a&&a.source===n&&a.type===`fill-extrusion`)return!0}else for(var o in t){var s=t[o];if(s.source===n&&s.type===`fill-extrusion`)return!0}return!1}(i&&i.layers,t,e.id),s=a.maxPitchScaleFactor(),c=e.tilesIn(r,s,o);c.sort(te);for(var l=[],u=0,d=c;u<d.length;u+=1){var f=d[u];l.push({wrappedTileID:f.tileID.wrapped().key,queryResults:f.tile.queryRenderedFeatures(t,n,e._state,f.queryGeometry,f.cameraQueryGeometry,f.scale,i,a,s,ee(e.transform,f.tileID))})}var p=function(e){for(var t={},n={},r=0,i=e;r<i.length;r+=1){var a=i[r],o=a.queryResults,s=a.wrappedTileID,c=n[s]=n[s]||{};for(var l in o)for(var u=o[l],d=c[l]=c[l]||{},f=t[l]=t[l]||[],p=0,m=u;p<m.length;p+=1){var h=m[p];d[h.featureIndex]||(d[h.featureIndex]=!0,f.push(h))}}return t}(l);for(var m in p)p[m].forEach((function(t){var n=t.feature,r=e.getFeatureState(n.layer[`source-layer`],n.id);n.source=n.layer.source,n.layer[`source-layer`]&&(n.sourceLayer=n.layer[`source-layer`]),n.state=r}));return p}function te(e,t){var n=e.tileID,r=t.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}var L=function(e,t){this.max=e,this.onRemove=t,this.reset()};L.prototype.reset=function(){for(var e in this.data)for(var t=0,n=this.data[e];t<n.length;t+=1){var r=n[t];r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}return this.data={},this.order=[],this},L.prototype.add=function(e,t,n){var r=this,i=e.wrapped().key;this.data[i]===void 0&&(this.data[i]=[]);var a={value:t,timeout:void 0};if(n!==void 0&&(a.timeout=setTimeout((function(){r.remove(e,a)}),n)),this.data[i].push(a),this.order.push(i),this.order.length>this.max){var o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this},L.prototype.has=function(e){return e.wrapped().key in this.data},L.prototype.getAndRemove=function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null},L.prototype._getAndRemoveByKey=function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),this.data[e].length===0&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value},L.prototype.getByKey=function(e){var t=this.data[e];return t?t[0].value:null},L.prototype.get=function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null},L.prototype.remove=function(e,t){if(!this.has(e))return this;var n=e.wrapped().key,r=t===void 0?0:this.data[n].indexOf(t),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),this.data[n].length===0&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this},L.prototype.setMaxSize=function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this},L.prototype.filter=function(e){var t=[];for(var n in this.data)for(var r=0,i=this.data[n];r<i.length;r+=1){var a=i[r];e(a.value)||t.push(a)}for(var o=0,s=t;o<s.length;o+=1){var c=s[o];this.remove(c.value.tileID,c)}};var ne=function(e,t,n){this.context=e;var r=e.gl;this.buffer=r.createBuffer(),this.dynamicDraw=!!n,this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};ne.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},ne.prototype.updateData=function(e){var t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)},ne.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var re={Int8:`BYTE`,Uint8:`UNSIGNED_BYTE`,Int16:`SHORT`,Uint16:`UNSIGNED_SHORT`,Int32:`INT`,Uint32:`UNSIGNED_INT`,Float32:`FLOAT`},ie=function(e,t,n,r){this.length=t.length,this.attributes=n,this.itemSize=t.bytesPerElement,this.dynamicDraw=r,this.context=e;var i=e.gl;this.buffer=i.createBuffer(),e.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};ie.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},ie.prototype.updateData=function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)},ie.prototype.enableAttributes=function(e,t){for(var n=0;n<this.attributes.length;n++){var r=t.attributes[this.attributes[n].name];r!==void 0&&e.enableVertexAttribArray(r)}},ie.prototype.setVertexAttribPointers=function(e,t,n){for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r],a=t.attributes[i.name];a!==void 0&&e.vertexAttribPointer(a,i.components,e[re[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}},ie.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var R=function(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};R.prototype.get=function(){return this.current},R.prototype.set=function(e){},R.prototype.getDefault=function(){return this.default},R.prototype.setDefault=function(){this.set(this.default)};var ae=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getDefault=function(){return e.Color.transparent},n.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},n}(R),oe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 1},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)},t}(R),se=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)},t}(R),ce=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return[!0,!0,!0,!0]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(R),le=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)},t}(R),ue=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 255},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)},t}(R),de=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},t.prototype.set=function(e){var t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)},t}(R),fe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)},t}(R),pe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}},t}(R),me=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return[0,1]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)},t}(R),he=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}},t}(R),ge=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.LESS},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)},t}(R),_e=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}},t}(R),z=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.ONE,e.ZERO]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)},t}(R),ve=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getDefault=function(){return e.Color.transparent},n.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},n}(R),ye=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.FUNC_ADD},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)},t}(R),be=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}},t}(R),xe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.BACK},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)},t}(R),Se=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.CCW},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)},t}(R),Ce=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)},t}(R),we=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.TEXTURE0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)},t}(R),Te=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(R),Ee=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}},t}(R),De=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(R),Oe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}},t}(R),ke=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}},t}(R),Ae=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1},t}(R),je=function(e){function t(t){e.call(this,t),this.vao=t.extVertexArrayObject}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)},t}(R),Me=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 4},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}},t}(R),Ne=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}},t}(R),Pe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}},t}(R),Fe=function(e){function t(t,n){e.call(this,t),this.context=t,this.parent=n}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t}(R),Ie=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.setDirty=function(){this.dirty=!0},t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}},t}(Fe),Le=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(Fe),Re=function(e,t,n,r){this.context=e,this.width=t,this.height=n;var i=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new Ie(e,i),r&&(this.depthAttachment=new Le(e,i))};Re.prototype.destroy=function(){var e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){var n=this.depthAttachment.get();n&&e.deleteRenderbuffer(n)}e.deleteFramebuffer(this.framebuffer)};var ze=function(e,t,n){this.func=e,this.mask=t,this.range=n};ze.ReadOnly=!1,ze.ReadWrite=!0,ze.disabled=new ze(519,ze.ReadOnly,[0,1]);var Be=function(e,t,n,r,i,a){this.test=e,this.ref=t,this.mask=n,this.fail=r,this.depthFail=i,this.pass=a};Be.disabled=new Be({func:519,mask:0},0,0,7680,7680,7680);var Ve=function(e,t,n){this.blendFunction=e,this.blendColor=t,this.mask=n};Ve.disabled=new Ve(Ve.Replace=[1,0],e.Color.transparent,[!1,!1,!1,!1]),Ve.unblended=new Ve(Ve.Replace,e.Color.transparent,[!0,!0,!0,!0]),Ve.alphaBlended=new Ve([1,771],e.Color.transparent,[!0,!0,!0,!0]);var He=function(e,t,n){this.enable=e,this.mode=t,this.frontFace=n};He.disabled=new He(!1,1029,2305),He.backCCW=new He(!0,1029,2305);var B=function(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension(`OES_vertex_array_object`),this.clearColor=new ae(this),this.clearDepth=new oe(this),this.clearStencil=new se(this),this.colorMask=new ce(this),this.depthMask=new le(this),this.stencilMask=new ue(this),this.stencilFunc=new de(this),this.stencilOp=new fe(this),this.stencilTest=new pe(this),this.depthRange=new me(this),this.depthTest=new he(this),this.depthFunc=new ge(this),this.blend=new _e(this),this.blendFunc=new z(this),this.blendColor=new ve(this),this.blendEquation=new ye(this),this.cullFace=new be(this),this.cullFaceSide=new xe(this),this.frontFace=new Se(this),this.program=new Ce(this),this.activeTexture=new we(this),this.viewport=new Te(this),this.bindFramebuffer=new Ee(this),this.bindRenderbuffer=new De(this),this.bindTexture=new Oe(this),this.bindVertexBuffer=new ke(this),this.bindElementBuffer=new Ae(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new je(this),this.pixelStoreUnpack=new Me(this),this.pixelStoreUnpackPremultiplyAlpha=new Ne(this),this.pixelStoreUnpackFlipY=new Pe(this),this.extTextureFilterAnisotropic=e.getExtension(`EXT_texture_filter_anisotropic`)||e.getExtension(`MOZ_EXT_texture_filter_anisotropic`)||e.getExtension(`WEBKIT_EXT_texture_filter_anisotropic`),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension(`OES_texture_half_float`),this.extTextureHalfFloat&&(e.getExtension(`OES_texture_half_float_linear`),this.extRenderToTextureHalfFloat=e.getExtension(`EXT_color_buffer_half_float`)),this.extTimerQuery=e.getExtension(`EXT_disjoint_timer_query`),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)};B.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},B.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},B.prototype.createIndexBuffer=function(e,t){return new ne(this,e,t)},B.prototype.createVertexBuffer=function(e,t,n){return new ie(this,e,t,n)},B.prototype.createRenderbuffer=function(e,t,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),i},B.prototype.createFramebuffer=function(e,t,n){return new Re(this,e,t,n)},B.prototype.clear=function(e){var t=e.color,n=e.depth,r=this.gl,i=0;t&&(i|=r.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),n!==void 0&&(i|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),r.clear(i)},B.prototype.setCullFace=function(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))},B.prototype.setDepthMode=function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)},B.prototype.setStencilMode=function(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)},B.prototype.setColorMode=function(t){e.deepEqual(t.blendFunction,Ve.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)},B.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var V=function(t){function n(n,r,i){var a=this;t.call(this),this.id=n,this.dispatcher=i,this.on(`data`,(function(e){e.dataType===`source`&&e.sourceDataType===`metadata`&&(a._sourceLoaded=!0),a._sourceLoaded&&!a._paused&&e.dataType===`source`&&e.sourceDataType===`content`&&(a.reload(),a.transform&&a.update(a.transform))})),this.on(`error`,(function(){a._sourceErrored=!0})),this._source=function(t,n,r,i){var a=new F[n.type](t,n,r,i);if(a.id!==t)throw Error(`Expected Source id to be `+t+` instead of `+a.id);return e.bindAll([`load`,`abort`,`unload`,`serialize`,`prepare`],a),a}(n,r,i,this),this._tiles={},this._cache=new L(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new e.SourceFeatureState}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.onAdd=function(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)},n.prototype.onRemove=function(e){this._source&&this._source.onRemove&&this._source.onRemove(e)},n.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var e in this._tiles){var t=this._tiles[e];if(t.state!==`loaded`&&t.state!==`errored`)return!1}return!0},n.prototype.getSource=function(){return this._source},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}},n.prototype._loadTile=function(e,t){return this._source.loadTile(e,t)},n.prototype._unloadTile=function(e){if(this._source.unloadTile)return this._source.unloadTile(e,(function(){}))},n.prototype._abortTile=function(e){if(this._source.abortTile)return this._source.abortTile(e,(function(){}))},n.prototype.serialize=function(){return this._source.serialize()},n.prototype.prepare=function(e){for(var t in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[t];n.upload(e),n.prepare(this.map.style.imageManager)}},n.prototype.getIds=function(){return e.values(this._tiles).map((function(e){return e.tileID})).sort(Ue).map((function(e){return e.key}))},n.prototype.getRenderableIds=function(t){var n=this,r=[];for(var i in this._tiles)this._isIdRenderable(i,t)&&r.push(this._tiles[i]);return t?r.sort((function(t,r){var i=t.tileID,a=r.tileID,o=new e.Point(i.canonical.x,i.canonical.y)._rotate(n.transform.angle),s=new e.Point(a.canonical.x,a.canonical.y)._rotate(n.transform.angle);return i.overscaledZ-a.overscaledZ||s.y-o.y||s.x-o.x})).map((function(e){return e.tileID.key})):r.map((function(e){return e.tileID})).sort(Ue).map((function(e){return e.key}))},n.prototype.hasRenderableParent=function(e){var t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)},n.prototype._isIdRenderable=function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())},n.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._cache.reset(),this._tiles)this._tiles[e].state!==`errored`&&this._reloadTile(e,`reloading`)},n.prototype._reloadTile=function(e,t){var n=this._tiles[e];n&&(n.state!==`loading`&&(n.state=t),this._loadTile(n,this._tileLoaded.bind(this,n,e,t)))},n.prototype._tileLoaded=function(t,n,r,i){if(i)return t.state=`errored`,void(i.status===404?this.update(this.transform):this._source.fire(new e.ErrorEvent(i,{tile:t})));t.timeAdded=e.browser.now(),r===`expired`&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(n,t),this.getSource().type===`raster-dem`&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new e.Event(`data`,{dataType:`source`,tile:t,coord:t.tileID}))},n.prototype._backfillDEM=function(e){for(var t=this.getRenderableIds(),n=0;n<t.length;n++){var r=t[n];if(e.neighboringTiles&&e.neighboringTiles[r]){var i=this.getTileByID(r);a(e,i),a(i,e)}}function a(e,t){e.needsHillshadePrepare=!0;var n=t.tileID.canonical.x-e.tileID.canonical.x,r=t.tileID.canonical.y-e.tileID.canonical.y,i=2**e.tileID.canonical.z,a=t.tileID.key;n===0&&r===0||Math.abs(r)>1||(Math.abs(n)>1&&(Math.abs(n+i)===1?n+=i:Math.abs(n-i)===1&&(n-=i)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,n,r),e.neighboringTiles&&e.neighboringTiles[a]&&(e.neighboringTiles[a].backfilled=!0)))}},n.prototype.getTile=function(e){return this.getTileByID(e.key)},n.prototype.getTileByID=function(e){return this._tiles[e]},n.prototype._retainLoadedChildren=function(e,t,n,r){for(var i in this._tiles){var a=this._tiles[i];if(!(r[i]||!a.hasData()||a.tileID.overscaledZ<=t||a.tileID.overscaledZ>n)){for(var o=a.tileID;a&&a.tileID.overscaledZ>t+1;){var s=a.tileID.scaledTo(a.tileID.overscaledZ-1);(a=this._tiles[s.key])&&a.hasData()&&(o=s)}for(var c=o;c.overscaledZ>t;)if(e[(c=c.scaledTo(c.overscaledZ-1)).key]){r[o.key]=o;break}}}},n.prototype.findLoadedParent=function(e,t){if(e.key in this._loadedParentTiles){var n=this._loadedParentTiles[e.key];return n&&n.tileID.overscaledZ>=t?n:null}for(var r=e.overscaledZ-1;r>=t;r--){var i=e.scaledTo(r),a=this._getLoadedTile(i);if(a)return a}},n.prototype._getLoadedTile=function(e){var t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(e.wrapped().key)},n.prototype.updateCacheSize=function(e){var t=Math.ceil(e.width/this._source.tileSize)+1,n=Math.ceil(e.height/this._source.tileSize)+1,r=Math.floor(t*n*5),i=typeof this._maxTileCacheSize==`number`?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(i)},n.prototype.handleWrapJump=function(e){var t=Math.round((e-(this._prevLng===void 0?e:this._prevLng))/360);if(this._prevLng=e,t){var n={};for(var r in this._tiles){var i=this._tiles[r];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),n[i.tileID.key]=i}for(var a in this._tiles=n,this._timers)clearTimeout(this._timers[a]),delete this._timers[a];for(var o in this._tiles)this._setTileReloadTimer(o,this._tiles[o])}},n.prototype.update=function(t){var r=this;if(this.transform=t,this._sourceLoaded&&!this._paused){var i;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?i=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(t){return new e.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)})):(i=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(i=i.filter((function(e){return r._source.hasTile(e)})))):i=[];var a=t.coveringZoomLevel(this._source),o=Math.max(a-n.maxOverzooming,this._source.minzoom),s=Math.max(a+n.maxUnderzooming,this._source.minzoom),c=this._updateRetainedTiles(i,a);if(We(this._source.type)){for(var l={},u={},d=0,f=Object.keys(c);d<f.length;d+=1){var p=f[d],m=c[p],h=this._tiles[p];if(h&&!(h.fadeEndTime&&h.fadeEndTime<=e.browser.now())){var g=this.findLoadedParent(m,o);g&&(this._addTile(g.tileID),l[g.tileID.key]=g.tileID),u[p]=m}}for(var _ in this._retainLoadedChildren(u,a,s,c),l)c[_]||(this._coveredTiles[_]=!0,c[_]=l[_])}for(var v in c)this._tiles[v].clearFadeHold();for(var y=0,b=e.keysDifference(this._tiles,c);y<b.length;y+=1){var x=b[y],S=this._tiles[x];S.hasSymbolBuckets&&!S.holdingForFade()?S.setHoldDuration(this.map._fadeDuration):S.hasSymbolBuckets&&!S.symbolFadeFinished()||this._removeTile(x)}this._updateLoadedParentTileCache()}},n.prototype.releaseSymbolFadeTiles=function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)},n.prototype._updateRetainedTiles=function(e,t){for(var r={},i={},a=Math.max(t-n.maxOverzooming,this._source.minzoom),o=Math.max(t+n.maxUnderzooming,this._source.minzoom),s={},c=0,l=e;c<l.length;c+=1){var u=l[c],d=this._addTile(u);r[u.key]=u,d.hasData()||t<this._source.maxzoom&&(s[u.key]=u)}this._retainLoadedChildren(s,t,o,r);for(var f=0,p=e;f<p.length;f+=1){var m=p[f],h=this._tiles[m.key];if(!h.hasData()){if(t+1>this._source.maxzoom){var g=m.children(this._source.maxzoom)[0],_=this.getTile(g);if(_&&_.hasData()){r[g.key]=g;continue}}else{var v=m.children(this._source.maxzoom);if(r[v[0].key]&&r[v[1].key]&&r[v[2].key]&&r[v[3].key])continue}for(var y=h.wasRequested(),b=m.overscaledZ-1;b>=a;--b){var x=m.scaledTo(b);if(i[x.key]||(i[x.key]=!0,!(h=this.getTile(x))&&y&&(h=this._addTile(x)),h&&(r[x.key]=x,y=h.wasRequested(),h.hasData())))break}}}return r},n.prototype._updateLoadedParentTileCache=function(){for(var e in this._loadedParentTiles={},this._tiles){for(var t=[],n=void 0,r=this._tiles[e].tileID;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){n=this._loadedParentTiles[r.key];break}t.push(r.key);var i=r.scaledTo(r.overscaledZ-1);if(n=this._getLoadedTile(i))break;r=i}for(var a=0,o=t;a<o.length;a+=1)this._loadedParentTiles[o[a]]=n}},n.prototype._addTile=function(t){var n=this._tiles[t.key];if(n)return n;(n=this._cache.getAndRemove(t))&&(this._setTileReloadTimer(t.key,n),n.tileID=t,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,n)));var r=!!n;return r||(n=new e.Tile(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,t.key,n.state))),n?(n.uses++,this._tiles[t.key]=n,r||this._source.fire(new e.Event(`dataloading`,{tile:n,coord:n.tileID,dataType:`source`})),n):null},n.prototype._setTileReloadTimer=function(e,t){var n=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var r=t.getExpiryTimeout();r&&(this._timers[e]=setTimeout((function(){n._reloadTile(e,`expired`),delete n._timers[e]}),r))},n.prototype._removeTile=function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&t.state!==`reloading`?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))},n.prototype.clearTiles=function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(e);this._cache.reset()},n.prototype.tilesIn=function(t,n,r){var i=this,a=[],o=this.transform;if(!o)return a;for(var s=r?o.getCameraQueryGeometry(t):t,c=t.map((function(e){return o.pointCoordinate(e)})),l=s.map((function(e){return o.pointCoordinate(e)})),u=this.getIds(),d=1/0,f=1/0,p=-1/0,m=-1/0,h=0,g=l;h<g.length;h+=1){var _=g[h];d=Math.min(d,_.x),f=Math.min(f,_.y),p=Math.max(p,_.x),m=Math.max(m,_.y)}for(var v=function(t){var r=i._tiles[u[t]];if(!r.holdingForFade()){var s=r.tileID,h=2**(o.zoom-r.tileID.overscaledZ),g=n*r.queryPadding*e.EXTENT/r.tileSize/h,_=[s.getTilePoint(new e.MercatorCoordinate(d,f)),s.getTilePoint(new e.MercatorCoordinate(p,m))];if(_[0].x-g<e.EXTENT&&_[0].y-g<e.EXTENT&&_[1].x+g>=0&&_[1].y+g>=0){var v=c.map((function(e){return s.getTilePoint(e)})),y=l.map((function(e){return s.getTilePoint(e)}));a.push({tile:r,tileID:s,queryGeometry:v,cameraQueryGeometry:y,scale:h})}}},y=0;y<u.length;y++)v(y);return a},n.prototype.getVisibleCoordinates=function(e){for(var t=this,n=this.getRenderableIds(e).map((function(e){return t._tiles[e].tileID})),r=0,i=n;r<i.length;r+=1){var a=i[r];a.posMatrix=this.transform.calculatePosMatrix(a.toUnwrapped())}return n},n.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(We(this._source.type))for(var t in this._tiles){var n=this._tiles[t];if(n.fadeEndTime!==void 0&&n.fadeEndTime>=e.browser.now())return!0}return!1},n.prototype.setFeatureState=function(e,t,n){this._state.updateState(e||=`_geojsonTileLayer`,t,n)},n.prototype.removeFeatureState=function(e,t,n){this._state.removeFeatureState(e||=`_geojsonTileLayer`,t,n)},n.prototype.getFeatureState=function(e,t){return this._state.getState(e||=`_geojsonTileLayer`,t)},n.prototype.setDependencies=function(e,t,n){var r=this._tiles[e];r&&r.setDependencies(t,n)},n.prototype.reloadTilesForDependencies=function(e,t){for(var n in this._tiles)this._tiles[n].hasDependency(e,t)&&this._reloadTile(n,`reloading`);this._cache.filter((function(n){return!n.hasDependency(e,t)}))},n}(e.Evented);function Ue(e,t){var n=Math.abs(2*e.wrap)-+(e.wrap<0),r=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||r-n||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function We(e){return e===`raster`||e===`image`||e===`video`}function Ge(){return new e.window.Worker(na.workerUrl)}V.maxOverzooming=10,V.maxUnderzooming=3;var Ke=`mapboxgl_preloaded_worker_pool`,qe=function(){this.active={}};qe.prototype.acquire=function(e){if(!this.workers)for(this.workers=[];this.workers.length<qe.workerCount;)this.workers.push(new Ge);return this.active[e]=!0,this.workers.slice()},qe.prototype.release=function(e){delete this.active[e],this.numActive()===0&&(this.workers.forEach((function(e){e.terminate()})),this.workers=null)},qe.prototype.isPreloaded=function(){return!!this.active[Ke]},qe.prototype.numActive=function(){return Object.keys(this.active).length};var Je,Ye=Math.floor(e.browser.hardwareConcurrency/2);function H(){return Je||=new qe,Je}function Xe(t,n){var r={};for(var i in t)i!==`ref`&&(r[i]=t[i]);return e.refProperties.forEach((function(e){e in n&&(r[e]=n[e])})),r}function Ze(e){e=e.slice();for(var t=Object.create(null),n=0;n<e.length;n++)t[e[n].id]=e[n];for(var r=0;r<e.length;r++)`ref`in e[r]&&(e[r]=Xe(e[r],t[e[r].ref]));return e}qe.workerCount=Math.max(Math.min(Ye,6),1);var Qe={setStyle:`setStyle`,addLayer:`addLayer`,removeLayer:`removeLayer`,setPaintProperty:`setPaintProperty`,setLayoutProperty:`setLayoutProperty`,setFilter:`setFilter`,addSource:`addSource`,removeSource:`removeSource`,setGeoJSONSourceData:`setGeoJSONSourceData`,setLayerZoomRange:`setLayerZoomRange`,setLayerProperty:`setLayerProperty`,setCenter:`setCenter`,setZoom:`setZoom`,setBearing:`setBearing`,setPitch:`setPitch`,setSprite:`setSprite`,setGlyphs:`setGlyphs`,setTransition:`setTransition`,setLight:`setLight`};function $e(e,t,n){n.push({command:Qe.addSource,args:[e,t[e]]})}function et(e,t,n){t.push({command:Qe.removeSource,args:[e]}),n[e]=!0}function tt(e,t,n,r){et(e,n,r),$e(e,t,n)}function nt(t,n,r){for(var i in t[r])if(t[r].hasOwnProperty(i)&&i!==`data`&&!e.deepEqual(t[r][i],n[r][i]))return!1;for(i in n[r])if(n[r].hasOwnProperty(i)&&i!==`data`&&!e.deepEqual(t[r][i],n[r][i]))return!1;return!0}function rt(t,n,r,i,a,o){for(var s in n||={},t||={})t.hasOwnProperty(s)&&(e.deepEqual(t[s],n[s])||r.push({command:o,args:[i,s,n[s],a]}));for(s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(e.deepEqual(t[s],n[s])||r.push({command:o,args:[i,s,n[s],a]}))}function it(e){return e.id}function at(e,t){return e[t.id]=t,e}var ot=function(e,t){this.reset(e,t)};ot.prototype.reset=function(e,t){this.points=e||[],this._distances=[0];for(var n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding},ot.prototype.lerp=function(t){if(this.points.length===1)return this.points[0];t=e.clamp(t,0,1);for(var n=1,r=this._distances[n],i=t*this.paddedLength+this.padding;r<i&&n<this._distances.length;)r=this._distances[++n];var a=n-1,o=this._distances[a],s=r-o,c=s>0?(i-o)/s:0;return this.points[a].mult(1-c).add(this.points[n].mult(c))};var st=function(e,t,n){var r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(e/n),this.yCellCount=Math.ceil(t/n);for(var a=0;a<this.xCellCount*this.yCellCount;a++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0};function ct(t,n,r,i,a){var o=e.create();return n?(e.scale(o,o,[1/a,1/a,1]),r||e.rotateZ(o,o,i.angle)):e.multiply(o,i.labelPlaneMatrix,t),o}function lt(t,n,r,i,a){if(n){var o=e.clone(t);return e.scale(o,o,[a,a,1]),r||e.rotateZ(o,o,-i.angle),o}return i.glCoordMatrix}function ut(t,n){var r=[t.x,t.y,0,1];xt(r,r,n);var i=r[3];return{point:new e.Point(r[0]/i,r[1]/i),signedDistanceFromCamera:i}}function dt(e,t){return .5+e/t*.5}function ft(e,t){var n=e[0]/e[3],r=e[1]/e[3];return n>=-t[0]&&n<=t[0]&&r>=-t[1]&&r<=t[1]}function pt(t,n,r,i,a,o,s,c){var l=i?t.textSizeData:t.iconSizeData,u=e.evaluateSizeForZoom(l,r.transform.zoom),d=[256/r.width*2+1,256/r.height*2+1],f=i?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;f.clear();for(var p=t.lineVertexArray,m=i?t.text.placedSymbolArray:t.icon.placedSymbolArray,h=r.transform.width/r.transform.height,g=!1,_=0;_<m.length;_++){var v=m.get(_);if(v.hidden||v.writingMode===e.WritingMode.vertical&&!g)bt(v.numGlyphs,f);else{g=!1;var y=[v.anchorX,v.anchorY,0,1];if(e.transformMat4(y,y,n),ft(y,d)){var b=dt(r.transform.cameraToCenterDistance,y[3]),x=e.evaluateSizeForFeature(l,u,v),S=s?x/b:x*b,C=new e.Point(v.anchorX,v.anchorY),w=ut(C,a).point,T={},E=gt(v,S,!1,c,n,a,o,t.glyphOffsetArray,p,f,w,C,T,h);g=E.useVertical,(E.notEnoughRoom||g||E.needsFlipping&&gt(v,S,!0,c,n,a,o,t.glyphOffsetArray,p,f,w,C,T,h).notEnoughRoom)&&bt(v.numGlyphs,f)}else bt(v.numGlyphs,f)}}i?t.text.dynamicLayoutVertexBuffer.updateData(f):t.icon.dynamicLayoutVertexBuffer.updateData(f)}function mt(e,t,n,r,i,a,o,s,c,l,u){var d=s.glyphStartIndex+s.numGlyphs,f=s.lineStartIndex,p=s.lineStartIndex+s.lineLength,m=t.getoffsetX(s.glyphStartIndex),h=t.getoffsetX(d-1),g=vt(e*m,n,r,i,a,o,s.segment,f,p,c,l,u);if(!g)return null;var _=vt(e*h,n,r,i,a,o,s.segment,f,p,c,l,u);return _?{first:g,last:_}:null}function ht(t,n,r,i){return t===e.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:(t===e.WritingMode.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function gt(t,n,r,i,a,o,s,c,l,u,d,f,p,m){var h,g=n/24,_=t.lineOffsetX*g,v=t.lineOffsetY*g;if(t.numGlyphs>1){var y=t.glyphStartIndex+t.numGlyphs,b=t.lineStartIndex,x=t.lineStartIndex+t.lineLength,S=mt(g,c,_,v,r,d,f,t,l,o,p);if(!S)return{notEnoughRoom:!0};var C=ut(S.first.point,s).point,w=ut(S.last.point,s).point;if(i&&!r){var T=ht(t.writingMode,C,w,m);if(T)return T}h=[S.first];for(var E=t.glyphStartIndex+1;E<y-1;E++)h.push(vt(g*c.getoffsetX(E),_,v,r,d,f,t.segment,b,x,l,o,p));h.push(S.last)}else{if(i&&!r){var D=ut(f,a).point,O=t.lineStartIndex+t.segment+1,k=new e.Point(l.getx(O),l.gety(O)),A=ut(k,a),j=A.signedDistanceFromCamera>0?A.point:_t(f,k,D,1,a),M=ht(t.writingMode,D,j,m);if(M)return M}var N=vt(g*c.getoffsetX(t.glyphStartIndex),_,v,r,d,f,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,l,o,p);if(!N)return{notEnoughRoom:!0};h=[N]}for(var P=0,F=h;P<F.length;P+=1){var ee=F[P];e.addDynamicAttributes(u,ee.point,ee.angle)}return{}}function _t(e,t,n,r,i){var a=ut(e.add(e.sub(t)._unit()),i).point,o=n.sub(a);return n.add(o._mult(r/o.mag()))}function vt(t,n,r,i,a,o,s,c,l,u,d,f){var p=i?t-n:t+n,m=p>0?1:-1,h=0;i&&(m*=-1,h=Math.PI),m<0&&(h+=Math.PI);for(var g=m>0?c+s:c+s+1,_=a,v=a,y=0,b=0,x=Math.abs(p),S=[];y+b<=x;){if((g+=m)<c||g>=l)return null;if(v=_,S.push(_),(_=f[g])===void 0){var C=new e.Point(u.getx(g),u.gety(g)),w=ut(C,d);if(w.signedDistanceFromCamera>0)_=f[g]=w.point;else{var T=g-m;_=_t(y===0?o:new e.Point(u.getx(T),u.gety(T)),C,v,x-y+1,d)}}y+=b,b=v.dist(_)}var E=(x-y)/b,D=_.sub(v),O=D.mult(E)._add(v);O._add(D._unit()._perp()._mult(r*m));var k=h+Math.atan2(_.y-v.y,_.x-v.x);return S.push(O),{point:O,angle:k,path:S}}st.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},st.prototype.insert=function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},st.prototype.insertCircle=function(e,t,n,r){this._forEachCell(t-r,n-r,t+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(r)},st.prototype._insertBoxCell=function(e,t,n,r,i,a){this.boxCells[i].push(a)},st.prototype._insertCircleCell=function(e,t,n,r,i,a){this.circleCells[i].push(a)},st.prototype._query=function(e,t,n,r,i,a){if(n<0||e>this.width||r<0||t>this.height)return!i&&[];var o=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)o.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var c=0;c<this.circleKeys.length;c++){var l=this.circles[3*c],u=this.circles[3*c+1],d=this.circles[3*c+2];o.push({key:this.circleKeys[c],x1:l-d,y1:u-d,x2:l+d,y2:u+d})}return a?o.filter(a):o}return this._forEachCell(e,t,n,r,this._queryCell,o,{hitTest:i,seenUids:{box:{},circle:{}}},a),i?o.length>0:o},st.prototype._queryCircle=function(e,t,n,r,i){var a=e-n,o=e+n,s=t-n,c=t+n;if(o<0||a>this.width||c<0||s>this.height)return!r&&[];var l=[];return this._forEachCell(a,s,o,c,this._queryCellCircle,l,{hitTest:r,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}},i),r?l.length>0:l},st.prototype.query=function(e,t,n,r,i){return this._query(e,t,n,r,!1,i)},st.prototype.hitTest=function(e,t,n,r,i){return this._query(e,t,n,r,!0,i)},st.prototype.hitTestCircle=function(e,t,n,r){return this._queryCircle(e,t,n,!0,r)},st.prototype._queryCell=function(e,t,n,r,i,a,o,s){var c=o.seenUids,l=this.boxCells[i];if(l!==null)for(var u=this.bboxes,d=0,f=l;d<f.length;d+=1){var p=f[d];if(!c.box[p]){c.box[p]=!0;var m=4*p;if(e<=u[m+2]&&t<=u[m+3]&&n>=u[m+0]&&r>=u[m+1]&&(!s||s(this.boxKeys[p]))){if(o.hitTest)return a.push(!0),!0;a.push({key:this.boxKeys[p],x1:u[m],y1:u[m+1],x2:u[m+2],y2:u[m+3]})}}}var h=this.circleCells[i];if(h!==null)for(var g=this.circles,_=0,v=h;_<v.length;_+=1){var y=v[_];if(!c.circle[y]){c.circle[y]=!0;var b=3*y;if(this._circleAndRectCollide(g[b],g[b+1],g[b+2],e,t,n,r)&&(!s||s(this.circleKeys[y]))){if(o.hitTest)return a.push(!0),!0;var x=g[b],S=g[b+1],C=g[b+2];a.push({key:this.circleKeys[y],x1:x-C,y1:S-C,x2:x+C,y2:S+C})}}}},st.prototype._queryCellCircle=function(e,t,n,r,i,a,o,s){var c=o.circle,l=o.seenUids,u=this.boxCells[i];if(u!==null)for(var d=this.bboxes,f=0,p=u;f<p.length;f+=1){var m=p[f];if(!l.box[m]){l.box[m]=!0;var h=4*m;if(this._circleAndRectCollide(c.x,c.y,c.radius,d[h+0],d[h+1],d[h+2],d[h+3])&&(!s||s(this.boxKeys[m])))return a.push(!0),!0}}var g=this.circleCells[i];if(g!==null)for(var _=this.circles,v=0,y=g;v<y.length;v+=1){var b=y[v];if(!l.circle[b]){l.circle[b]=!0;var x=3*b;if(this._circlesCollide(_[x],_[x+1],_[x+2],c.x,c.y,c.radius)&&(!s||s(this.circleKeys[b])))return a.push(!0),!0}}},st.prototype._forEachCell=function(e,t,n,r,i,a,o,s){for(var c=this._convertToXCellCoord(e),l=this._convertToYCellCoord(t),u=this._convertToXCellCoord(n),d=this._convertToYCellCoord(r),f=c;f<=u;f++)for(var p=l;p<=d;p++)if(i.call(this,e,t,n,r,this.xCellCount*p+f,a,o,s))return},st.prototype._convertToXCellCoord=function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))},st.prototype._convertToYCellCoord=function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))},st.prototype._circlesCollide=function(e,t,n,r,i,a){var o=r-e,s=i-t,c=n+a;return c*c>o*o+s*s},st.prototype._circleAndRectCollide=function(e,t,n,r,i,a,o){var s=(a-r)/2,c=Math.abs(e-(r+s));if(c>s+n)return!1;var l=(o-i)/2,u=Math.abs(t-(i+l));if(u>l+n)return!1;if(c<=s||u<=l)return!0;var d=c-s,f=u-l;return d*d+f*f<=n*n};var yt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function bt(e,t){for(var n=0;n<e;n++){var r=t.length;t.resize(r+4),t.float32.set(yt,3*r)}}function xt(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e[3]=n[3]*r+n[7]*i+n[15],e}var St=function(e,t,n){t===void 0&&(t=new st(e.width+200,e.height+200,25)),n===void 0&&(n=new st(e.width+200,e.height+200,25)),this.transform=e,this.grid=t,this.ignoredGrid=n,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+100,this.screenBottomBoundary=e.height+100,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200};function Ct(t,n,r){return n*(e.EXTENT/(t.tileSize*2**(r-t.tileID.overscaledZ)))}St.prototype.placeCollisionBox=function(e,t,n,r,i){var a=this.projectAndGetPerspectiveRatio(r,e.anchorPointX,e.anchorPointY),o=n*a.perspectiveRatio,s=e.x1*o+a.point.x,c=e.y1*o+a.point.y,l=e.x2*o+a.point.x,u=e.y2*o+a.point.y;return!this.isInsideGrid(s,c,l,u)||!t&&this.grid.hitTest(s,c,l,u,i)?{box:[],offscreen:!1}:{box:[s,c,l,u],offscreen:this.isOffscreen(s,c,l,u)}},St.prototype.placeCollisionCircles=function(t,n,r,i,a,o,s,c,l,u,d,f,p){var m=[],h=new e.Point(n.anchorX,n.anchorY),g=ut(h,o),_=dt(this.transform.cameraToCenterDistance,g.signedDistanceFromCamera),v=(u?a/_:a*_)/e.ONE_EM,y=ut(h,s).point,b=mt(v,i,n.lineOffsetX*v,n.lineOffsetY*v,!1,y,h,n,r,s,{}),x=!1,S=!1,C=!0;if(b){for(var w=.5*f*_+p,T=new e.Point(-100,-100),E=new e.Point(this.screenRightBoundary,this.screenBottomBoundary),D=new ot,O=b.first,k=b.last,A=[],j=O.path.length-1;j>=1;j--)A.push(O.path[j]);for(var M=1;M<k.path.length;M++)A.push(k.path[M]);var N=2.5*w;if(c){var P=A.map((function(e){return ut(e,c)}));A=P.some((function(e){return e.signedDistanceFromCamera<=0}))?[]:P.map((function(e){return e.point}))}var F=[];if(A.length>0){for(var ee=A[0].clone(),I=A[0].clone(),te=1;te<A.length;te++)ee.x=Math.min(ee.x,A[te].x),ee.y=Math.min(ee.y,A[te].y),I.x=Math.max(I.x,A[te].x),I.y=Math.max(I.y,A[te].y);F=ee.x>=T.x&&I.x<=E.x&&ee.y>=T.y&&I.y<=E.y?[A]:I.x<T.x||ee.x>E.x||I.y<T.y||ee.y>E.y?[]:e.clipLine([A],T.x,T.y,E.x,E.y)}for(var L=0,ne=F;L<ne.length;L+=1){var re;D.reset(ne[L],.25*w),re=D.length<=.5*w?1:Math.ceil(D.paddedLength/N)+1;for(var ie=0;ie<re;ie++){var R=ie/Math.max(re-1,1),ae=D.lerp(R),oe=ae.x+100,se=ae.y+100;m.push(oe,se,w,0);var ce=oe-w,le=se-w,ue=oe+w,de=se+w;if(C&&=this.isOffscreen(ce,le,ue,de),S||=this.isInsideGrid(ce,le,ue,de),!t&&this.grid.hitTestCircle(oe,se,w,d)&&(x=!0,!l))return{circles:[],offscreen:!1,collisionDetected:x}}}}return{circles:!l&&x||!S?[]:m,offscreen:C,collisionDetected:x}},St.prototype.queryRenderedSymbols=function(t){if(t.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var n=[],r=1/0,i=1/0,a=-1/0,o=-1/0,s=0,c=t;s<c.length;s+=1){var l=c[s],u=new e.Point(l.x+100,l.y+100);r=Math.min(r,u.x),i=Math.min(i,u.y),a=Math.max(a,u.x),o=Math.max(o,u.y),n.push(u)}for(var d={},f={},p=0,m=this.grid.query(r,i,a,o).concat(this.ignoredGrid.query(r,i,a,o));p<m.length;p+=1){var h=m[p],g=h.key;if(d[g.bucketInstanceId]===void 0&&(d[g.bucketInstanceId]={}),!d[g.bucketInstanceId][g.featureIndex]){var _=[new e.Point(h.x1,h.y1),new e.Point(h.x2,h.y1),new e.Point(h.x2,h.y2),new e.Point(h.x1,h.y2)];e.polygonIntersectsPolygon(n,_)&&(d[g.bucketInstanceId][g.featureIndex]=!0,f[g.bucketInstanceId]===void 0&&(f[g.bucketInstanceId]=[]),f[g.bucketInstanceId].push(g.featureIndex))}}return f},St.prototype.insertCollisionBox=function(e,t,n,r,i){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:r,collisionGroupID:i},e[0],e[1],e[2],e[3])},St.prototype.insertCollisionCircles=function(e,t,n,r,i){for(var a=t?this.ignoredGrid:this.grid,o={bucketInstanceId:n,featureIndex:r,collisionGroupID:i},s=0;s<e.length;s+=4)a.insertCircle(o,e[s],e[s+1],e[s+2])},St.prototype.projectAndGetPerspectiveRatio=function(t,n,r){var i=[n,r,0,1];return xt(i,i,t),{point:new e.Point((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5}},St.prototype.isOffscreen=function(e,t,n,r){return n<100||e>=this.screenRightBoundary||r<100||t>this.screenBottomBoundary},St.prototype.isInsideGrid=function(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary},St.prototype.getViewportMatrix=function(){var t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t};var wt=function(e,t,n,r){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):r&&n?1:0,this.placed=n};wt.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Tt=function(e,t,n,r,i){this.text=new wt(e?e.text:null,t,n,i),this.icon=new wt(e?e.icon:null,t,r,i)};Tt.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Et=function(e,t,n){this.text=e,this.icon=t,this.skipFade=n},Dt=function(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]},Ot=function(e,t,n,r,i){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i},kt=function(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}};function At(t,n,r,i,a){var o=e.getAnchorAlignment(t),s=-(o.horizontalAlign-.5)*n,c=-(o.verticalAlign-.5)*r,l=e.evaluateVariableOffset(t,i);return new e.Point(s+l[0]*a,c+l[1]*a)}function jt(t,n,r,i,a,o){var s=t.x1,c=t.x2,l=t.y1,u=t.y2,d=t.anchorPointX,f=t.anchorPointY,p=new e.Point(n,r);return i&&p._rotate(a?o:-o),{x1:s+p.x,y1:l+p.y,x2:c+p.x,y2:u+p.y,anchorPointX:d,anchorPointY:f}}kt.prototype.get=function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]};var Mt=function(e,t,n,r){this.transform=e.clone(),this.collisionIndex=new St(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new kt(n),this.collisionCircleArrays={},this.prevPlacement=r,r&&(r.prevPlacement=void 0),this.placedOrientations={}};function Nt(e,t,n,r,i){e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0)}Mt.prototype.getBucketParts=function(t,n,r,i){var a=r.getBucket(n),o=r.latestFeatureIndex;if(a&&o&&n.id===a.layerIds[0]){var s=r.collisionBoxArray,c=a.layers[0].layout,l=2**(this.transform.zoom-r.tileID.overscaledZ),u=r.tileSize/e.EXTENT,d=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),f=c.get(`text-pitch-alignment`)===`map`,p=c.get(`text-rotation-alignment`)===`map`,m=Ct(r,1,this.transform.zoom),h=ct(d,f,p,this.transform,m),g=null;if(f){var _=lt(d,f,p,this.transform,m);g=e.multiply([],this.transform.labelPlaneMatrix,_)}this.retainedQueryData[a.bucketInstanceId]=new Ot(a.bucketInstanceId,o,a.sourceLayerIndex,a.index,r.tileID);var v={bucket:a,layout:c,posMatrix:d,textLabelPlaneMatrix:h,labelToScreenMatrix:g,scale:l,textPixelRatio:u,holdingForFade:r.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(a.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(a.sourceID)};if(i)for(var y=0,b=a.sortKeyRanges;y<b.length;y+=1){var x=b[y];t.push({sortKey:x.sortKey,symbolInstanceStart:x.symbolInstanceStart,symbolInstanceEnd:x.symbolInstanceEnd,parameters:v})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:a.symbolInstances.length,parameters:v})}},Mt.prototype.attemptAnchorPlacement=function(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m){var h,g=[d.textOffset0,d.textOffset1],_=At(e,n,r,g,i),v=this.collisionIndex.placeCollisionBox(jt(t,_.x,_.y,a,o,this.transform.angle),u,s,c,l.predicate);if(!m||this.collisionIndex.placeCollisionBox(jt(m,_.x,_.y,a,o,this.transform.angle),u,s,c,l.predicate).box.length!==0)return v.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID].text&&(h=this.prevPlacement.variableOffsets[d.crossTileID].anchor),this.variableOffsets[d.crossTileID]={textOffset:g,width:n,height:r,anchor:e,textBoxScale:i,prevAnchor:h},this.markUsedJustification(f,e,d,p),f.allowVerticalPlacement&&(this.markUsedOrientation(f,p,d),this.placedOrientations[d.crossTileID]=p),{shift:_,placedGlyphBoxes:v}):void 0},Mt.prototype.placeLayerBucketPart=function(t,n,r){var i=this,a=t.parameters,o=a.bucket,s=a.layout,c=a.posMatrix,l=a.textLabelPlaneMatrix,u=a.labelToScreenMatrix,d=a.textPixelRatio,f=a.holdingForFade,p=a.collisionBoxArray,m=a.partiallyEvaluatedTextSize,h=a.collisionGroup,g=s.get(`text-optional`),_=s.get(`icon-optional`),v=s.get(`text-allow-overlap`),y=s.get(`icon-allow-overlap`),b=s.get(`text-rotation-alignment`)===`map`,x=s.get(`text-pitch-alignment`)===`map`,S=s.get(`icon-text-fit`)!==`none`,C=s.get(`symbol-z-order`)===`viewport-y`,w=v&&(y||!o.hasIconData()||_),T=y&&(v||!o.hasTextData()||g);!o.collisionArrays&&p&&o.deserializeCollisionBoxes(p);var E=function(t,a){if(!n[t.crossTileID])if(f)i.placements[t.crossTileID]=new Et(!1,!1,!1);else{var p,C=!1,E=!1,D=!0,O=null,k={box:null,offscreen:null},A={box:null,offscreen:null},j=null,M=null,N=0,P=0,F=0;a.textFeatureIndex?N=a.textFeatureIndex:t.useRuntimeCollisionCircles&&(N=t.featureIndex),a.verticalTextFeatureIndex&&(P=a.verticalTextFeatureIndex);var ee=a.textBox;if(ee){var I=function(n){var r=e.WritingMode.horizontal;if(o.allowVerticalPlacement&&!n&&i.prevPlacement){var a=i.prevPlacement.placedOrientations[t.crossTileID];a&&(i.placedOrientations[t.crossTileID]=a,i.markUsedOrientation(o,r=a,t))}return r},te=function(n,r){if(o.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&a.verticalTextBox)for(var i=0,s=o.writingModes;i<s.length&&(s[i]===e.WritingMode.vertical?(k=r(),A=k):k=n(),!(k&&k.box&&k.box.length));i+=1);else k=n()};if(s.get(`text-variable-anchor`)){var L=s.get(`text-variable-anchor`);if(i.prevPlacement&&i.prevPlacement.variableOffsets[t.crossTileID]){var ne=i.prevPlacement.variableOffsets[t.crossTileID];L.indexOf(ne.anchor)>0&&(L=L.filter((function(e){return e!==ne.anchor}))).unshift(ne.anchor)}var re=function(e,n,r){for(var a=e.x2-e.x1,s=e.y2-e.y1,l=t.textBoxScale,u=S&&!y?n:null,f={box:[],offscreen:!1},p=v?2*L.length:L.length,m=0;m<p;++m){var g=i.attemptAnchorPlacement(L[m%L.length],e,a,s,l,b,x,d,c,h,m>=L.length,t,o,r,u);if(g&&(f=g.placedGlyphBoxes)&&f.box&&f.box.length){C=!0,O=g.shift;break}}return f};te((function(){return re(ee,a.iconBox,e.WritingMode.horizontal)}),(function(){var n=a.verticalTextBox;return o.allowVerticalPlacement&&!(k&&k.box&&k.box.length)&&t.numVerticalGlyphVertices>0&&n?re(n,a.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null}})),k&&(C=k.box,D=k.offscreen);var ie=I(k&&k.box);if(!C&&i.prevPlacement){var R=i.prevPlacement.variableOffsets[t.crossTileID];R&&(i.variableOffsets[t.crossTileID]=R,i.markUsedJustification(o,R.anchor,t,ie))}}else{var ae=function(e,n){var r=i.collisionIndex.placeCollisionBox(e,v,d,c,h.predicate);return r&&r.box&&r.box.length&&(i.markUsedOrientation(o,n,t),i.placedOrientations[t.crossTileID]=n),r};te((function(){return ae(ee,e.WritingMode.horizontal)}),(function(){var n=a.verticalTextBox;return o.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&n?ae(n,e.WritingMode.vertical):{box:null,offscreen:null}})),I(k&&k.box&&k.box.length)}}if(C=(p=k)&&p.box&&p.box.length>0,D=p&&p.offscreen,t.useRuntimeCollisionCircles){var oe=o.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex),se=e.evaluateSizeForFeature(o.textSizeData,m,oe),ce=s.get(`text-padding`);j=i.collisionIndex.placeCollisionCircles(v,oe,o.lineVertexArray,o.glyphOffsetArray,se,c,l,u,r,x,h.predicate,t.collisionCircleDiameter,ce),C=v||j.circles.length>0&&!j.collisionDetected,D&&=j.offscreen}if(a.iconFeatureIndex&&(F=a.iconFeatureIndex),a.iconBox){var le=function(e){var t=S&&O?jt(e,O.x,O.y,b,x,i.transform.angle):e;return i.collisionIndex.placeCollisionBox(t,y,d,c,h.predicate)};E=A&&A.box&&A.box.length&&a.verticalIconBox?(M=le(a.verticalIconBox)).box.length>0:(M=le(a.iconBox)).box.length>0,D&&=M.offscreen}var ue=g||t.numHorizontalGlyphVertices===0&&t.numVerticalGlyphVertices===0,de=_||t.numIconVertices===0;if(ue||de?de?ue||(E&&=C):C=E&&C:E=C=E&&C,C&&p&&p.box&&i.collisionIndex.insertCollisionBox(p.box,s.get(`text-ignore-placement`),o.bucketInstanceId,A&&A.box&&P?P:N,h.ID),E&&M&&i.collisionIndex.insertCollisionBox(M.box,s.get(`icon-ignore-placement`),o.bucketInstanceId,F,h.ID),j&&(C&&i.collisionIndex.insertCollisionCircles(j.circles,s.get(`text-ignore-placement`),o.bucketInstanceId,N,h.ID),r)){var fe=o.bucketInstanceId,pe=i.collisionCircleArrays[fe];pe===void 0&&(pe=i.collisionCircleArrays[fe]=new Dt);for(var me=0;me<j.circles.length;me+=4)pe.circles.push(j.circles[me+0]),pe.circles.push(j.circles[me+1]),pe.circles.push(j.circles[me+2]),pe.circles.push(j.collisionDetected?1:0)}i.placements[t.crossTileID]=new Et(C||w,E||T,D||o.justReloaded),n[t.crossTileID]=!0}};if(C)for(var D=o.getSortedSymbolIndexes(this.transform.angle),O=D.length-1;O>=0;--O){var k=D[O];E(o.symbolInstances.get(k),o.collisionArrays[k])}else for(var A=t.symbolInstanceStart;A<t.symbolInstanceEnd;A++)E(o.symbolInstances.get(A),o.collisionArrays[A]);if(r&&o.bucketInstanceId in this.collisionCircleArrays){var j=this.collisionCircleArrays[o.bucketInstanceId];e.invert(j.invProjMatrix,c),j.viewportMatrix=this.collisionIndex.getViewportMatrix()}o.justReloaded=!1},Mt.prototype.markUsedJustification=function(t,n,r,i){for(var a=i===e.WritingMode.vertical?r.verticalPlacedTextSymbolIndex:{left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(n)],o=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex];o<s.length;o+=1){var c=s[o];c>=0&&(t.text.placedSymbolArray.get(c).crossTileID=a>=0&&c!==a?0:r.crossTileID)}},Mt.prototype.markUsedOrientation=function(t,n,r){for(var i=n===e.WritingMode.horizontal||n===e.WritingMode.horizontalOnly?n:0,a=n===e.WritingMode.vertical?n:0,o=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex];o<s.length;o+=1)t.text.placedSymbolArray.get(s[o]).placedOrientation=i;r.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=a)},Mt.prototype.commit=function(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;var t=this.prevPlacement,n=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;var r=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},a=t?t.variableOffsets:{},o=t?t.placedOrientations:{};for(var s in this.placements){var c=this.placements[s],l=i[s];l?(this.opacities[s]=new Tt(l,r,c.text,c.icon),n=n||c.text!==l.text.placed||c.icon!==l.icon.placed):(this.opacities[s]=new Tt(null,r,c.text,c.icon,c.skipFade),n=n||c.text||c.icon)}for(var u in i){var d=i[u];if(!this.opacities[u]){var f=new Tt(d,r,!1,!1);f.isHidden()||(this.opacities[u]=f,n=n||d.text.placed||d.icon.placed)}}for(var p in a)this.variableOffsets[p]||!this.opacities[p]||this.opacities[p].isHidden()||(this.variableOffsets[p]=a[p]);for(var m in o)this.placedOrientations[m]||!this.opacities[m]||this.opacities[m].isHidden()||(this.placedOrientations[m]=o[m]);n?this.lastPlacementChangeTime=e:typeof this.lastPlacementChangeTime!=`number`&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},Mt.prototype.updateLayerOpacities=function(e,t){for(var n={},r=0,i=t;r<i.length;r+=1){var a=i[r],o=a.getBucket(e);o&&a.latestFeatureIndex&&e.id===o.layerIds[0]&&this.updateBucketOpacities(o,n,a.collisionBoxArray)}},Mt.prototype.updateBucketOpacities=function(t,n,r){var i=this;t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();var a=t.layers[0].layout,o=new Tt(null,0,!1,!1,!0),s=a.get(`text-allow-overlap`),c=a.get(`icon-allow-overlap`),l=a.get(`text-variable-anchor`),u=a.get(`text-rotation-alignment`)===`map`,d=a.get(`text-pitch-alignment`)===`map`,f=a.get(`icon-text-fit`)!==`none`,p=new Tt(null,0,s&&(c||!t.hasIconData()||a.get(`icon-optional`)),c&&(s||!t.hasTextData()||a.get(`text-optional`)),!0);!t.collisionArrays&&r&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(r);for(var m=function(e,t,n){for(var r=0;r<t/4;r++)e.opacityVertexArray.emplaceBack(n)},h=function(r){var a=t.symbolInstances.get(r),s=a.numHorizontalGlyphVertices,c=a.numVerticalGlyphVertices,h=a.crossTileID,g=i.opacities[h];n[h]?g=o:g||(i.opacities[h]=g=p),n[h]=!0;var _=a.numIconVertices>0,v=i.placedOrientations[a.crossTileID],y=v===e.WritingMode.vertical,b=v===e.WritingMode.horizontal||v===e.WritingMode.horizontalOnly;if(s>0||c>0){var x=Vt(g.text);m(t.text,s,y?Ht:x),m(t.text,c,b?Ht:x);var S=g.text.isHidden();[a.rightJustifiedTextSymbolIndex,a.centerJustifiedTextSymbolIndex,a.leftJustifiedTextSymbolIndex].forEach((function(e){e>=0&&(t.text.placedSymbolArray.get(e).hidden=S||y?1:0)})),a.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(a.verticalPlacedTextSymbolIndex).hidden=S||b?1:0);var C=i.variableOffsets[a.crossTileID];C&&i.markUsedJustification(t,C.anchor,a,v);var w=i.placedOrientations[a.crossTileID];w&&(i.markUsedJustification(t,`left`,a,w),i.markUsedOrientation(t,w,a))}if(_){var T=Vt(g.icon),E=!(f&&a.verticalPlacedIconSymbolIndex&&y);a.placedIconSymbolIndex>=0&&(m(t.icon,a.numIconVertices,E?T:Ht),t.icon.placedSymbolArray.get(a.placedIconSymbolIndex).hidden=g.icon.isHidden()),a.verticalPlacedIconSymbolIndex>=0&&(m(t.icon,a.numVerticalIconVertices,E?Ht:T),t.icon.placedSymbolArray.get(a.verticalPlacedIconSymbolIndex).hidden=g.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){var D=t.collisionArrays[r];if(D){var O=new e.Point(0,0);if(D.textBox||D.verticalTextBox){var k=!0;if(l){var A=i.variableOffsets[h];A?(O=At(A.anchor,A.width,A.height,A.textOffset,A.textBoxScale),u&&O._rotate(d?i.transform.angle:-i.transform.angle)):k=!1}D.textBox&&Nt(t.textCollisionBox.collisionVertexArray,g.text.placed,!k||y,O.x,O.y),D.verticalTextBox&&Nt(t.textCollisionBox.collisionVertexArray,g.text.placed,!k||b,O.x,O.y)}var j=!!(!b&&D.verticalIconBox);D.iconBox&&Nt(t.iconCollisionBox.collisionVertexArray,g.icon.placed,j,f?O.x:0,f?O.y:0),D.verticalIconBox&&Nt(t.iconCollisionBox.collisionVertexArray,g.icon.placed,!j,f?O.x:0,f?O.y:0)}}},g=0;g<t.symbolInstances.length;g++)h(g);if(t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){var _=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=_.invProjMatrix,t.placementViewportMatrix=_.viewportMatrix,t.collisionCircleArray=_.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}},Mt.prototype.symbolFadeChange=function(e){return this.fadeDuration===0?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Mt.prototype.zoomAdjustment=function(e){return Math.max(0,(this.transform.zoom-e)/1.5)},Mt.prototype.hasTransitions=function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration},Mt.prototype.stillRecent=function(e,t){var n=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*n>e},Mt.prototype.setStale=function(){this.stale=!0};var Pt=2**25,Ft=2**24,It=2**17,Lt=2**16,Rt=2**9,zt=2**8,Bt=2**1;function Vt(e){if(e.opacity===0&&!e.placed)return 0;if(e.opacity===1&&e.placed)return 4294967295;var t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*Pt+t*Ft+n*It+t*Lt+n*Rt+t*zt+n*Bt+t}var Ht=0,Ut=function(e){this._sortAcrossTiles=e.layout.get(`symbol-z-order`)!==`viewport-y`&&e.layout.get(`symbol-sort-key`).constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Ut.prototype.continuePlacement=function(e,t,n,r,i){for(var a=this._bucketParts;this._currentTileIndex<e.length;)if(t.getBucketParts(a,r,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,a.sort((function(e,t){return e.sortKey-t.sortKey})));this._currentPartIndex<a.length;)if(t.placeLayerBucketPart(a[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,i())return!0;return!1};var Wt=function(e,t,n,r,i,a,o){this.placement=new Mt(e,i,a,o),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1};Wt.prototype.isDone=function(){return this._done},Wt.prototype.continuePlacement=function(t,n,r){for(var i=this,a=e.browser.now(),o=function(){var t=e.browser.now()-a;return!i._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=n[t[this._currentPlacementIndex]],c=this.placement.collisionIndex.transform.zoom;if(s.type===`symbol`&&(!s.minzoom||s.minzoom<=c)&&(!s.maxzoom||s.maxzoom>c)){if(this._inProgressLayer||=new Ut(s),this._inProgressLayer.continuePlacement(r[s.source],this.placement,this._showCollisionBoxes,s,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Wt.prototype.commit=function(e){return this.placement.commit(e),this.placement};var Gt=512/e.EXTENT/2,Kt=function(e,t,n){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var r=0;r<t.length;r++){var i=t.get(r),a=i.key;this.indexedSymbolInstances[a]||(this.indexedSymbolInstances[a]=[]),this.indexedSymbolInstances[a].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,e)})}};Kt.prototype.getScaledCoordinates=function(t,n){var r=Gt/2**(n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*e.EXTENT+t.anchorX)*r),y:Math.floor((n.canonical.y*e.EXTENT+t.anchorY)*r)}},Kt.prototype.findMatches=function(e,t,n){for(var r=this.tileID.canonical.z<t.canonical.z?1:2**(this.tileID.canonical.z-t.canonical.z),i=0;i<e.length;i++){var a=e.get(i);if(!a.crossTileID){var o=this.indexedSymbolInstances[a.key];if(o)for(var s=this.getScaledCoordinates(a,t),c=0,l=o;c<l.length;c+=1){var u=l[c];if(Math.abs(u.coord.x-s.x)<=r&&Math.abs(u.coord.y-s.y)<=r&&!n[u.crossTileID]){n[u.crossTileID]=!0,a.crossTileID=u.crossTileID;break}}}}};var qt=function(){this.maxCrossTileID=0};qt.prototype.generate=function(){return++this.maxCrossTileID};var Jt=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Jt.prototype.handleWrapJump=function(e){var t=Math.round((e-this.lng)/360);if(t!==0)for(var n in this.indexes){var r=this.indexes[n],i={};for(var a in r){var o=r[a];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+t),i[o.tileID.key]=o}this.indexes[n]=i}this.lng=e},Jt.prototype.addBucket=function(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var r=0;r<t.symbolInstances.length;r++)t.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var i=this.usedCrossTileIDs[e.overscaledZ];for(var a in this.indexes){var o=this.indexes[a];if(Number(a)>e.overscaledZ)for(var s in o){var c=o[s];c.tileID.isChildOf(e)&&c.findMatches(t.symbolInstances,e,i)}else{var l=o[e.scaledTo(Number(a)).key];l&&l.findMatches(t.symbolInstances,e,i)}}for(var u=0;u<t.symbolInstances.length;u++){var d=t.symbolInstances.get(u);d.crossTileID||(d.crossTileID=n.generate(),i[d.crossTileID]=!0)}return this.indexes[e.overscaledZ]===void 0&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Kt(e,t.symbolInstances,t.bucketInstanceId),!0},Jt.prototype.removeBucketCrossTileIDs=function(e,t){for(var n in t.indexedSymbolInstances)for(var r=0,i=t.indexedSymbolInstances[n];r<i.length;r+=1)delete this.usedCrossTileIDs[e][i[r].crossTileID]},Jt.prototype.removeStaleBuckets=function(e){var t=!1;for(var n in this.indexes){var r=this.indexes[n];for(var i in r)e[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],t=!0)}return t};var Yt=function(){this.layerIndexes={},this.crossTileIDs=new qt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Yt.prototype.addLayer=function(e,t,n){var r=this.layerIndexes[e.id];r===void 0&&(r=this.layerIndexes[e.id]=new Jt);var i=!1,a={};r.handleWrapJump(n);for(var o=0,s=t;o<s.length;o+=1){var c=s[o],l=c.getBucket(e);l&&e.id===l.layerIds[0]&&(l.bucketInstanceId||=++this.maxBucketInstanceId,r.addBucket(c.tileID,l,this.crossTileIDs)&&(i=!0),a[l.bucketInstanceId]=!0)}return r.removeStaleBuckets(a)&&(i=!0),i},Yt.prototype.pruneUnusedLayers=function(e){var t={};for(var n in e.forEach((function(e){t[e]=!0})),this.layerIndexes)t[n]||delete this.layerIndexes[n]};var Xt=function(t,n){return e.emitValidationErrors(t,n&&n.filter((function(e){return e.identifier!==`source.canvas`})))},Zt=e.pick(Qe,[`addLayer`,`removeLayer`,`setPaintProperty`,`setLayoutProperty`,`setFilter`,`addSource`,`removeSource`,`setLayerZoomRange`,`setLight`,`setTransition`,`setGeoJSONSourceData`]),Qt=e.pick(Qe,[`setCenter`,`setZoom`,`setBearing`,`setPitch`]),$t=function(){var t={},n=e.styleSpec.$version;for(var r in e.styleSpec.$root){var i,a=e.styleSpec.$root[r];a.required&&(i=r===`version`?n:a.type===`array`?[]:{})!=null&&(t[r]=i)}return t}(),en=function(t){function n(r,i){var a=this;i===void 0&&(i={}),t.call(this),this.map=r,this.dispatcher=new w(H(),this),this.imageManager=new f,this.imageManager.setEventedParent(this),this.glyphManager=new y(r._requestManager,i.localIdeographFontFamily),this.lineAtlas=new C(256,512),this.crossTileSymbolIndex=new Yt,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast(`setReferrer`,e.getReferrer());var o=this;this._rtlTextPluginCallback=n.registerForPluginStateChange((function(t){o.dispatcher.broadcast(`syncRTLPluginState`,{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},(function(t,n){if(e.triggerPluginCompletionEvent(t),n&&n.every((function(e){return e})))for(var r in o.sourceCaches)o.sourceCaches[r].reload()}))})),this.on(`data`,(function(e){if(e.dataType===`source`&&e.sourceDataType===`metadata`){var t=a.sourceCaches[e.sourceId];if(t){var n=t.getSource();if(n&&n.vectorLayerIds)for(var r in a._layers){var i=a._layers[r];i.source===n.id&&a._validateLayer(i)}}}}))}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.loadURL=function(t,n){var r=this;n===void 0&&(n={}),this.fire(new e.Event(`dataloading`,{dataType:`style`}));var i=typeof n.validate==`boolean`?n.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,n.accessToken);var a=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(a,(function(t,n){r._request=null,t?r.fire(new e.ErrorEvent(t)):n&&r._load(n,i)}))},n.prototype.loadJSON=function(t,n){var r=this;n===void 0&&(n={}),this.fire(new e.Event(`dataloading`,{dataType:`style`})),this._request=e.browser.frame((function(){r._request=null,r._load(t,!1!==n.validate)}))},n.prototype.loadEmpty=function(){this.fire(new e.Event(`dataloading`,{dataType:`style`})),this._load($t,!1)},n.prototype._load=function(t,n){if(!n||!Xt(this,e.validateStyle(t))){for(var r in this._loaded=!0,this.stylesheet=t,t.sources)this.addSource(r,t.sources[r],{validate:!1});t.sprite?this._loadSprite(t.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var i=Ze(this.stylesheet.layers);this._order=i.map((function(e){return e.id})),this._layers={},this._serializedLayers={};for(var a=0,o=i;a<o.length;a+=1){var s=o[a];(s=e.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize()}this.dispatcher.broadcast(`setLayers`,this._serializeLayers(this._order)),this.light=new S(this.stylesheet.light),this.fire(new e.Event(`data`,{dataType:`style`})),this.fire(new e.Event(`style.load`))}},n.prototype._loadSprite=function(t){var n=this;this._spriteRequest=function(t,n,r){var i,a,o,s=e.browser.devicePixelRatio>1?`@2x`:``,c=e.getJSON(n.transformRequest(n.normalizeSpriteURL(t,s,`.json`),e.ResourceType.SpriteJSON),(function(e,t){c=null,o||(o=e,i=t,u())})),l=e.getImage(n.transformRequest(n.normalizeSpriteURL(t,s,`.png`),e.ResourceType.SpriteImage),(function(e,t){l=null,o||(o=e,a=t,u())}));function u(){if(o)r(o);else if(i&&a){var t=e.browser.getImageData(a),n={};for(var s in i){var c=i[s],l=c.width,u=c.height,d=c.x,f=c.y,p=c.sdf,m=c.pixelRatio,h=c.stretchX,g=c.stretchY,_=c.content,v=new e.RGBAImage({width:l,height:u});e.RGBAImage.copy(t,v,{x:d,y:f},{x:0,y:0},{width:l,height:u}),n[s]={data:v,pixelRatio:m,sdf:p,stretchX:h,stretchY:g,content:_}}r(null,n)}}return{cancel:function(){c&&=(c.cancel(),null),l&&=(l.cancel(),null)}}}(t,this.map._requestManager,(function(t,r){if(n._spriteRequest=null,t)n.fire(new e.ErrorEvent(t));else if(r)for(var i in r)n.imageManager.addImage(i,r[i]);n.imageManager.setLoaded(!0),n._availableImages=n.imageManager.listImages(),n.dispatcher.broadcast(`setImages`,n._availableImages),n.fire(new e.Event(`data`,{dataType:`style`}))}))},n.prototype._validateLayer=function(t){var n=this.sourceCaches[t.source];if(n){var r=t.sourceLayer;if(r){var i=n.getSource();(i.type===`geojson`||i.vectorLayerIds&&i.vectorLayerIds.indexOf(r)===-1)&&this.fire(new e.ErrorEvent(Error(`Source layer "`+r+`" does not exist on source "`+i.id+`" as specified by style layer "`+t.id+`"`)))}}},n.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},n.prototype._serializeLayers=function(e){for(var t=[],n=0,r=e;n<r.length;n+=1){var i=this._layers[r[n]];i.type!==`custom`&&t.push(i.serialize())}return t},n.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1},n.prototype._checkLoaded=function(){if(!this._loaded)throw Error(`Style is not done loading`)},n.prototype.update=function(t){if(this._loaded){var n=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var a in(r.length||i.length)&&this._updateWorkerLayers(r,i),this._updatedSources){var o=this._updatedSources[a];o===`reload`?this._reloadSource(a):o===`clear`&&this._clearSource(a)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}var c={};for(var l in this.sourceCaches){var u=this.sourceCaches[l];c[l]=u.used,u.used=!1}for(var d=0,f=this._order;d<f.length;d+=1){var p=this._layers[f[d]];p.recalculate(t,this._availableImages),!p.isHidden(t.zoom)&&p.source&&(this.sourceCaches[p.source].used=!0)}for(var m in c){var h=this.sourceCaches[m];c[m]!==h.used&&h.fire(new e.Event(`data`,{sourceDataType:`visibility`,dataType:`source`,sourceId:m}))}this.light.recalculate(t),this.z=t.zoom,n&&this.fire(new e.Event(`data`,{dataType:`style`}))}},n.prototype._updateTilesForChangedImages=function(){var e=Object.keys(this._changedImages);if(e.length){for(var t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies([`icons`,`patterns`],e);this._changedImages={}}},n.prototype._updateWorkerLayers=function(e,t){this.dispatcher.broadcast(`updateLayers`,{layers:this._serializeLayers(e),removedIds:t})},n.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},n.prototype.setState=function(t){var n=this;if(this._checkLoaded(),Xt(this,e.validateStyle(t)))return!1;(t=e.clone$1(t)).layers=Ze(t.layers);var r=function(t,n){if(!t)return[{command:Qe.setStyle,args:[n]}];var r=[];try{if(!e.deepEqual(t.version,n.version))return[{command:Qe.setStyle,args:[n]}];e.deepEqual(t.center,n.center)||r.push({command:Qe.setCenter,args:[n.center]}),e.deepEqual(t.zoom,n.zoom)||r.push({command:Qe.setZoom,args:[n.zoom]}),e.deepEqual(t.bearing,n.bearing)||r.push({command:Qe.setBearing,args:[n.bearing]}),e.deepEqual(t.pitch,n.pitch)||r.push({command:Qe.setPitch,args:[n.pitch]}),e.deepEqual(t.sprite,n.sprite)||r.push({command:Qe.setSprite,args:[n.sprite]}),e.deepEqual(t.glyphs,n.glyphs)||r.push({command:Qe.setGlyphs,args:[n.glyphs]}),e.deepEqual(t.transition,n.transition)||r.push({command:Qe.setTransition,args:[n.transition]}),e.deepEqual(t.light,n.light)||r.push({command:Qe.setLight,args:[n.light]});var i={},a=[];(function(t,n,r,i){for(var a in n||={},t||={})t.hasOwnProperty(a)&&(n.hasOwnProperty(a)||et(a,r,i));for(a in n)n.hasOwnProperty(a)&&(t.hasOwnProperty(a)?e.deepEqual(t[a],n[a])||(t[a].type===`geojson`&&n[a].type===`geojson`&&nt(t,n,a)?r.push({command:Qe.setGeoJSONSourceData,args:[a,n[a].data]}):tt(a,n,r,i)):$e(a,n,r))})(t.sources,n.sources,a,i);var o=[];t.layers&&t.layers.forEach((function(e){i[e.source]?r.push({command:Qe.removeLayer,args:[e.id]}):o.push(e)})),r=r.concat(a),function(t,n,r){n||=[];var i,a,o,s,c,l,u,d=(t||=[]).map(it),f=n.map(it),p=t.reduce(at,{}),m=n.reduce(at,{}),h=d.slice(),g=Object.create(null);for(i=0,a=0;i<d.length;i++)m.hasOwnProperty(o=d[i])?a++:(r.push({command:Qe.removeLayer,args:[o]}),h.splice(h.indexOf(o,a),1));for(i=0,a=0;i<f.length;i++)h[h.length-1-i]!==(o=f[f.length-1-i])&&(p.hasOwnProperty(o)?(r.push({command:Qe.removeLayer,args:[o]}),h.splice(h.lastIndexOf(o,h.length-a),1)):a++,r.push({command:Qe.addLayer,args:[m[o],l=h[h.length-i]]}),h.splice(h.length-i,0,o),g[o]=!0);for(i=0;i<f.length;i++)if(s=p[o=f[i]],c=m[o],!g[o]&&!e.deepEqual(s,c))if(e.deepEqual(s.source,c.source)&&e.deepEqual(s[`source-layer`],c[`source-layer`])&&e.deepEqual(s.type,c.type)){for(u in rt(s.layout,c.layout,r,o,null,Qe.setLayoutProperty),rt(s.paint,c.paint,r,o,null,Qe.setPaintProperty),e.deepEqual(s.filter,c.filter)||r.push({command:Qe.setFilter,args:[o,c.filter]}),e.deepEqual(s.minzoom,c.minzoom)&&e.deepEqual(s.maxzoom,c.maxzoom)||r.push({command:Qe.setLayerZoomRange,args:[o,c.minzoom,c.maxzoom]}),s)s.hasOwnProperty(u)&&u!==`layout`&&u!==`paint`&&u!==`filter`&&u!==`metadata`&&u!==`minzoom`&&u!==`maxzoom`&&(u.indexOf(`paint.`)===0?rt(s[u],c[u],r,o,u.slice(6),Qe.setPaintProperty):e.deepEqual(s[u],c[u])||r.push({command:Qe.setLayerProperty,args:[o,u,c[u]]}));for(u in c)c.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&u!==`layout`&&u!==`paint`&&u!==`filter`&&u!==`metadata`&&u!==`minzoom`&&u!==`maxzoom`&&(u.indexOf(`paint.`)===0?rt(s[u],c[u],r,o,u.slice(6),Qe.setPaintProperty):e.deepEqual(s[u],c[u])||r.push({command:Qe.setLayerProperty,args:[o,u,c[u]]}))}else r.push({command:Qe.removeLayer,args:[o]}),l=h[h.lastIndexOf(o)+1],r.push({command:Qe.addLayer,args:[c,l]})}(o,n.layers,r)}catch(e){console.warn(`Unable to compute style diff:`,e),r=[{command:Qe.setStyle,args:[n]}]}return r}(this.serialize(),t).filter((function(e){return!(e.command in Qt)}));if(r.length===0)return!1;var i=r.filter((function(e){return!(e.command in Zt)}));if(i.length>0)throw Error(`Unimplemented: `+i.map((function(e){return e.command})).join(`, `)+`.`);return r.forEach((function(e){e.command!==`setTransition`&&n[e.command].apply(n,e.args)})),this.stylesheet=t,!0},n.prototype.addImage=function(t,n){if(this.getImage(t))return this.fire(new e.ErrorEvent(Error(`An image with this name already exists.`)));this.imageManager.addImage(t,n),this._afterImageUpdated(t)},n.prototype.updateImage=function(e,t){this.imageManager.updateImage(e,t)},n.prototype.getImage=function(e){return this.imageManager.getImage(e)},n.prototype.removeImage=function(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(Error(`No image with this name exists.`)));this.imageManager.removeImage(t),this._afterImageUpdated(t)},n.prototype._afterImageUpdated=function(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast(`setImages`,this._availableImages),this.fire(new e.Event(`data`,{dataType:`style`}))},n.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},n.prototype.addSource=function(t,n,r){var i=this;if(r===void 0&&(r={}),this._checkLoaded(),this.sourceCaches[t]!==void 0)throw Error(`There is already a source with this ID`);if(!n.type)throw Error(`The type property must be defined, but only the following properties were given: `+Object.keys(n).join(`, `)+`.`);if(!([`vector`,`raster`,`geojson`,`video`,`image`].indexOf(n.type)>=0&&this._validate(e.validateStyle.source,`sources.`+t,n,null,r))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var a=this.sourceCaches[t]=new V(t,n,this.dispatcher);a.style=this,a.setEventedParent(this,(function(){return{isSourceLoaded:i.loaded(),source:a.serialize(),sourceId:t}})),a.onAdd(this.map),this._changed=!0}},n.prototype.removeSource=function(t){if(this._checkLoaded(),this.sourceCaches[t]===void 0)throw Error(`There is no source with this ID`);for(var n in this._layers)if(this._layers[n].source===t)return this.fire(new e.ErrorEvent(Error(`Source "`+t+`" cannot be removed while layer "`+n+`" is using it.`)));var r=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],r.fire(new e.Event(`data`,{sourceDataType:`metadata`,dataType:`source`,sourceId:t})),r.setEventedParent(null),r.clearTiles(),r.onRemove&&r.onRemove(this.map),this._changed=!0},n.prototype.setGeoJSONSourceData=function(e,t){this._checkLoaded(),this.sourceCaches[e].getSource().setData(t),this._changed=!0},n.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},n.prototype.addLayer=function(t,n,r){r===void 0&&(r={}),this._checkLoaded();var i=t.id;if(this.getLayer(i))this.fire(new e.ErrorEvent(Error(`Layer with id "`+i+`" already exists on this map`)));else{var a;if(t.type===`custom`){if(Xt(this,e.validateCustomStyleLayer(t)))return;a=e.createStyleLayer(t)}else{if(typeof t.source==`object`&&(this.addSource(i,t.source),t=e.clone$1(t),t=e.extend(t,{source:i})),this._validate(e.validateStyle.layer,`layers.`+i,t,{arrayIndex:-1},r))return;a=e.createStyleLayer(t),this._validateLayer(a),a.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[a.id]=a.serialize()}var o=n?this._order.indexOf(n):this._order.length;if(n&&o===-1)this.fire(new e.ErrorEvent(Error(`Layer with id "`+n+`" does not exist on this map.`)));else{if(this._order.splice(o,0,i),this._layerOrderChanged=!0,this._layers[i]=a,this._removedLayers[i]&&a.source&&a.type!==`custom`){var s=this._removedLayers[i];delete this._removedLayers[i],s.type===a.type?(this._updatedSources[a.source]=`reload`,this.sourceCaches[a.source].pause()):this._updatedSources[a.source]=`clear`}this._updateLayer(a),a.onAdd&&a.onAdd(this.map)}}},n.prototype.moveLayer=function(t,n){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==n){var r=this._order.indexOf(t);this._order.splice(r,1);var i=n?this._order.indexOf(n):this._order.length;n&&i===-1?this.fire(new e.ErrorEvent(Error(`Layer with id "`+n+`" does not exist on this map.`))):(this._order.splice(i,0,t),this._layerOrderChanged=!0)}}else this.fire(new e.ErrorEvent(Error(`The layer '`+t+`' does not exist in the map's style and cannot be moved.`)))},n.prototype.removeLayer=function(t){this._checkLoaded();var n=this._layers[t];if(n){n.setEventedParent(null);var r=this._order.indexOf(t);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=n,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],n.onRemove&&n.onRemove(this.map)}else this.fire(new e.ErrorEvent(Error(`The layer '`+t+`' does not exist in the map's style and cannot be removed.`)))},n.prototype.getLayer=function(e){return this._layers[e]},n.prototype.hasLayer=function(e){return e in this._layers},n.prototype.setLayerZoomRange=function(t,n,r){this._checkLoaded();var i=this.getLayer(t);i?i.minzoom===n&&i.maxzoom===r||(n!=null&&(i.minzoom=n),r!=null&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new e.ErrorEvent(Error(`The layer '`+t+`' does not exist in the map's style and cannot have zoom extent.`)))},n.prototype.setFilter=function(t,n,r){r===void 0&&(r={}),this._checkLoaded();var i=this.getLayer(t);if(i){if(!e.deepEqual(i.filter,n))return n==null?(i.filter=void 0,void this._updateLayer(i)):void(this._validate(e.validateStyle.filter,`layers.`+i.id+`.filter`,n,null,r)||(i.filter=e.clone$1(n),this._updateLayer(i)))}else this.fire(new e.ErrorEvent(Error(`The layer '`+t+`' does not exist in the map's style and cannot be filtered.`)))},n.prototype.getFilter=function(t){return e.clone$1(this.getLayer(t).filter)},n.prototype.setLayoutProperty=function(t,n,r,i){i===void 0&&(i={}),this._checkLoaded();var a=this.getLayer(t);a?e.deepEqual(a.getLayoutProperty(n),r)||(a.setLayoutProperty(n,r,i),this._updateLayer(a)):this.fire(new e.ErrorEvent(Error(`The layer '`+t+`' does not exist in the map's style and cannot be styled.`)))},n.prototype.getLayoutProperty=function(t,n){var r=this.getLayer(t);if(r)return r.getLayoutProperty(n);this.fire(new e.ErrorEvent(Error(`The layer '`+t+`' does not exist in the map's style.`)))},n.prototype.setPaintProperty=function(t,n,r,i){i===void 0&&(i={}),this._checkLoaded();var a=this.getLayer(t);a?e.deepEqual(a.getPaintProperty(n),r)||(a.setPaintProperty(n,r,i)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(Error(`The layer '`+t+`' does not exist in the map's style and cannot be styled.`)))},n.prototype.getPaintProperty=function(e,t){return this.getLayer(e).getPaintProperty(t)},n.prototype.setFeatureState=function(t,n){this._checkLoaded();var r=t.source,i=t.sourceLayer,a=this.sourceCaches[r];if(a!==void 0){var o=a.getSource().type;o===`geojson`&&i?this.fire(new e.ErrorEvent(Error(`GeoJSON sources cannot have a sourceLayer parameter.`))):o!==`vector`||i?(t.id===void 0&&this.fire(new e.ErrorEvent(Error(`The feature id parameter must be provided.`))),a.setFeatureState(i,t.id,n)):this.fire(new e.ErrorEvent(Error(`The sourceLayer parameter must be provided for vector source types.`)))}else this.fire(new e.ErrorEvent(Error(`The source '`+r+`' does not exist in the map's style.`)))},n.prototype.removeFeatureState=function(t,n){this._checkLoaded();var r=t.source,i=this.sourceCaches[r];if(i!==void 0){var a=i.getSource().type,o=a===`vector`?t.sourceLayer:void 0;a!==`vector`||o?n&&typeof t.id!=`string`&&typeof t.id!=`number`?this.fire(new e.ErrorEvent(Error(`A feature id is required to remove its specific state property.`))):i.removeFeatureState(o,t.id,n):this.fire(new e.ErrorEvent(Error(`The sourceLayer parameter must be provided for vector source types.`)))}else this.fire(new e.ErrorEvent(Error(`The source '`+r+`' does not exist in the map's style.`)))},n.prototype.getFeatureState=function(t){this._checkLoaded();var n=t.source,r=t.sourceLayer,i=this.sourceCaches[n];if(i!==void 0){if(i.getSource().type!==`vector`||r)return t.id===void 0&&this.fire(new e.ErrorEvent(Error(`The feature id parameter must be provided.`))),i.getFeatureState(r,t.id);this.fire(new e.ErrorEvent(Error(`The sourceLayer parameter must be provided for vector source types.`)))}else this.fire(new e.ErrorEvent(Error(`The source '`+n+`' does not exist in the map's style.`)))},n.prototype.getTransition=function(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},n.prototype.serialize=function(){return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e.mapObject(this.sourceCaches,(function(e){return e.serialize()})),layers:this._serializeLayers(this._order)},(function(e){return e!==void 0}))},n.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&this.sourceCaches[e.source].getSource().type!==`raster`&&(this._updatedSources[e.source]=`reload`,this.sourceCaches[e.source].pause()),this._changed=!0},n.prototype._flattenAndSortRenderedFeatures=function(e){for(var t=this,n=function(e){return t._layers[e].type===`fill-extrusion`},r={},i=[],a=this._order.length-1;a>=0;a--){var o=this._order[a];if(n(o)){r[o]=a;for(var s=0,c=e;s<c.length;s+=1){var l=c[s][o];if(l)for(var u=0,d=l;u<d.length;u+=1)i.push(d[u])}}}i.sort((function(e,t){return t.intersectionZ-e.intersectionZ}));for(var f=[],p=this._order.length-1;p>=0;p--){var m=this._order[p];if(n(m))for(var h=i.length-1;h>=0;h--){var g=i[h].feature;if(r[g.layer.id]<p)break;f.push(g),i.pop()}else for(var _=0,v=e;_<v.length;_+=1){var y=v[_][m];if(y)for(var b=0,x=y;b<x.length;b+=1)f.push(x[b].feature)}}return f},n.prototype.queryRenderedFeatures=function(t,n,r){n&&n.filter&&this._validate(e.validateStyle.filter,`queryRenderedFeatures.filter`,n.filter,null,n);var i={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new e.ErrorEvent(Error(`parameters.layers must be an Array.`))),[];for(var a=0,o=n.layers;a<o.length;a+=1){var s=o[a],c=this._layers[s];if(!c)return this.fire(new e.ErrorEvent(Error(`The layer '`+s+`' does not exist in the map's style and cannot be queried for features.`))),[];i[c.source]=!0}}var l=[];for(var u in n.availableImages=this._availableImages,this.sourceCaches)n.layers&&!i[u]||l.push(I(this.sourceCaches[u],this._layers,this._serializedLayers,t,n,r));return this.placement&&l.push(function(e,t,n,r,i,a,o){for(var s={},c=a.queryRenderedSymbols(r),l=[],u=0,d=Object.keys(c).map(Number);u<d.length;u+=1)l.push(o[d[u]]);l.sort(te);for(var f=function(){var n=m[p],r=n.featureIndex.lookupSymbolFeatures(c[n.bucketInstanceId],t,n.bucketIndex,n.sourceLayerIndex,i.filter,i.layers,i.availableImages,e);for(var a in r){var o=s[a]=s[a]||[],l=r[a];l.sort((function(e,t){var r=n.featureSortOrder;if(r){var i=r.indexOf(e.featureIndex);return r.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex}));for(var u=0,d=l;u<d.length;u+=1)o.push(d[u])}},p=0,m=l;p<m.length;p+=1)f();var h=function(t){s[t].forEach((function(r){var i=r.feature,a=n[e[t].source].getFeatureState(i.layer[`source-layer`],i.id);i.source=i.layer.source,i.layer[`source-layer`]&&(i.sourceLayer=i.layer[`source-layer`]),i.state=a}))};for(var g in s)h(g);return s}(this._layers,this._serializedLayers,this.sourceCaches,t,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(l)},n.prototype.querySourceFeatures=function(t,n){n&&n.filter&&this._validate(e.validateStyle.filter,`querySourceFeatures.filter`,n.filter,null,n);var r=this.sourceCaches[t];return r?function(e,t){for(var n=e.getRenderableIds().map((function(t){return e.getTileByID(t)})),r=[],i={},a=0;a<n.length;a++){var o=n[a],s=o.tileID.canonical.key;i[s]||(i[s]=!0,o.querySourceFeatures(r,t))}return r}(r,n):[]},n.prototype.addSourceType=function(e,t,r){return n.getSourceType(e)?r(Error(`A source type called "`+e+`" already exists.`)):(n.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast(`loadWorkerSource`,{name:e,url:t.workerSourceURL},r):r(null,null))},n.prototype.getLight=function(){return this.light.getLight()},n.prototype.setLight=function(t,n){n===void 0&&(n={}),this._checkLoaded();var r=this.light.getLight(),i=!1;for(var a in t)if(!e.deepEqual(t[a],r[a])){i=!0;break}if(i){var o={now:e.browser.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,n),this.light.updateTransitions(o)}},n.prototype._validate=function(t,n,r,i,a){return a===void 0&&(a={}),(!a||!1!==a.validate)&&Xt(this,t.call(e.validateStyle,e.extend({key:n,style:this.serialize(),value:r,styleSpec:e.styleSpec},i)))},n.prototype._remove=function(){for(var t in this._request&&=(this._request.cancel(),null),this._spriteRequest&&=(this._spriteRequest.cancel(),null),e.evented.off(`pluginStateChange`,this._rtlTextPluginCallback),this._layers)this._layers[t].setEventedParent(null);for(var n in this.sourceCaches)this.sourceCaches[n].clearTiles(),this.sourceCaches[n].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},n.prototype._clearSource=function(e){this.sourceCaches[e].clearTiles()},n.prototype._reloadSource=function(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()},n.prototype._updateSources=function(e){for(var t in this.sourceCaches)this.sourceCaches[t].update(e)},n.prototype._generateCollisionBoxes=function(){for(var e in this.sourceCaches)this._reloadSource(e)},n.prototype._updatePlacement=function(t,n,r,i,a){a===void 0&&(a=!1);for(var o=!1,s=!1,c={},l=0,u=this._order;l<u.length;l+=1){var d=this._layers[u[l]];if(d.type===`symbol`){if(!c[d.source]){var f=this.sourceCaches[d.source];c[d.source]=f.getRenderableIds(!0).map((function(e){return f.getTileByID(e)})).sort((function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)}))}var p=this.crossTileSymbolIndex.addLayer(d,c[d.source],t.center.lng);o||=p}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((a=a||this._layerOrderChanged||r===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.browser.now(),t.zoom))&&(this.pauseablePlacement=new Wt(t,this._order,a,n,r,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,c),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.browser.now()),s=!0),o&&this.pauseablePlacement.placement.setStale()),s||o)for(var m=0,h=this._order;m<h.length;m+=1){var g=this._layers[h[m]];g.type===`symbol`&&this.placement.updateLayerOpacities(g,c[g.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.browser.now())},n.prototype._releaseSymbolFadeTiles=function(){for(var e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()},n.prototype.getImages=function(e,t,n){this.imageManager.getImages(t.icons,n),this._updateTilesForChangedImages();var r=this.sourceCaches[t.source];r&&r.setDependencies(t.tileID.key,t.type,t.icons)},n.prototype.getGlyphs=function(e,t,n){this.glyphManager.getGlyphs(t.stacks,n)},n.prototype.getResource=function(t,n,r){return e.makeRequest(n,r)},n}(e.Evented);en.getSourceType=function(e){return F[e]},en.setSourceType=function(e,t){F[e]=t},en.registerForPluginStateChange=e.registerForPluginStateChange;var tn=e.createLayout([{name:`a_pos`,type:`Int16`,components:2}]),nn=kn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),rn=kn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}`),an=kn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}`),on=kn(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),sn=kn(`void main() {gl_FragColor=vec4(1.0);}`,`attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}`),cn=kn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),ln=kn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}`),un=kn(`varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}`,`attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),dn=kn(`varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}`,`attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),fn=kn(`uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}`,`attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}`),pn=kn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),mn=kn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),hn=kn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),gn=kn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),_n=kn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),vn=kn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),yn=kn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}`),bn=kn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}`),xn=kn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Sn=kn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Cn=kn(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),wn=kn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),Tn=kn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),En=kn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),Dn=kn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),On=kn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function kn(e,t){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=t.match(/attribute ([\w]+) ([\w]+)/g),i=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=a?a.concat(i):i,s={};return{fragmentSource:e=e.replace(n,(function(e,t,n,r,i){return s[i]=!0,t===`define`?`
#ifndef HAS_UNIFORM_u_`+i+`
varying `+n+` `+r+` `+i+`;
#else
uniform `+n+` `+r+` u_`+i+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+i+`
    `+n+` `+r+` `+i+` = u_`+i+`;
#endif
`})),vertexSource:t=t.replace(n,(function(e,t,n,r,i){var a=r===`float`?`vec2`:`vec4`,o=i.match(/color/)?`color`:a;return s[i]?t===`define`?`
#ifndef HAS_UNIFORM_u_`+i+`
uniform lowp float u_`+i+`_t;
attribute `+n+` `+a+` a_`+i+`;
varying `+n+` `+r+` `+i+`;
#else
uniform `+n+` `+r+` u_`+i+`;
#endif
`:o===`vec4`?`
#ifndef HAS_UNIFORM_u_`+i+`
    `+i+` = a_`+i+`;
#else
    `+n+` `+r+` `+i+` = u_`+i+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+i+`
    `+i+` = unpack_mix_`+o+`(a_`+i+`, u_`+i+`_t);
#else
    `+n+` `+r+` `+i+` = u_`+i+`;
#endif
`:t===`define`?`
#ifndef HAS_UNIFORM_u_`+i+`
uniform lowp float u_`+i+`_t;
attribute `+n+` `+a+` a_`+i+`;
#else
uniform `+n+` `+r+` u_`+i+`;
#endif
`:o===`vec4`?`
#ifndef HAS_UNIFORM_u_`+i+`
    `+n+` `+r+` `+i+` = a_`+i+`;
#else
    `+n+` `+r+` `+i+` = u_`+i+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+i+`
    `+n+` `+r+` `+i+` = unpack_mix_`+o+`(a_`+i+`, u_`+i+`_t);
#else
    `+n+` `+r+` `+i+` = u_`+i+`;
#endif
`})),staticAttributes:r,staticUniforms:o}}var An=Object.freeze({__proto__:null,prelude:nn,background:rn,backgroundPattern:an,circle:on,clippingMask:sn,heatmap:cn,heatmapTexture:ln,collisionBox:un,collisionCircle:dn,debug:fn,fill:pn,fillOutline:mn,fillOutlinePattern:hn,fillPattern:gn,fillExtrusion:_n,fillExtrusionPattern:vn,hillshadePrepare:yn,hillshade:bn,line:xn,lineGradient:Sn,linePattern:Cn,lineSDF:wn,raster:Tn,symbolIcon:En,symbolSDF:Dn,symbolTextAndIcon:On}),jn=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function Mn(e){for(var t=[],n=0;n<e.length;n++)if(e[n]!==null){var r=e[n].split(` `);t.push(r.pop())}return t}jn.prototype.bind=function(e,t,n,r,i,a,o,s){this.context=e;for(var c=this.boundPaintVertexBuffers.length!==r.length,l=0;!c&&l<r.length;l++)this.boundPaintVertexBuffers[l]!==r[l]&&(c=!0);e.extVertexArrayObject&&this.vao&&this.boundProgram===t&&this.boundLayoutVertexBuffer===n&&!c&&this.boundIndexBuffer===i&&this.boundVertexOffset===a&&this.boundDynamicVertexBuffer===o&&this.boundDynamicVertexBuffer2===s?(e.bindVertexArrayOES.set(this.vao),o&&o.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind()):this.freshBind(t,n,r,i,a,o,s)},jn.prototype.freshBind=function(e,t,n,r,i,a,o){var s,c=e.numAttributes,l=this.context,u=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=a,this.boundDynamicVertexBuffer2=o;else{s=l.currentNumAttributes||0;for(var d=c;d<s;d++)u.disableVertexAttribArray(d)}t.enableAttributes(u,e);for(var f=0,p=n;f<p.length;f+=1)p[f].enableAttributes(u,e);a&&a.enableAttributes(u,e),o&&o.enableAttributes(u,e),t.bind(),t.setVertexAttribPointers(u,e,i);for(var m=0,h=n;m<h.length;m+=1){var g=h[m];g.bind(),g.setVertexAttribPointers(u,e,i)}a&&(a.bind(),a.setVertexAttribPointers(u,e,i)),r&&r.bind(),o&&(o.bind(),o.setVertexAttribPointers(u,e,i)),l.currentNumAttributes=c},jn.prototype.destroy=function(){this.vao&&=(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),null)};var Nn=function(e,t,n,r,i,a){var o=e.gl;this.program=o.createProgram();for(var s=Mn(n.staticAttributes),c=r?r.getBinderAttributes():[],l=s.concat(c),u=n.staticUniforms?Mn(n.staticUniforms):[],d=r?r.getBinderUniforms():[],f=[],p=0,m=u.concat(d);p<m.length;p+=1){var h=m[p];f.indexOf(h)<0&&f.push(h)}var g=r?r.defines():[];a&&g.push(`#define OVERDRAW_INSPECTOR;`);var _=g.concat(nn.fragmentSource,n.fragmentSource).join(`
`),v=g.concat(nn.vertexSource,n.vertexSource).join(`
`),y=o.createShader(o.FRAGMENT_SHADER);if(o.isContextLost())this.failedToCreate=!0;else{o.shaderSource(y,_),o.compileShader(y),o.attachShader(this.program,y);var b=o.createShader(o.VERTEX_SHADER);if(o.isContextLost())this.failedToCreate=!0;else{o.shaderSource(b,v),o.compileShader(b),o.attachShader(this.program,b),this.attributes={};var x={};this.numAttributes=l.length;for(var S=0;S<this.numAttributes;S++)l[S]&&(o.bindAttribLocation(this.program,S,l[S]),this.attributes[l[S]]=S);o.linkProgram(this.program),o.deleteShader(b),o.deleteShader(y);for(var C=0;C<f.length;C++){var w=f[C];if(w&&!x[w]){var T=o.getUniformLocation(this.program,w);T&&(x[w]=T)}}this.fixedUniforms=i(e,x),this.binderUniforms=r?r.getUniforms(e,x):[]}}};function Pn(e,t,n){var r=1/Ct(n,1,t.transform.tileZoom),i=2**n.tileID.overscaledZ,a=n.tileSize*2**t.transform.tileZoom/i,o=a*(n.tileID.canonical.x+n.tileID.wrap*i),s=a*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[r,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[o>>16,s>>16],u_pixel_coord_lower:[65535&o,65535&s]}}Nn.prototype.draw=function(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h){var g,_=e.gl;if(!this.failedToCreate){for(var v in e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(r),e.setColorMode(i),e.setCullFace(a),this.fixedUniforms)this.fixedUniforms[v].set(o[v]);p&&p.setUniforms(e,this.binderUniforms,d,{zoom:f});for(var y=(g={},g[_.LINES]=2,g[_.TRIANGLES]=3,g[_.LINE_STRIP]=1,g)[t],b=0,x=u.get();b<x.length;b+=1){var S=x[b],C=S.vaos||={};(C[s]||(C[s]=new jn)).bind(e,this,c,p?p.getPaintVertexBuffers():[],l,S.vertexOffset,m,h),_.drawElements(t,S.primitiveLength*y,_.UNSIGNED_SHORT,S.primitiveOffset*y*2)}}};var Fn=function(t,n,r,i){var a=n.style.light,o=a.properties.get(`position`),s=[o.x,o.y,o.z],c=e.create$1();a.properties.get(`anchor`)===`viewport`&&e.fromRotation(c,-n.transform.angle),e.transformMat3(s,s,c);var l=a.properties.get(`color`);return{u_matrix:t,u_lightpos:s,u_lightintensity:a.properties.get(`intensity`),u_lightcolor:[l.r,l.g,l.b],u_vertical_gradient:+r,u_opacity:i}},In=function(t,n,r,i,a,o,s){return e.extend(Fn(t,n,r,i),Pn(o,n,s),{u_height_factor:-(2**a.overscaledZ)/s.tileSize/8})},Ln=function(e){return{u_matrix:e}},Rn=function(t,n,r,i){return e.extend(Ln(t),Pn(r,n,i))},zn=function(e,t){return{u_matrix:e,u_world:t}},Bn=function(t,n,r,i,a){return e.extend(Rn(t,n,r,i),{u_world:a})},Vn=function(t,n,r,i){var a,o,s=t.transform;if(i.paint.get(`circle-pitch-alignment`)===`map`){var c=Ct(r,1,s.zoom);a=!0,o=[c,c]}else a=!1,o=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+(i.paint.get(`circle-pitch-scale`)===`map`),u_matrix:t.translatePosMatrix(n.posMatrix,r,i.paint.get(`circle-translate`),i.paint.get(`circle-translate-anchor`)),u_pitch_with_map:+a,u_device_pixel_ratio:e.browser.devicePixelRatio,u_extrude_scale:o}},Hn=function(e,t,n){var r=Ct(n,1,t.zoom),i=2**(t.zoom-n.tileID.overscaledZ),a=n.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:r,u_extrude_scale:[t.pixelsToGLUnits[0]/(r*i),t.pixelsToGLUnits[1]/(r*i)],u_overscale_factor:a}},Un=function(e,t,n){return{u_matrix:e,u_inv_matrix:t,u_camera_to_center_distance:n.cameraToCenterDistance,u_viewport_size:[n.width,n.height]}},Wn=function(e,t,n){return n===void 0&&(n=1),{u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:n}},Gn=function(e){return{u_matrix:e}},Kn=function(e,t,n,r){return{u_matrix:e,u_extrude_scale:Ct(t,1,n),u_intensity:r}},qn=function(t,n,r){var i=t.transform;return{u_matrix:Qn(t,n,r),u_ratio:1/Ct(n,1,i.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},Jn=function(t,n,r,i){return e.extend(qn(t,n,r),{u_image:0,u_image_height:i})},Yn=function(t,n,r,i){var a=t.transform,o=Zn(n,a);return{u_matrix:Qn(t,n,r),u_texsize:n.imageAtlasTexture.size,u_ratio:1/Ct(n,1,a.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_image:0,u_scale:[o,i.fromScale,i.toScale],u_fade:i.t,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]]}},Xn=function(t,n,r,i,a){var o=t.lineAtlas,s=Zn(n,t.transform),c=r.layout.get(`line-cap`)===`round`,l=o.getDash(i.from,c),u=o.getDash(i.to,c),d=l.width*a.fromScale,f=u.width*a.toScale;return e.extend(qn(t,n,r),{u_patternscale_a:[s/d,-l.height/2],u_patternscale_b:[s/f,-u.height/2],u_sdfgamma:o.width/(256*Math.min(d,f)*e.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:l.y,u_tex_y_b:u.y,u_mix:a.t})};function Zn(e,t){return 1/Ct(e,1,t.tileZoom)}function Qn(e,t,n){return e.translatePosMatrix(t.tileID.posMatrix,t,n.paint.get(`line-translate`),n.paint.get(`line-translate-anchor`))}var $n=function(e,t,n,r,i){return{u_matrix:e,u_tl_parent:t,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get(`raster-opacity`),u_image0:0,u_image1:1,u_brightness_low:i.paint.get(`raster-brightness-min`),u_brightness_high:i.paint.get(`raster-brightness-max`),u_saturation_factor:(o=i.paint.get(`raster-saturation`),o>0?1-1/(1.001-o):-o),u_contrast_factor:(a=i.paint.get(`raster-contrast`),a>0?1/(1-a):1+a),u_spin_weights:er(i.paint.get(`raster-hue-rotate`))};var a,o};function er(e){e*=Math.PI/180;var t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}var tr,nr=function(e,t,n,r,i,a,o,s,c,l){var u=i.transform;return{u_is_size_zoom_constant:+(e===`constant`||e===`source`),u_is_size_feature_constant:+(e===`constant`||e===`camera`),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:u.cameraToCenterDistance,u_pitch:u.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:u.width/u.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:a,u_label_plane_matrix:o,u_coord_matrix:s,u_is_text:+c,u_pitch_with_map:+r,u_texsize:l,u_texture:0}},rr=function(t,n,r,i,a,o,s,c,l,u,d){var f=a.transform;return e.extend(nr(t,n,r,i,a,o,s,c,l,u),{u_gamma_scale:i?Math.cos(f._pitch)*f.cameraToCenterDistance:1,u_device_pixel_ratio:e.browser.devicePixelRatio,u_is_halo:+d})},ir=function(t,n,r,i,a,o,s,c,l,u){return e.extend(rr(t,n,r,i,a,o,s,c,!0,l,!0),{u_texsize_icon:u,u_texture_icon:1})},ar=function(e,t,n){return{u_matrix:e,u_opacity:t,u_color:n}},or=function(t,n,r,i,a,o){return e.extend(function(e,t,n,r){var i=n.imageManager.getPattern(e.from.toString()),a=n.imageManager.getPattern(e.to.toString()),o=n.imageManager.getPixelSize(),s=o.width,c=o.height,l=2**r.tileID.overscaledZ,u=r.tileSize*2**n.transform.tileZoom/l,d=u*(r.tileID.canonical.x+r.tileID.wrap*l),f=u*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:a.tl,u_pattern_br_b:a.br,u_texsize:[s,c],u_mix:t.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:a.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/Ct(r,1,n.transform.tileZoom),u_pixel_coord_upper:[d>>16,f>>16],u_pixel_coord_lower:[65535&d,65535&f]}}(i,o,r,a),{u_matrix:t,u_opacity:n})},sr={fillExtrusion:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_opacity:new e.Uniform1f(t,n.u_opacity)}},fillExtrusionPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,n.u_height_factor),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade),u_opacity:new e.Uniform1f(t,n.u_opacity)}},fill:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},fillPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},fillOutline:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world)}},fillOutlinePattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},circle:function(t,n){return{u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_scale_with_map:new e.Uniform1i(t,n.u_scale_with_map),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},collisionBox:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pixels_to_tile_units:new e.Uniform1f(t,n.u_pixels_to_tile_units),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_overscale_factor:new e.Uniform1f(t,n.u_overscale_factor)}},collisionCircle:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_inv_matrix:new e.UniformMatrix4f(t,n.u_inv_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_viewport_size:new e.Uniform2f(t,n.u_viewport_size)}},debug:function(t,n){return{u_color:new e.UniformColor(t,n.u_color),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_overlay:new e.Uniform1i(t,n.u_overlay),u_overlay_scale:new e.Uniform1f(t,n.u_overlay_scale)}},clippingMask:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},heatmap:function(t,n){return{u_extrude_scale:new e.Uniform1f(t,n.u_extrude_scale),u_intensity:new e.Uniform1f(t,n.u_intensity),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},heatmapTexture:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_color_ramp:new e.Uniform1i(t,n.u_color_ramp),u_opacity:new e.Uniform1f(t,n.u_opacity)}},hillshade:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_latrange:new e.Uniform2f(t,n.u_latrange),u_light:new e.Uniform2f(t,n.u_light),u_shadow:new e.UniformColor(t,n.u_shadow),u_highlight:new e.UniformColor(t,n.u_highlight),u_accent:new e.UniformColor(t,n.u_accent)}},hillshadePrepare:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_dimension:new e.Uniform2f(t,n.u_dimension),u_zoom:new e.Uniform1f(t,n.u_zoom),u_unpack:new e.Uniform4f(t,n.u_unpack)}},line:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels)}},lineGradient:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_image:new e.Uniform1i(t,n.u_image),u_image_height:new e.Uniform1f(t,n.u_image_height)}},linePattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_texsize:new e.Uniform2f(t,n.u_texsize),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_image:new e.Uniform1i(t,n.u_image),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},lineSDF:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,n.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,n.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,n.u_sdfgamma),u_image:new e.Uniform1i(t,n.u_image),u_tex_y_a:new e.Uniform1f(t,n.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,n.u_tex_y_b),u_mix:new e.Uniform1f(t,n.u_mix)}},raster:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_tl_parent:new e.Uniform2f(t,n.u_tl_parent),u_scale_parent:new e.Uniform1f(t,n.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,n.u_buffer_scale),u_fade_t:new e.Uniform1f(t,n.u_fade_t),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image0:new e.Uniform1i(t,n.u_image0),u_image1:new e.Uniform1i(t,n.u_image1),u_brightness_low:new e.Uniform1f(t,n.u_brightness_low),u_brightness_high:new e.Uniform1f(t,n.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,n.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,n.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,n.u_spin_weights)}},symbolIcon:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture)}},symbolSDF:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,n.u_is_halo)}},symbolTextAndIcon:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texsize_icon:new e.Uniform2f(t,n.u_texsize_icon),u_texture:new e.Uniform1i(t,n.u_texture),u_texture_icon:new e.Uniform1i(t,n.u_texture_icon),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,n.u_is_halo)}},background:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_color:new e.UniformColor(t,n.u_color)}},backgroundPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image:new e.Uniform1i(t,n.u_image),u_pattern_tl_a:new e.Uniform2f(t,n.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,n.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,n.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,n.u_pattern_br_b),u_texsize:new e.Uniform2f(t,n.u_texsize),u_mix:new e.Uniform1f(t,n.u_mix),u_pattern_size_a:new e.Uniform2f(t,n.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,n.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,n.u_scale_a),u_scale_b:new e.Uniform1f(t,n.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,n.u_tile_units_to_pixels)}}};function cr(t,n,r,i,a,o,s){for(var c=t.context,l=c.gl,u=t.useProgram(`collisionBox`),d=[],f=0,p=0,m=0;m<i.length;m++){var h=i[m],g=n.getTile(h),_=g.getBucket(r);if(_){var v=h.posMatrix;a[0]===0&&a[1]===0||(v=t.translatePosMatrix(h.posMatrix,g,a,o));var y=s?_.textCollisionBox:_.iconCollisionBox,b=_.collisionCircleArray;if(b.length>0){var x=e.create(),S=v;e.mul(x,_.placementInvProjMatrix,t.transform.glCoordMatrix),e.mul(x,x,_.placementViewportMatrix),d.push({circleArray:b,circleOffset:p,transform:S,invTransform:x}),p=f+=b.length/4}y&&u.draw(c,l.LINES,ze.disabled,Be.disabled,t.colorModeForRenderPass(),He.disabled,Hn(v,t.transform,g),r.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,null,t.transform.zoom,null,null,y.collisionVertexBuffer)}}if(s&&d.length){var C=t.useProgram(`collisionCircle`),w=new e.StructArrayLayout2f1f2i16;w.resize(4*f),w._trim();for(var T=0,E=0,D=d;E<D.length;E+=1)for(var O=D[E],k=0;k<O.circleArray.length/4;k++){var A=4*k,j=O.circleArray[A+0],M=O.circleArray[A+1],N=O.circleArray[A+2],P=O.circleArray[A+3];w.emplace(T++,j,M,N,P,0),w.emplace(T++,j,M,N,P,1),w.emplace(T++,j,M,N,P,2),w.emplace(T++,j,M,N,P,3)}(!tr||tr.length<2*f)&&(tr=function(t){var n=2*t,r=new e.StructArrayLayout3ui6;r.resize(n),r._trim();for(var i=0;i<n;i++){var a=6*i;r.uint16[a+0]=4*i+0,r.uint16[a+1]=4*i+1,r.uint16[a+2]=4*i+2,r.uint16[a+3]=4*i+2,r.uint16[a+4]=4*i+3,r.uint16[a+5]=4*i+0}return r}(f));for(var F=c.createIndexBuffer(tr,!0),ee=c.createVertexBuffer(w,e.collisionCircleLayout.members,!0),I=0,te=d;I<te.length;I+=1){var L=te[I],ne=Un(L.transform,L.invTransform,t.transform);C.draw(c,l.TRIANGLES,ze.disabled,Be.disabled,t.colorModeForRenderPass(),He.disabled,ne,r.id,ee,F,e.SegmentVector.simpleSegment(0,2*L.circleOffset,L.circleArray.length,L.circleArray.length/2),null,t.transform.zoom,null,null,null)}ee.destroy(),F.destroy()}}var lr=e.identity(new Float32Array(16));function ur(t,n,r,i,a,o){var s=e.getAnchorAlignment(t),c=-(s.horizontalAlign-.5)*n,l=-(s.verticalAlign-.5)*r,u=e.evaluateVariableOffset(t,i);return new e.Point((c/a+u[0])*o,(l/a+u[1])*o)}function dr(t,n,r,i,a,o,s,c,l,u,d){var f=t.text.placedSymbolArray,p=t.text.dynamicLayoutVertexArray,m=t.icon.dynamicLayoutVertexArray,h={};p.clear();for(var g=0;g<f.length;g++){var _=f.get(g),v=_.hidden||!_.crossTileID||t.allowVerticalPlacement&&!_.placedOrientation?null:i[_.crossTileID];if(v){var y=new e.Point(_.anchorX,_.anchorY),b=ut(y,r?c:s),x=dt(o.cameraToCenterDistance,b.signedDistanceFromCamera),S=a.evaluateSizeForFeature(t.textSizeData,u,_)*x/e.ONE_EM;r&&(S*=t.tilePixelRatio/l);for(var C=ur(v.anchor,v.width,v.height,v.textOffset,v.textBoxScale,S),w=r?ut(y.add(C),s).point:b.point.add(n?C.rotate(-o.angle):C),T=t.allowVerticalPlacement&&_.placedOrientation===e.WritingMode.vertical?Math.PI/2:0,E=0;E<_.numGlyphs;E++)e.addDynamicAttributes(p,w,T);d&&_.associatedIconIndex>=0&&(h[_.associatedIconIndex]={shiftedAnchor:w,angle:T})}else bt(_.numGlyphs,p)}if(d){m.clear();for(var D=t.icon.placedSymbolArray,O=0;O<D.length;O++){var k=D.get(O);if(k.hidden)bt(k.numGlyphs,m);else{var A=h[O];if(A)for(var j=0;j<k.numGlyphs;j++)e.addDynamicAttributes(m,A.shiftedAnchor,A.angle);else bt(k.numGlyphs,m)}}t.icon.dynamicLayoutVertexBuffer.updateData(m)}t.text.dynamicLayoutVertexBuffer.updateData(p)}function fr(e,t,n){return n.iconsInText&&t?`symbolTextAndIcon`:e?`symbolSDF`:`symbolIcon`}function pr(t,n,r,i,a,o,s,c,l,u,d,f){for(var p=t.context,m=p.gl,h=t.transform,g=c===`map`,_=l===`map`,v=g&&r.layout.get(`symbol-placement`)!==`point`,y=g&&!_&&!v,b=r.layout.get(`symbol-sort-key`).constantOr(1)!==void 0,x=!1,S=t.depthModeForSublayer(0,ze.ReadOnly),C=r.layout.get(`text-variable-anchor`),w=[],T=0,E=i;T<E.length;T+=1){var D=E[T],O=n.getTile(D),k=O.getBucket(r);if(k){var A=a?k.text:k.icon;if(A&&A.segments.get().length){var j=A.programConfigurations.get(r.id),M=a||k.sdfIcons,N=a?k.textSizeData:k.iconSizeData,P=_||h.pitch!==0,F=t.useProgram(fr(M,a,k),j),ee=e.evaluateSizeForZoom(N,h.zoom),I=void 0,te=[0,0],L=void 0,ne=void 0,re=null,ie=void 0;if(a)L=O.glyphAtlasTexture,ne=m.LINEAR,I=O.glyphAtlasTexture.size,k.iconsInText&&(te=O.imageAtlasTexture.size,re=O.imageAtlasTexture,ie=P||t.options.rotating||t.options.zooming||N.kind===`composite`||N.kind===`camera`?m.LINEAR:m.NEAREST);else{var R=r.layout.get(`icon-size`).constantOr(0)!==1||k.iconsNeedLinear;L=O.imageAtlasTexture,ne=M||t.options.rotating||t.options.zooming||R||P?m.LINEAR:m.NEAREST,I=O.imageAtlasTexture.size}var ae=Ct(O,1,t.transform.zoom),oe=ct(D.posMatrix,_,g,t.transform,ae),se=lt(D.posMatrix,_,g,t.transform,ae),ce=C&&k.hasTextData(),le=r.layout.get(`icon-text-fit`)!==`none`&&ce&&k.hasIconData();v&&pt(k,D.posMatrix,t,a,oe,se,_,u);var ue=t.translatePosMatrix(D.posMatrix,O,o,s),de=v||a&&C||le?lr:oe,fe=t.translatePosMatrix(se,O,o,s,!0),pe=M&&r.paint.get(a?`text-halo-width`:`icon-halo-width`).constantOr(1)!==0,me={program:F,buffers:A,uniformValues:M?k.iconsInText?ir(N.kind,ee,y,_,t,ue,de,fe,I,te):rr(N.kind,ee,y,_,t,ue,de,fe,a,I,!0):nr(N.kind,ee,y,_,t,ue,de,fe,a,I),atlasTexture:L,atlasTextureIcon:re,atlasInterpolation:ne,atlasInterpolationIcon:ie,isSDF:M,hasHalo:pe};if(b&&k.canOverlap){x=!0;for(var he=0,ge=A.segments.get();he<ge.length;he+=1){var _e=ge[he];w.push({segments:new e.SegmentVector([_e]),sortKey:_e.sortKey,state:me})}}else w.push({segments:A.segments,sortKey:0,state:me})}}}x&&w.sort((function(e,t){return e.sortKey-t.sortKey}));for(var z=0,ve=w;z<ve.length;z+=1){var ye=ve[z],be=ye.state;if(p.activeTexture.set(m.TEXTURE0),be.atlasTexture.bind(be.atlasInterpolation,m.CLAMP_TO_EDGE),be.atlasTextureIcon&&(p.activeTexture.set(m.TEXTURE1),be.atlasTextureIcon&&be.atlasTextureIcon.bind(be.atlasInterpolationIcon,m.CLAMP_TO_EDGE)),be.isSDF){var xe=be.uniformValues;be.hasHalo&&(xe.u_is_halo=1,mr(be.buffers,ye.segments,r,t,be.program,S,d,f,xe)),xe.u_is_halo=0}mr(be.buffers,ye.segments,r,t,be.program,S,d,f,be.uniformValues)}}function mr(e,t,n,r,i,a,o,s,c){var l=r.context;i.draw(l,l.gl.TRIANGLES,a,o,s,He.disabled,c,n.id,e.layoutVertexBuffer,e.indexBuffer,t,n.paint,r.transform.zoom,e.programConfigurations.get(n.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function hr(e,t,n,r,i,a,o){var s,c,l,u,d,f=e.context.gl,p=n.paint.get(`fill-pattern`),m=p&&p.constantOr(1),h=n.getCrossfadeParameters();o?(c=m&&!n.getPaintProperty(`fill-outline-color`)?`fillOutlinePattern`:`fillOutline`,s=f.LINES):(c=m?`fillPattern`:`fill`,s=f.TRIANGLES);for(var g=0,_=r;g<_.length;g+=1){var v=_[g],y=t.getTile(v);if(!m||y.patternsLoaded()){var b=y.getBucket(n);if(b){var x=b.programConfigurations.get(n.id),S=e.useProgram(c,x);m&&(e.context.activeTexture.set(f.TEXTURE0),y.imageAtlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE),x.updatePaintBuffers(h));var C=p.constantOr(null);if(C&&y.imageAtlas){var w=y.imageAtlas,T=w.patternPositions[C.to.toString()],E=w.patternPositions[C.from.toString()];T&&E&&x.setConstantPatternPositions(T,E)}var D=e.translatePosMatrix(v.posMatrix,y,n.paint.get(`fill-translate`),n.paint.get(`fill-translate-anchor`));if(o){u=b.indexBuffer2,d=b.segments2;var O=[f.drawingBufferWidth,f.drawingBufferHeight];l=c===`fillOutlinePattern`&&m?Bn(D,e,h,y,O):zn(D,O)}else u=b.indexBuffer,d=b.segments,l=m?Rn(D,e,h,y):Ln(D);S.draw(e.context,s,i,e.stencilModeForClipping(v),a,He.disabled,l,n.id,b.layoutVertexBuffer,u,d,n.paint,e.transform.zoom,x)}}}}function gr(e,t,n,r,i,a,o){for(var s=e.context,c=s.gl,l=n.paint.get(`fill-extrusion-pattern`),u=l.constantOr(1),d=n.getCrossfadeParameters(),f=n.paint.get(`fill-extrusion-opacity`),p=0,m=r;p<m.length;p+=1){var h=m[p],g=t.getTile(h),_=g.getBucket(n);if(_){var v=_.programConfigurations.get(n.id),y=e.useProgram(u?`fillExtrusionPattern`:`fillExtrusion`,v);u&&(e.context.activeTexture.set(c.TEXTURE0),g.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),v.updatePaintBuffers(d));var b=l.constantOr(null);if(b&&g.imageAtlas){var x=g.imageAtlas,S=x.patternPositions[b.to.toString()],C=x.patternPositions[b.from.toString()];S&&C&&v.setConstantPatternPositions(S,C)}var w=e.translatePosMatrix(h.posMatrix,g,n.paint.get(`fill-extrusion-translate`),n.paint.get(`fill-extrusion-translate-anchor`)),T=n.paint.get(`fill-extrusion-vertical-gradient`),E=u?In(w,e,T,f,h,d,g):Fn(w,e,T,f);y.draw(s,s.gl.TRIANGLES,i,a,o,He.backCCW,E,n.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,n.paint,e.transform.zoom,v)}}}function _r(t,n,r,i,a,o){var s=t.context,c=s.gl,l=n.fbo;if(l){var u=t.useProgram(`hillshade`);s.activeTexture.set(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,l.colorAttachment.get());var d=function(t,n,r){var i=r.paint.get(`hillshade-shadow-color`),a=r.paint.get(`hillshade-highlight-color`),o=r.paint.get(`hillshade-accent-color`),s=r.paint.get(`hillshade-illumination-direction`)*(Math.PI/180);r.paint.get(`hillshade-illumination-anchor`)===`viewport`&&(s-=t.transform.angle);var c,l,u,d=!t.options.moving;return{u_matrix:t.transform.calculatePosMatrix(n.tileID.toUnwrapped(),d),u_image:0,u_latrange:(c=n.tileID,l=2**c.canonical.z,u=c.canonical.y,[new e.MercatorCoordinate(0,u/l).toLngLat().lat,new e.MercatorCoordinate(0,(u+1)/l).toLngLat().lat]),u_light:[r.paint.get(`hillshade-exaggeration`),s],u_shadow:i,u_highlight:a,u_accent:o}}(t,n,r);u.draw(s,c.TRIANGLES,i,a,o,He.disabled,d,r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}}function vr(t,n,r,i,a,o){var s=t.context,c=s.gl,l=n.dem;if(l&&l.data){var u=l.dim,d=l.stride,f=l.getPixels();if(s.activeTexture.set(c.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||t.getTileTexture(d),n.demTexture){var p=n.demTexture;p.update(f,{premultiply:!1}),p.bind(c.NEAREST,c.CLAMP_TO_EDGE)}else n.demTexture=new e.Texture(s,f,c.RGBA,{premultiply:!1}),n.demTexture.bind(c.NEAREST,c.CLAMP_TO_EDGE);s.activeTexture.set(c.TEXTURE0);var m=n.fbo;if(!m){var h=new e.Texture(s,{width:u,height:u,data:null},c.RGBA);h.bind(c.LINEAR,c.CLAMP_TO_EDGE),(m=n.fbo=s.createFramebuffer(u,u,!0)).colorAttachment.set(h.texture)}s.bindFramebuffer.set(m.framebuffer),s.viewport.set([0,0,u,u]),t.useProgram(`hillshadePrepare`).draw(s,c.TRIANGLES,i,a,o,He.disabled,function(t,n){var r=n.stride,i=e.create();return e.ortho(i,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(i,i,[0,-e.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[r,r],u_zoom:t.overscaledZ,u_unpack:n.getUnpackVector()}}(n.tileID,l),r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function yr(t,n,r,i,a){var o=i.paint.get(`raster-fade-duration`);if(o>0){var s=e.browser.now(),c=(s-t.timeAdded)/o,l=n?(s-n.timeAdded)/o:-1,u=r.getSource(),d=a.coveringZoomLevel({tileSize:u.tileSize,roundZoom:u.roundZoom}),f=!n||Math.abs(n.tileID.overscaledZ-d)>Math.abs(t.tileID.overscaledZ-d),p=f&&t.refreshedUponExpiration?1:e.clamp(f?c:1-l,0,1);return t.refreshedUponExpiration&&c>=1&&(t.refreshedUponExpiration=!1),n?{opacity:1,mix:1-p}:{opacity:p,mix:0}}return{opacity:1,mix:0}}var br=new e.Color(1,0,0,1),xr=new e.Color(0,1,0,1),Sr=new e.Color(0,0,1,1),Cr=new e.Color(1,0,1,1),wr=new e.Color(0,1,1,1);function Tr(e,t,n,r){Dr(e,0,t+n/2,e.transform.width,n,r)}function Er(e,t,n,r){Dr(e,t-n/2,0,n,e.transform.height,r)}function Dr(t,n,r,i,a,o){var s=t.context,c=s.gl;c.enable(c.SCISSOR_TEST),c.scissor(n*e.browser.devicePixelRatio,r*e.browser.devicePixelRatio,i*e.browser.devicePixelRatio,a*e.browser.devicePixelRatio),s.clear({color:o}),c.disable(c.SCISSOR_TEST)}function Or(t,n,r){var i=t.context,a=i.gl,o=r.posMatrix,s=t.useProgram(`debug`),c=ze.disabled,l=Be.disabled,u=t.colorModeForRenderPass();i.activeTexture.set(a.TEXTURE0),t.emptyTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE),s.draw(i,a.LINE_STRIP,c,l,u,He.disabled,Wn(o,e.Color.red),`$debug`,t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments);var d=n.getTileByID(r.key).latestRawTileData,f=Math.floor((d&&d.byteLength||0)/1024),p=n.getTile(r).tileSize,m=512/Math.min(p,512)*(r.overscaledZ/t.transform.zoom)*.5,h=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(h+=` => `+r.overscaledZ),function(e,t){e.initDebugOverlayCanvas();var n=e.debugOverlayCanvas,r=e.context.gl,i=e.debugOverlayCanvas.getContext(`2d`);i.clearRect(0,0,n.width,n.height),i.shadowColor=`white`,i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle=`white`,i.textBaseline=`top`,i.font=`bold 36px Open Sans, sans-serif`,i.fillText(t,5,5),i.strokeText(t,5,5),e.debugOverlayTexture.update(n),e.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}(t,h+` `+f+`kb`),s.draw(i,a.TRIANGLES,c,l,Ve.alphaBlended,He.disabled,Wn(o,e.Color.transparent,m),`$debug`,t.debugBuffer,t.quadTriangleIndexBuffer,t.debugSegments)}var kr={symbol:function(t,n,r,i,a){if(t.renderPass===`translucent`){var o=Be.disabled,s=t.colorModeForRenderPass();r.layout.get(`text-variable-anchor`)&&function(t,n,r,i,a,o,s){for(var c=n.transform,l=a===`map`,u=o===`map`,d=0,f=t;d<f.length;d+=1){var p=f[d],m=i.getTile(p),h=m.getBucket(r);if(h&&h.text&&h.text.segments.get().length){var g=e.evaluateSizeForZoom(h.textSizeData,c.zoom),_=Ct(m,1,n.transform.zoom),v=ct(p.posMatrix,u,l,n.transform,_),y=r.layout.get(`icon-text-fit`)!==`none`&&h.hasIconData();if(g){var b=2**(c.zoom-m.tileID.overscaledZ);dr(h,l,u,s,e.symbolSize,c,v,p.posMatrix,b,g,y)}}}}(i,t,r,n,r.layout.get(`text-rotation-alignment`),r.layout.get(`text-pitch-alignment`),a),r.paint.get(`icon-opacity`).constantOr(1)!==0&&pr(t,n,r,i,!1,r.paint.get(`icon-translate`),r.paint.get(`icon-translate-anchor`),r.layout.get(`icon-rotation-alignment`),r.layout.get(`icon-pitch-alignment`),r.layout.get(`icon-keep-upright`),o,s),r.paint.get(`text-opacity`).constantOr(1)!==0&&pr(t,n,r,i,!0,r.paint.get(`text-translate`),r.paint.get(`text-translate-anchor`),r.layout.get(`text-rotation-alignment`),r.layout.get(`text-pitch-alignment`),r.layout.get(`text-keep-upright`),o,s),n.map.showCollisionBoxes&&(cr(t,n,r,i,r.paint.get(`text-translate`),r.paint.get(`text-translate-anchor`),!0),cr(t,n,r,i,r.paint.get(`icon-translate`),r.paint.get(`icon-translate-anchor`),!1))}},circle:function(t,n,r,i){if(t.renderPass===`translucent`){var a=r.paint.get(`circle-opacity`),o=r.paint.get(`circle-stroke-width`),s=r.paint.get(`circle-stroke-opacity`),c=r.layout.get(`circle-sort-key`).constantOr(1)!==void 0;if(a.constantOr(1)!==0||o.constantOr(1)!==0&&s.constantOr(1)!==0){for(var l=t.context,u=l.gl,d=t.depthModeForSublayer(0,ze.ReadOnly),f=Be.disabled,p=t.colorModeForRenderPass(),m=[],h=0;h<i.length;h++){var g=i[h],_=n.getTile(g),v=_.getBucket(r);if(v){var y=v.programConfigurations.get(r.id),b={programConfiguration:y,program:t.useProgram(`circle`,y),layoutVertexBuffer:v.layoutVertexBuffer,indexBuffer:v.indexBuffer,uniformValues:Vn(t,g,_,r)};if(c)for(var x=0,S=v.segments.get();x<S.length;x+=1){var C=S[x];m.push({segments:new e.SegmentVector([C]),sortKey:C.sortKey,state:b})}else m.push({segments:v.segments,sortKey:0,state:b})}}c&&m.sort((function(e,t){return e.sortKey-t.sortKey}));for(var w=0,T=m;w<T.length;w+=1){var E=T[w],D=E.state;D.program.draw(l,u.TRIANGLES,d,f,p,He.disabled,D.uniformValues,r.id,D.layoutVertexBuffer,D.indexBuffer,E.segments,r.paint,t.transform.zoom,D.programConfiguration)}}}},heatmap:function(t,n,r,i){if(r.paint.get(`heatmap-opacity`)!==0)if(t.renderPass===`offscreen`){var a=t.context,o=a.gl,s=Be.disabled,c=new Ve([o.ONE,o.ONE],e.Color.transparent,[!0,!0,!0,!0]);(function(e,t,n){var r=e.gl;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),e.bindFramebuffer.set(i.framebuffer);else{var a=r.createTexture();r.bindTexture(r.TEXTURE_2D,a),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),i=n.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4,!1),function(e,t,n,r){var i=e.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t.width/4,t.height/4,0,i.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),r.colorAttachment.set(n)}(e,t,a,i)}})(a,t,r),a.clear({color:e.Color.transparent});for(var l=0;l<i.length;l++){var u=i[l];if(!n.hasRenderableParent(u)){var d=n.getTile(u),f=d.getBucket(r);if(f){var p=f.programConfigurations.get(r.id);t.useProgram(`heatmap`,p).draw(a,o.TRIANGLES,ze.disabled,s,c,He.disabled,Kn(u.posMatrix,d,t.transform.zoom,r.paint.get(`heatmap-intensity`)),r.id,f.layoutVertexBuffer,f.indexBuffer,f.segments,r.paint,t.transform.zoom,p)}}}a.viewport.set([0,0,t.width,t.height])}else t.renderPass===`translucent`&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,n){var r=t.context,i=r.gl,a=n.heatmapFbo;if(a){r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,a.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1);var o=n.colorRampTexture;o||=n.colorRampTexture=new e.Texture(r,n.colorRamp,i.RGBA),o.bind(i.LINEAR,i.CLAMP_TO_EDGE),t.useProgram(`heatmapTexture`).draw(r,i.TRIANGLES,ze.disabled,Be.disabled,t.colorModeForRenderPass(),He.disabled,function(t,n,r,i){var a=e.create();e.ortho(a,0,t.width,t.height,0,0,1);var o=t.context.gl;return{u_matrix:a,u_world:[o.drawingBufferWidth,o.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:n.paint.get(`heatmap-opacity`)}}(t,n),n.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,n.paint,t.transform.zoom)}}(t,r))},line:function(t,n,r,i){if(t.renderPass===`translucent`){var a=r.paint.get(`line-opacity`),o=r.paint.get(`line-width`);if(a.constantOr(1)!==0&&o.constantOr(1)!==0)for(var s=t.depthModeForSublayer(0,ze.ReadOnly),c=t.colorModeForRenderPass(),l=r.paint.get(`line-dasharray`),u=r.paint.get(`line-pattern`),d=u.constantOr(1),f=r.paint.get(`line-gradient`),p=r.getCrossfadeParameters(),m=d?`linePattern`:l?`lineSDF`:f?`lineGradient`:`line`,h=t.context,g=h.gl,_=!0,v=0,y=i;v<y.length;v+=1){var b=y[v],x=n.getTile(b);if(!d||x.patternsLoaded()){var S=x.getBucket(r);if(S){var C=S.programConfigurations.get(r.id),w=t.context.program.get(),T=t.useProgram(m,C),E=_||T.program!==w,D=u.constantOr(null);if(D&&x.imageAtlas){var O=x.imageAtlas,k=O.patternPositions[D.to.toString()],A=O.patternPositions[D.from.toString()];k&&A&&C.setConstantPatternPositions(k,A)}var j=d?Yn(t,x,r,p):l?Xn(t,x,r,l,p):f?Jn(t,x,r,S.lineClipsArray.length):qn(t,x,r);if(d)h.activeTexture.set(g.TEXTURE0),x.imageAtlasTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE),C.updatePaintBuffers(p);else if(l&&(E||t.lineAtlas.dirty))h.activeTexture.set(g.TEXTURE0),t.lineAtlas.bind(h);else if(f){var M=S.gradients[r.id],N=M.texture;if(r.gradientVersion!==M.version){var P=256;if(r.stepInterpolant){var F=n.getSource().maxzoom,ee=b.canonical.z===F?Math.ceil(1<<t.transform.maxZoom-b.canonical.z):1;P=e.clamp(e.nextPowerOfTwo(S.maxLineLength/e.EXTENT*1024*ee),256,h.maxTextureSize)}M.gradient=e.renderColorRamp({expression:r.gradientExpression(),evaluationKey:`lineProgress`,resolution:P,image:M.gradient||void 0,clips:S.lineClipsArray}),M.texture?M.texture.update(M.gradient):M.texture=new e.Texture(h,M.gradient,g.RGBA),M.version=r.gradientVersion,N=M.texture}h.activeTexture.set(g.TEXTURE0),N.bind(r.stepInterpolant?g.NEAREST:g.LINEAR,g.CLAMP_TO_EDGE)}T.draw(h,g.TRIANGLES,s,t.stencilModeForClipping(b),c,He.disabled,j,r.id,S.layoutVertexBuffer,S.indexBuffer,S.segments,r.paint,t.transform.zoom,C,S.layoutVertexBuffer2),_=!1}}}}},fill:function(t,n,r,i){var a=r.paint.get(`fill-color`),o=r.paint.get(`fill-opacity`);if(o.constantOr(1)!==0){var s=t.colorModeForRenderPass(),c=r.paint.get(`fill-pattern`),l=t.opaquePassEnabledForLayer()&&!c.constantOr(1)&&a.constantOr(e.Color.transparent).a===1&&o.constantOr(0)===1?`opaque`:`translucent`;if(t.renderPass===l){var u=t.depthModeForSublayer(1,t.renderPass===`opaque`?ze.ReadWrite:ze.ReadOnly);hr(t,n,r,i,u,s,!1)}if(t.renderPass===`translucent`&&r.paint.get(`fill-antialias`)){var d=t.depthModeForSublayer(r.getPaintProperty(`fill-outline-color`)?2:0,ze.ReadOnly);hr(t,n,r,i,d,s,!0)}}},"fill-extrusion":function(e,t,n,r){var i=n.paint.get(`fill-extrusion-opacity`);if(i!==0&&e.renderPass===`translucent`){var a=new ze(e.context.gl.LEQUAL,ze.ReadWrite,e.depthRangeFor3D);if(i!==1||n.paint.get(`fill-extrusion-pattern`).constantOr(1))gr(e,t,n,r,a,Be.disabled,Ve.disabled),gr(e,t,n,r,a,e.stencilModeFor3D(),e.colorModeForRenderPass());else{var o=e.colorModeForRenderPass();gr(e,t,n,r,a,Be.disabled,o)}}},hillshade:function(e,t,n,r){if(e.renderPass===`offscreen`||e.renderPass===`translucent`){for(var i=e.context,a=e.depthModeForSublayer(0,ze.ReadOnly),o=e.colorModeForRenderPass(),s=e.renderPass===`translucent`?e.stencilConfigForOverlap(r):[{},r],c=s[0],l=0,u=s[1];l<u.length;l+=1){var d=u[l],f=t.getTile(d);f.needsHillshadePrepare&&e.renderPass===`offscreen`?vr(e,f,n,a,Be.disabled,o):e.renderPass===`translucent`&&_r(e,f,n,a,c[d.overscaledZ],o)}i.viewport.set([0,0,e.width,e.height])}},raster:function(e,t,n,r){if(e.renderPass===`translucent`&&n.paint.get(`raster-opacity`)!==0&&r.length)for(var i=e.context,a=i.gl,o=t.getSource(),s=e.useProgram(`raster`),c=e.colorModeForRenderPass(),l=o instanceof M?[{},r]:e.stencilConfigForOverlap(r),u=l[0],d=l[1],f=d[d.length-1].overscaledZ,p=!e.options.moving,m=0,h=d;m<h.length;m+=1){var g=h[m],_=e.depthModeForSublayer(g.overscaledZ-f,n.paint.get(`raster-opacity`)===1?ze.ReadWrite:ze.ReadOnly,a.LESS),v=t.getTile(g),y=e.transform.calculatePosMatrix(g.toUnwrapped(),p);v.registerFadeDuration(n.paint.get(`raster-fade-duration`));var b=t.findLoadedParent(g,0),x=yr(v,b,t,n,e.transform),S=void 0,C=void 0,w=n.paint.get(`raster-resampling`)===`nearest`?a.NEAREST:a.LINEAR;i.activeTexture.set(a.TEXTURE0),v.texture.bind(w,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(a.TEXTURE1),b?(b.texture.bind(w,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),S=2**(b.tileID.overscaledZ-v.tileID.overscaledZ),C=[v.tileID.canonical.x*S%1,v.tileID.canonical.y*S%1]):v.texture.bind(w,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST);var T=$n(y,C||[0,0],S||1,x,n);o instanceof M?s.draw(i,a.TRIANGLES,_,Be.disabled,c,He.disabled,T,n.id,o.boundsBuffer,e.quadTriangleIndexBuffer,o.boundsSegments):s.draw(i,a.TRIANGLES,_,u[g.overscaledZ],c,He.disabled,T,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}},background:function(e,t,n){var r=n.paint.get(`background-color`),i=n.paint.get(`background-opacity`);if(i!==0){var a=e.context,o=a.gl,s=e.transform,c=s.tileSize,l=n.paint.get(`background-pattern`);if(!e.isPatternMissing(l)){var u=!l&&r.a===1&&i===1&&e.opaquePassEnabledForLayer()?`opaque`:`translucent`;if(e.renderPass===u){var d=Be.disabled,f=e.depthModeForSublayer(0,u===`opaque`?ze.ReadWrite:ze.ReadOnly),p=e.colorModeForRenderPass(),m=e.useProgram(l?`backgroundPattern`:`background`),h=s.coveringTiles({tileSize:c});l&&(a.activeTexture.set(o.TEXTURE0),e.imageManager.bind(e.context));for(var g=n.getCrossfadeParameters(),_=0,v=h;_<v.length;_+=1){var y=v[_],b=e.transform.calculatePosMatrix(y.toUnwrapped()),x=l?or(b,i,e,l,{tileID:y,tileSize:c},g):ar(b,i,r);m.draw(a,o.TRIANGLES,f,d,p,He.disabled,x,n.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}}}},debug:function(e,t,n){for(var r=0;r<n.length;r++)Or(e,t,n[r])},custom:function(e,t,n){var r=e.context,i=n.implementation;if(e.renderPass===`offscreen`){var a=i.prerender;a&&(e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),a.call(i,r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState())}else if(e.renderPass===`translucent`){e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),r.setStencilMode(Be.disabled);var o=i.renderingMode===`3d`?new ze(e.context.gl.LEQUAL,ze.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,ze.ReadOnly);r.setDepthMode(o),i.render(r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState(),r.bindFramebuffer.set(null)}}},Ar=function(e,t){this.context=new B(e),this.transform=t,this._tileTextures={},this.setup(),this.numSublayers=V.maxUnderzooming+V.maxOverzooming+1,this.depthEpsilon=1/2**16,this.crossTileSymbolIndex=new Yt,this.gpuTimers={}};Ar.prototype.resize=function(t,n){if(this.width=t*e.browser.devicePixelRatio,this.height=n*e.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var r=0,i=this.style._order;r<i.length;r+=1)this.style._layers[i[r]].resize()},Ar.prototype.setup=function(){var t=this.context,n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(n,tn.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);var r=new e.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(r,tn.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);var i=new e.StructArrayLayout4i8;i.emplaceBack(0,0,0,0),i.emplaceBack(e.EXTENT,0,e.EXTENT,0),i.emplaceBack(0,e.EXTENT,0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(i,j.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);var a=new e.StructArrayLayout2i4;a.emplaceBack(0,0),a.emplaceBack(1,0),a.emplaceBack(0,1),a.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(a,tn.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);var o=new e.StructArrayLayout1ui2;o.emplaceBack(0),o.emplaceBack(1),o.emplaceBack(3),o.emplaceBack(2),o.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(o);var s=new e.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new e.Texture(t,{width:1,height:1,data:new Uint8Array([0,0,0,0])},t.gl.RGBA);var c=this.context.gl;this.stencilClearMode=new Be({func:c.ALWAYS,mask:0},0,255,c.ZERO,c.ZERO,c.ZERO)},Ar.prototype.clearStencil=function(){var t=this.context,n=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var r=e.create();e.ortho(r,0,this.width,this.height,0,0,1),e.scale(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram(`clippingMask`).draw(t,n.TRIANGLES,ze.disabled,this.stencilClearMode,Ve.disabled,He.disabled,Gn(r),`$clipping`,this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Ar.prototype._renderTileClippingMasks=function(e,t){if(this.currentStencilSource!==e.source&&e.isTileClipped()&&t&&t.length){this.currentStencilSource=e.source;var n=this.context,r=n.gl;this.nextStencilID+t.length>256&&this.clearStencil(),n.setColorMode(Ve.disabled),n.setDepthMode(ze.disabled);var i=this.useProgram(`clippingMask`);this._tileClippingMaskIDs={};for(var a=0,o=t;a<o.length;a+=1){var s=o[a],c=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;i.draw(n,r.TRIANGLES,ze.disabled,new Be({func:r.ALWAYS,mask:0},c,255,r.KEEP,r.KEEP,r.REPLACE),Ve.disabled,He.disabled,Gn(s.posMatrix),`$clipping`,this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Ar.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var e=this.nextStencilID++,t=this.context.gl;return new Be({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)},Ar.prototype.stencilModeForClipping=function(e){var t=this.context.gl;return new Be({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)},Ar.prototype.stencilConfigForOverlap=function(e){var t,n=this.context.gl,r=e.sort((function(e,t){return t.overscaledZ-e.overscaledZ})),i=r[r.length-1].overscaledZ,a=r[0].overscaledZ-i+1;if(a>1){this.currentStencilSource=void 0,this.nextStencilID+a>256&&this.clearStencil();for(var o={},s=0;s<a;s++)o[s+i]=new Be({func:n.GEQUAL,mask:255},s+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=a,[o,r]}return[(t={},t[i]=Be.disabled,t),r]},Ar.prototype.colorModeForRenderPass=function(){var t=this.context.gl;return this._showOverdrawInspector?new Ve([t.CONSTANT_COLOR,t.ONE],new e.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):this.renderPass===`opaque`?Ve.unblended:Ve.alphaBlended},Ar.prototype.depthModeForSublayer=function(e,t,n){if(!this.opaquePassEnabledForLayer())return ze.disabled;var r=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new ze(n||this.context.gl.LEQUAL,t,[r,r])},Ar.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Ar.prototype.render=function(t,n){var r=this;this.style=t,this.options=n,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.browser.now()),this.imageManager.beginFrame();var i=this.style._order,a=this.style.sourceCaches;for(var o in a){var s=a[o];s.used&&s.prepare(this.context)}var c,l,u={},d={},f={};for(var p in a){var m=a[p];u[p]=m.getVisibleCoordinates(),d[p]=u[p].slice().reverse(),f[p]=m.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var h=0;h<i.length;h++)if(this.style._layers[i[h]].is3D()){this.opaquePassCutoff=h;break}this.renderPass=`offscreen`;for(var g=0,_=i;g<_.length;g+=1){var v=this.style._layers[_[g]];if(v.hasOffscreenPass()&&!v.isHidden(this.transform.zoom)){var y=d[v.source];(v.type===`custom`||y.length)&&this.renderLayer(this,a[v.source],v,y)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass=`opaque`,this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){var b=this.style._layers[i[this.currentLayer]],x=a[b.source],S=u[b.source];this._renderTileClippingMasks(b,S),this.renderLayer(this,x,b,S)}for(this.renderPass=`translucent`,this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){var C=this.style._layers[i[this.currentLayer]],w=a[C.source],T=(C.type===`symbol`?f:d)[C.source];this._renderTileClippingMasks(C,u[C.source]),this.renderLayer(this,w,C,T)}this.options.showTileBoundaries&&(e.values(this.style._layers).forEach((function(e){e.source&&!e.isHidden(r.transform.zoom)&&(e.source!==(l&&l.id)&&(l=r.style.sourceCaches[e.source]),(!c||c.getSource().maxzoom<l.getSource().maxzoom)&&(c=l))})),c&&kr.debug(this,c,c.getVisibleCoordinates())),this.options.showPadding&&function(e){var t=e.transform.padding;Tr(e,e.transform.height-(t.top||0),3,br),Tr(e,t.bottom||0,3,xr),Er(e,t.left||0,3,Sr),Er(e,e.transform.width-(t.right||0),3,Cr);var n=e.transform.centerPoint;(function(e,t,n,r){Dr(e,t-1,n-10,2,20,r),Dr(e,t-10,n-1,20,2,r)})(e,n.x,e.transform.height-n.y,wr)}(this),this.context.setDefault()},Ar.prototype.renderLayer=function(e,t,n,r){n.isHidden(this.transform.zoom)||(n.type===`background`||n.type===`custom`||r.length)&&(this.id=n.id,this.gpuTimingStart(n),kr[n.type](e,t,n,r,this.style.placement.variableOffsets),this.gpuTimingEnd())},Ar.prototype.gpuTimingStart=function(e){if(this.options.gpuTiming){var t=this.context.extTimerQuery,n=this.gpuTimers[e.id];n||=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()},n.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,n.query)}},Ar.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}},Ar.prototype.collectGpuTimers=function(){var e=this.gpuTimers;return this.gpuTimers={},e},Ar.prototype.queryGpuTimers=function(e){var t={};for(var n in e){var r=e[n],i=this.context.extTimerQuery,a=i.getQueryObjectEXT(r.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(r.query),t[n]=a}return t},Ar.prototype.translatePosMatrix=function(t,n,r,i,a){if(!r[0]&&!r[1])return t;var o=a?i===`map`?this.transform.angle:0:i===`viewport`?-this.transform.angle:0;if(o){var s=Math.sin(o),c=Math.cos(o);r=[r[0]*c-r[1]*s,r[0]*s+r[1]*c]}var l=[a?r[0]:Ct(n,r[0],this.transform.zoom),a?r[1]:Ct(n,r[1],this.transform.zoom),0],u=new Float32Array(16);return e.translate(u,t,l),u},Ar.prototype.saveTileTexture=function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]},Ar.prototype.getTileTexture=function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null},Ar.prototype.isPatternMissing=function(e){if(!e)return!1;if(!e.from||!e.to)return!0;var t=this.imageManager.getPattern(e.from.toString()),n=this.imageManager.getPattern(e.to.toString());return!t||!n},Ar.prototype.useProgram=function(e,t){this.cache=this.cache||{};var n=``+e+(t?t.cacheKey:``)+(this._showOverdrawInspector?`/overdraw`:``);return this.cache[n]||(this.cache[n]=new Nn(this.context,e,An[e],t,sr[e],this._showOverdrawInspector)),this.cache[n]},Ar.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Ar.prototype.setBaseState=function(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)},Ar.prototype.initDebugOverlayCanvas=function(){this.debugOverlayCanvas??(this.debugOverlayCanvas=e.window.document.createElement(`canvas`),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},Ar.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var jr=function(e,t){this.points=e,this.planes=t};jr.fromInvProjectionMatrix=function(t,n,r){var i=2**r,a=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(n){return e.transformMat4([],n,t)})).map((function(t){return e.scale$1([],t,1/t[3]/n*i)})),o=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(t){var n=e.sub([],a[t[0]],a[t[1]]),r=e.sub([],a[t[2]],a[t[1]]),i=e.normalize([],e.cross([],n,r)),o=-e.dot(i,a[t[1]]);return i.concat(o)}));return new jr(a,o)};var Mr=function(t,n){this.min=t,this.max=n,this.center=e.scale$2([],e.add([],this.min,this.max),.5)};Mr.prototype.quadrant=function(t){for(var n=[t%2==0,t<2],r=e.clone$2(this.min),i=e.clone$2(this.max),a=0;a<n.length;a++)r[a]=n[a]?this.min[a]:this.center[a],i[a]=n[a]?this.center[a]:this.max[a];return i[2]=this.max[2],new Mr(r,i)},Mr.prototype.distanceX=function(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]},Mr.prototype.distanceY=function(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]},Mr.prototype.intersects=function(t){for(var n=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],r=!0,i=0;i<t.planes.length;i++){for(var a=t.planes[i],o=0,s=0;s<n.length;s++)o+=e.dot$1(a,n[s])>=0;if(o===0)return 0;o!==n.length&&(r=!1)}if(r)return 2;for(var c=0;c<3;c++){for(var l=Number.MAX_VALUE,u=-Number.MAX_VALUE,d=0;d<t.points.length;d++){var f=t.points[d][c]-this.min[c];l=Math.min(l,f),u=Math.max(u,f)}if(u<0||l>this.max[c]-this.min[c])return 0}return 1};var Nr=function(e,t,n,r){if(e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),isNaN(e)||e<0||isNaN(t)||t<0||isNaN(n)||n<0||isNaN(r)||r<0)throw Error(`Invalid value for edge-insets, top, bottom, left and right must all be numbers`);this.top=e,this.bottom=t,this.left=n,this.right=r};Nr.prototype.interpolate=function(t,n,r){return n.top!=null&&t.top!=null&&(this.top=e.number(t.top,n.top,r)),n.bottom!=null&&t.bottom!=null&&(this.bottom=e.number(t.bottom,n.bottom,r)),n.left!=null&&t.left!=null&&(this.left=e.number(t.left,n.left,r)),n.right!=null&&t.right!=null&&(this.right=e.number(t.right,n.right,r)),this},Nr.prototype.getCenter=function(t,n){var r=e.clamp((this.left+t-this.right)/2,0,t),i=e.clamp((this.top+n-this.bottom)/2,0,n);return new e.Point(r,i)},Nr.prototype.equals=function(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right},Nr.prototype.clone=function(){return new Nr(this.top,this.bottom,this.left,this.right)},Nr.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Pr=function(t,n,r,i,a){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=a===void 0||a,this._minZoom=t||0,this._maxZoom=n||22,this._minPitch=r??0,this._maxPitch=i??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Nr,this._posMatrixCache={},this._alignedPosMatrixCache={}},Fr={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Pr.prototype.clone=function(){var e=new Pr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._calcMatrices(),e},Fr.minZoom.get=function(){return this._minZoom},Fr.minZoom.set=function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))},Fr.maxZoom.get=function(){return this._maxZoom},Fr.maxZoom.set=function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))},Fr.minPitch.get=function(){return this._minPitch},Fr.minPitch.set=function(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))},Fr.maxPitch.get=function(){return this._maxPitch},Fr.maxPitch.set=function(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))},Fr.renderWorldCopies.get=function(){return this._renderWorldCopies},Fr.renderWorldCopies.set=function(e){e===void 0?e=!0:e===null&&(e=!1),this._renderWorldCopies=e},Fr.worldSize.get=function(){return this.tileSize*this.scale},Fr.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Fr.size.get=function(){return new e.Point(this.width,this.height)},Fr.bearing.get=function(){return-this.angle/Math.PI*180},Fr.bearing.set=function(t){var n=-e.wrap(t,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=e.create$2(),e.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Fr.pitch.get=function(){return this._pitch/Math.PI*180},Fr.pitch.set=function(t){var n=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())},Fr.fov.get=function(){return this._fov/Math.PI*180},Fr.fov.set=function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())},Fr.zoom.get=function(){return this._zoom},Fr.zoom.set=function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())},Fr.center.get=function(){return this._center},Fr.center.set=function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())},Fr.padding.get=function(){return this._edgeInsets.toJSON()},Fr.padding.set=function(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())},Fr.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Pr.prototype.isPaddingEqual=function(e){return this._edgeInsets.equals(e)},Pr.prototype.interpolatePadding=function(e,t,n){this._unmodified=!1,this._edgeInsets.interpolate(e,t,n),this._constrain(),this._calcMatrices()},Pr.prototype.coveringZoomLevel=function(e){var t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)},Pr.prototype.getVisibleUnwrappedCoordinates=function(t){var n=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies)for(var r=this.pointCoordinate(new e.Point(0,0)),i=this.pointCoordinate(new e.Point(this.width,0)),a=this.pointCoordinate(new e.Point(this.width,this.height)),o=this.pointCoordinate(new e.Point(0,this.height)),s=Math.floor(Math.min(r.x,i.x,a.x,o.x)),c=Math.floor(Math.max(r.x,i.x,a.x,o.x)),l=s-1;l<=c+1;l++)l!==0&&n.push(new e.UnwrappedTileID(l,t));return n},Pr.prototype.coveringTiles=function(t){var n=this.coveringZoomLevel(t),r=n;if(t.minzoom!==void 0&&n<t.minzoom)return[];t.maxzoom!==void 0&&n>t.maxzoom&&(n=t.maxzoom);var i=e.MercatorCoordinate.fromLngLat(this.center),a=2**n,o=[a*i.x,a*i.y,0],s=jr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n),c=t.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(c=n);var l=function(e){return{aabb:new Mr([e*a,0,0],[(e+1)*a,a,0]),zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}},u=[],d=[],f=n,p=t.reparseOverscaled?r:n;if(this._renderWorldCopies)for(var m=1;m<=3;m++)u.push(l(-m)),u.push(l(m));for(u.push(l(0));u.length>0;){var h=u.pop(),g=h.x,_=h.y,v=h.fullyVisible;if(!v){var y=h.aabb.intersects(s);if(y===0)continue;v=y===2}var b=h.aabb.distanceX(o),x=h.aabb.distanceY(o),S=Math.max(Math.abs(b),Math.abs(x));if(h.zoom===f||S>3+(1<<f-h.zoom)-2&&h.zoom>=c)d.push({tileID:new e.OverscaledTileID(h.zoom===f?p:h.zoom,h.wrap,h.zoom,g,_),distanceSq:e.sqrLen([o[0]-.5-g,o[1]-.5-_])});else for(var C=0;C<4;C++){var w=(g<<1)+C%2,T=(_<<1)+(C>>1);u.push({aabb:h.aabb.quadrant(C),zoom:h.zoom+1,x:w,y:T,wrap:h.wrap,fullyVisible:v})}}return d.sort((function(e,t){return e.distanceSq-t.distanceSq})).map((function(e){return e.tileID}))},Pr.prototype.resize=function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()},Fr.unmodified.get=function(){return this._unmodified},Pr.prototype.zoomScale=function(e){return 2**e},Pr.prototype.scaleZoom=function(e){return Math.log(e)/Math.LN2},Pr.prototype.project=function(t){var n=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.Point(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(n)*this.worldSize)},Pr.prototype.unproject=function(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()},Fr.point.get=function(){return this.project(this.center)},Pr.prototype.setLocationAtPoint=function(t,n){var r=this.pointCoordinate(n),i=this.pointCoordinate(this.centerPoint),a=this.locationCoordinate(t),o=new e.MercatorCoordinate(a.x-(r.x-i.x),a.y-(r.y-i.y));this.center=this.coordinateLocation(o),this._renderWorldCopies&&(this.center=this.center.wrap())},Pr.prototype.locationPoint=function(e){return this.coordinatePoint(this.locationCoordinate(e))},Pr.prototype.pointLocation=function(e){return this.coordinateLocation(this.pointCoordinate(e))},Pr.prototype.locationCoordinate=function(t){return e.MercatorCoordinate.fromLngLat(t)},Pr.prototype.coordinateLocation=function(e){return e.toLngLat()},Pr.prototype.pointCoordinate=function(t){var n=[t.x,t.y,0,1],r=[t.x,t.y,1,1];e.transformMat4(n,n,this.pixelMatrixInverse),e.transformMat4(r,r,this.pixelMatrixInverse);var i=n[3],a=r[3],o=n[1]/i,s=r[1]/a,c=n[2]/i,l=r[2]/a,u=c===l?0:(0-c)/(l-c);return new e.MercatorCoordinate(e.number(n[0]/i,r[0]/a,u)/this.worldSize,e.number(o,s,u)/this.worldSize)},Pr.prototype.coordinatePoint=function(t){var n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix),new e.Point(n[0]/n[3],n[1]/n[3])},Pr.prototype.getBounds=function(){return new e.LngLatBounds().extend(this.pointLocation(new e.Point(0,0))).extend(this.pointLocation(new e.Point(this.width,0))).extend(this.pointLocation(new e.Point(this.width,this.height))).extend(this.pointLocation(new e.Point(0,this.height)))},Pr.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new e.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Pr.prototype.setMaxBounds=function(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Pr.prototype.calculatePosMatrix=function(t,n){n===void 0&&(n=!1);var r=t.key,i=n?this._alignedPosMatrixCache:this._posMatrixCache;if(i[r])return i[r];var a=t.canonical,o=this.worldSize/this.zoomScale(a.z),s=a.x+2**a.z*t.wrap,c=e.identity(new Float64Array(16));return e.translate(c,c,[s*o,a.y*o,0]),e.scale(c,c,[o/e.EXTENT,o/e.EXTENT,1]),e.multiply(c,n?this.alignedProjMatrix:this.projMatrix,c),i[r]=new Float32Array(c),i[r]},Pr.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Pr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,n,r,i,a=-90,o=90,s=-180,c=180,l=this.size,u=this._unmodified;if(this.latRange){var d=this.latRange;a=e.mercatorYfromLat(d[1])*this.worldSize,t=(o=e.mercatorYfromLat(d[0])*this.worldSize)-a<l.y?l.y/(o-a):0}if(this.lngRange){var f=this.lngRange;s=e.mercatorXfromLng(f[0])*this.worldSize,n=(c=e.mercatorXfromLng(f[1])*this.worldSize)-s<l.x?l.x/(c-s):0}var p=this.point,m=Math.max(n||0,t||0);if(m)return this.center=this.unproject(new e.Point(n?(c+s)/2:p.x,t?(o+a)/2:p.y)),this.zoom+=this.scaleZoom(m),this._unmodified=u,void(this._constraining=!1);if(this.latRange){var h=p.y,g=l.y/2;h-g<a&&(i=a+g),h+g>o&&(i=o-g)}if(this.lngRange){var _=p.x,v=l.x/2;_-v<s&&(r=s+v),_+v>c&&(r=c-v)}r===void 0&&i===void 0||(this.center=this.unproject(new e.Point(r===void 0?p.x:r,i===void 0?p.y:i))),this._unmodified=u,this._constraining=!1}},Pr.prototype._calcMatrices=function(){if(this.height){var t=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var n=Math.PI/2+this._pitch,r=this._fov*(.5+t.y/this.height),i=Math.sin(r)*this.cameraToCenterDistance/Math.sin(e.clamp(Math.PI-n-r,.01,Math.PI-.01)),a=this.point,o=a.x,s=a.y,c=1.01*(Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance),l=this.height/50,u=new Float64Array(16);e.perspective(u,this._fov,this.width/this.height,l,c),u[8]=2*-t.x/this.width,u[9]=2*t.y/this.height,e.scale(u,u,[1,-1,1]),e.translate(u,u,[0,0,-this.cameraToCenterDistance]),e.rotateX(u,u,this._pitch),e.rotateZ(u,u,this.angle),e.translate(u,u,[-o,-s,0]),this.mercatorMatrix=e.scale([],u,[this.worldSize,this.worldSize,this.worldSize]),e.scale(u,u,[1,1,e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=u,this.invProjMatrix=e.invert([],this.projMatrix);var d=this.width%2/2,f=this.height%2/2,p=Math.cos(this.angle),m=Math.sin(this.angle),h=o-Math.round(o)+p*d+m*f,g=s-Math.round(s)+p*f+m*d,_=new Float64Array(u);if(e.translate(_,_,[h>.5?h-1:h,g>.5?g-1:g,0]),this.alignedProjMatrix=_,u=e.create(),e.scale(u,u,[this.width/2,-this.height/2,1]),e.translate(u,u,[1,-1,0]),this.labelPlaneMatrix=u,u=e.create(),e.scale(u,u,[1,-1,1]),e.translate(u,u,[-1,-1,0]),e.scale(u,u,[2/this.width,2/this.height,1]),this.glCoordMatrix=u,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(u=e.invert(new Float64Array(16),this.pixelMatrix)))throw Error(`failed to invert matrix`);this.pixelMatrixInverse=u,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Pr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var t=this.pointCoordinate(new e.Point(0,0)),n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance},Pr.prototype.getCameraPoint=function(){var t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.Point(0,t))},Pr.prototype.getCameraQueryGeometry=function(t){var n=this.getCameraPoint();if(t.length===1)return[t[0],n];for(var r=n.x,i=n.y,a=n.x,o=n.y,s=0,c=t;s<c.length;s+=1){var l=c[s];r=Math.min(r,l.x),i=Math.min(i,l.y),a=Math.max(a,l.x),o=Math.max(o,l.y)}return[new e.Point(r,i),new e.Point(a,i),new e.Point(a,o),new e.Point(r,o),new e.Point(r,i)]},Object.defineProperties(Pr.prototype,Fr);var Ir=function(t){var n,r,i,a;this._hashName=t&&encodeURIComponent(t),e.bindAll([`_getCurrentHash`,`_onHashChange`,`_updateHash`],this),this._updateHash=(n=this._updateHashUnthrottled.bind(this),r=!1,i=null,a=function(){i=null,r&&=(n(),i=setTimeout(a,300),!1)},function(){return r=!0,i||a(),i})};Ir.prototype.addTo=function(t){return this._map=t,e.window.addEventListener(`hashchange`,this._onHashChange,!1),this._map.on(`moveend`,this._updateHash),this},Ir.prototype.remove=function(){return e.window.removeEventListener(`hashchange`,this._onHashChange,!1),this._map.off(`moveend`,this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Ir.prototype.getHashString=function(t){var n=this._map.getCenter(),r=Math.round(100*this._map.getZoom())/100,i=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),a=10**i,o=Math.round(n.lng*a)/a,s=Math.round(n.lat*a)/a,c=this._map.getBearing(),l=this._map.getPitch(),u=``;if(u+=t?`/`+o+`/`+s+`/`+r:r+`/`+s+`/`+o,(c||l)&&(u+=`/`+Math.round(10*c)/10),l&&(u+=`/`+Math.round(l)),this._hashName){var d=this._hashName,f=!1,p=e.window.location.hash.slice(1).split(`&`).map((function(e){var t=e.split(`=`)[0];return t===d?(f=!0,t+`=`+u):e})).filter((function(e){return e}));return f||p.push(d+`=`+u),`#`+p.join(`&`)}return`#`+u},Ir.prototype._getCurrentHash=function(){var t,n=this,r=e.window.location.hash.replace(`#`,``);return this._hashName?(r.split(`&`).map((function(e){return e.split(`=`)})).forEach((function(e){e[0]===n._hashName&&(t=e)})),(t&&t[1]||``).split(`/`)):r.split(`/`)},Ir.prototype._onHashChange=function(){var e=this._getCurrentHash();if(e.length>=3&&!e.some((function(e){return isNaN(e)}))){var t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1},Ir.prototype._updateHashUnthrottled=function(){var t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());try{e.window.history.replaceState(e.window.history.state,null,t)}catch{}};var Lr={linearity:.3,easing:e.bezier(0,0,.3,1)},Rr=e.extend({deceleration:2500,maxSpeed:1400},Lr),zr=e.extend({deceleration:20,maxSpeed:1400},Lr),Br=e.extend({deceleration:1e3,maxSpeed:360},Lr),Vr=e.extend({deceleration:1e3,maxSpeed:90},Lr),Hr=function(e){this._map=e,this.clear()};function Ur(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function Wr(t,n,r){var i=r.maxSpeed,a=r.linearity,o=r.deceleration,s=e.clamp(t*a/(n/1e3),-i,i),c=Math.abs(s)/(o*a);return{easing:r.easing,duration:1e3*c,amount:s*(c/2)}}Hr.prototype.clear=function(){this._inertiaBuffer=[]},Hr.prototype.record=function(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.browser.now(),settings:t})},Hr.prototype._drainInertiaBuffer=function(){for(var t=this._inertiaBuffer,n=e.browser.now();t.length>0&&n-t[0].time>160;)t.shift()},Hr.prototype._onMoveEnd=function(t){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var n={zoom:0,bearing:0,pitch:0,pan:new e.Point(0,0),pinchAround:void 0,around:void 0},r=0,i=this._inertiaBuffer;r<i.length;r+=1){var a=i[r].settings;n.zoom+=a.zoomDelta||0,n.bearing+=a.bearingDelta||0,n.pitch+=a.pitchDelta||0,a.panDelta&&n.pan._add(a.panDelta),a.around&&(n.around=a.around),a.pinchAround&&(n.pinchAround=a.pinchAround)}var o=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(n.pan.mag()){var c=Wr(n.pan.mag(),o,e.extend({},Rr,t||{}));s.offset=n.pan.mult(c.amount/n.pan.mag()),s.center=this._map.transform.center,Ur(s,c)}if(n.zoom){var l=Wr(n.zoom,o,zr);s.zoom=this._map.transform.zoom+l.amount,Ur(s,l)}if(n.bearing){var u=Wr(n.bearing,o,Br);s.bearing=this._map.transform.bearing+e.clamp(u.amount,-179,179),Ur(s,u)}if(n.pitch){var d=Wr(n.pitch,o,Vr);s.pitch=this._map.transform.pitch+d.amount,Ur(s,d)}if(s.zoom||s.bearing){var f=n.pinchAround===void 0?n.around:n.pinchAround;s.around=f?this._map.unproject(f):this._map.getCenter()}return this.clear(),e.extend(s,{noMoveStart:!0})}};var Gr=function(t){function r(r,i,a,o){o===void 0&&(o={});var s=n.mousePos(i.getCanvasContainer(),a),c=i.unproject(s);t.call(this,r,e.extend({point:s,lngLat:c,originalEvent:a},o)),this._defaultPrevented=!1,this.target=i}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(e.Event),Kr=function(t){function r(r,i,a){var o=r===`touchend`?a.changedTouches:a.touches,s=n.touchPos(i.getCanvasContainer(),o),c=s.map((function(e){return i.unproject(e)})),l=s.reduce((function(e,t,n,r){return e.add(t.div(r.length))}),new e.Point(0,0)),u=i.unproject(l);t.call(this,r,{points:s,point:l,lngLats:c,lngLat:u,originalEvent:a}),this._defaultPrevented=!1}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(e.Event),qr=function(e){function t(t,n,r){e.call(this,t,{originalEvent:r}),this._defaultPrevented=!1}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={defaultPrevented:{configurable:!0}};return t.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(t.prototype,n),t}(e.Event),Jr=function(e,t){this._map=e,this._clickTolerance=t.clickTolerance};Jr.prototype.reset=function(){delete this._mousedownPos},Jr.prototype.wheel=function(e){return this._firePreventable(new qr(e.type,this._map,e))},Jr.prototype.mousedown=function(e,t){return this._mousedownPos=t,this._firePreventable(new Gr(e.type,this._map,e))},Jr.prototype.mouseup=function(e){this._map.fire(new Gr(e.type,this._map,e))},Jr.prototype.click=function(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new Gr(e.type,this._map,e))},Jr.prototype.dblclick=function(e){return this._firePreventable(new Gr(e.type,this._map,e))},Jr.prototype.mouseover=function(e){this._map.fire(new Gr(e.type,this._map,e))},Jr.prototype.mouseout=function(e){this._map.fire(new Gr(e.type,this._map,e))},Jr.prototype.touchstart=function(e){return this._firePreventable(new Kr(e.type,this._map,e))},Jr.prototype.touchmove=function(e){this._map.fire(new Kr(e.type,this._map,e))},Jr.prototype.touchend=function(e){this._map.fire(new Kr(e.type,this._map,e))},Jr.prototype.touchcancel=function(e){this._map.fire(new Kr(e.type,this._map,e))},Jr.prototype._firePreventable=function(e){if(this._map.fire(e),e.defaultPrevented)return{}},Jr.prototype.isEnabled=function(){return!0},Jr.prototype.isActive=function(){return!1},Jr.prototype.enable=function(){},Jr.prototype.disable=function(){};var U=function(e){this._map=e};U.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},U.prototype.mousemove=function(e){this._map.fire(new Gr(e.type,this._map,e))},U.prototype.mousedown=function(){this._delayContextMenu=!0},U.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Gr(`contextmenu`,this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},U.prototype.contextmenu=function(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new Gr(e.type,this._map,e)),this._map.listens(`contextmenu`)&&e.preventDefault()},U.prototype.isEnabled=function(){return!0},U.prototype.isActive=function(){return!1},U.prototype.enable=function(){},U.prototype.disable=function(){};var Yr=function(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1};function Xr(e,t){for(var n={},r=0;r<e.length;r++)n[e[r].identifier]=t[r];return n}Yr.prototype.isEnabled=function(){return!!this._enabled},Yr.prototype.isActive=function(){return!!this._active},Yr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Yr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Yr.prototype.mousedown=function(e,t){this.isEnabled()&&e.shiftKey&&e.button===0&&(n.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)},Yr.prototype.mousemoveWindow=function(e,t){if(this._active){var r=t;if(!(this._lastPos.equals(r)||!this._box&&r.dist(this._startPos)<this._clickTolerance)){var i=this._startPos;this._lastPos=r,this._box||(this._box=n.create(`div`,`mapboxgl-boxzoom`,this._container),this._container.classList.add(`mapboxgl-crosshair`),this._fireEvent(`boxzoomstart`,e));var a=Math.min(i.x,r.x),o=Math.max(i.x,r.x),s=Math.min(i.y,r.y),c=Math.max(i.y,r.y);n.setTransform(this._box,`translate(`+a+`px,`+s+`px)`),this._box.style.width=o-a+`px`,this._box.style.height=c-s+`px`}}},Yr.prototype.mouseupWindow=function(t,r){var i=this;if(this._active&&t.button===0){var a=this._startPos,o=r;if(this.reset(),n.suppressClick(),a.x!==o.x||a.y!==o.y)return this._map.fire(new e.Event(`boxzoomend`,{originalEvent:t})),{cameraAnimation:function(e){return e.fitScreenCoordinates(a,o,i._map.getBearing(),{linear:!0})}};this._fireEvent(`boxzoomcancel`,t)}},Yr.prototype.keydown=function(e){this._active&&e.keyCode===27&&(this.reset(),this._fireEvent(`boxzoomcancel`,e))},Yr.prototype.blur=function(){this.reset()},Yr.prototype.reset=function(){this._active=!1,this._container.classList.remove(`mapboxgl-crosshair`),this._box&&=(n.remove(this._box),null),n.enableDrag(),delete this._startPos,delete this._lastPos},Yr.prototype._fireEvent=function(t,n){return this._map.fire(new e.Event(t,{originalEvent:n}))};var Zr=function(e){this.reset(),this.numTouches=e.numTouches};Zr.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Zr.prototype.touchstart=function(t,n,r){(this.centroid||r.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=t.timeStamp),r.length===this.numTouches&&(this.centroid=function(t){for(var n=new e.Point(0,0),r=0,i=t;r<i.length;r+=1)n._add(i[r]);return n.div(t.length)}(n),this.touches=Xr(r,n)))},Zr.prototype.touchmove=function(e,t,n){if(!this.aborted&&this.centroid){var r=Xr(n,t);for(var i in this.touches){var a=r[i];(!a||a.dist(this.touches[i])>30)&&(this.aborted=!0)}}},Zr.prototype.touchend=function(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),n.length===0){var r=!this.aborted&&this.centroid;if(this.reset(),r)return r}};var Qr=function(e){this.singleTap=new Zr(e),this.numTaps=e.numTaps,this.reset()};Qr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Qr.prototype.touchstart=function(e,t,n){this.singleTap.touchstart(e,t,n)},Qr.prototype.touchmove=function(e,t,n){this.singleTap.touchmove(e,t,n)},Qr.prototype.touchend=function(e,t,n){var r=this.singleTap.touchend(e,t,n);if(r){var i=e.timeStamp-this.lastTime<500,a=!this.lastTap||this.lastTap.dist(r)<30;if(i&&a||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}};var $r=function(){this._zoomIn=new Qr({numTouches:1,numTaps:2}),this._zoomOut=new Qr({numTouches:2,numTaps:1}),this.reset()};$r.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},$r.prototype.touchstart=function(e,t,n){this._zoomIn.touchstart(e,t,n),this._zoomOut.touchstart(e,t,n)},$r.prototype.touchmove=function(e,t,n){this._zoomIn.touchmove(e,t,n),this._zoomOut.touchmove(e,t,n)},$r.prototype.touchend=function(e,t,n){var r=this,i=this._zoomIn.touchend(e,t,n),a=this._zoomOut.touchend(e,t,n);return i?(this._active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(i)},{originalEvent:e})}}):a?(this._active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(a)},{originalEvent:e})}}):void 0},$r.prototype.touchcancel=function(){this.reset()},$r.prototype.enable=function(){this._enabled=!0},$r.prototype.disable=function(){this._enabled=!1,this.reset()},$r.prototype.isEnabled=function(){return this._enabled},$r.prototype.isActive=function(){return this._active};var ei={0:1,2:2},W=function(e){this.reset(),this._clickTolerance=e.clickTolerance||1};W.prototype.blur=function(){this.reset()},W.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},W.prototype._correctButton=function(e,t){return!1},W.prototype._move=function(e,t){return{}},W.prototype.mousedown=function(e,t){if(!this._lastPoint){var r=n.mouseButton(e);this._correctButton(e,r)&&(this._lastPoint=t,this._eventButton=r)}},W.prototype.mousemoveWindow=function(e,t){var n=this._lastPoint;if(n){if(e.preventDefault(),function(e,t){var n=ei[t];return e.buttons===void 0||(e.buttons&n)!==n}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(n,t)}},W.prototype.mouseupWindow=function(e){this._lastPoint&&n.mouseButton(e)===this._eventButton&&(this._moved&&n.suppressClick(),this.reset())},W.prototype.enable=function(){this._enabled=!0},W.prototype.disable=function(){this._enabled=!1,this.reset()},W.prototype.isEnabled=function(){return this._enabled},W.prototype.isActive=function(){return this._active};var ti=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.mousedown=function(t,n){e.prototype.mousedown.call(this,t,n),this._lastPoint&&(this._active=!0)},t.prototype._correctButton=function(e,t){return t===0&&!e.ctrlKey},t.prototype._move=function(e,t){return{around:t,panDelta:t.sub(e)}},t}(W),ni=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._correctButton=function(e,t){return t===0&&e.ctrlKey||t===2},t.prototype._move=function(e,t){var n=.8*(t.x-e.x);if(n)return this._active=!0,{bearingDelta:n}},t.prototype.contextmenu=function(e){e.preventDefault()},t}(W),ri=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._correctButton=function(e,t){return t===0&&e.ctrlKey||t===2},t.prototype._move=function(e,t){var n=-.5*(t.y-e.y);if(n)return this._active=!0,{pitchDelta:n}},t.prototype.contextmenu=function(e){e.preventDefault()},t}(W),ii=function(e){this._minTouches=1,this._clickTolerance=e.clickTolerance||1,this.reset()};ii.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new e.Point(0,0)},ii.prototype.touchstart=function(e,t,n){return this._calculateTransform(e,t,n)},ii.prototype.touchmove=function(e,t,n){if(this._active&&!(n.length<this._minTouches))return e.preventDefault(),this._calculateTransform(e,t,n)},ii.prototype.touchend=function(e,t,n){this._calculateTransform(e,t,n),this._active&&n.length<this._minTouches&&this.reset()},ii.prototype.touchcancel=function(){this.reset()},ii.prototype._calculateTransform=function(t,n,r){r.length>0&&(this._active=!0);var i=Xr(r,n),a=new e.Point(0,0),o=new e.Point(0,0),s=0;for(var c in i){var l=i[c],u=this._touches[c];u&&(a._add(l),o._add(l.sub(u)),s++,i[c]=l)}if(this._touches=i,!(s<this._minTouches)&&o.mag()){var d=o.div(s);if(this._sum._add(d),!(this._sum.mag()<this._clickTolerance))return{around:a.div(s),panDelta:d}}},ii.prototype.enable=function(){this._enabled=!0},ii.prototype.disable=function(){this._enabled=!1,this.reset()},ii.prototype.isEnabled=function(){return this._enabled},ii.prototype.isActive=function(){return this._active};var ai=function(){this.reset()};function oi(e,t,n){for(var r=0;r<e.length;r++)if(e[r].identifier===n)return t[r]}function si(e,t){return Math.log(e/t)/Math.LN2}ai.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},ai.prototype._start=function(e){},ai.prototype._move=function(e,t,n){return{}},ai.prototype.touchstart=function(e,t,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([t[0],t[1]]))},ai.prototype.touchmove=function(e,t,n){if(this._firstTwoTouches){e.preventDefault();var r=this._firstTwoTouches,i=r[1],a=oi(n,t,r[0]),o=oi(n,t,i);if(a&&o){var s=this._aroundCenter?null:a.add(o).div(2);return this._move([a,o],s,e)}}},ai.prototype.touchend=function(e,t,r){if(this._firstTwoTouches){var i=this._firstTwoTouches,a=i[1],o=oi(r,t,i[0]),s=oi(r,t,a);o&&s||(this._active&&n.suppressClick(),this.reset())}},ai.prototype.touchcancel=function(){this.reset()},ai.prototype.enable=function(e){this._enabled=!0,this._aroundCenter=!!e&&e.around===`center`},ai.prototype.disable=function(){this._enabled=!1,this.reset()},ai.prototype.isEnabled=function(){return this._enabled},ai.prototype.isActive=function(){return this._active};var ci=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),delete this._distance,delete this._startDistance},t.prototype._start=function(e){this._startDistance=this._distance=e[0].dist(e[1])},t.prototype._move=function(e,t){var n=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(si(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:si(this._distance,n),pinchAround:t}},t}(ai);function li(e,t){return 180*e.angleWith(t)/Math.PI}var ui=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},t.prototype._start=function(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])},t.prototype._move=function(e,t){var n=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:li(this._vector,n),pinchAround:t}},t.prototype._isBelowThreshold=function(e){this._minDiameter=Math.min(this._minDiameter,e.mag());var t=25/(Math.PI*this._minDiameter)*360,n=li(e,this._startVector);return Math.abs(n)<t},t}(ai);function di(e){return Math.abs(e.y)>Math.abs(e.x)}var fi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},t.prototype._start=function(e){this._lastPoints=e,di(e[0].sub(e[1]))&&(this._valid=!1)},t.prototype._move=function(e,t,n){var r=e[0].sub(this._lastPoints[0]),i=e[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(r,i,n.timeStamp),this._valid)return this._lastPoints=e,this._active=!0,{pitchDelta:(r.y+i.y)/2*-.5}},t.prototype.gestureBeginsVertically=function(e,t,n){if(this._valid!==void 0)return this._valid;var r=e.mag()>=2,i=t.mag()>=2;if(r||i){if(!r||!i)return this._firstMove===void 0&&(this._firstMove=n),n-this._firstMove<100&&void 0;var a=e.y>0==t.y>0;return di(e)&&di(t)&&a}},t}(ai),pi={panStep:100,bearingStep:15,pitchStep:10},mi=function(){var e=pi;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1};function hi(e){return e*(2-e)}mi.prototype.blur=function(){this.reset()},mi.prototype.reset=function(){this._active=!1},mi.prototype.keydown=function(e){var t=this;if(!(e.altKey||e.ctrlKey||e.metaKey)){var n=0,r=0,i=0,a=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),a=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),a=1);break;case 38:e.shiftKey?i=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?i=-1:(e.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(r=0,i=0),{cameraAnimation:function(s){var c=s.getZoom();s.easeTo({duration:300,easeId:`keyboardHandler`,easing:hi,zoom:n?Math.round(c)+n*(e.shiftKey?2:1):c,bearing:s.getBearing()+r*t._bearingStep,pitch:s.getPitch()+i*t._pitchStep,offset:[-a*t._panStep,-o*t._panStep],center:s.getCenter()},{originalEvent:e})}}}},mi.prototype.enable=function(){this._enabled=!0},mi.prototype.disable=function(){this._enabled=!1,this.reset()},mi.prototype.isEnabled=function(){return this._enabled},mi.prototype.isActive=function(){return this._active},mi.prototype.disableRotation=function(){this._rotationDisabled=!0},mi.prototype.enableRotation=function(){this._rotationDisabled=!1};var gi=function(t,n){this._map=t,this._el=t.getCanvasContainer(),this._handler=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,e.bindAll([`_onTimeout`],this)};gi.prototype.setZoomRate=function(e){this._defaultZoomRate=e},gi.prototype.setWheelZoomRate=function(e){this._wheelZoomRate=e},gi.prototype.isEnabled=function(){return!!this._enabled},gi.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},gi.prototype.isZooming=function(){return!!this._zooming},gi.prototype.enable=function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&e.around===`center`)},gi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},gi.prototype.wheel=function(t){if(this.isEnabled()){var n=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,r=e.browser.now(),i=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,n!==0&&n%4.000244140625==0?this._type=`wheel`:n!==0&&Math.abs(n)<4?this._type=`trackpad`:i>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(i*n)<200?`trackpad`:`wheel`,this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),t.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=t,this._delta-=n,this._active||this._start(t)),t.preventDefault()}},gi.prototype._onTimeout=function(e){this._type=`wheel`,this._delta-=this._lastValue,this._active||this._start(e)},gi.prototype._start=function(t){if(this._delta){this._frameId&&=null,this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var r=n.mousePos(this._el,t);this._around=e.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(r)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},gi.prototype.renderFrame=function(){var t=this;if(this._frameId&&(this._frameId=null,this.isActive())){var n=this._map.transform;if(this._delta!==0){var r=this._type===`wheel`&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,i=2/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&i!==0&&(i=1/i);var a=typeof this._targetZoom==`number`?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(a*i))),this._type===`wheel`&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var o,s=typeof this._targetZoom==`number`?this._targetZoom:n.zoom,c=this._startZoom,l=this._easing,u=!1;if(this._type===`wheel`&&c&&l){var d=Math.min((e.browser.now()-this._lastWheelEventTime)/200,1),f=l(d);o=e.number(c,s,f),d<1?this._frameId||=!0:u=!0}else o=s,u=!0;return this._active=!0,u&&(this._active=!1,this._finishTimeout=setTimeout((function(){t._zooming=!1,t._handler._triggerRenderFrame(),delete t._targetZoom,delete t._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!u,zoomDelta:o-n.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},gi.prototype._smoothOutEasing=function(t){var n=e.ease;if(this._prevEase){var r=this._prevEase,i=(e.browser.now()-r.start)/r.duration,a=r.easing(i+.01)-r.easing(i),o=.27/Math.sqrt(a*a+1e-4)*.01,s=Math.sqrt(.0729-o*o);n=e.bezier(o,s,.25,1)}return this._prevEase={start:e.browser.now(),duration:t,easing:n},n},gi.prototype.blur=function(){this.reset()},gi.prototype.reset=function(){this._active=!1};var _i=function(e,t){this._clickZoom=e,this._tapZoom=t};_i.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},_i.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},_i.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},_i.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var vi=function(){this.reset()};vi.prototype.reset=function(){this._active=!1},vi.prototype.blur=function(){this.reset()},vi.prototype.dblclick=function(e,t){return e.preventDefault(),{cameraAnimation:function(n){n.easeTo({duration:300,zoom:n.getZoom()+(e.shiftKey?-1:1),around:n.unproject(t)},{originalEvent:e})}}},vi.prototype.enable=function(){this._enabled=!0},vi.prototype.disable=function(){this._enabled=!1,this.reset()},vi.prototype.isEnabled=function(){return this._enabled},vi.prototype.isActive=function(){return this._active};var yi=function(){this._tap=new Qr({numTouches:1,numTaps:1}),this.reset()};yi.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},yi.prototype.touchstart=function(e,t,n){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=t[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(e,t,n))},yi.prototype.touchmove=function(e,t,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;var r=t[0],i=r.y-this._swipePoint.y;return this._swipePoint=r,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(e,t,n)},yi.prototype.touchend=function(e,t,n){this._tapTime?this._swipePoint&&n.length===0&&this.reset():this._tap.touchend(e,t,n)&&(this._tapTime=e.timeStamp)},yi.prototype.touchcancel=function(){this.reset()},yi.prototype.enable=function(){this._enabled=!0},yi.prototype.disable=function(){this._enabled=!1,this.reset()},yi.prototype.isEnabled=function(){return this._enabled},yi.prototype.isActive=function(){return this._active};var bi=function(e,t,n){this._el=e,this._mousePan=t,this._touchPan=n};bi.prototype.enable=function(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add(`mapboxgl-touch-drag-pan`)},bi.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove(`mapboxgl-touch-drag-pan`)},bi.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},bi.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var xi=function(e,t,n){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=n};xi.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},xi.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},xi.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},xi.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Si=function(e,t,n,r){this._el=e,this._touchZoom=t,this._touchRotate=n,this._tapDragZoom=r,this._rotationDisabled=!1,this._enabled=!0};Si.prototype.enable=function(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add(`mapboxgl-touch-zoom-rotate`)},Si.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove(`mapboxgl-touch-zoom-rotate`)},Si.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Si.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Si.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Si.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Ci=function(e){return e.zoom||e.drag||e.pitch||e.rotate},wi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(e.Event);function G(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}var K=function(t,r){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Hr(t),this._bearingSnap=r.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(r),e.bindAll([`handleEvent`,`handleWindowEvent`],this);var i=this._el;this._listeners=[[i,`touchstart`,{passive:!0}],[i,`touchmove`,{passive:!1}],[i,`touchend`,void 0],[i,`touchcancel`,void 0],[i,`mousedown`,void 0],[i,`mousemove`,void 0],[i,`mouseup`,void 0],[e.window.document,`mousemove`,{capture:!0}],[e.window.document,`mouseup`,void 0],[i,`mouseover`,void 0],[i,`mouseout`,void 0],[i,`dblclick`,void 0],[i,`click`,void 0],[i,`keydown`,{capture:!1}],[i,`keyup`,void 0],[i,`wheel`,{passive:!1}],[i,`contextmenu`,void 0],[e.window,`blur`,void 0]];for(var a=0,o=this._listeners;a<o.length;a+=1){var s=o[a],c=s[0];n.addEventListener(c,s[1],c===e.window.document?this.handleWindowEvent:this.handleEvent,s[2])}};K.prototype.destroy=function(){for(var t=0,r=this._listeners;t<r.length;t+=1){var i=r[t],a=i[0];n.removeEventListener(a,i[1],a===e.window.document?this.handleWindowEvent:this.handleEvent,i[2])}},K.prototype._addDefaultHandlers=function(e){var t=this._map,n=t.getCanvasContainer();this._add(`mapEvent`,new Jr(t,e));var r=t.boxZoom=new Yr(t,e);this._add(`boxZoom`,r);var i=new $r,a=new vi;t.doubleClickZoom=new _i(a,i),this._add(`tapZoom`,i),this._add(`clickZoom`,a);var o=new yi;this._add(`tapDragZoom`,o);var s=t.touchPitch=new fi;this._add(`touchPitch`,s);var c=new ni(e),l=new ri(e);t.dragRotate=new xi(e,c,l),this._add(`mouseRotate`,c,[`mousePitch`]),this._add(`mousePitch`,l,[`mouseRotate`]);var u=new ti(e),d=new ii(e);t.dragPan=new bi(n,u,d),this._add(`mousePan`,u),this._add(`touchPan`,d,[`touchZoom`,`touchRotate`]);var f=new ui,p=new ci;t.touchZoomRotate=new Si(n,p,f,o),this._add(`touchRotate`,f,[`touchPan`,`touchZoom`]),this._add(`touchZoom`,p,[`touchPan`,`touchRotate`]);var m=t.scrollZoom=new gi(t,this);this._add(`scrollZoom`,m,[`mousePan`]);var h=t.keyboard=new mi;this._add(`keyboard`,h),this._add(`blockableMapEvent`,new U(t));for(var g=0,_=[`boxZoom`,`doubleClickZoom`,`tapDragZoom`,`touchPitch`,`dragRotate`,`dragPan`,`touchZoomRotate`,`scrollZoom`,`keyboard`];g<_.length;g+=1){var v=_[g];e.interactive&&e[v]&&t[v].enable(e[v])}},K.prototype._add=function(e,t,n){this._handlers.push({handlerName:e,handler:t,allowed:n}),this._handlersById[e]=t},K.prototype.stop=function(e){if(!this._updatingCamera){for(var t=0,n=this._handlers;t<n.length;t+=1)n[t].handler.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}},K.prototype.isActive=function(){for(var e=0,t=this._handlers;e<t.length;e+=1)if(t[e].handler.isActive())return!0;return!1},K.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},K.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},K.prototype.isMoving=function(){return!!Ci(this._eventsInProgress)||this.isZooming()},K.prototype._blockedByActive=function(e,t,n){for(var r in e)if(r!==n&&(!t||t.indexOf(r)<0))return!0;return!1},K.prototype.handleWindowEvent=function(e){this.handleEvent(e,e.type+`Window`)},K.prototype._getMapTouches=function(e){for(var t=[],n=0,r=e;n<r.length;n+=1){var i=r[n];this._el.contains(i.target)&&t.push(i)}return t},K.prototype.handleEvent=function(e,t){this._updatingCamera=!0;for(var r=e.type===`renderFrame`?void 0:e,i={needsRenderFrame:!1},a={},o={},s=e.touches?this._getMapTouches(e.touches):void 0,c=s?n.touchPos(this._el,s):n.mousePos(this._el,e),l=0,u=this._handlers;l<u.length;l+=1){var d=u[l],f=d.handlerName,p=d.handler,m=d.allowed;if(p.isEnabled()){var h=void 0;this._blockedByActive(o,m,f)?p.reset():p[t||e.type]&&(h=p[t||e.type](e,c,s),this.mergeHandlerResult(i,a,h,f,r),h&&h.needsRenderFrame&&this._triggerRenderFrame()),(h||p.isActive())&&(o[f]=p)}}var g={};for(var _ in this._previousActiveHandlers)o[_]||(g[_]=r);this._previousActiveHandlers=o,(Object.keys(g).length||G(i))&&(this._changes.push([i,a,g]),this._triggerRenderFrame()),(Object.keys(o).length||G(i))&&this._map._stop(!0),this._updatingCamera=!1;var v=i.cameraAnimation;v&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],v(this._map))},K.prototype.mergeHandlerResult=function(t,n,r,i,a){if(r){e.extend(t,r);var o={handlerName:i,originalEvent:r.originalEvent||a};r.zoomDelta!==void 0&&(n.zoom=o),r.panDelta!==void 0&&(n.drag=o),r.pitchDelta!==void 0&&(n.pitch=o),r.bearingDelta!==void 0&&(n.rotate=o)}},K.prototype._applyChanges=function(){for(var t={},n={},r={},i=0,a=this._changes;i<a.length;i+=1){var o=a[i],s=o[0],c=o[1],l=o[2];s.panDelta&&(t.panDelta=(t.panDelta||new e.Point(0,0))._add(s.panDelta)),s.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+s.pitchDelta),s.around!==void 0&&(t.around=s.around),s.pinchAround!==void 0&&(t.pinchAround=s.pinchAround),s.noInertia&&(t.noInertia=s.noInertia),e.extend(n,c),e.extend(r,l)}this._updateMapTransform(t,n,r),this._changes=[]},K.prototype._updateMapTransform=function(e,t,n){var r=this._map,i=r.transform;if(!G(e))return this._fireEvents(t,n,!0);var a=e.panDelta,o=e.zoomDelta,s=e.bearingDelta,c=e.pitchDelta,l=e.around,u=e.pinchAround;u!==void 0&&(l=u),r._stop(!0),l||=r.transform.centerPoint;var d=i.pointLocation(a?l.sub(a):l);s&&(i.bearing+=s),c&&(i.pitch+=c),o&&(i.zoom+=o),i.setLocationAtPoint(d,l),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,n,!0)},K.prototype._fireEvents=function(t,n,r){var i=this,a=Ci(this._eventsInProgress),o=Ci(t),s={};for(var c in t)this._eventsInProgress[c]||(s[c+`start`]=t[c].originalEvent),this._eventsInProgress[c]=t[c];for(var l in!a&&o&&this._fireEvent(`movestart`,o.originalEvent),s)this._fireEvent(l,s[l]);for(var u in o&&this._fireEvent(`move`,o.originalEvent),t)this._fireEvent(u,t[u].originalEvent);var d,f={};for(var p in this._eventsInProgress){var m=this._eventsInProgress[p],h=m.handlerName,g=m.originalEvent;this._handlersById[h].isActive()||(delete this._eventsInProgress[p],f[p+`end`]=d=n[h]||g)}for(var _ in f)this._fireEvent(_,f[_]);var v=Ci(this._eventsInProgress);if(r&&(a||o)&&!v){this._updatingCamera=!0;var y=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),b=function(e){return e!==0&&-i._bearingSnap<e&&e<i._bearingSnap};y?(b(y.bearing||this._map.getBearing())&&(y.bearing=0),this._map.easeTo(y,{originalEvent:d})):(this._map.fire(new e.Event(`moveend`,{originalEvent:d})),b(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},K.prototype._fireEvent=function(t,n){this._map.fire(new e.Event(t,n?{originalEvent:n}:{}))},K.prototype._requestFrame=function(){var e=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add((function(t){delete e._frameId,e.handleEvent(new wi(`renderFrame`,{timeStamp:t})),e._applyChanges()}))},K.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var Ti=function(t){function n(n,r){t.call(this),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=r.bearingSnap,e.bindAll([`_renderFrameCallback`],this)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getCenter=function(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)},n.prototype.setCenter=function(e,t){return this.jumpTo({center:e},t)},n.prototype.panBy=function(t,n,r){return t=e.Point.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},n),r)},n.prototype.panTo=function(t,n,r){return this.easeTo(e.extend({center:t},n),r)},n.prototype.getZoom=function(){return this.transform.zoom},n.prototype.setZoom=function(e,t){return this.jumpTo({zoom:e},t),this},n.prototype.zoomTo=function(t,n,r){return this.easeTo(e.extend({zoom:t},n),r)},n.prototype.zoomIn=function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this},n.prototype.zoomOut=function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this},n.prototype.getBearing=function(){return this.transform.bearing},n.prototype.setBearing=function(e,t){return this.jumpTo({bearing:e},t),this},n.prototype.getPadding=function(){return this.transform.padding},n.prototype.setPadding=function(e,t){return this.jumpTo({padding:e},t),this},n.prototype.rotateTo=function(t,n,r){return this.easeTo(e.extend({bearing:t},n),r)},n.prototype.resetNorth=function(t,n){return this.rotateTo(0,e.extend({duration:1e3},t),n),this},n.prototype.resetNorthPitch=function(t,n){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),n),this},n.prototype.snapToNorth=function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this},n.prototype.getPitch=function(){return this.transform.pitch},n.prototype.setPitch=function(e,t){return this.jumpTo({pitch:e},t),this},n.prototype.cameraForBounds=function(t,n){t=e.LngLatBounds.convert(t);var r=n&&n.bearing||0;return this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),r,n)},n.prototype._cameraForBoxAndBearing=function(t,n,r,i){var a={top:0,bottom:0,right:0,left:0};if(typeof(i=e.extend({padding:a,offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding==`number`){var o=i.padding;i.padding={top:o,bottom:o,right:o,left:o}}i.padding=e.extend(a,i.padding);var s=this.transform,c=s.padding,l=s.project(e.LngLat.convert(t)),u=s.project(e.LngLat.convert(n)),d=l.rotate(-r*Math.PI/180),f=u.rotate(-r*Math.PI/180),p=new e.Point(Math.max(d.x,f.x),Math.max(d.y,f.y)),m=new e.Point(Math.min(d.x,f.x),Math.min(d.y,f.y)),h=p.sub(m),g=(s.width-(c.left+c.right+i.padding.left+i.padding.right))/h.x,_=(s.height-(c.top+c.bottom+i.padding.top+i.padding.bottom))/h.y;if(!(_<0||g<0)){var v=Math.min(s.scaleZoom(s.scale*Math.min(g,_)),i.maxZoom),y=typeof i.offset.x==`number`?new e.Point(i.offset.x,i.offset.y):e.Point.convert(i.offset),b=new e.Point((i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2).rotate(r*Math.PI/180),x=y.add(b).mult(s.scale/s.zoomScale(v));return{center:s.unproject(l.add(u).div(2).sub(x)),zoom:v,bearing:r}}e.warnOnce(`Map cannot fit within canvas with the given bounds, padding, and/or offset.`)},n.prototype.fitBounds=function(e,t,n){return this._fitInternal(this.cameraForBounds(e,t),t,n)},n.prototype.fitScreenCoordinates=function(t,n,r,i,a){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.Point.convert(t)),this.transform.pointLocation(e.Point.convert(n)),r,i),i,a)},n.prototype._fitInternal=function(t,n,r){return t?(delete(n=e.extend(t,n)).padding,n.linear?this.easeTo(n,r):this.flyTo(n,r)):this},n.prototype.jumpTo=function(t,n){this.stop();var r=this.transform,i=!1,a=!1,o=!1;return`zoom`in t&&r.zoom!==+t.zoom&&(i=!0,r.zoom=+t.zoom),t.center!==void 0&&(r.center=e.LngLat.convert(t.center)),`bearing`in t&&r.bearing!==+t.bearing&&(a=!0,r.bearing=+t.bearing),`pitch`in t&&r.pitch!==+t.pitch&&(o=!0,r.pitch=+t.pitch),t.padding==null||r.isPaddingEqual(t.padding)||(r.padding=t.padding),this.fire(new e.Event(`movestart`,n)).fire(new e.Event(`move`,n)),i&&this.fire(new e.Event(`zoomstart`,n)).fire(new e.Event(`zoom`,n)).fire(new e.Event(`zoomend`,n)),a&&this.fire(new e.Event(`rotatestart`,n)).fire(new e.Event(`rotate`,n)).fire(new e.Event(`rotateend`,n)),o&&this.fire(new e.Event(`pitchstart`,n)).fire(new e.Event(`pitch`,n)).fire(new e.Event(`pitchend`,n)),this.fire(new e.Event(`moveend`,n))},n.prototype.easeTo=function(t,n){var r=this;this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.browser.prefersReducedMotion)&&(t.duration=0);var i=this.transform,a=this.getZoom(),o=this.getBearing(),s=this.getPitch(),c=this.getPadding(),l=`zoom`in t?+t.zoom:a,u=`bearing`in t?this._normalizeBearing(t.bearing,o):o,d=`pitch`in t?+t.pitch:s,f=`padding`in t?t.padding:i.padding,p=e.Point.convert(t.offset),m=i.centerPoint.add(p),h=i.pointLocation(m),g=e.LngLat.convert(t.center||h);this._normalizeCenter(g);var _,v,y=i.project(h),b=i.project(g).sub(y),x=i.zoomScale(l-a);t.around&&(_=e.LngLat.convert(t.around),v=i.locationPoint(_));var S={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||l!==a,this._rotating=this._rotating||o!==u,this._pitching=this._pitching||d!==s,this._padding=!i.isPaddingEqual(f),this._easeId=t.easeId,this._prepareEase(n,t.noMoveStart,S),this._ease((function(t){if(r._zooming&&(i.zoom=e.number(a,l,t)),r._rotating&&(i.bearing=e.number(o,u,t)),r._pitching&&(i.pitch=e.number(s,d,t)),r._padding&&(i.interpolatePadding(c,f,t),m=i.centerPoint.add(p)),_)i.setLocationAtPoint(_,v);else{var h=i.zoomScale(i.zoom-a),g=l>a?Math.min(2,x):Math.max(.5,x),S=g**(1-t),C=i.unproject(y.add(b.mult(t*S)).mult(h));i.setLocationAtPoint(i.renderWorldCopies?C.wrap():C,m)}r._fireMoveEvents(n)}),(function(e){r._afterEase(n,e)}),t),this},n.prototype._prepareEase=function(t,n,r){r===void 0&&(r={}),this._moving=!0,n||r.moving||this.fire(new e.Event(`movestart`,t)),this._zooming&&!r.zooming&&this.fire(new e.Event(`zoomstart`,t)),this._rotating&&!r.rotating&&this.fire(new e.Event(`rotatestart`,t)),this._pitching&&!r.pitching&&this.fire(new e.Event(`pitchstart`,t))},n.prototype._fireMoveEvents=function(t){this.fire(new e.Event(`move`,t)),this._zooming&&this.fire(new e.Event(`zoom`,t)),this._rotating&&this.fire(new e.Event(`rotate`,t)),this._pitching&&this.fire(new e.Event(`pitch`,t))},n.prototype._afterEase=function(t,n){if(!this._easeId||!n||this._easeId!==n){delete this._easeId;var r=this._zooming,i=this._rotating,a=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,r&&this.fire(new e.Event(`zoomend`,t)),i&&this.fire(new e.Event(`rotateend`,t)),a&&this.fire(new e.Event(`pitchend`,t)),this.fire(new e.Event(`moveend`,t))}},n.prototype.flyTo=function(t,n){var r=this;if(!t.essential&&e.browser.prefersReducedMotion){var i=e.pick(t,[`center`,`zoom`,`bearing`,`pitch`,`around`]);return this.jumpTo(i,n)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);var a=this.transform,o=this.getZoom(),s=this.getBearing(),c=this.getPitch(),l=this.getPadding(),u=`zoom`in t?e.clamp(+t.zoom,a.minZoom,a.maxZoom):o,d=`bearing`in t?this._normalizeBearing(t.bearing,s):s,f=`pitch`in t?+t.pitch:c,p=`padding`in t?t.padding:a.padding,m=a.zoomScale(u-o),h=e.Point.convert(t.offset),g=a.centerPoint.add(h),_=a.pointLocation(g),v=e.LngLat.convert(t.center||_);this._normalizeCenter(v);var y=a.project(_),b=a.project(v).sub(y),x=t.curve,S=Math.max(a.width,a.height),C=S/m,w=b.mag();if(`minZoom`in t){var T=e.clamp(Math.min(t.minZoom,o,u),a.minZoom,a.maxZoom),E=S/a.zoomScale(T-o);x=Math.sqrt(E/w*2)}var D=x*x;function O(e){var t=(C*C-S*S+(e?-1:1)*D*D*w*w)/(2*(e?C:S)*D*w);return Math.log(Math.sqrt(t*t+1)-t)}function k(e){return(Math.exp(e)-Math.exp(-e))/2}function A(e){return(Math.exp(e)+Math.exp(-e))/2}var j=O(0),M=function(e){return A(j)/A(j+x*e)},N=function(e){return S*((A(j)*(k(t=j+x*e)/A(t))-k(j))/D)/w;var t},P=(O(1)-j)/x;if(Math.abs(w)<1e-6||!isFinite(P)){if(Math.abs(S-C)<1e-6)return this.easeTo(t,n);var F=C<S?-1:1;P=Math.abs(Math.log(C/S))/x,N=function(){return 0},M=function(e){return Math.exp(F*x*e)}}return t.duration=`duration`in t?+t.duration:1e3*P/(`screenSpeed`in t?+t.screenSpeed/x:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=s!==d,this._pitching=f!==c,this._padding=!a.isPaddingEqual(p),this._prepareEase(n,!1),this._ease((function(t){var i=t*P,m=1/M(i);a.zoom=t===1?u:o+a.scaleZoom(m),r._rotating&&(a.bearing=e.number(s,d,t)),r._pitching&&(a.pitch=e.number(c,f,t)),r._padding&&(a.interpolatePadding(l,p,t),g=a.centerPoint.add(h));var _=t===1?v:a.unproject(y.add(b.mult(N(i))).mult(m));a.setLocationAtPoint(a.renderWorldCopies?_.wrap():_,g),r._fireMoveEvents(n)}),(function(){return r._afterEase(n)}),t),this},n.prototype.isEasing=function(){return!!this._easeFrameId},n.prototype.stop=function(){return this._stop()},n.prototype._stop=function(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var n=this._onEaseEnd;delete this._onEaseEnd,n.call(this,t)}if(!e){var r=this.handlers;r&&r.stop(!1)}return this},n.prototype._ease=function(t,n,r){!1===r.animate||r.duration===0?(t(1),n()):(this._easeStart=e.browser.now(),this._easeOptions=r,this._onEaseFrame=t,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},n.prototype._renderFrameCallback=function(){var t=Math.min((e.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},n.prototype._normalizeBearing=function(t,n){t=e.wrap(t,-180,180);var r=Math.abs(t-n);return Math.abs(t-360-n)<r&&(t-=360),Math.abs(t+360-n)<r&&(t+=360),t},n.prototype._normalizeCenter=function(e){var t=this.transform;if(t.renderWorldCopies&&!t.lngRange){var n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}},n}(e.Evented),Ei=function(t){t===void 0&&(t={}),this.options=t,e.bindAll([`_toggleAttribution`,`_updateEditLink`,`_updateData`,`_updateCompact`],this)};Ei.prototype.getDefaultPosition=function(){return`bottom-right`},Ei.prototype.onAdd=function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=n.create(`div`,`mapboxgl-ctrl mapboxgl-ctrl-attrib`),this._compactButton=n.create(`button`,`mapboxgl-ctrl-attrib-button`,this._container),this._compactButton.addEventListener(`click`,this._toggleAttribution),this._setElementTitle(this._compactButton,`ToggleAttribution`),this._innerContainer=n.create(`div`,`mapboxgl-ctrl-attrib-inner`,this._container),this._innerContainer.setAttribute(`role`,`list`),t&&this._container.classList.add(`mapboxgl-compact`),this._updateAttributions(),this._updateEditLink(),this._map.on(`styledata`,this._updateData),this._map.on(`sourcedata`,this._updateData),this._map.on(`moveend`,this._updateEditLink),t===void 0&&(this._map.on(`resize`,this._updateCompact),this._updateCompact()),this._container},Ei.prototype.onRemove=function(){n.remove(this._container),this._map.off(`styledata`,this._updateData),this._map.off(`sourcedata`,this._updateData),this._map.off(`moveend`,this._updateEditLink),this._map.off(`resize`,this._updateCompact),this._map=void 0,this._attribHTML=void 0},Ei.prototype._setElementTitle=function(e,t){var n=this._map._getUIString(`AttributionControl.`+t);e.title=n,e.setAttribute(`aria-label`,n)},Ei.prototype._toggleAttribution=function(){this._container.classList.contains(`mapboxgl-compact-show`)?(this._container.classList.remove(`mapboxgl-compact-show`),this._compactButton.setAttribute(`aria-pressed`,`false`)):(this._container.classList.add(`mapboxgl-compact-show`),this._compactButton.setAttribute(`aria-pressed`,`true`))},Ei.prototype._updateEditLink=function(){var t=this._editLink;t||=this._editLink=this._container.querySelector(`.mapbox-improve-map`);var n=[{key:`owner`,value:this.styleOwner},{key:`id`,value:this.styleId},{key:`access_token`,value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){var r=n.reduce((function(e,t,r){return t.value&&(e+=t.key+`=`+t.value+(r<n.length-1?`&`:``)),e}),`?`);t.href=e.config.FEEDBACK_URL+`/`+r+(this._map._hash?this._map._hash.getHashString(!0):``),t.rel=`noopener nofollow`,this._setElementTitle(t,`MapFeedback`)}},Ei.prototype._updateData=function(e){!e||e.sourceDataType!==`metadata`&&e.sourceDataType!==`visibility`&&e.dataType!==`style`||(this._updateAttributions(),this._updateEditLink())},Ei.prototype._updateAttributions=function(){if(this._map.style){var e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map((function(e){return typeof e==`string`?e:``}))):typeof this.options.customAttribution==`string`&&e.push(this.options.customAttribution)),this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var n=this._map.style.sourceCaches;for(var r in n){var i=n[r];if(i.used){var a=i.getSource();a.attribution&&e.indexOf(a.attribution)<0&&e.push(a.attribution)}}e.sort((function(e,t){return e.length-t.length}));var o=(e=e.filter((function(t,n){for(var r=n+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return!1;return!0}))).join(` | `);o!==this._attribHTML&&(this._attribHTML=o,e.length?(this._innerContainer.innerHTML=o,this._container.classList.remove(`mapboxgl-attrib-empty`)):this._container.classList.add(`mapboxgl-attrib-empty`),this._editLink=null)}},Ei.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add(`mapboxgl-compact`):this._container.classList.remove(`mapboxgl-compact`,`mapboxgl-compact-show`)};var Di=function(){e.bindAll([`_updateLogo`],this),e.bindAll([`_updateCompact`],this)};Di.prototype.onAdd=function(e){this._map=e,this._container=n.create(`div`,`mapboxgl-ctrl`);var t=n.create(`a`,`mapboxgl-ctrl-logo`);return t.target=`_blank`,t.rel=`noopener nofollow`,t.href=`https://www.mapbox.com/`,t.setAttribute(`aria-label`,this._map._getUIString(`LogoControl.Title`)),t.setAttribute(`rel`,`noopener nofollow`),this._container.appendChild(t),this._container.style.display=`none`,this._map.on(`sourcedata`,this._updateLogo),this._updateLogo(),this._map.on(`resize`,this._updateCompact),this._updateCompact(),this._container},Di.prototype.onRemove=function(){n.remove(this._container),this._map.off(`sourcedata`,this._updateLogo),this._map.off(`resize`,this._updateCompact)},Di.prototype.getDefaultPosition=function(){return`bottom-left`},Di.prototype._updateLogo=function(e){e&&e.sourceDataType!==`metadata`||(this._container.style.display=this._logoRequired()?`block`:`none`)},Di.prototype._logoRequired=function(){if(this._map.style){var e=this._map.style.sourceCaches;for(var t in e)if(e[t].getSource().mapbox_logo)return!0;return!1}},Di.prototype._updateCompact=function(){var e=this._container.children;if(e.length){var t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add(`mapboxgl-compact`):t.classList.remove(`mapboxgl-compact`)}};var Oi=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Oi.prototype.add=function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t},Oi.prototype.remove=function(e){for(var t=this._currentlyRunning,n=0,r=t?this._queue.concat(t):this._queue;n<r.length;n+=1){var i=r[n];if(i.id===e)return void(i.cancelled=!0)}},Oi.prototype.run=function(e){e===void 0&&(e=0);var t=this._currentlyRunning=this._queue;this._queue=[];for(var n=0,r=t;n<r.length;n+=1){var i=r[n];if(!i.cancelled&&(i.callback(e),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Oi.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var ki={"AttributionControl.ToggleAttribution":`Toggle attribution`,"AttributionControl.MapFeedback":`Map feedback`,"FullscreenControl.Enter":`Enter fullscreen`,"FullscreenControl.Exit":`Exit fullscreen`,"GeolocateControl.FindMyLocation":`Find my location`,"GeolocateControl.LocationNotAvailable":`Location not available`,"LogoControl.Title":`Mapbox logo`,"NavigationControl.ResetBearing":`Reset bearing to north`,"NavigationControl.ZoomIn":`Zoom in`,"NavigationControl.ZoomOut":`Zoom out`,"ScaleControl.Feet":`ft`,"ScaleControl.Meters":`m`,"ScaleControl.Kilometers":`km`,"ScaleControl.Miles":`mi`,"ScaleControl.NauticalMiles":`nm`},Ai=e.window.HTMLImageElement,ji=e.window.HTMLElement,Mi=e.window.ImageBitmap,Ni={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:`sans-serif`,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Pi=function(r){function i(t){var n=this;if((t=e.extend({},Ni,t)).minZoom!=null&&t.maxZoom!=null&&t.minZoom>t.maxZoom)throw Error(`maxZoom must be greater than or equal to minZoom`);if(t.minPitch!=null&&t.maxPitch!=null&&t.minPitch>t.maxPitch)throw Error(`maxPitch must be greater than or equal to minPitch`);if(t.minPitch!=null&&t.minPitch<0)throw Error(`minPitch must be greater than or equal to 0`);if(t.maxPitch!=null&&t.maxPitch>60)throw Error(`maxPitch must be less than or equal to 60`);var i=new Pr(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies);if(r.call(this,i,t),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new Oi,this._controls=[],this._mapId=e.uniqueId(),this._locale=e.extend({},ki,t.locale),this._clickTolerance=t.clickTolerance,this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken),typeof t.container==`string`){if(this._container=e.window.document.getElementById(t.container),!this._container)throw Error(`Container '`+t.container+`' not found.`)}else{if(!(t.container instanceof ji))throw Error(`Invalid type: 'container' must be a String or HTMLElement.`);this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll([`_onWindowOnline`,`_onWindowResize`,`_onMapScroll`,`_contextLost`,`_contextRestored`],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw Error(`Failed to initialize WebGL.`);this.on(`move`,(function(){return n._update(!1)})),this.on(`moveend`,(function(){return n._update(!1)})),this.on(`zoom`,(function(){return n._update(!0)})),e.window!==void 0&&(e.window.addEventListener(`online`,this._onWindowOnline,!1),e.window.addEventListener(`resize`,this._onWindowResize,!1),e.window.addEventListener(`orientationchange`,this._onWindowResize,!1)),this.handlers=new K(this,t),this._hash=t.hash&&new Ir(typeof t.hash==`string`&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new Ei({customAttribution:t.customAttribution})),this.addControl(new Di,t.logoPosition),this.on(`style.load`,(function(){n.transform.unmodified&&n.jumpTo(n.style.stylesheet)})),this.on(`data`,(function(t){n._update(t.dataType===`style`),n.fire(new e.Event(t.dataType+`data`,t))})),this.on(`dataloading`,(function(t){n.fire(new e.Event(t.dataType+`dataloading`,t))}))}r&&(i.__proto__=r),(i.prototype=Object.create(r&&r.prototype)).constructor=i;var a={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return i.prototype._getMapId=function(){return this._mapId},i.prototype.addControl=function(t,n){if(n===void 0&&(n=t.getDefaultPosition?t.getDefaultPosition():`top-right`),!t||!t.onAdd)return this.fire(new e.ErrorEvent(Error(`Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.`)));var r=t.onAdd(this);this._controls.push(t);var i=this._controlPositions[n];return n.indexOf(`bottom`)===-1?i.appendChild(r):i.insertBefore(r,i.firstChild),this},i.prototype.removeControl=function(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(Error(`Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.`)));var n=this._controls.indexOf(t);return n>-1&&this._controls.splice(n,1),t.onRemove(this),this},i.prototype.hasControl=function(e){return this._controls.indexOf(e)>-1},i.prototype.resize=function(t){var n=this._containerDimensions(),r=n[0],i=n[1];if(r===this.transform.width&&i===this.transform.height)return this;this._resizeCanvas(r,i),this.transform.resize(r,i),this.painter.resize(r,i);var a=!this._moving;return a&&this.fire(new e.Event(`movestart`,t)).fire(new e.Event(`move`,t)),this.fire(new e.Event(`resize`,t)),a&&this.fire(new e.Event(`moveend`,t)),this},i.prototype.getBounds=function(){return this.transform.getBounds()},i.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},i.prototype.setMaxBounds=function(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()},i.prototype.setMinZoom=function(e){if((e??=-2)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw Error(`minZoom must be between -2 and the current maxZoom, inclusive`)},i.prototype.getMinZoom=function(){return this.transform.minZoom},i.prototype.setMaxZoom=function(e){if((e??=22)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw Error(`maxZoom must be greater than the current minZoom`)},i.prototype.getMaxZoom=function(){return this.transform.maxZoom},i.prototype.setMinPitch=function(e){if((e??=0)<0)throw Error(`minPitch must be greater than or equal to 0`);if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw Error(`minPitch must be between 0 and the current maxPitch, inclusive`)},i.prototype.getMinPitch=function(){return this.transform.minPitch},i.prototype.setMaxPitch=function(e){if((e??=60)>60)throw Error(`maxPitch must be less than or equal to 60`);if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw Error(`maxPitch must be greater than the current minPitch`)},i.prototype.getMaxPitch=function(){return this.transform.maxPitch},i.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},i.prototype.setRenderWorldCopies=function(e){return this.transform.renderWorldCopies=e,this._update()},i.prototype.project=function(t){return this.transform.locationPoint(e.LngLat.convert(t))},i.prototype.unproject=function(t){return this.transform.pointLocation(e.Point.convert(t))},i.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},i.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},i.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},i.prototype._createDelegatedListener=function(e,t,n){var r,i=this;if(e===`mouseenter`||e===`mouseover`){var a=!1;return{layer:t,listener:n,delegates:{mousemove:function(r){var o=i.getLayer(t)?i.queryRenderedFeatures(r.point,{layers:[t]}):[];o.length?a||(a=!0,n.call(i,new Gr(e,i,r.originalEvent,{features:o}))):a=!1},mouseout:function(){a=!1}}}}if(e===`mouseleave`||e===`mouseout`){var o=!1;return{layer:t,listener:n,delegates:{mousemove:function(r){(i.getLayer(t)?i.queryRenderedFeatures(r.point,{layers:[t]}):[]).length?o=!0:o&&(o=!1,n.call(i,new Gr(e,i,r.originalEvent)))},mouseout:function(t){o&&(o=!1,n.call(i,new Gr(e,i,t.originalEvent)))}}}}return{layer:t,listener:n,delegates:(r={},r[e]=function(e){var r=i.getLayer(t)?i.queryRenderedFeatures(e.point,{layers:[t]}):[];r.length&&(e.features=r,n.call(i,e),delete e.features)},r)}},i.prototype.on=function(e,t,n){if(n===void 0)return r.prototype.on.call(this,e,t);var i=this._createDelegatedListener(e,t,n);for(var a in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(i),i.delegates)this.on(a,i.delegates[a]);return this},i.prototype.once=function(e,t,n){if(n===void 0)return r.prototype.once.call(this,e,t);var i=this._createDelegatedListener(e,t,n);for(var a in i.delegates)this.once(a,i.delegates[a]);return this},i.prototype.off=function(e,t,n){var i=this;return n===void 0?r.prototype.off.call(this,e,t):(this._delegatedListeners&&this._delegatedListeners[e]&&function(r){for(var a=r[e],o=0;o<a.length;o++){var s=a[o];if(s.layer===t&&s.listener===n){for(var c in s.delegates)i.off(c,s.delegates[c]);return a.splice(o,1),i}}}(this._delegatedListeners),this)},i.prototype.queryRenderedFeatures=function(t,n){if(!this.style)return[];var r;if(n!==void 0||t===void 0||t instanceof e.Point||Array.isArray(t)||(n=t,t=void 0),n||={},(t||=[[0,0],[this.transform.width,this.transform.height]])instanceof e.Point||typeof t[0]==`number`)r=[e.Point.convert(t)];else{var i=e.Point.convert(t[0]),a=e.Point.convert(t[1]);r=[i,new e.Point(a.x,i.y),a,new e.Point(i.x,a.y),i]}return this.style.queryRenderedFeatures(r,n,this.transform)},i.prototype.querySourceFeatures=function(e,t){return this.style.querySourceFeatures(e,t)},i.prototype.setStyle=function(t,n){return!1!==(n=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(t,n))},i.prototype._getUIString=function(e){var t=this._locale[e];if(t==null)throw Error(`Missing UI string '`+e+`'`);return t},i.prototype._updateStyle=function(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new en(this,t||{}),this.style.setEventedParent(this,{style:this.style}),typeof e==`string`?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},i.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new en(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},i.prototype._diffStyle=function(t,n){var r=this;if(typeof t==`string`){var i=this._requestManager.normalizeStyleURL(t),a=this._requestManager.transformRequest(i,e.ResourceType.Style);e.getJSON(a,(function(t,i){t?r.fire(new e.ErrorEvent(t)):i&&r._updateDiff(i,n)}))}else typeof t==`object`&&this._updateDiff(t,n)},i.prototype._updateDiff=function(t,n){try{this.style.setState(t)&&this._update(!0)}catch(r){e.warnOnce(`Unable to perform style diff: `+(r.message||r.error||r)+`.  Rebuilding the style from scratch.`),this._updateStyle(t,n)}},i.prototype.getStyle=function(){if(this.style)return this.style.serialize()},i.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():e.warnOnce(`There is no style added to the map.`)},i.prototype.addSource=function(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)},i.prototype.isSourceLoaded=function(t){var n=this.style&&this.style.sourceCaches[t];if(n!==void 0)return n.loaded();this.fire(new e.ErrorEvent(Error(`There is no source with ID '`+t+`'`)))},i.prototype.areTilesLoaded=function(){var e=this.style&&this.style.sourceCaches;for(var t in e){var n=e[t]._tiles;for(var r in n){var i=n[r];if(i.state!==`loaded`&&i.state!==`errored`)return!1}}return!0},i.prototype.addSourceType=function(e,t,n){return this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,n)},i.prototype.removeSource=function(e){return this.style.removeSource(e),this._update(!0)},i.prototype.getSource=function(e){return this.style.getSource(e)},i.prototype.addImage=function(t,n,r){r===void 0&&(r={});var i=r.pixelRatio;i===void 0&&(i=1);var a=r.sdf;a===void 0&&(a=!1);var o=r.stretchX,s=r.stretchY,c=r.content;if(this._lazyInitEmptyStyle(),n instanceof Ai||Mi&&n instanceof Mi){var l=e.browser.getImageData(n);this.style.addImage(t,{data:new e.RGBAImage({width:l.width,height:l.height},l.data),pixelRatio:i,stretchX:o,stretchY:s,content:c,sdf:a,version:0})}else{if(n.width===void 0||n.height===void 0)return this.fire(new e.ErrorEvent(Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var u=n;this.style.addImage(t,{data:new e.RGBAImage({width:n.width,height:n.height},new Uint8Array(n.data)),pixelRatio:i,stretchX:o,stretchY:s,content:c,sdf:a,version:0,userImage:u}),u.onAdd&&u.onAdd(this,t)}},i.prototype.updateImage=function(t,n){var r=this.style.getImage(t);if(!r)return this.fire(new e.ErrorEvent(Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var i=n instanceof Ai||Mi&&n instanceof Mi?e.browser.getImageData(n):n,a=i.width,o=i.height,s=i.data;return a===void 0||o===void 0?this.fire(new e.ErrorEvent(Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):a!==r.data.width||o!==r.data.height?this.fire(new e.ErrorEvent(Error(`The width and height of the updated image must be that same as the previous version of the image`))):(r.data.replace(s,!(n instanceof Ai||Mi&&n instanceof Mi)),void this.style.updateImage(t,r))},i.prototype.hasImage=function(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(Error(`Missing required image id`))),!1)},i.prototype.removeImage=function(e){this.style.removeImage(e)},i.prototype.loadImage=function(t,n){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),n)},i.prototype.listImages=function(){return this.style.listImages()},i.prototype.addLayer=function(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)},i.prototype.moveLayer=function(e,t){return this.style.moveLayer(e,t),this._update(!0)},i.prototype.removeLayer=function(e){return this.style.removeLayer(e),this._update(!0)},i.prototype.getLayer=function(e){return this.style.getLayer(e)},i.prototype.setLayerZoomRange=function(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)},i.prototype.setFilter=function(e,t,n){return n===void 0&&(n={}),this.style.setFilter(e,t,n),this._update(!0)},i.prototype.getFilter=function(e){return this.style.getFilter(e)},i.prototype.setPaintProperty=function(e,t,n,r){return r===void 0&&(r={}),this.style.setPaintProperty(e,t,n,r),this._update(!0)},i.prototype.getPaintProperty=function(e,t){return this.style.getPaintProperty(e,t)},i.prototype.setLayoutProperty=function(e,t,n,r){return r===void 0&&(r={}),this.style.setLayoutProperty(e,t,n,r),this._update(!0)},i.prototype.getLayoutProperty=function(e,t){return this.style.getLayoutProperty(e,t)},i.prototype.setLight=function(e,t){return t===void 0&&(t={}),this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)},i.prototype.getLight=function(){return this.style.getLight()},i.prototype.setFeatureState=function(e,t){return this.style.setFeatureState(e,t),this._update()},i.prototype.removeFeatureState=function(e,t){return this.style.removeFeatureState(e,t),this._update()},i.prototype.getFeatureState=function(e){return this.style.getFeatureState(e)},i.prototype.getContainer=function(){return this._container},i.prototype.getCanvasContainer=function(){return this._canvasContainer},i.prototype.getCanvas=function(){return this._canvas},i.prototype._containerDimensions=function(){var e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]},i.prototype._detectMissingCSS=function(){e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue(`background-color`)!==`rgb(250, 128, 114)`&&e.warnOnce(`This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.`)},i.prototype._setupContainer=function(){var e=this._container;e.classList.add(`mapboxgl-map`),(this._missingCSSCanary=n.create(`div`,`mapboxgl-canary`,e)).style.visibility=`hidden`,this._detectMissingCSS();var t=this._canvasContainer=n.create(`div`,`mapboxgl-canvas-container`,e);this._interactive&&t.classList.add(`mapboxgl-interactive`),this._canvas=n.create(`canvas`,`mapboxgl-canvas`,t),this._canvas.addEventListener(`webglcontextlost`,this._contextLost,!1),this._canvas.addEventListener(`webglcontextrestored`,this._contextRestored,!1),this._canvas.setAttribute(`tabindex`,`0`),this._canvas.setAttribute(`aria-label`,`Map`),this._canvas.setAttribute(`role`,`region`);var r=this._containerDimensions();this._resizeCanvas(r[0],r[1]);var i=this._controlContainer=n.create(`div`,`mapboxgl-control-container`,e),a=this._controlPositions={};[`top-left`,`top-right`,`bottom-left`,`bottom-right`].forEach((function(e){a[e]=n.create(`div`,`mapboxgl-ctrl-`+e,i)})),this._container.addEventListener(`scroll`,this._onMapScroll,!1)},i.prototype._resizeCanvas=function(t,n){var r=e.browser.devicePixelRatio||1;this._canvas.width=r*t,this._canvas.height=r*n,this._canvas.style.width=t+`px`,this._canvas.style.height=n+`px`},i.prototype._setupPainter=function(){var n=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext(`webgl`,n)||this._canvas.getContext(`experimental-webgl`,n);r?(this.painter=new Ar(r,this.transform),e.webpSupported.testSupport(r)):this.fire(new e.ErrorEvent(Error(`Failed to initialize WebGL`)))},i.prototype._contextLost=function(t){t.preventDefault(),this._frame&&=(this._frame.cancel(),null),this.fire(new e.Event(`webglcontextlost`,{originalEvent:t}))},i.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event(`webglcontextrestored`,{originalEvent:t}))},i.prototype._onMapScroll=function(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},i.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},i.prototype._update=function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this},i.prototype._requestRenderFrame=function(e){return this._update(),this._renderTaskQueue.add(e)},i.prototype._cancelRenderFrame=function(e){this._renderTaskQueue.remove(e)},i.prototype._render=function(t){var n,r=this,i=0,a=this.painter.context.extTimerQuery;if(this.listens(`gpu-timing-frame`)&&(n=a.createQueryEXT(),a.beginQueryEXT(a.TIME_ELAPSED_EXT,n),i=e.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),!this._removed){var o=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var s=this.transform.zoom,c=e.browser.now();this.style.zoomHistory.update(s,c);var l=new e.EvaluationParameters(s,{now:c,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),u=l.crossFadingFactor();u===1&&u===this._crossFadingFactor||(o=!0,this._crossFadingFactor=u),this.style.update(l)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens(`gpu-timing-layer`)}),this.fire(new e.Event(`render`)),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event(`load`))),this.style&&(this.style.hasTransitions()||o)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens(`gpu-timing-frame`)){var d=e.browser.now()-i;a.endQueryEXT(a.TIME_ELAPSED_EXT,n),setTimeout((function(){var t=a.getQueryObjectEXT(n,a.QUERY_RESULT_EXT)/1e6;a.deleteQueryEXT(n),r.fire(new e.Event(`gpu-timing-frame`,{cpuTime:d,gpuTime:t}))}),50)}if(this.listens(`gpu-timing-layer`)){var f=this.painter.collectGpuTimers();setTimeout((function(){var t=r.painter.queryGpuTimers(f);r.fire(new e.Event(`gpu-timing-layer`,{layerTimes:t}))}),50)}var p=this._sourcesDirty||this._styleDirty||this._placementDirty;return p||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.Event(`idle`)),!this._loaded||this._fullyLoaded||p||(this._fullyLoaded=!0),this}},i.prototype.remove=function(){this._hash&&this._hash.remove();for(var t=0,n=this._controls;t<n.length;t+=1)n[t].onRemove(this);this._controls=[],this._frame&&=(this._frame.cancel(),null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),e.window!==void 0&&(e.window.removeEventListener(`resize`,this._onWindowResize,!1),e.window.removeEventListener(`orientationchange`,this._onWindowResize,!1),e.window.removeEventListener(`online`,this._onWindowOnline,!1));var r=this.painter.context.gl.getExtension(`WEBGL_lose_context`);r&&r.loseContext(),Fi(this._canvasContainer),Fi(this._controlContainer),Fi(this._missingCSSCanary),this._container.classList.remove(`mapboxgl-map`),this._removed=!0,this.fire(new e.Event(`remove`))},i.prototype.triggerRepaint=function(){var t=this;this.style&&!this._frame&&(this._frame=e.browser.frame((function(e){t._frame=null,t._render(e)})))},i.prototype._onWindowOnline=function(){this._update()},i.prototype._onWindowResize=function(e){this._trackResize&&this.resize({originalEvent:e})._update()},a.showTileBoundaries.get=function(){return!!this._showTileBoundaries},a.showTileBoundaries.set=function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())},a.showPadding.get=function(){return!!this._showPadding},a.showPadding.set=function(e){this._showPadding!==e&&(this._showPadding=e,this._update())},a.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},a.showCollisionBoxes.set=function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())},a.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},a.showOverdrawInspector.set=function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())},a.repaint.get=function(){return!!this._repaint},a.repaint.set=function(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())},a.vertices.get=function(){return!!this._vertices},a.vertices.set=function(e){this._vertices=e,this._update()},i.prototype._setCacheLimits=function(t,n){e.setCacheLimits(t,n)},a.version.get=function(){return e.version},Object.defineProperties(i.prototype,a),i}(Ti);function Fi(e){e.parentNode&&e.parentNode.removeChild(e)}var Ii={showCompass:!0,showZoom:!0,visualizePitch:!1},Li=function(t){var r=this;this.options=e.extend({},Ii,t),this._container=n.create(`div`,`mapboxgl-ctrl mapboxgl-ctrl-group`),this._container.addEventListener(`contextmenu`,(function(e){return e.preventDefault()})),this.options.showZoom&&(e.bindAll([`_setButtonTitle`,`_updateZoomButtons`],this),this._zoomInButton=this._createButton(`mapboxgl-ctrl-zoom-in`,(function(e){return r._map.zoomIn({},{originalEvent:e})})),n.create(`span`,`mapboxgl-ctrl-icon`,this._zoomInButton).setAttribute(`aria-hidden`,!0),this._zoomOutButton=this._createButton(`mapboxgl-ctrl-zoom-out`,(function(e){return r._map.zoomOut({},{originalEvent:e})})),n.create(`span`,`mapboxgl-ctrl-icon`,this._zoomOutButton).setAttribute(`aria-hidden`,!0)),this.options.showCompass&&(e.bindAll([`_rotateCompassArrow`],this),this._compass=this._createButton(`mapboxgl-ctrl-compass`,(function(e){r.options.visualizePitch?r._map.resetNorthPitch({},{originalEvent:e}):r._map.resetNorth({},{originalEvent:e})})),this._compassIcon=n.create(`span`,`mapboxgl-ctrl-icon`,this._compass),this._compassIcon.setAttribute(`aria-hidden`,!0))};Li.prototype._updateZoomButtons=function(){var e=this._map.getZoom(),t=e===this._map.getMaxZoom(),n=e===this._map.getMinZoom();this._zoomInButton.disabled=t,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute(`aria-disabled`,t.toString()),this._zoomOutButton.setAttribute(`aria-disabled`,n.toString())},Li.prototype._rotateCompassArrow=function(){var e=this.options.visualizePitch?`scale(`+1/Math.cos(this._map.transform.pitch*(Math.PI/180))**.5+`) rotateX(`+this._map.transform.pitch+`deg) rotateZ(`+this._map.transform.angle*(180/Math.PI)+`deg)`:`rotate(`+this._map.transform.angle*(180/Math.PI)+`deg)`;this._compassIcon.style.transform=e},Li.prototype.onAdd=function(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,`ZoomIn`),this._setButtonTitle(this._zoomOutButton,`ZoomOut`),this._map.on(`zoom`,this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,`ResetBearing`),this.options.visualizePitch&&this._map.on(`pitch`,this._rotateCompassArrow),this._map.on(`rotate`,this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Ri(this._map,this._compass,this.options.visualizePitch)),this._container},Li.prototype.onRemove=function(){n.remove(this._container),this.options.showZoom&&this._map.off(`zoom`,this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off(`pitch`,this._rotateCompassArrow),this._map.off(`rotate`,this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Li.prototype._createButton=function(e,t){var r=n.create(`button`,e,this._container);return r.type=`button`,r.addEventListener(`click`,t),r},Li.prototype._setButtonTitle=function(e,t){var n=this._map._getUIString(`NavigationControl.`+t);e.title=n,e.setAttribute(`aria-label`,n)};var Ri=function(t,r,i){i===void 0&&(i=!1),this._clickTolerance=10,this.element=r,this.mouseRotate=new ni({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,i&&(this.mousePitch=new ri({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll([`mousedown`,`mousemove`,`mouseup`,`touchstart`,`touchmove`,`touchend`,`reset`],this),n.addEventListener(r,`mousedown`,this.mousedown),n.addEventListener(r,`touchstart`,this.touchstart,{passive:!1}),n.addEventListener(r,`touchmove`,this.touchmove),n.addEventListener(r,`touchend`,this.touchend),n.addEventListener(r,`touchcancel`,this.reset)};function zi(t,n,r){if(t=new e.LngLat(t.lng,t.lat),n){var i=new e.LngLat(t.lng-360,t.lat),a=new e.LngLat(t.lng+360,t.lat),o=r.locationPoint(t).distSqr(n);r.locationPoint(i).distSqr(n)<o?t=i:r.locationPoint(a).distSqr(n)<o&&(t=a)}for(;Math.abs(t.lng-r.center.lng)>180;){var s=r.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=r.width&&s.y<=r.height)break;t.lng>r.center.lng?t.lng-=360:t.lng+=360}return t}Ri.prototype.down=function(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),n.disableDrag()},Ri.prototype.move=function(e,t){var n=this.map,r=this.mouseRotate.mousemoveWindow(e,t);if(r&&r.bearingDelta&&n.setBearing(n.getBearing()+r.bearingDelta),this.mousePitch){var i=this.mousePitch.mousemoveWindow(e,t);i&&i.pitchDelta&&n.setPitch(n.getPitch()+i.pitchDelta)}},Ri.prototype.off=function(){var e=this.element;n.removeEventListener(e,`mousedown`,this.mousedown),n.removeEventListener(e,`touchstart`,this.touchstart,{passive:!1}),n.removeEventListener(e,`touchmove`,this.touchmove),n.removeEventListener(e,`touchend`,this.touchend),n.removeEventListener(e,`touchcancel`,this.reset),this.offTemp()},Ri.prototype.offTemp=function(){n.enableDrag(),n.removeEventListener(e.window,`mousemove`,this.mousemove),n.removeEventListener(e.window,`mouseup`,this.mouseup)},Ri.prototype.mousedown=function(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:function(){return t.preventDefault()}}),n.mousePos(this.element,t)),n.addEventListener(e.window,`mousemove`,this.mousemove),n.addEventListener(e.window,`mouseup`,this.mouseup)},Ri.prototype.mousemove=function(e){this.move(e,n.mousePos(this.element,e))},Ri.prototype.mouseup=function(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()},Ri.prototype.touchstart=function(e){e.targetTouches.length===1?(this._startPos=this._lastPos=n.touchPos(this.element,e.targetTouches)[0],this.down({type:`mousedown`,button:0,ctrlKey:!0,preventDefault:function(){return e.preventDefault()}},this._startPos)):this.reset()},Ri.prototype.touchmove=function(e){e.targetTouches.length===1?(this._lastPos=n.touchPos(this.element,e.targetTouches)[0],this.move({preventDefault:function(){return e.preventDefault()}},this._lastPos)):this.reset()},Ri.prototype.touchend=function(e){e.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Ri.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Bi={center:`translate(-50%,-50%)`,top:`translate(-50%,0)`,"top-left":`translate(0,0)`,"top-right":`translate(-100%,0)`,bottom:`translate(-50%,-100%)`,"bottom-left":`translate(0,-100%)`,"bottom-right":`translate(-100%,-100%)`,left:`translate(0,-50%)`,right:`translate(-100%,-50%)`};function Vi(e,t,n){var r=e.classList;for(var i in Bi)r.remove(`mapboxgl-`+n+`-anchor-`+i);r.add(`mapboxgl-`+n+`-anchor-`+t)}var Hi,Ui=function(t){function r(r,i){if(t.call(this),(r instanceof e.window.HTMLElement||i)&&(r=e.extend({element:r},i)),e.bindAll([`_update`,`_onMove`,`_onUp`,`_addDragHandler`,`_onMapClick`,`_onKeyPress`],this),this._anchor=r&&r.anchor||`center`,this._color=r&&r.color||`#3FB1CE`,this._scale=r&&r.scale||1,this._draggable=r&&r.draggable||!1,this._clickTolerance=r&&r.clickTolerance||0,this._isDragging=!1,this._state=`inactive`,this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||`auto`,this._pitchAlignment=r&&r.pitchAlignment&&r.pitchAlignment!==`auto`?r.pitchAlignment:this._rotationAlignment,r&&r.element)this._element=r.element,this._offset=e.Point.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=n.create(`div`),this._element.setAttribute(`aria-label`,`Map marker`);var a=n.createNS(`http://www.w3.org/2000/svg`,`svg`);a.setAttributeNS(null,`display`,`block`),a.setAttributeNS(null,`height`,`41px`),a.setAttributeNS(null,`width`,`27px`),a.setAttributeNS(null,`viewBox`,`0 0 27 41`);var o=n.createNS(`http://www.w3.org/2000/svg`,`g`);o.setAttributeNS(null,`stroke`,`none`),o.setAttributeNS(null,`stroke-width`,`1`),o.setAttributeNS(null,`fill`,`none`),o.setAttributeNS(null,`fill-rule`,`evenodd`);var s=n.createNS(`http://www.w3.org/2000/svg`,`g`);s.setAttributeNS(null,`fill-rule`,`nonzero`);var c=n.createNS(`http://www.w3.org/2000/svg`,`g`);c.setAttributeNS(null,`transform`,`translate(3.0, 29.0)`),c.setAttributeNS(null,`fill`,`#000000`);for(var l=0,u=[{rx:`10.5`,ry:`5.25002273`},{rx:`10.5`,ry:`5.25002273`},{rx:`9.5`,ry:`4.77275007`},{rx:`8.5`,ry:`4.29549936`},{rx:`7.5`,ry:`3.81822308`},{rx:`6.5`,ry:`3.34094679`},{rx:`5.5`,ry:`2.86367051`},{rx:`4.5`,ry:`2.38636864`}];l<u.length;l+=1){var d=u[l],f=n.createNS(`http://www.w3.org/2000/svg`,`ellipse`);f.setAttributeNS(null,`opacity`,`0.04`),f.setAttributeNS(null,`cx`,`10.5`),f.setAttributeNS(null,`cy`,`5.80029008`),f.setAttributeNS(null,`rx`,d.rx),f.setAttributeNS(null,`ry`,d.ry),c.appendChild(f)}var p=n.createNS(`http://www.w3.org/2000/svg`,`g`);p.setAttributeNS(null,`fill`,this._color);var m=n.createNS(`http://www.w3.org/2000/svg`,`path`);m.setAttributeNS(null,`d`,`M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z`),p.appendChild(m);var h=n.createNS(`http://www.w3.org/2000/svg`,`g`);h.setAttributeNS(null,`opacity`,`0.25`),h.setAttributeNS(null,`fill`,`#000000`);var g=n.createNS(`http://www.w3.org/2000/svg`,`path`);g.setAttributeNS(null,`d`,`M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z`),h.appendChild(g);var _=n.createNS(`http://www.w3.org/2000/svg`,`g`);_.setAttributeNS(null,`transform`,`translate(6.0, 7.0)`),_.setAttributeNS(null,`fill`,`#FFFFFF`);var v=n.createNS(`http://www.w3.org/2000/svg`,`g`);v.setAttributeNS(null,`transform`,`translate(8.0, 8.0)`);var y=n.createNS(`http://www.w3.org/2000/svg`,`circle`);y.setAttributeNS(null,`fill`,`#000000`),y.setAttributeNS(null,`opacity`,`0.25`),y.setAttributeNS(null,`cx`,`5.5`),y.setAttributeNS(null,`cy`,`5.5`),y.setAttributeNS(null,`r`,`5.4999962`);var b=n.createNS(`http://www.w3.org/2000/svg`,`circle`);b.setAttributeNS(null,`fill`,`#FFFFFF`),b.setAttributeNS(null,`cx`,`5.5`),b.setAttributeNS(null,`cy`,`5.5`),b.setAttributeNS(null,`r`,`5.4999962`),v.appendChild(y),v.appendChild(b),s.appendChild(c),s.appendChild(p),s.appendChild(h),s.appendChild(_),s.appendChild(v),a.appendChild(s),a.setAttributeNS(null,`height`,41*this._scale+`px`),a.setAttributeNS(null,`width`,27*this._scale+`px`),this._element.appendChild(a),this._offset=e.Point.convert(r&&r.offset||[0,-14])}this._element.classList.add(`mapboxgl-marker`),this._element.addEventListener(`dragstart`,(function(e){e.preventDefault()})),this._element.addEventListener(`mousedown`,(function(e){e.preventDefault()})),Vi(this._element,this._anchor,`marker`),this._popup=null}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.addTo=function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on(`move`,this._update),e.on(`moveend`,this._update),this.setDraggable(this._draggable),this._update(),this._map.on(`click`,this._onMapClick),this},r.prototype.remove=function(){return this._map&&(this._map.off(`click`,this._onMapClick),this._map.off(`move`,this._update),this._map.off(`moveend`,this._update),this._map.off(`mousedown`,this._addDragHandler),this._map.off(`touchstart`,this._addDragHandler),this._map.off(`mouseup`,this._onUp),this._map.off(`touchend`,this._onUp),this._map.off(`mousemove`,this._onMove),this._map.off(`touchmove`,this._onMove),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},r.prototype.getElement=function(){return this._element},r.prototype.setPopup=function(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener(`keypress`,this._onKeyPress),this._originalTabIndex||this._element.removeAttribute(`tabindex`)),e){if(!(`offset`in e.options)){var t=Math.sqrt(13.5**2/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[t,-1*(24.6+t)],"bottom-right":[-t,-1*(24.6+t)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute(`tabindex`),this._originalTabIndex||this._element.setAttribute(`tabindex`,`0`),this._element.addEventListener(`keypress`,this._onKeyPress)}return this},r.prototype._onKeyPress=function(e){var t=e.code,n=e.charCode||e.keyCode;t!==`Space`&&t!==`Enter`&&n!==32&&n!==13||this.togglePopup()},r.prototype._onMapClick=function(e){var t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()},r.prototype.getPopup=function(){return this._popup},r.prototype.togglePopup=function(){var e=this._popup;return e&&(e.isOpen()?e.remove():e.addTo(this._map)),this},r.prototype._update=function(e){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=zi(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var t=``;this._rotationAlignment===`viewport`||this._rotationAlignment===`auto`?t=`rotateZ(`+this._rotation+`deg)`:this._rotationAlignment===`map`&&(t=`rotateZ(`+(this._rotation-this._map.getBearing())+`deg)`);var r=``;this._pitchAlignment===`viewport`||this._pitchAlignment===`auto`?r=`rotateX(0deg)`:this._pitchAlignment===`map`&&(r=`rotateX(`+this._map.getPitch()+`deg)`),e&&e.type!==`moveend`||(this._pos=this._pos.round()),n.setTransform(this._element,Bi[this._anchor]+` translate(`+this._pos.x+`px, `+this._pos.y+`px) `+r+` `+t)}},r.prototype.getOffset=function(){return this._offset},r.prototype.setOffset=function(t){return this._offset=e.Point.convert(t),this._update(),this},r.prototype._onMove=function(t){if(!this._isDragging){var n=this._clickTolerance||this._map._clickTolerance;this._isDragging=t.point.dist(this._pointerdownPos)>=n}this._isDragging&&(this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents=`none`,this._state===`pending`&&(this._state=`active`,this.fire(new e.Event(`dragstart`))),this.fire(new e.Event(`drag`)))},r.prototype._onUp=function(){this._element.style.pointerEvents=`auto`,this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off(`mousemove`,this._onMove),this._map.off(`touchmove`,this._onMove),this._state===`active`&&this.fire(new e.Event(`dragend`)),this._state=`inactive`},r.prototype._addDragHandler=function(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._pointerdownPos=e.point,this._state=`pending`,this._map.on(`mousemove`,this._onMove),this._map.on(`touchmove`,this._onMove),this._map.once(`mouseup`,this._onUp),this._map.once(`touchend`,this._onUp))},r.prototype.setDraggable=function(e){return this._draggable=!!e,this._map&&(e?(this._map.on(`mousedown`,this._addDragHandler),this._map.on(`touchstart`,this._addDragHandler)):(this._map.off(`mousedown`,this._addDragHandler),this._map.off(`touchstart`,this._addDragHandler))),this},r.prototype.isDraggable=function(){return this._draggable},r.prototype.setRotation=function(e){return this._rotation=e||0,this._update(),this},r.prototype.getRotation=function(){return this._rotation},r.prototype.setRotationAlignment=function(e){return this._rotationAlignment=e||`auto`,this._update(),this},r.prototype.getRotationAlignment=function(){return this._rotationAlignment},r.prototype.setPitchAlignment=function(e){return this._pitchAlignment=e&&e!==`auto`?e:this._rotationAlignment,this._update(),this},r.prototype.getPitchAlignment=function(){return this._pitchAlignment},r}(e.Evented),Wi={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Gi=0,Ki=!1,qi=function(t){function r(n){t.call(this),this.options=e.extend({},Wi,n),e.bindAll([`_onSuccess`,`_onError`,`_onZoom`,`_finish`,`_setupUI`,`_updateCamera`,`_updateMarker`],this)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.onAdd=function(t){var r;return this._map=t,this._container=n.create(`div`,`mapboxgl-ctrl mapboxgl-ctrl-group`),r=this._setupUI,Hi===void 0?e.window.navigator.permissions===void 0?r(Hi=!!e.window.navigator.geolocation):e.window.navigator.permissions.query({name:`geolocation`}).then((function(e){r(Hi=e.state!==`denied`)})):r(Hi),this._container},r.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),n.remove(this._container),this._map.off(`zoom`,this._onZoom),this._map=void 0,Gi=0,Ki=!1},r.prototype._isOutOfMapMaxBounds=function(e){var t=this._map.getMaxBounds(),n=e.coords;return t&&(n.longitude<t.getWest()||n.longitude>t.getEast()||n.latitude<t.getSouth()||n.latitude>t.getNorth())},r.prototype._setErrorState=function(){switch(this._watchState){case`WAITING_ACTIVE`:this._watchState=`ACTIVE_ERROR`,this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-active`),this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-active-error`);break;case`ACTIVE_LOCK`:this._watchState=`ACTIVE_ERROR`,this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-active`),this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-active-error`),this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-waiting`);break;case`BACKGROUND`:this._watchState=`BACKGROUND_ERROR`,this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-background`),this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-background-error`),this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-waiting`)}},r.prototype._onSuccess=function(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event(`outofmaxbounds`,t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case`WAITING_ACTIVE`:case`ACTIVE_LOCK`:case`ACTIVE_ERROR`:this._watchState=`ACTIVE_LOCK`,this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-waiting`),this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-active-error`),this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-active`);break;case`BACKGROUND`:case`BACKGROUND_ERROR`:this._watchState=`BACKGROUND`,this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-waiting`),this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-background-error`),this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-background`)}this.options.showUserLocation&&this._watchState!==`OFF`&&this._updateMarker(t),this.options.trackUserLocation&&this._watchState!==`ACTIVE_LOCK`||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove(`mapboxgl-user-location-dot-stale`),this.fire(new e.Event(`geolocate`,t)),this._finish()}},r.prototype._updateCamera=function(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude),r=t.coords.accuracy,i=this._map.getBearing(),a=e.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(r),a,{geolocateSource:!0})},r.prototype._updateMarker=function(t){if(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},r.prototype._updateCircleRadius=function(){var e=this._map._container.clientHeight/2,t=this._map.unproject([0,e]),n=this._map.unproject([1,e]),r=t.distanceTo(n),i=Math.ceil(2*this._accuracy/r);this._circleElement.style.width=i+`px`,this._circleElement.style.height=i+`px`},r.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},r.prototype._onError=function(t){if(this._map){if(this.options.trackUserLocation)if(t.code===1){this._watchState=`OFF`,this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-waiting`),this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-active`),this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-active-error`),this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-background`),this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-background-error`),this._geolocateButton.disabled=!0;var n=this._map._getUIString(`GeolocateControl.LocationNotAvailable`);this._geolocateButton.title=n,this._geolocateButton.setAttribute(`aria-label`,n),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(t.code===3&&Ki)return;this._setErrorState()}this._watchState!==`OFF`&&this.options.showUserLocation&&this._dotElement.classList.add(`mapboxgl-user-location-dot-stale`),this.fire(new e.Event(`error`,t)),this._finish()}},r.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},r.prototype._setupUI=function(t){var r=this;if(this._container.addEventListener(`contextmenu`,(function(e){return e.preventDefault()})),this._geolocateButton=n.create(`button`,`mapboxgl-ctrl-geolocate`,this._container),n.create(`span`,`mapboxgl-ctrl-icon`,this._geolocateButton).setAttribute(`aria-hidden`,!0),this._geolocateButton.type=`button`,!1===t){e.warnOnce(`Geolocation support is not available so the GeolocateControl will be disabled.`);var i=this._map._getUIString(`GeolocateControl.LocationNotAvailable`);this._geolocateButton.disabled=!0,this._geolocateButton.title=i,this._geolocateButton.setAttribute(`aria-label`,i)}else{var a=this._map._getUIString(`GeolocateControl.FindMyLocation`);this._geolocateButton.title=a,this._geolocateButton.setAttribute(`aria-label`,a)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute(`aria-pressed`,`false`),this._watchState=`OFF`),this.options.showUserLocation&&(this._dotElement=n.create(`div`,`mapboxgl-user-location-dot`),this._userLocationDotMarker=new Ui(this._dotElement),this._circleElement=n.create(`div`,`mapboxgl-user-location-accuracy-circle`),this._accuracyCircleMarker=new Ui({element:this._circleElement,pitchAlignment:`map`}),this.options.trackUserLocation&&(this._watchState=`OFF`),this._map.on(`zoom`,this._onZoom)),this._geolocateButton.addEventListener(`click`,this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on(`movestart`,(function(t){t.geolocateSource||r._watchState!==`ACTIVE_LOCK`||t.originalEvent&&t.originalEvent.type===`resize`||(r._watchState=`BACKGROUND`,r._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-background`),r._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-active`),r.fire(new e.Event(`trackuserlocationend`)))}))},r.prototype.trigger=function(){if(!this._setup)return e.warnOnce(`Geolocate control triggered before added to a map`),!1;if(this.options.trackUserLocation){switch(this._watchState){case`OFF`:this._watchState=`WAITING_ACTIVE`,this.fire(new e.Event(`trackuserlocationstart`));break;case`WAITING_ACTIVE`:case`ACTIVE_LOCK`:case`ACTIVE_ERROR`:case`BACKGROUND_ERROR`:Gi--,Ki=!1,this._watchState=`OFF`,this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-waiting`),this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-active`),this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-active-error`),this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-background`),this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-background-error`),this.fire(new e.Event(`trackuserlocationend`));break;case`BACKGROUND`:this._watchState=`ACTIVE_LOCK`,this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-background`),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event(`trackuserlocationstart`))}switch(this._watchState){case`WAITING_ACTIVE`:this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-waiting`),this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-active`);break;case`ACTIVE_LOCK`:this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-active`);break;case`ACTIVE_ERROR`:this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-waiting`),this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-active-error`);break;case`BACKGROUND`:this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-background`);break;case`BACKGROUND_ERROR`:this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-waiting`),this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-background-error`)}if(this._watchState===`OFF`&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var t;this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-waiting`),this._geolocateButton.setAttribute(`aria-pressed`,`true`),++Gi>1?(t={maximumAge:6e5,timeout:0},Ki=!0):(t=this.options.positionOptions,Ki=!1),this._geolocationWatchID=e.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,t)}}else e.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},r.prototype._clearWatch=function(){e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-waiting`),this._geolocateButton.setAttribute(`aria-pressed`,`false`),this.options.showUserLocation&&this._updateMarker(null)},r}(e.Evented),Ji={maxWidth:100,unit:`metric`},Yi=function(t){this.options=e.extend({},Ji,t),e.bindAll([`_onMove`,`setUnit`],this)};function Xi(e,t,n){var r=n&&n.maxWidth||100,i=e._container.clientHeight/2,a=e.unproject([0,i]),o=e.unproject([r,i]),s=a.distanceTo(o);if(n&&n.unit===`imperial`){var c=3.2808*s;c>5280?Zi(t,r,c/5280,e._getUIString(`ScaleControl.Miles`)):Zi(t,r,c,e._getUIString(`ScaleControl.Feet`))}else n&&n.unit===`nautical`?Zi(t,r,s/1852,e._getUIString(`ScaleControl.NauticalMiles`)):s>=1e3?Zi(t,r,s/1e3,e._getUIString(`ScaleControl.Kilometers`)):Zi(t,r,s,e._getUIString(`ScaleControl.Meters`))}function Zi(e,t,n,r){var i,a,o,s=(i=n,(a=10**((``+Math.floor(i)).length-1))*(o=(o=i/a)>=10?10:o>=5?5:o>=3?3:o>=2?2:o>=1?1:function(e){var t=10**Math.ceil(-Math.log(e)/Math.LN10);return Math.round(e*t)/t}(o)));e.style.width=t*(s/n)+`px`,e.innerHTML=s+`&nbsp;`+r}Yi.prototype.getDefaultPosition=function(){return`bottom-left`},Yi.prototype._onMove=function(){Xi(this._map,this._container,this.options)},Yi.prototype.onAdd=function(e){return this._map=e,this._container=n.create(`div`,`mapboxgl-ctrl mapboxgl-ctrl-scale`,e.getContainer()),this._map.on(`move`,this._onMove),this._onMove(),this._container},Yi.prototype.onRemove=function(){n.remove(this._container),this._map.off(`move`,this._onMove),this._map=void 0},Yi.prototype.setUnit=function(e){this.options.unit=e,Xi(this._map,this._container,this.options)};var Qi=function(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce(`Full screen control 'container' must be a DOM element.`)),e.bindAll([`_onClickFullscreen`,`_changeIcon`],this),`onfullscreenchange`in e.window.document?this._fullscreenchange=`fullscreenchange`:`onmozfullscreenchange`in e.window.document?this._fullscreenchange=`mozfullscreenchange`:`onwebkitfullscreenchange`in e.window.document?this._fullscreenchange=`webkitfullscreenchange`:`onmsfullscreenchange`in e.window.document&&(this._fullscreenchange=`MSFullscreenChange`)};Qi.prototype.onAdd=function(t){return this._map=t,this._container||=this._map.getContainer(),this._controlContainer=n.create(`div`,`mapboxgl-ctrl mapboxgl-ctrl-group`),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display=`none`,e.warnOnce(`This device does not support fullscreen mode.`)),this._controlContainer},Qi.prototype.onRemove=function(){n.remove(this._controlContainer),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Qi.prototype._checkFullscreenSupport=function(){return!!(e.window.document.fullscreenEnabled||e.window.document.mozFullScreenEnabled||e.window.document.msFullscreenEnabled||e.window.document.webkitFullscreenEnabled)},Qi.prototype._setupUI=function(){var t=this._fullscreenButton=n.create(`button`,`mapboxgl-ctrl-fullscreen`,this._controlContainer);n.create(`span`,`mapboxgl-ctrl-icon`,t).setAttribute(`aria-hidden`,!0),t.type=`button`,this._updateTitle(),this._fullscreenButton.addEventListener(`click`,this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Qi.prototype._updateTitle=function(){var e=this._getTitle();this._fullscreenButton.setAttribute(`aria-label`,e),this._fullscreenButton.title=e},Qi.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?`FullscreenControl.Exit`:`FullscreenControl.Enter`)},Qi.prototype._isFullscreen=function(){return this._fullscreen},Qi.prototype._changeIcon=function(){(e.window.document.fullscreenElement||e.window.document.mozFullScreenElement||e.window.document.webkitFullscreenElement||e.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(`mapboxgl-ctrl-shrink`),this._fullscreenButton.classList.toggle(`mapboxgl-ctrl-fullscreen`),this._updateTitle())},Qi.prototype._onClickFullscreen=function(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.mozCancelFullScreen?e.window.document.mozCancelFullScreen():e.window.document.msExitFullscreen?e.window.document.msExitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var $i={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:``,maxWidth:`240px`},ea=[`a[href]`,`[tabindex]:not([tabindex='-1'])`,`[contenteditable]:not([contenteditable='false'])`,`button:not([disabled])`,`input:not([disabled])`,`select:not([disabled])`,`textarea:not([disabled])`].join(`, `),ta=function(t){function r(n){t.call(this),this.options=e.extend(Object.create($i),n),e.bindAll([`_update`,`_onClose`,`remove`,`_onMouseMove`,`_onMouseUp`,`_onDrag`],this)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.addTo=function(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&this._map.on(`click`,this._onClose),this.options.closeOnMove&&this._map.on(`move`,this._onClose),this._map.on(`remove`,this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on(`mousemove`,this._onMouseMove),this._map.on(`mouseup`,this._onMouseUp),this._container&&this._container.classList.add(`mapboxgl-popup-track-pointer`),this._map._canvasContainer.classList.add(`mapboxgl-track-pointer`)):this._map.on(`move`,this._update),this.fire(new e.Event(`open`)),this},r.prototype.isOpen=function(){return!!this._map},r.prototype.remove=function(){return this._content&&n.remove(this._content),this._container&&(n.remove(this._container),delete this._container),this._map&&(this._map.off(`move`,this._update),this._map.off(`move`,this._onClose),this._map.off(`click`,this._onClose),this._map.off(`remove`,this.remove),this._map.off(`mousemove`,this._onMouseMove),this._map.off(`mouseup`,this._onMouseUp),this._map.off(`drag`,this._onDrag),delete this._map),this.fire(new e.Event(`close`)),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on(`move`,this._update),this._map.off(`mousemove`,this._onMouseMove),this._container&&this._container.classList.remove(`mapboxgl-popup-track-pointer`),this._map._canvasContainer.classList.remove(`mapboxgl-track-pointer`)),this},r.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off(`move`,this._update),this._map.on(`mousemove`,this._onMouseMove),this._map.on(`drag`,this._onDrag),this._container&&this._container.classList.add(`mapboxgl-popup-track-pointer`),this._map._canvasContainer.classList.add(`mapboxgl-track-pointer`)),this},r.prototype.getElement=function(){return this._container},r.prototype.setText=function(t){return this.setDOMContent(e.window.document.createTextNode(t))},r.prototype.setHTML=function(t){var n,r=e.window.document.createDocumentFragment(),i=e.window.document.createElement(`body`);for(i.innerHTML=t;n=i.firstChild;)r.appendChild(n);return this.setDOMContent(r)},r.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},r.prototype.setMaxWidth=function(e){return this.options.maxWidth=e,this._update(),this},r.prototype.setDOMContent=function(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=n.create(`div`,`mapboxgl-popup-content`,this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this},r.prototype.addClassName=function(e){this._container&&this._container.classList.add(e)},r.prototype.removeClassName=function(e){this._container&&this._container.classList.remove(e)},r.prototype.setOffset=function(e){return this.options.offset=e,this._update(),this},r.prototype.toggleClassName=function(e){if(this._container)return this._container.classList.toggle(e)},r.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=n.create(`button`,`mapboxgl-popup-close-button`,this._content),this._closeButton.type=`button`,this._closeButton.setAttribute(`aria-label`,`Close popup`),this._closeButton.innerHTML=`&#215;`,this._closeButton.addEventListener(`click`,this._onClose))},r.prototype._onMouseUp=function(e){this._update(e.point)},r.prototype._onMouseMove=function(e){this._update(e.point)},r.prototype._onDrag=function(e){this._update(e.point)},r.prototype._update=function(t){var r=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=n.create(`div`,`mapboxgl-popup`,this._map.getContainer()),this._tip=n.create(`div`,`mapboxgl-popup-tip`,this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(` `).forEach((function(e){return r._container.classList.add(e)})),this._trackPointer&&this._container.classList.add(`mapboxgl-popup-track-pointer`)),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=zi(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||t)){var i=this._pos=this._trackPointer&&t?t:this._map.project(this._lngLat),a=this.options.anchor,o=function t(n){if(n){if(typeof n==`number`){var r=Math.round(Math.sqrt(.5*n**2));return{center:new e.Point(0,0),top:new e.Point(0,n),"top-left":new e.Point(r,r),"top-right":new e.Point(-r,r),bottom:new e.Point(0,-n),"bottom-left":new e.Point(r,-r),"bottom-right":new e.Point(-r,-r),left:new e.Point(n,0),right:new e.Point(-n,0)}}if(n instanceof e.Point||Array.isArray(n)){var i=e.Point.convert(n);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:e.Point.convert(n.center||[0,0]),top:e.Point.convert(n.top||[0,0]),"top-left":e.Point.convert(n[`top-left`]||[0,0]),"top-right":e.Point.convert(n[`top-right`]||[0,0]),bottom:e.Point.convert(n.bottom||[0,0]),"bottom-left":e.Point.convert(n[`bottom-left`]||[0,0]),"bottom-right":e.Point.convert(n[`bottom-right`]||[0,0]),left:e.Point.convert(n.left||[0,0]),right:e.Point.convert(n.right||[0,0])}}return t(new e.Point(0,0))}(this.options.offset);if(!a){var s,c=this._container.offsetWidth,l=this._container.offsetHeight;s=i.y+o.bottom.y<l?[`top`]:i.y>this._map.transform.height-l?[`bottom`]:[],i.x<c/2?s.push(`left`):i.x>this._map.transform.width-c/2&&s.push(`right`),a=s.length===0?`bottom`:s.join(`-`)}var u=i.add(o[a]).round();n.setTransform(this._container,Bi[a]+` translate(`+u.x+`px,`+u.y+`px)`),Vi(this._container,a,`popup`)}},r.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var e=this._container.querySelector(ea);e&&e.focus()}},r.prototype._onClose=function(){this.remove()},r}(e.Evented),na={version:e.version,supported:t,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:Pi,NavigationControl:Li,GeolocateControl:qi,AttributionControl:Ei,ScaleControl:Yi,FullscreenControl:Qi,Popup:ta,Marker:Ui,Style:en,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.Point,MercatorCoordinate:e.MercatorCoordinate,Evented:e.Evented,config:e.config,prewarm:function(){H().acquire(Ke)},clearPrewarmedResources:function(){var e=Je;e&&(e.isPreloaded()&&e.numActive()===1?(e.release(Ke),Je=null):console.warn(`Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()`))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return qe.workerCount},set workerCount(e){qe.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage:function(t){e.clearTileCache(t)},workerUrl:``};return na})),n}))}))()),ZE=[`id`,`attributionControl`,`style`,`token`,`rotation`,`mapInstance`];function QE(e,t){var n=typeof my<`u`&&!!my&&typeof my.showToast==`function`&&my.isFRM!==!0,r=typeof wx<`u`&&wx!==null&&(wx.request!==void 0||wx.miniProgram!==void 0);if(!(n||r)&&(t||=document,t)){var i=t.head||t.getElementsByTagName(`head`)[0];if(!i){i=t.createElement(`head`);var a=t.body||t.getElementsByTagName(`body`)[0];a?a.parentNode.insertBefore(i,a):t.documentElement.appendChild(i)}var o=t.createElement(`style`);return o.type=`text/css`,o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),i.appendChild(o),o}}QE(`.mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-canvas{position:absolute;left:0;top:0}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:grab;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;-webkit-transform:translate(0);transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;background:#fff}.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{width:29px;height:29px;display:block;padding:0;outline:none;border:0;box-sizing:border-box;background-color:transparent;cursor:pointer}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:50%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl button::-moz-focus-inner{border:0;padding:0}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.mapboxgl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:focus:only-child{border-radius:inherit}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23999'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{-webkit-animation:mapboxgl-spin 2s linear infinite;animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23999'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23666'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E")}}@-webkit-keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{width:88px;height:23px;margin:0 0 -4px -4px;display:block;background-repeat:no-repeat;cursor:pointer;overflow:hidden;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg opacity='.3' stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg opacity='.9' fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23fff' stroke-width='3' fill='%23fff'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/svg%3E")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:hsla(0,0%,100%,.5);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{min-height:20px;padding:2px 24px 2px 0;margin:10px;position:relative;background-color:#fff;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 8px 2px 28px;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{display:none;cursor:pointer;position:absolute;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E");background-color:hsla(0,0%,100%,.5);width:24px;height:24px;box-sizing:border-box;border-radius:12px;outline:none;top:0;right:0;border:0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner,.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' fill='%23fff'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E")}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:hsla(0,0%,100%,.75);font-size:10px;border:2px solid #333;border-top:#333;padding:0 5px;color:#333;box-sizing:border-box}.mapboxgl-popup{position:absolute;top:0;left:0;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{flex-direction:column-reverse}.mapboxgl-popup-anchor-left{flex-direction:row}.mapboxgl-popup-anchor-right{flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgba(0,0,0,.05)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;width:15px;height:15px;border-radius:50%}.mapboxgl-user-location-dot:before{content:"";position:absolute;-webkit-animation:mapboxgl-user-location-dot-pulse 2s infinite;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px;box-sizing:border-box;box-shadow:0 0 3px rgba(0,0,0,.35)}@-webkit-keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);opacity:0}to{-webkit-transform:scale(1);opacity:0}}@keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);transform:scale(3);opacity:0}to{-webkit-transform:scale(1);transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:rgba(29,161,242,.2);width:1px;height:1px;border-radius:100%}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}`),window.mapboxgl=XE.default;var $E=0,eD=`101MlGsZ2AmmA&access_token=pk.eyJ1IjoiZXhhbXBsZXMiLCJhIjoiY2p0MG01MXRqMW45cjQzb2R6b2ptc3J4MSJ9.zA2W0IkI0c6KaAhJfk9bWg`,tD=class extends YE{constructor(...e){super(...e),I(this,`version`,`MAPBOX`),I(this,`viewport`,void 0)}getType(){return`mapbox`}lngLatToCoord(e,t={x:0,y:0,z:0}){let{x:n,y:r}=this.lngLatToMercator(e,0);return[n-t.x,r-t.y]}lngLatToMercator(e,t){let{x:n=0,y:r=0,z:i=0}=window.mapboxgl.MercatorCoordinate.fromLngLat(e,t);return{x:n,y:r,z:i}}getModelMatrix(e,t,n,r=[1,1,1],i={x:0,y:0,z:0}){let a=window.mapboxgl.MercatorCoordinate.fromLngLat(e,t),o=a.meterInMercatorCoordinateUnits(),s=cn();return fn(s,s,ce(a.x-i.x,a.y-i.y,a.z||0-i.z)),pn(s,s,ce(o*r[0],-o*r[1],o*r[2])),mn(s,s,n[0]),hn(s,s,n[1]),gn(s,s,n[2]),s}init(){var e=this;return Y(function*(){let t=e.config,{id:n=`map`,attributionControl:r=!1,style:i=`light`,token:a=eD,rotation:o=0,mapInstance:s}=t,c=Su(t,ZE);e.viewport=new WE,!s&&!window.mapboxgl&&console.error(e.configService.getSceneWarninfo(`SDK`)),a===eD&&i!==`blank`&&!window.mapboxgl.accessToken&&!s&&console.warn(e.configService.getSceneWarninfo(`MapToken`)),!s&&!window.mapboxgl.accessToken&&(window.mapboxgl.accessToken=a),s?(e.map=s,e.$mapContainer=e.map.getContainer()):(e.$mapContainer=e.creatMapContainer(n),e.map=new window.mapboxgl.Map(P({container:e.$mapContainer,style:e.getMapStyleValue(i),attributionControl:r,bearing:o},c))),e.map.on(`load`,()=>{e.handleCameraChanged()}),e.map.on(`move`,e.handleCameraChanged),e.handleCameraChanged()})()}destroy(){var e;(e=this.$mapContainer)==null||(e=e.parentNode)==null||e.removeChild(this.$mapContainer),this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}emit(e,...t){this.eventEmitter.emit(e,...t)}once(e,...t){this.eventEmitter.once(e,...t)}getMapContainer(){return this.$mapContainer}getCanvasOverlays(){return this.getMapContainer()?.querySelector(`.mapboxgl-canvas-container`)}meterToCoord(e,t){let n=new XE.default.LngLat(e[0],e[1]),r=new XE.default.LngLat(t[0],t[1]),i=n.distanceTo(r),a=XE.default.MercatorCoordinate.fromLngLat({lng:e[0],lat:e[1]}),o=XE.default.MercatorCoordinate.fromLngLat({lng:t[0],lat:t[1]}),{x:s,y:c}=a,{x:l,y:u}=o;return Math.sqrt((s-l)**2+(c-u)**2)*4194304*2/i}exportMap(e){let t=this.map.getCanvas();return e===`jpg`?t?.toDataURL(`image/jpeg`):t?.toDataURL(`image/png`)}creatMapContainer(e){let t=e;typeof e==`string`&&(t=document.getElementById(e));let n=document.createElement(`div`);return n.style.cssText+=`
      position: absolute;
      top: 0;
      height: 100%;
      width: 100%;
    `,n.id=`l7_mapbox_div`+ $E++,t.appendChild(n),n}};function nD(e,t){var n=typeof my<`u`&&!!my&&typeof my.showToast==`function`&&my.isFRM!==!0,r=typeof wx<`u`&&wx!==null&&(wx.request!==void 0||wx.miniProgram!==void 0);if(!(n||r)&&(t||=document,t)){var i=t.head||t.getElementsByTagName(`head`)[0];if(!i){i=t.createElement(`head`);var a=t.body||t.getElementsByTagName(`body`)[0];a?a.parentNode.insertBefore(i,a):t.documentElement.appendChild(i)}var o=t.createElement(`style`);return o.type=`text/css`,o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),i.appendChild(o),o}}nD(`.mapboxgl-ctrl-logo {
  display: none !important;
}
`);var rD=class extends ZT{getServiceConstructor(){return tD}};function iD(e){return e==null}var aD=function(e,t,n){return e<t?t:e>n?n:e};function oD(e){return typeof e==`number`}var sD=e(t(((exports,t)=>{var n=Object.prototype.hasOwnProperty,r=`~`;function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,n,i,o){if(typeof n!=`function`)throw TypeError(`The listener must be a function`);var s=new a(n,i||e,o),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function s(e,t){--e._eventsCount===0?e._events=new i:delete e._events[t]}function c(){this._events=new i,this._eventsCount=0}c.prototype.eventNames=function(){var e=[],t,i;if(this._eventsCount===0)return e;for(i in t=this._events)n.call(t,i)&&e.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e},c.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,o=Array(a);i<a;i++)o[i]=n[i].fn;return o},c.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,i,a,o){var s=r?r+e:e;if(!this._events[s])return!1;var c=this._events[s],l=arguments.length,u,d;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,a),!0;case 6:return c.fn.call(c.context,t,n,i,a,o),!0}for(d=1,u=Array(l-1);d<l;d++)u[d-1]=arguments[d];c.fn.apply(c.context,u)}else{var f=c.length,p;for(d=0;d<f;d++)switch(c[d].once&&this.removeListener(e,c[d].fn,void 0,!0),l){case 1:c[d].fn.call(c[d].context);break;case 2:c[d].fn.call(c[d].context,t);break;case 3:c[d].fn.call(c[d].context,t,n);break;case 4:c[d].fn.call(c[d].context,t,n,i);break;default:if(!u)for(p=1,u=Array(l-1);p<l;p++)u[p-1]=arguments[p];c[d].fn.apply(c[d].context,u)}}return!0},c.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,i){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn===t&&(!i||o.once)&&(!n||o.context===n)&&s(this,a);else{for(var c=0,l=[],u=o.length;c<u;c++)(o[c].fn!==t||i&&!o[c].once||n&&o[c].context!==n)&&l.push(o[c]);l.length?this._events[a]=l.length===1?l[0]:l:s(this,a)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t!==void 0&&(t.exports=c)}))(),1).default,X;(function(e){e[e.DEPTH_BUFFER_BIT=256]=`DEPTH_BUFFER_BIT`,e[e.STENCIL_BUFFER_BIT=1024]=`STENCIL_BUFFER_BIT`,e[e.COLOR_BUFFER_BIT=16384]=`COLOR_BUFFER_BIT`,e[e.POINTS=0]=`POINTS`,e[e.LINES=1]=`LINES`,e[e.LINE_LOOP=2]=`LINE_LOOP`,e[e.LINE_STRIP=3]=`LINE_STRIP`,e[e.TRIANGLES=4]=`TRIANGLES`,e[e.TRIANGLE_STRIP=5]=`TRIANGLE_STRIP`,e[e.TRIANGLE_FAN=6]=`TRIANGLE_FAN`,e[e.ZERO=0]=`ZERO`,e[e.ONE=1]=`ONE`,e[e.SRC_COLOR=768]=`SRC_COLOR`,e[e.ONE_MINUS_SRC_COLOR=769]=`ONE_MINUS_SRC_COLOR`,e[e.SRC_ALPHA=770]=`SRC_ALPHA`,e[e.ONE_MINUS_SRC_ALPHA=771]=`ONE_MINUS_SRC_ALPHA`,e[e.DST_ALPHA=772]=`DST_ALPHA`,e[e.ONE_MINUS_DST_ALPHA=773]=`ONE_MINUS_DST_ALPHA`,e[e.DST_COLOR=774]=`DST_COLOR`,e[e.ONE_MINUS_DST_COLOR=775]=`ONE_MINUS_DST_COLOR`,e[e.SRC_ALPHA_SATURATE=776]=`SRC_ALPHA_SATURATE`,e[e.CONSTANT_COLOR=32769]=`CONSTANT_COLOR`,e[e.ONE_MINUS_CONSTANT_COLOR=32770]=`ONE_MINUS_CONSTANT_COLOR`,e[e.CONSTANT_ALPHA=32771]=`CONSTANT_ALPHA`,e[e.ONE_MINUS_CONSTANT_ALPHA=32772]=`ONE_MINUS_CONSTANT_ALPHA`,e[e.FUNC_ADD=32774]=`FUNC_ADD`,e[e.FUNC_SUBTRACT=32778]=`FUNC_SUBTRACT`,e[e.FUNC_REVERSE_SUBTRACT=32779]=`FUNC_REVERSE_SUBTRACT`,e[e.BLEND_EQUATION=32777]=`BLEND_EQUATION`,e[e.BLEND_EQUATION_RGB=32777]=`BLEND_EQUATION_RGB`,e[e.BLEND_EQUATION_ALPHA=34877]=`BLEND_EQUATION_ALPHA`,e[e.BLEND_DST_RGB=32968]=`BLEND_DST_RGB`,e[e.BLEND_SRC_RGB=32969]=`BLEND_SRC_RGB`,e[e.BLEND_DST_ALPHA=32970]=`BLEND_DST_ALPHA`,e[e.BLEND_SRC_ALPHA=32971]=`BLEND_SRC_ALPHA`,e[e.BLEND_COLOR=32773]=`BLEND_COLOR`,e[e.ARRAY_BUFFER_BINDING=34964]=`ARRAY_BUFFER_BINDING`,e[e.ELEMENT_ARRAY_BUFFER_BINDING=34965]=`ELEMENT_ARRAY_BUFFER_BINDING`,e[e.LINE_WIDTH=2849]=`LINE_WIDTH`,e[e.ALIASED_POINT_SIZE_RANGE=33901]=`ALIASED_POINT_SIZE_RANGE`,e[e.ALIASED_LINE_WIDTH_RANGE=33902]=`ALIASED_LINE_WIDTH_RANGE`,e[e.CULL_FACE_MODE=2885]=`CULL_FACE_MODE`,e[e.FRONT_FACE=2886]=`FRONT_FACE`,e[e.DEPTH_RANGE=2928]=`DEPTH_RANGE`,e[e.DEPTH_WRITEMASK=2930]=`DEPTH_WRITEMASK`,e[e.DEPTH_CLEAR_VALUE=2931]=`DEPTH_CLEAR_VALUE`,e[e.DEPTH_FUNC=2932]=`DEPTH_FUNC`,e[e.STENCIL_CLEAR_VALUE=2961]=`STENCIL_CLEAR_VALUE`,e[e.STENCIL_FUNC=2962]=`STENCIL_FUNC`,e[e.STENCIL_FAIL=2964]=`STENCIL_FAIL`,e[e.STENCIL_PASS_DEPTH_FAIL=2965]=`STENCIL_PASS_DEPTH_FAIL`,e[e.STENCIL_PASS_DEPTH_PASS=2966]=`STENCIL_PASS_DEPTH_PASS`,e[e.STENCIL_REF=2967]=`STENCIL_REF`,e[e.STENCIL_VALUE_MASK=2963]=`STENCIL_VALUE_MASK`,e[e.STENCIL_WRITEMASK=2968]=`STENCIL_WRITEMASK`,e[e.STENCIL_BACK_FUNC=34816]=`STENCIL_BACK_FUNC`,e[e.STENCIL_BACK_FAIL=34817]=`STENCIL_BACK_FAIL`,e[e.STENCIL_BACK_PASS_DEPTH_FAIL=34818]=`STENCIL_BACK_PASS_DEPTH_FAIL`,e[e.STENCIL_BACK_PASS_DEPTH_PASS=34819]=`STENCIL_BACK_PASS_DEPTH_PASS`,e[e.STENCIL_BACK_REF=36003]=`STENCIL_BACK_REF`,e[e.STENCIL_BACK_VALUE_MASK=36004]=`STENCIL_BACK_VALUE_MASK`,e[e.STENCIL_BACK_WRITEMASK=36005]=`STENCIL_BACK_WRITEMASK`,e[e.VIEWPORT=2978]=`VIEWPORT`,e[e.SCISSOR_BOX=3088]=`SCISSOR_BOX`,e[e.COLOR_CLEAR_VALUE=3106]=`COLOR_CLEAR_VALUE`,e[e.COLOR_WRITEMASK=3107]=`COLOR_WRITEMASK`,e[e.UNPACK_ALIGNMENT=3317]=`UNPACK_ALIGNMENT`,e[e.PACK_ALIGNMENT=3333]=`PACK_ALIGNMENT`,e[e.MAX_TEXTURE_SIZE=3379]=`MAX_TEXTURE_SIZE`,e[e.MAX_VIEWPORT_DIMS=3386]=`MAX_VIEWPORT_DIMS`,e[e.SUBPIXEL_BITS=3408]=`SUBPIXEL_BITS`,e[e.RED_BITS=3410]=`RED_BITS`,e[e.GREEN_BITS=3411]=`GREEN_BITS`,e[e.BLUE_BITS=3412]=`BLUE_BITS`,e[e.ALPHA_BITS=3413]=`ALPHA_BITS`,e[e.DEPTH_BITS=3414]=`DEPTH_BITS`,e[e.STENCIL_BITS=3415]=`STENCIL_BITS`,e[e.POLYGON_OFFSET_UNITS=10752]=`POLYGON_OFFSET_UNITS`,e[e.POLYGON_OFFSET_FACTOR=32824]=`POLYGON_OFFSET_FACTOR`,e[e.TEXTURE_BINDING_2D=32873]=`TEXTURE_BINDING_2D`,e[e.SAMPLE_BUFFERS=32936]=`SAMPLE_BUFFERS`,e[e.SAMPLES=32937]=`SAMPLES`,e[e.SAMPLE_COVERAGE_VALUE=32938]=`SAMPLE_COVERAGE_VALUE`,e[e.SAMPLE_COVERAGE_INVERT=32939]=`SAMPLE_COVERAGE_INVERT`,e[e.COMPRESSED_TEXTURE_FORMATS=34467]=`COMPRESSED_TEXTURE_FORMATS`,e[e.VENDOR=7936]=`VENDOR`,e[e.RENDERER=7937]=`RENDERER`,e[e.VERSION=7938]=`VERSION`,e[e.IMPLEMENTATION_COLOR_READ_TYPE=35738]=`IMPLEMENTATION_COLOR_READ_TYPE`,e[e.IMPLEMENTATION_COLOR_READ_FORMAT=35739]=`IMPLEMENTATION_COLOR_READ_FORMAT`,e[e.BROWSER_DEFAULT_WEBGL=37444]=`BROWSER_DEFAULT_WEBGL`,e[e.STATIC_DRAW=35044]=`STATIC_DRAW`,e[e.STREAM_DRAW=35040]=`STREAM_DRAW`,e[e.DYNAMIC_DRAW=35048]=`DYNAMIC_DRAW`,e[e.ARRAY_BUFFER=34962]=`ARRAY_BUFFER`,e[e.ELEMENT_ARRAY_BUFFER=34963]=`ELEMENT_ARRAY_BUFFER`,e[e.BUFFER_SIZE=34660]=`BUFFER_SIZE`,e[e.BUFFER_USAGE=34661]=`BUFFER_USAGE`,e[e.CURRENT_VERTEX_ATTRIB=34342]=`CURRENT_VERTEX_ATTRIB`,e[e.VERTEX_ATTRIB_ARRAY_ENABLED=34338]=`VERTEX_ATTRIB_ARRAY_ENABLED`,e[e.VERTEX_ATTRIB_ARRAY_SIZE=34339]=`VERTEX_ATTRIB_ARRAY_SIZE`,e[e.VERTEX_ATTRIB_ARRAY_STRIDE=34340]=`VERTEX_ATTRIB_ARRAY_STRIDE`,e[e.VERTEX_ATTRIB_ARRAY_TYPE=34341]=`VERTEX_ATTRIB_ARRAY_TYPE`,e[e.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]=`VERTEX_ATTRIB_ARRAY_NORMALIZED`,e[e.VERTEX_ATTRIB_ARRAY_POINTER=34373]=`VERTEX_ATTRIB_ARRAY_POINTER`,e[e.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]=`VERTEX_ATTRIB_ARRAY_BUFFER_BINDING`,e[e.CULL_FACE=2884]=`CULL_FACE`,e[e.FRONT=1028]=`FRONT`,e[e.BACK=1029]=`BACK`,e[e.FRONT_AND_BACK=1032]=`FRONT_AND_BACK`,e[e.BLEND=3042]=`BLEND`,e[e.DEPTH_TEST=2929]=`DEPTH_TEST`,e[e.DITHER=3024]=`DITHER`,e[e.POLYGON_OFFSET_FILL=32823]=`POLYGON_OFFSET_FILL`,e[e.SAMPLE_ALPHA_TO_COVERAGE=32926]=`SAMPLE_ALPHA_TO_COVERAGE`,e[e.SAMPLE_COVERAGE=32928]=`SAMPLE_COVERAGE`,e[e.SCISSOR_TEST=3089]=`SCISSOR_TEST`,e[e.STENCIL_TEST=2960]=`STENCIL_TEST`,e[e.NO_ERROR=0]=`NO_ERROR`,e[e.INVALID_ENUM=1280]=`INVALID_ENUM`,e[e.INVALID_VALUE=1281]=`INVALID_VALUE`,e[e.INVALID_OPERATION=1282]=`INVALID_OPERATION`,e[e.OUT_OF_MEMORY=1285]=`OUT_OF_MEMORY`,e[e.CONTEXT_LOST_WEBGL=37442]=`CONTEXT_LOST_WEBGL`,e[e.CW=2304]=`CW`,e[e.CCW=2305]=`CCW`,e[e.DONT_CARE=4352]=`DONT_CARE`,e[e.FASTEST=4353]=`FASTEST`,e[e.NICEST=4354]=`NICEST`,e[e.GENERATE_MIPMAP_HINT=33170]=`GENERATE_MIPMAP_HINT`,e[e.BYTE=5120]=`BYTE`,e[e.UNSIGNED_BYTE=5121]=`UNSIGNED_BYTE`,e[e.SHORT=5122]=`SHORT`,e[e.UNSIGNED_SHORT=5123]=`UNSIGNED_SHORT`,e[e.INT=5124]=`INT`,e[e.UNSIGNED_INT=5125]=`UNSIGNED_INT`,e[e.FLOAT=5126]=`FLOAT`,e[e.DOUBLE=5130]=`DOUBLE`,e[e.DEPTH_COMPONENT=6402]=`DEPTH_COMPONENT`,e[e.ALPHA=6406]=`ALPHA`,e[e.RGB=6407]=`RGB`,e[e.RGBA=6408]=`RGBA`,e[e.LUMINANCE=6409]=`LUMINANCE`,e[e.LUMINANCE_ALPHA=6410]=`LUMINANCE_ALPHA`,e[e.UNSIGNED_SHORT_4_4_4_4=32819]=`UNSIGNED_SHORT_4_4_4_4`,e[e.UNSIGNED_SHORT_5_5_5_1=32820]=`UNSIGNED_SHORT_5_5_5_1`,e[e.UNSIGNED_SHORT_5_6_5=33635]=`UNSIGNED_SHORT_5_6_5`,e[e.FRAGMENT_SHADER=35632]=`FRAGMENT_SHADER`,e[e.VERTEX_SHADER=35633]=`VERTEX_SHADER`,e[e.COMPILE_STATUS=35713]=`COMPILE_STATUS`,e[e.DELETE_STATUS=35712]=`DELETE_STATUS`,e[e.LINK_STATUS=35714]=`LINK_STATUS`,e[e.VALIDATE_STATUS=35715]=`VALIDATE_STATUS`,e[e.ATTACHED_SHADERS=35717]=`ATTACHED_SHADERS`,e[e.ACTIVE_ATTRIBUTES=35721]=`ACTIVE_ATTRIBUTES`,e[e.ACTIVE_UNIFORMS=35718]=`ACTIVE_UNIFORMS`,e[e.MAX_VERTEX_ATTRIBS=34921]=`MAX_VERTEX_ATTRIBS`,e[e.MAX_VERTEX_UNIFORM_VECTORS=36347]=`MAX_VERTEX_UNIFORM_VECTORS`,e[e.MAX_VARYING_VECTORS=36348]=`MAX_VARYING_VECTORS`,e[e.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]=`MAX_COMBINED_TEXTURE_IMAGE_UNITS`,e[e.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]=`MAX_VERTEX_TEXTURE_IMAGE_UNITS`,e[e.MAX_TEXTURE_IMAGE_UNITS=34930]=`MAX_TEXTURE_IMAGE_UNITS`,e[e.MAX_FRAGMENT_UNIFORM_VECTORS=36349]=`MAX_FRAGMENT_UNIFORM_VECTORS`,e[e.SHADER_TYPE=35663]=`SHADER_TYPE`,e[e.SHADING_LANGUAGE_VERSION=35724]=`SHADING_LANGUAGE_VERSION`,e[e.CURRENT_PROGRAM=35725]=`CURRENT_PROGRAM`,e[e.NEVER=512]=`NEVER`,e[e.ALWAYS=519]=`ALWAYS`,e[e.LESS=513]=`LESS`,e[e.EQUAL=514]=`EQUAL`,e[e.LEQUAL=515]=`LEQUAL`,e[e.GREATER=516]=`GREATER`,e[e.GEQUAL=518]=`GEQUAL`,e[e.NOTEQUAL=517]=`NOTEQUAL`,e[e.KEEP=7680]=`KEEP`,e[e.REPLACE=7681]=`REPLACE`,e[e.INCR=7682]=`INCR`,e[e.DECR=7683]=`DECR`,e[e.INVERT=5386]=`INVERT`,e[e.INCR_WRAP=34055]=`INCR_WRAP`,e[e.DECR_WRAP=34056]=`DECR_WRAP`,e[e.NEAREST=9728]=`NEAREST`,e[e.LINEAR=9729]=`LINEAR`,e[e.NEAREST_MIPMAP_NEAREST=9984]=`NEAREST_MIPMAP_NEAREST`,e[e.LINEAR_MIPMAP_NEAREST=9985]=`LINEAR_MIPMAP_NEAREST`,e[e.NEAREST_MIPMAP_LINEAR=9986]=`NEAREST_MIPMAP_LINEAR`,e[e.LINEAR_MIPMAP_LINEAR=9987]=`LINEAR_MIPMAP_LINEAR`,e[e.TEXTURE_MAG_FILTER=10240]=`TEXTURE_MAG_FILTER`,e[e.TEXTURE_MIN_FILTER=10241]=`TEXTURE_MIN_FILTER`,e[e.TEXTURE_WRAP_S=10242]=`TEXTURE_WRAP_S`,e[e.TEXTURE_WRAP_T=10243]=`TEXTURE_WRAP_T`,e[e.TEXTURE_2D=3553]=`TEXTURE_2D`,e[e.TEXTURE=5890]=`TEXTURE`,e[e.TEXTURE_CUBE_MAP=34067]=`TEXTURE_CUBE_MAP`,e[e.TEXTURE_BINDING_CUBE_MAP=34068]=`TEXTURE_BINDING_CUBE_MAP`,e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]=`TEXTURE_CUBE_MAP_POSITIVE_X`,e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]=`TEXTURE_CUBE_MAP_NEGATIVE_X`,e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]=`TEXTURE_CUBE_MAP_POSITIVE_Y`,e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]=`TEXTURE_CUBE_MAP_NEGATIVE_Y`,e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]=`TEXTURE_CUBE_MAP_POSITIVE_Z`,e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]=`TEXTURE_CUBE_MAP_NEGATIVE_Z`,e[e.MAX_CUBE_MAP_TEXTURE_SIZE=34076]=`MAX_CUBE_MAP_TEXTURE_SIZE`,e[e.TEXTURE0=33984]=`TEXTURE0`,e[e.ACTIVE_TEXTURE=34016]=`ACTIVE_TEXTURE`,e[e.REPEAT=10497]=`REPEAT`,e[e.CLAMP_TO_EDGE=33071]=`CLAMP_TO_EDGE`,e[e.MIRRORED_REPEAT=33648]=`MIRRORED_REPEAT`,e[e.TEXTURE_WIDTH=4096]=`TEXTURE_WIDTH`,e[e.TEXTURE_HEIGHT=4097]=`TEXTURE_HEIGHT`,e[e.FLOAT_VEC2=35664]=`FLOAT_VEC2`,e[e.FLOAT_VEC3=35665]=`FLOAT_VEC3`,e[e.FLOAT_VEC4=35666]=`FLOAT_VEC4`,e[e.INT_VEC2=35667]=`INT_VEC2`,e[e.INT_VEC3=35668]=`INT_VEC3`,e[e.INT_VEC4=35669]=`INT_VEC4`,e[e.BOOL=35670]=`BOOL`,e[e.BOOL_VEC2=35671]=`BOOL_VEC2`,e[e.BOOL_VEC3=35672]=`BOOL_VEC3`,e[e.BOOL_VEC4=35673]=`BOOL_VEC4`,e[e.FLOAT_MAT2=35674]=`FLOAT_MAT2`,e[e.FLOAT_MAT3=35675]=`FLOAT_MAT3`,e[e.FLOAT_MAT4=35676]=`FLOAT_MAT4`,e[e.SAMPLER_2D=35678]=`SAMPLER_2D`,e[e.SAMPLER_CUBE=35680]=`SAMPLER_CUBE`,e[e.LOW_FLOAT=36336]=`LOW_FLOAT`,e[e.MEDIUM_FLOAT=36337]=`MEDIUM_FLOAT`,e[e.HIGH_FLOAT=36338]=`HIGH_FLOAT`,e[e.LOW_INT=36339]=`LOW_INT`,e[e.MEDIUM_INT=36340]=`MEDIUM_INT`,e[e.HIGH_INT=36341]=`HIGH_INT`,e[e.FRAMEBUFFER=36160]=`FRAMEBUFFER`,e[e.RENDERBUFFER=36161]=`RENDERBUFFER`,e[e.RGBA4=32854]=`RGBA4`,e[e.RGB5_A1=32855]=`RGB5_A1`,e[e.RGB565=36194]=`RGB565`,e[e.DEPTH_COMPONENT16=33189]=`DEPTH_COMPONENT16`,e[e.STENCIL_INDEX=6401]=`STENCIL_INDEX`,e[e.STENCIL_INDEX8=36168]=`STENCIL_INDEX8`,e[e.DEPTH_STENCIL=34041]=`DEPTH_STENCIL`,e[e.RENDERBUFFER_WIDTH=36162]=`RENDERBUFFER_WIDTH`,e[e.RENDERBUFFER_HEIGHT=36163]=`RENDERBUFFER_HEIGHT`,e[e.RENDERBUFFER_INTERNAL_FORMAT=36164]=`RENDERBUFFER_INTERNAL_FORMAT`,e[e.RENDERBUFFER_RED_SIZE=36176]=`RENDERBUFFER_RED_SIZE`,e[e.RENDERBUFFER_GREEN_SIZE=36177]=`RENDERBUFFER_GREEN_SIZE`,e[e.RENDERBUFFER_BLUE_SIZE=36178]=`RENDERBUFFER_BLUE_SIZE`,e[e.RENDERBUFFER_ALPHA_SIZE=36179]=`RENDERBUFFER_ALPHA_SIZE`,e[e.RENDERBUFFER_DEPTH_SIZE=36180]=`RENDERBUFFER_DEPTH_SIZE`,e[e.RENDERBUFFER_STENCIL_SIZE=36181]=`RENDERBUFFER_STENCIL_SIZE`,e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]=`FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE`,e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]=`FRAMEBUFFER_ATTACHMENT_OBJECT_NAME`,e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]=`FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL`,e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]=`FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE`,e[e.COLOR_ATTACHMENT0=36064]=`COLOR_ATTACHMENT0`,e[e.DEPTH_ATTACHMENT=36096]=`DEPTH_ATTACHMENT`,e[e.STENCIL_ATTACHMENT=36128]=`STENCIL_ATTACHMENT`,e[e.DEPTH_STENCIL_ATTACHMENT=33306]=`DEPTH_STENCIL_ATTACHMENT`,e[e.NONE=0]=`NONE`,e[e.FRAMEBUFFER_COMPLETE=36053]=`FRAMEBUFFER_COMPLETE`,e[e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]=`FRAMEBUFFER_INCOMPLETE_ATTACHMENT`,e[e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]=`FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT`,e[e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]=`FRAMEBUFFER_INCOMPLETE_DIMENSIONS`,e[e.FRAMEBUFFER_UNSUPPORTED=36061]=`FRAMEBUFFER_UNSUPPORTED`,e[e.FRAMEBUFFER_BINDING=36006]=`FRAMEBUFFER_BINDING`,e[e.RENDERBUFFER_BINDING=36007]=`RENDERBUFFER_BINDING`,e[e.READ_FRAMEBUFFER=36008]=`READ_FRAMEBUFFER`,e[e.DRAW_FRAMEBUFFER=36009]=`DRAW_FRAMEBUFFER`,e[e.MAX_RENDERBUFFER_SIZE=34024]=`MAX_RENDERBUFFER_SIZE`,e[e.INVALID_FRAMEBUFFER_OPERATION=1286]=`INVALID_FRAMEBUFFER_OPERATION`,e[e.UNPACK_FLIP_Y_WEBGL=37440]=`UNPACK_FLIP_Y_WEBGL`,e[e.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]=`UNPACK_PREMULTIPLY_ALPHA_WEBGL`,e[e.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]=`UNPACK_COLORSPACE_CONVERSION_WEBGL`,e[e.READ_BUFFER=3074]=`READ_BUFFER`,e[e.UNPACK_ROW_LENGTH=3314]=`UNPACK_ROW_LENGTH`,e[e.UNPACK_SKIP_ROWS=3315]=`UNPACK_SKIP_ROWS`,e[e.UNPACK_SKIP_PIXELS=3316]=`UNPACK_SKIP_PIXELS`,e[e.PACK_ROW_LENGTH=3330]=`PACK_ROW_LENGTH`,e[e.PACK_SKIP_ROWS=3331]=`PACK_SKIP_ROWS`,e[e.PACK_SKIP_PIXELS=3332]=`PACK_SKIP_PIXELS`,e[e.TEXTURE_BINDING_3D=32874]=`TEXTURE_BINDING_3D`,e[e.UNPACK_SKIP_IMAGES=32877]=`UNPACK_SKIP_IMAGES`,e[e.UNPACK_IMAGE_HEIGHT=32878]=`UNPACK_IMAGE_HEIGHT`,e[e.MAX_3D_TEXTURE_SIZE=32883]=`MAX_3D_TEXTURE_SIZE`,e[e.MAX_ELEMENTS_VERTICES=33e3]=`MAX_ELEMENTS_VERTICES`,e[e.MAX_ELEMENTS_INDICES=33001]=`MAX_ELEMENTS_INDICES`,e[e.MAX_TEXTURE_LOD_BIAS=34045]=`MAX_TEXTURE_LOD_BIAS`,e[e.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657]=`MAX_FRAGMENT_UNIFORM_COMPONENTS`,e[e.MAX_VERTEX_UNIFORM_COMPONENTS=35658]=`MAX_VERTEX_UNIFORM_COMPONENTS`,e[e.MAX_ARRAY_TEXTURE_LAYERS=35071]=`MAX_ARRAY_TEXTURE_LAYERS`,e[e.MIN_PROGRAM_TEXEL_OFFSET=35076]=`MIN_PROGRAM_TEXEL_OFFSET`,e[e.MAX_PROGRAM_TEXEL_OFFSET=35077]=`MAX_PROGRAM_TEXEL_OFFSET`,e[e.MAX_VARYING_COMPONENTS=35659]=`MAX_VARYING_COMPONENTS`,e[e.FRAGMENT_SHADER_DERIVATIVE_HINT=35723]=`FRAGMENT_SHADER_DERIVATIVE_HINT`,e[e.RASTERIZER_DISCARD=35977]=`RASTERIZER_DISCARD`,e[e.VERTEX_ARRAY_BINDING=34229]=`VERTEX_ARRAY_BINDING`,e[e.MAX_VERTEX_OUTPUT_COMPONENTS=37154]=`MAX_VERTEX_OUTPUT_COMPONENTS`,e[e.MAX_FRAGMENT_INPUT_COMPONENTS=37157]=`MAX_FRAGMENT_INPUT_COMPONENTS`,e[e.MAX_SERVER_WAIT_TIMEOUT=37137]=`MAX_SERVER_WAIT_TIMEOUT`,e[e.MAX_ELEMENT_INDEX=36203]=`MAX_ELEMENT_INDEX`,e[e.RED=6403]=`RED`,e[e.RGB8=32849]=`RGB8`,e[e.RGBA8=32856]=`RGBA8`,e[e.RGB10_A2=32857]=`RGB10_A2`,e[e.TEXTURE_3D=32879]=`TEXTURE_3D`,e[e.TEXTURE_WRAP_R=32882]=`TEXTURE_WRAP_R`,e[e.TEXTURE_MIN_LOD=33082]=`TEXTURE_MIN_LOD`,e[e.TEXTURE_MAX_LOD=33083]=`TEXTURE_MAX_LOD`,e[e.TEXTURE_BASE_LEVEL=33084]=`TEXTURE_BASE_LEVEL`,e[e.TEXTURE_MAX_LEVEL=33085]=`TEXTURE_MAX_LEVEL`,e[e.TEXTURE_COMPARE_MODE=34892]=`TEXTURE_COMPARE_MODE`,e[e.TEXTURE_COMPARE_FUNC=34893]=`TEXTURE_COMPARE_FUNC`,e[e.SRGB=35904]=`SRGB`,e[e.SRGB8=35905]=`SRGB8`,e[e.SRGB8_ALPHA8=35907]=`SRGB8_ALPHA8`,e[e.COMPARE_REF_TO_TEXTURE=34894]=`COMPARE_REF_TO_TEXTURE`,e[e.RGBA32F=34836]=`RGBA32F`,e[e.RGB32F=34837]=`RGB32F`,e[e.RGBA16F=34842]=`RGBA16F`,e[e.RGB16F=34843]=`RGB16F`,e[e.TEXTURE_2D_ARRAY=35866]=`TEXTURE_2D_ARRAY`,e[e.TEXTURE_BINDING_2D_ARRAY=35869]=`TEXTURE_BINDING_2D_ARRAY`,e[e.R11F_G11F_B10F=35898]=`R11F_G11F_B10F`,e[e.RGB9_E5=35901]=`RGB9_E5`,e[e.RGBA32UI=36208]=`RGBA32UI`,e[e.RGB32UI=36209]=`RGB32UI`,e[e.RGBA16UI=36214]=`RGBA16UI`,e[e.RGB16UI=36215]=`RGB16UI`,e[e.RGBA8UI=36220]=`RGBA8UI`,e[e.RGB8UI=36221]=`RGB8UI`,e[e.RGBA32I=36226]=`RGBA32I`,e[e.RGB32I=36227]=`RGB32I`,e[e.RGBA16I=36232]=`RGBA16I`,e[e.RGB16I=36233]=`RGB16I`,e[e.RGBA8I=36238]=`RGBA8I`,e[e.RGB8I=36239]=`RGB8I`,e[e.RED_INTEGER=36244]=`RED_INTEGER`,e[e.RGB_INTEGER=36248]=`RGB_INTEGER`,e[e.RGBA_INTEGER=36249]=`RGBA_INTEGER`,e[e.R8=33321]=`R8`,e[e.RG8=33323]=`RG8`,e[e.R16F=33325]=`R16F`,e[e.R32F=33326]=`R32F`,e[e.RG16F=33327]=`RG16F`,e[e.RG32F=33328]=`RG32F`,e[e.R8I=33329]=`R8I`,e[e.R8UI=33330]=`R8UI`,e[e.R16I=33331]=`R16I`,e[e.R16UI=33332]=`R16UI`,e[e.R32I=33333]=`R32I`,e[e.R32UI=33334]=`R32UI`,e[e.RG8I=33335]=`RG8I`,e[e.RG8UI=33336]=`RG8UI`,e[e.RG16I=33337]=`RG16I`,e[e.RG16UI=33338]=`RG16UI`,e[e.RG32I=33339]=`RG32I`,e[e.RG32UI=33340]=`RG32UI`,e[e.R8_SNORM=36756]=`R8_SNORM`,e[e.RG8_SNORM=36757]=`RG8_SNORM`,e[e.RGB8_SNORM=36758]=`RGB8_SNORM`,e[e.RGBA8_SNORM=36759]=`RGBA8_SNORM`,e[e.RGB10_A2UI=36975]=`RGB10_A2UI`,e[e.TEXTURE_IMMUTABLE_FORMAT=37167]=`TEXTURE_IMMUTABLE_FORMAT`,e[e.TEXTURE_IMMUTABLE_LEVELS=33503]=`TEXTURE_IMMUTABLE_LEVELS`,e[e.UNSIGNED_INT_2_10_10_10_REV=33640]=`UNSIGNED_INT_2_10_10_10_REV`,e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]=`UNSIGNED_INT_10F_11F_11F_REV`,e[e.UNSIGNED_INT_5_9_9_9_REV=35902]=`UNSIGNED_INT_5_9_9_9_REV`,e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]=`FLOAT_32_UNSIGNED_INT_24_8_REV`,e[e.UNSIGNED_INT_24_8=34042]=`UNSIGNED_INT_24_8`,e[e.HALF_FLOAT=5131]=`HALF_FLOAT`,e[e.RG=33319]=`RG`,e[e.RG_INTEGER=33320]=`RG_INTEGER`,e[e.INT_2_10_10_10_REV=36255]=`INT_2_10_10_10_REV`,e[e.CURRENT_QUERY=34917]=`CURRENT_QUERY`,e[e.QUERY_RESULT=34918]=`QUERY_RESULT`,e[e.QUERY_RESULT_AVAILABLE=34919]=`QUERY_RESULT_AVAILABLE`,e[e.ANY_SAMPLES_PASSED=35887]=`ANY_SAMPLES_PASSED`,e[e.ANY_SAMPLES_PASSED_CONSERVATIVE=36202]=`ANY_SAMPLES_PASSED_CONSERVATIVE`,e[e.MAX_DRAW_BUFFERS=34852]=`MAX_DRAW_BUFFERS`,e[e.DRAW_BUFFER0=34853]=`DRAW_BUFFER0`,e[e.DRAW_BUFFER1=34854]=`DRAW_BUFFER1`,e[e.DRAW_BUFFER2=34855]=`DRAW_BUFFER2`,e[e.DRAW_BUFFER3=34856]=`DRAW_BUFFER3`,e[e.DRAW_BUFFER4=34857]=`DRAW_BUFFER4`,e[e.DRAW_BUFFER5=34858]=`DRAW_BUFFER5`,e[e.DRAW_BUFFER6=34859]=`DRAW_BUFFER6`,e[e.DRAW_BUFFER7=34860]=`DRAW_BUFFER7`,e[e.DRAW_BUFFER8=34861]=`DRAW_BUFFER8`,e[e.DRAW_BUFFER9=34862]=`DRAW_BUFFER9`,e[e.DRAW_BUFFER10=34863]=`DRAW_BUFFER10`,e[e.DRAW_BUFFER11=34864]=`DRAW_BUFFER11`,e[e.DRAW_BUFFER12=34865]=`DRAW_BUFFER12`,e[e.DRAW_BUFFER13=34866]=`DRAW_BUFFER13`,e[e.DRAW_BUFFER14=34867]=`DRAW_BUFFER14`,e[e.DRAW_BUFFER15=34868]=`DRAW_BUFFER15`,e[e.MAX_COLOR_ATTACHMENTS=36063]=`MAX_COLOR_ATTACHMENTS`,e[e.COLOR_ATTACHMENT1=36065]=`COLOR_ATTACHMENT1`,e[e.COLOR_ATTACHMENT2=36066]=`COLOR_ATTACHMENT2`,e[e.COLOR_ATTACHMENT3=36067]=`COLOR_ATTACHMENT3`,e[e.COLOR_ATTACHMENT4=36068]=`COLOR_ATTACHMENT4`,e[e.COLOR_ATTACHMENT5=36069]=`COLOR_ATTACHMENT5`,e[e.COLOR_ATTACHMENT6=36070]=`COLOR_ATTACHMENT6`,e[e.COLOR_ATTACHMENT7=36071]=`COLOR_ATTACHMENT7`,e[e.COLOR_ATTACHMENT8=36072]=`COLOR_ATTACHMENT8`,e[e.COLOR_ATTACHMENT9=36073]=`COLOR_ATTACHMENT9`,e[e.COLOR_ATTACHMENT10=36074]=`COLOR_ATTACHMENT10`,e[e.COLOR_ATTACHMENT11=36075]=`COLOR_ATTACHMENT11`,e[e.COLOR_ATTACHMENT12=36076]=`COLOR_ATTACHMENT12`,e[e.COLOR_ATTACHMENT13=36077]=`COLOR_ATTACHMENT13`,e[e.COLOR_ATTACHMENT14=36078]=`COLOR_ATTACHMENT14`,e[e.COLOR_ATTACHMENT15=36079]=`COLOR_ATTACHMENT15`,e[e.SAMPLER_3D=35679]=`SAMPLER_3D`,e[e.SAMPLER_2D_SHADOW=35682]=`SAMPLER_2D_SHADOW`,e[e.SAMPLER_2D_ARRAY=36289]=`SAMPLER_2D_ARRAY`,e[e.SAMPLER_2D_ARRAY_SHADOW=36292]=`SAMPLER_2D_ARRAY_SHADOW`,e[e.SAMPLER_CUBE_SHADOW=36293]=`SAMPLER_CUBE_SHADOW`,e[e.INT_SAMPLER_2D=36298]=`INT_SAMPLER_2D`,e[e.INT_SAMPLER_3D=36299]=`INT_SAMPLER_3D`,e[e.INT_SAMPLER_CUBE=36300]=`INT_SAMPLER_CUBE`,e[e.INT_SAMPLER_2D_ARRAY=36303]=`INT_SAMPLER_2D_ARRAY`,e[e.UNSIGNED_INT_SAMPLER_2D=36306]=`UNSIGNED_INT_SAMPLER_2D`,e[e.UNSIGNED_INT_SAMPLER_3D=36307]=`UNSIGNED_INT_SAMPLER_3D`,e[e.UNSIGNED_INT_SAMPLER_CUBE=36308]=`UNSIGNED_INT_SAMPLER_CUBE`,e[e.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]=`UNSIGNED_INT_SAMPLER_2D_ARRAY`,e[e.MAX_SAMPLES=36183]=`MAX_SAMPLES`,e[e.SAMPLER_BINDING=35097]=`SAMPLER_BINDING`,e[e.PIXEL_PACK_BUFFER=35051]=`PIXEL_PACK_BUFFER`,e[e.PIXEL_UNPACK_BUFFER=35052]=`PIXEL_UNPACK_BUFFER`,e[e.PIXEL_PACK_BUFFER_BINDING=35053]=`PIXEL_PACK_BUFFER_BINDING`,e[e.PIXEL_UNPACK_BUFFER_BINDING=35055]=`PIXEL_UNPACK_BUFFER_BINDING`,e[e.COPY_READ_BUFFER=36662]=`COPY_READ_BUFFER`,e[e.COPY_WRITE_BUFFER=36663]=`COPY_WRITE_BUFFER`,e[e.COPY_READ_BUFFER_BINDING=36662]=`COPY_READ_BUFFER_BINDING`,e[e.COPY_WRITE_BUFFER_BINDING=36663]=`COPY_WRITE_BUFFER_BINDING`,e[e.FLOAT_MAT2x3=35685]=`FLOAT_MAT2x3`,e[e.FLOAT_MAT2x4=35686]=`FLOAT_MAT2x4`,e[e.FLOAT_MAT3x2=35687]=`FLOAT_MAT3x2`,e[e.FLOAT_MAT3x4=35688]=`FLOAT_MAT3x4`,e[e.FLOAT_MAT4x2=35689]=`FLOAT_MAT4x2`,e[e.FLOAT_MAT4x3=35690]=`FLOAT_MAT4x3`,e[e.UNSIGNED_INT_VEC2=36294]=`UNSIGNED_INT_VEC2`,e[e.UNSIGNED_INT_VEC3=36295]=`UNSIGNED_INT_VEC3`,e[e.UNSIGNED_INT_VEC4=36296]=`UNSIGNED_INT_VEC4`,e[e.UNSIGNED_NORMALIZED=35863]=`UNSIGNED_NORMALIZED`,e[e.SIGNED_NORMALIZED=36764]=`SIGNED_NORMALIZED`,e[e.VERTEX_ATTRIB_ARRAY_INTEGER=35069]=`VERTEX_ATTRIB_ARRAY_INTEGER`,e[e.VERTEX_ATTRIB_ARRAY_DIVISOR=35070]=`VERTEX_ATTRIB_ARRAY_DIVISOR`,e[e.TRANSFORM_FEEDBACK_BUFFER_MODE=35967]=`TRANSFORM_FEEDBACK_BUFFER_MODE`,e[e.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968]=`MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS`,e[e.TRANSFORM_FEEDBACK_VARYINGS=35971]=`TRANSFORM_FEEDBACK_VARYINGS`,e[e.TRANSFORM_FEEDBACK_BUFFER_START=35972]=`TRANSFORM_FEEDBACK_BUFFER_START`,e[e.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973]=`TRANSFORM_FEEDBACK_BUFFER_SIZE`,e[e.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976]=`TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN`,e[e.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978]=`MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS`,e[e.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979]=`MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS`,e[e.INTERLEAVED_ATTRIBS=35980]=`INTERLEAVED_ATTRIBS`,e[e.SEPARATE_ATTRIBS=35981]=`SEPARATE_ATTRIBS`,e[e.TRANSFORM_FEEDBACK_BUFFER=35982]=`TRANSFORM_FEEDBACK_BUFFER`,e[e.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983]=`TRANSFORM_FEEDBACK_BUFFER_BINDING`,e[e.TRANSFORM_FEEDBACK=36386]=`TRANSFORM_FEEDBACK`,e[e.TRANSFORM_FEEDBACK_PAUSED=36387]=`TRANSFORM_FEEDBACK_PAUSED`,e[e.TRANSFORM_FEEDBACK_ACTIVE=36388]=`TRANSFORM_FEEDBACK_ACTIVE`,e[e.TRANSFORM_FEEDBACK_BINDING=36389]=`TRANSFORM_FEEDBACK_BINDING`,e[e.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296]=`FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING`,e[e.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297]=`FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE`,e[e.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298]=`FRAMEBUFFER_ATTACHMENT_RED_SIZE`,e[e.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299]=`FRAMEBUFFER_ATTACHMENT_GREEN_SIZE`,e[e.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300]=`FRAMEBUFFER_ATTACHMENT_BLUE_SIZE`,e[e.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301]=`FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE`,e[e.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302]=`FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE`,e[e.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303]=`FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE`,e[e.FRAMEBUFFER_DEFAULT=33304]=`FRAMEBUFFER_DEFAULT`,e[e.DEPTH24_STENCIL8=35056]=`DEPTH24_STENCIL8`,e[e.DRAW_FRAMEBUFFER_BINDING=36006]=`DRAW_FRAMEBUFFER_BINDING`,e[e.READ_FRAMEBUFFER_BINDING=36010]=`READ_FRAMEBUFFER_BINDING`,e[e.RENDERBUFFER_SAMPLES=36011]=`RENDERBUFFER_SAMPLES`,e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052]=`FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER`,e[e.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182]=`FRAMEBUFFER_INCOMPLETE_MULTISAMPLE`,e[e.UNIFORM_BUFFER=35345]=`UNIFORM_BUFFER`,e[e.UNIFORM_BUFFER_BINDING=35368]=`UNIFORM_BUFFER_BINDING`,e[e.UNIFORM_BUFFER_START=35369]=`UNIFORM_BUFFER_START`,e[e.UNIFORM_BUFFER_SIZE=35370]=`UNIFORM_BUFFER_SIZE`,e[e.MAX_VERTEX_UNIFORM_BLOCKS=35371]=`MAX_VERTEX_UNIFORM_BLOCKS`,e[e.MAX_FRAGMENT_UNIFORM_BLOCKS=35373]=`MAX_FRAGMENT_UNIFORM_BLOCKS`,e[e.MAX_COMBINED_UNIFORM_BLOCKS=35374]=`MAX_COMBINED_UNIFORM_BLOCKS`,e[e.MAX_UNIFORM_BUFFER_BINDINGS=35375]=`MAX_UNIFORM_BUFFER_BINDINGS`,e[e.MAX_UNIFORM_BLOCK_SIZE=35376]=`MAX_UNIFORM_BLOCK_SIZE`,e[e.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377]=`MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS`,e[e.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379]=`MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS`,e[e.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380]=`UNIFORM_BUFFER_OFFSET_ALIGNMENT`,e[e.ACTIVE_UNIFORM_BLOCKS=35382]=`ACTIVE_UNIFORM_BLOCKS`,e[e.UNIFORM_TYPE=35383]=`UNIFORM_TYPE`,e[e.UNIFORM_SIZE=35384]=`UNIFORM_SIZE`,e[e.UNIFORM_BLOCK_INDEX=35386]=`UNIFORM_BLOCK_INDEX`,e[e.UNIFORM_OFFSET=35387]=`UNIFORM_OFFSET`,e[e.UNIFORM_ARRAY_STRIDE=35388]=`UNIFORM_ARRAY_STRIDE`,e[e.UNIFORM_MATRIX_STRIDE=35389]=`UNIFORM_MATRIX_STRIDE`,e[e.UNIFORM_IS_ROW_MAJOR=35390]=`UNIFORM_IS_ROW_MAJOR`,e[e.UNIFORM_BLOCK_BINDING=35391]=`UNIFORM_BLOCK_BINDING`,e[e.UNIFORM_BLOCK_DATA_SIZE=35392]=`UNIFORM_BLOCK_DATA_SIZE`,e[e.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394]=`UNIFORM_BLOCK_ACTIVE_UNIFORMS`,e[e.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395]=`UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES`,e[e.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396]=`UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER`,e[e.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398]=`UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER`,e[e.OBJECT_TYPE=37138]=`OBJECT_TYPE`,e[e.SYNC_CONDITION=37139]=`SYNC_CONDITION`,e[e.SYNC_STATUS=37140]=`SYNC_STATUS`,e[e.SYNC_FLAGS=37141]=`SYNC_FLAGS`,e[e.SYNC_FENCE=37142]=`SYNC_FENCE`,e[e.SYNC_GPU_COMMANDS_COMPLETE=37143]=`SYNC_GPU_COMMANDS_COMPLETE`,e[e.UNSIGNALED=37144]=`UNSIGNALED`,e[e.SIGNALED=37145]=`SIGNALED`,e[e.ALREADY_SIGNALED=37146]=`ALREADY_SIGNALED`,e[e.TIMEOUT_EXPIRED=37147]=`TIMEOUT_EXPIRED`,e[e.CONDITION_SATISFIED=37148]=`CONDITION_SATISFIED`,e[e.WAIT_FAILED=37149]=`WAIT_FAILED`,e[e.SYNC_FLUSH_COMMANDS_BIT=1]=`SYNC_FLUSH_COMMANDS_BIT`,e[e.COLOR=6144]=`COLOR`,e[e.DEPTH=6145]=`DEPTH`,e[e.STENCIL=6146]=`STENCIL`,e[e.MIN=32775]=`MIN`,e[e.MAX=32776]=`MAX`,e[e.DEPTH_COMPONENT24=33190]=`DEPTH_COMPONENT24`,e[e.STREAM_READ=35041]=`STREAM_READ`,e[e.STREAM_COPY=35042]=`STREAM_COPY`,e[e.STATIC_READ=35045]=`STATIC_READ`,e[e.STATIC_COPY=35046]=`STATIC_COPY`,e[e.DYNAMIC_READ=35049]=`DYNAMIC_READ`,e[e.DYNAMIC_COPY=35050]=`DYNAMIC_COPY`,e[e.DEPTH_COMPONENT32F=36012]=`DEPTH_COMPONENT32F`,e[e.DEPTH32F_STENCIL8=36013]=`DEPTH32F_STENCIL8`,e[e.INVALID_INDEX=4294967295]=`INVALID_INDEX`,e[e.TIMEOUT_IGNORED=-1]=`TIMEOUT_IGNORED`,e[e.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447]=`MAX_CLIENT_WAIT_TIMEOUT_WEBGL`,e[e.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE=35070]=`VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE`,e[e.UNMASKED_VENDOR_WEBGL=37445]=`UNMASKED_VENDOR_WEBGL`,e[e.UNMASKED_RENDERER_WEBGL=37446]=`UNMASKED_RENDERER_WEBGL`,e[e.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047]=`MAX_TEXTURE_MAX_ANISOTROPY_EXT`,e[e.TEXTURE_MAX_ANISOTROPY_EXT=34046]=`TEXTURE_MAX_ANISOTROPY_EXT`,e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]=`COMPRESSED_RGB_S3TC_DXT1_EXT`,e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]=`COMPRESSED_RGBA_S3TC_DXT1_EXT`,e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]=`COMPRESSED_RGBA_S3TC_DXT3_EXT`,e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]=`COMPRESSED_RGBA_S3TC_DXT5_EXT`,e[e.COMPRESSED_R11_EAC=37488]=`COMPRESSED_R11_EAC`,e[e.COMPRESSED_SIGNED_R11_EAC=37489]=`COMPRESSED_SIGNED_R11_EAC`,e[e.COMPRESSED_RG11_EAC=37490]=`COMPRESSED_RG11_EAC`,e[e.COMPRESSED_SIGNED_RG11_EAC=37491]=`COMPRESSED_SIGNED_RG11_EAC`,e[e.COMPRESSED_RGB8_ETC2=37492]=`COMPRESSED_RGB8_ETC2`,e[e.COMPRESSED_RGBA8_ETC2_EAC=37493]=`COMPRESSED_RGBA8_ETC2_EAC`,e[e.COMPRESSED_SRGB8_ETC2=37494]=`COMPRESSED_SRGB8_ETC2`,e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37495]=`COMPRESSED_SRGB8_ALPHA8_ETC2_EAC`,e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37496]=`COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2`,e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37497]=`COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2`,e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]=`COMPRESSED_RGB_PVRTC_4BPPV1_IMG`,e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]=`COMPRESSED_RGBA_PVRTC_4BPPV1_IMG`,e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]=`COMPRESSED_RGB_PVRTC_2BPPV1_IMG`,e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]=`COMPRESSED_RGBA_PVRTC_2BPPV1_IMG`,e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]=`COMPRESSED_RGB_ETC1_WEBGL`,e[e.COMPRESSED_RGB_ATC_WEBGL=35986]=`COMPRESSED_RGB_ATC_WEBGL`,e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]=`COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL`,e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]=`COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL`,e[e.UNSIGNED_INT_24_8_WEBGL=34042]=`UNSIGNED_INT_24_8_WEBGL`,e[e.HALF_FLOAT_OES=36193]=`HALF_FLOAT_OES`,e[e.RGBA32F_EXT=34836]=`RGBA32F_EXT`,e[e.RGB32F_EXT=34837]=`RGB32F_EXT`,e[e.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT=33297]=`FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT`,e[e.UNSIGNED_NORMALIZED_EXT=35863]=`UNSIGNED_NORMALIZED_EXT`,e[e.MIN_EXT=32775]=`MIN_EXT`,e[e.MAX_EXT=32776]=`MAX_EXT`,e[e.SRGB_EXT=35904]=`SRGB_EXT`,e[e.SRGB_ALPHA_EXT=35906]=`SRGB_ALPHA_EXT`,e[e.SRGB8_ALPHA8_EXT=35907]=`SRGB8_ALPHA8_EXT`,e[e.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT=33296]=`FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT`,e[e.FRAGMENT_SHADER_DERIVATIVE_HINT_OES=35723]=`FRAGMENT_SHADER_DERIVATIVE_HINT_OES`,e[e.COLOR_ATTACHMENT0_WEBGL=36064]=`COLOR_ATTACHMENT0_WEBGL`,e[e.COLOR_ATTACHMENT1_WEBGL=36065]=`COLOR_ATTACHMENT1_WEBGL`,e[e.COLOR_ATTACHMENT2_WEBGL=36066]=`COLOR_ATTACHMENT2_WEBGL`,e[e.COLOR_ATTACHMENT3_WEBGL=36067]=`COLOR_ATTACHMENT3_WEBGL`,e[e.COLOR_ATTACHMENT4_WEBGL=36068]=`COLOR_ATTACHMENT4_WEBGL`,e[e.COLOR_ATTACHMENT5_WEBGL=36069]=`COLOR_ATTACHMENT5_WEBGL`,e[e.COLOR_ATTACHMENT6_WEBGL=36070]=`COLOR_ATTACHMENT6_WEBGL`,e[e.COLOR_ATTACHMENT7_WEBGL=36071]=`COLOR_ATTACHMENT7_WEBGL`,e[e.COLOR_ATTACHMENT8_WEBGL=36072]=`COLOR_ATTACHMENT8_WEBGL`,e[e.COLOR_ATTACHMENT9_WEBGL=36073]=`COLOR_ATTACHMENT9_WEBGL`,e[e.COLOR_ATTACHMENT10_WEBGL=36074]=`COLOR_ATTACHMENT10_WEBGL`,e[e.COLOR_ATTACHMENT11_WEBGL=36075]=`COLOR_ATTACHMENT11_WEBGL`,e[e.COLOR_ATTACHMENT12_WEBGL=36076]=`COLOR_ATTACHMENT12_WEBGL`,e[e.COLOR_ATTACHMENT13_WEBGL=36077]=`COLOR_ATTACHMENT13_WEBGL`,e[e.COLOR_ATTACHMENT14_WEBGL=36078]=`COLOR_ATTACHMENT14_WEBGL`,e[e.COLOR_ATTACHMENT15_WEBGL=36079]=`COLOR_ATTACHMENT15_WEBGL`,e[e.DRAW_BUFFER0_WEBGL=34853]=`DRAW_BUFFER0_WEBGL`,e[e.DRAW_BUFFER1_WEBGL=34854]=`DRAW_BUFFER1_WEBGL`,e[e.DRAW_BUFFER2_WEBGL=34855]=`DRAW_BUFFER2_WEBGL`,e[e.DRAW_BUFFER3_WEBGL=34856]=`DRAW_BUFFER3_WEBGL`,e[e.DRAW_BUFFER4_WEBGL=34857]=`DRAW_BUFFER4_WEBGL`,e[e.DRAW_BUFFER5_WEBGL=34858]=`DRAW_BUFFER5_WEBGL`,e[e.DRAW_BUFFER6_WEBGL=34859]=`DRAW_BUFFER6_WEBGL`,e[e.DRAW_BUFFER7_WEBGL=34860]=`DRAW_BUFFER7_WEBGL`,e[e.DRAW_BUFFER8_WEBGL=34861]=`DRAW_BUFFER8_WEBGL`,e[e.DRAW_BUFFER9_WEBGL=34862]=`DRAW_BUFFER9_WEBGL`,e[e.DRAW_BUFFER10_WEBGL=34863]=`DRAW_BUFFER10_WEBGL`,e[e.DRAW_BUFFER11_WEBGL=34864]=`DRAW_BUFFER11_WEBGL`,e[e.DRAW_BUFFER12_WEBGL=34865]=`DRAW_BUFFER12_WEBGL`,e[e.DRAW_BUFFER13_WEBGL=34866]=`DRAW_BUFFER13_WEBGL`,e[e.DRAW_BUFFER14_WEBGL=34867]=`DRAW_BUFFER14_WEBGL`,e[e.DRAW_BUFFER15_WEBGL=34868]=`DRAW_BUFFER15_WEBGL`,e[e.MAX_COLOR_ATTACHMENTS_WEBGL=36063]=`MAX_COLOR_ATTACHMENTS_WEBGL`,e[e.MAX_DRAW_BUFFERS_WEBGL=34852]=`MAX_DRAW_BUFFERS_WEBGL`,e[e.VERTEX_ARRAY_BINDING_OES=34229]=`VERTEX_ARRAY_BINDING_OES`,e[e.QUERY_COUNTER_BITS_EXT=34916]=`QUERY_COUNTER_BITS_EXT`,e[e.CURRENT_QUERY_EXT=34917]=`CURRENT_QUERY_EXT`,e[e.QUERY_RESULT_EXT=34918]=`QUERY_RESULT_EXT`,e[e.QUERY_RESULT_AVAILABLE_EXT=34919]=`QUERY_RESULT_AVAILABLE_EXT`,e[e.TIME_ELAPSED_EXT=35007]=`TIME_ELAPSED_EXT`,e[e.TIMESTAMP_EXT=36392]=`TIMESTAMP_EXT`,e[e.GPU_DISJOINT_EXT=36795]=`GPU_DISJOINT_EXT`})(X||={});var cD;(function(e){e[e.Buffer=0]=`Buffer`,e[e.Texture=1]=`Texture`,e[e.RenderTarget=2]=`RenderTarget`,e[e.Sampler=3]=`Sampler`,e[e.Program=4]=`Program`,e[e.Bindings=5]=`Bindings`,e[e.InputLayout=6]=`InputLayout`,e[e.RenderPipeline=7]=`RenderPipeline`,e[e.ComputePipeline=8]=`ComputePipeline`,e[e.Readback=9]=`Readback`,e[e.QueryPool=10]=`QueryPool`,e[e.RenderBundle=11]=`RenderBundle`})(cD||={});var lD;(function(e){e[e.NEVER=512]=`NEVER`,e[e.LESS=513]=`LESS`,e[e.EQUAL=514]=`EQUAL`,e[e.LEQUAL=515]=`LEQUAL`,e[e.GREATER=516]=`GREATER`,e[e.NOTEQUAL=517]=`NOTEQUAL`,e[e.GEQUAL=518]=`GEQUAL`,e[e.ALWAYS=519]=`ALWAYS`})(lD||={});var uD;(function(e){e[e.CCW=2305]=`CCW`,e[e.CW=2304]=`CW`})(uD||={});var dD;(function(e){e[e.NONE=0]=`NONE`,e[e.FRONT=1]=`FRONT`,e[e.BACK=2]=`BACK`,e[e.FRONT_AND_BACK=3]=`FRONT_AND_BACK`})(dD||={});var fD;(function(e){e[e.ZERO=0]=`ZERO`,e[e.ONE=1]=`ONE`,e[e.SRC=768]=`SRC`,e[e.ONE_MINUS_SRC=769]=`ONE_MINUS_SRC`,e[e.DST=774]=`DST`,e[e.ONE_MINUS_DST=775]=`ONE_MINUS_DST`,e[e.SRC_ALPHA=770]=`SRC_ALPHA`,e[e.ONE_MINUS_SRC_ALPHA=771]=`ONE_MINUS_SRC_ALPHA`,e[e.DST_ALPHA=772]=`DST_ALPHA`,e[e.ONE_MINUS_DST_ALPHA=773]=`ONE_MINUS_DST_ALPHA`,e[e.CONST=32769]=`CONST`,e[e.ONE_MINUS_CONSTANT=32770]=`ONE_MINUS_CONSTANT`,e[e.SRC_ALPHA_SATURATE=776]=`SRC_ALPHA_SATURATE`})(fD||={});var pD;(function(e){e[e.ADD=32774]=`ADD`,e[e.SUBSTRACT=32778]=`SUBSTRACT`,e[e.REVERSE_SUBSTRACT=32779]=`REVERSE_SUBSTRACT`,e[e.MIN=32775]=`MIN`,e[e.MAX=32776]=`MAX`})(pD||={});var mD;(function(e){e[e.CLAMP_TO_EDGE=0]=`CLAMP_TO_EDGE`,e[e.REPEAT=1]=`REPEAT`,e[e.MIRRORED_REPEAT=2]=`MIRRORED_REPEAT`})(mD||={});var hD;(function(e){e[e.POINT=0]=`POINT`,e[e.BILINEAR=1]=`BILINEAR`})(hD||={});var gD;(function(e){e[e.NO_MIP=0]=`NO_MIP`,e[e.NEAREST=1]=`NEAREST`,e[e.LINEAR=2]=`LINEAR`})(gD||={});var _D;(function(e){e[e.POINTS=0]=`POINTS`,e[e.TRIANGLES=1]=`TRIANGLES`,e[e.TRIANGLE_STRIP=2]=`TRIANGLE_STRIP`,e[e.LINES=3]=`LINES`,e[e.LINE_STRIP=4]=`LINE_STRIP`})(_D||={});var vD;(function(e){e[e.MAP_READ=1]=`MAP_READ`,e[e.MAP_WRITE=2]=`MAP_WRITE`,e[e.COPY_SRC=4]=`COPY_SRC`,e[e.COPY_DST=8]=`COPY_DST`,e[e.INDEX=16]=`INDEX`,e[e.VERTEX=32]=`VERTEX`,e[e.UNIFORM=64]=`UNIFORM`,e[e.STORAGE=128]=`STORAGE`,e[e.INDIRECT=256]=`INDIRECT`,e[e.QUERY_RESOLVE=512]=`QUERY_RESOLVE`})(vD||={});var yD;(function(e){e[e.STATIC=1]=`STATIC`,e[e.DYNAMIC=2]=`DYNAMIC`})(yD||={});var bD;(function(e){e[e.VERTEX=1]=`VERTEX`,e[e.INSTANCE=2]=`INSTANCE`})(bD||={});var xD;(function(e){e.LOADED=`loaded`})(xD||={});var SD;(function(e){e[e.TEXTURE_2D=0]=`TEXTURE_2D`,e[e.TEXTURE_2D_ARRAY=1]=`TEXTURE_2D_ARRAY`,e[e.TEXTURE_3D=2]=`TEXTURE_3D`,e[e.TEXTURE_CUBE_MAP=3]=`TEXTURE_CUBE_MAP`})(SD||={});var CD;(function(e){e[e.SAMPLED=1]=`SAMPLED`,e[e.RENDER_TARGET=2]=`RENDER_TARGET`,e[e.STORAGE=4]=`STORAGE`})(CD||={});var wD;(function(e){e[e.NONE=0]=`NONE`,e[e.RED=1]=`RED`,e[e.GREEN=2]=`GREEN`,e[e.BLUE=4]=`BLUE`,e[e.ALPHA=8]=`ALPHA`,e[e.RGB=7]=`RGB`,e[e.ALL=15]=`ALL`})(wD||={});var TD;(function(e){e[e.KEEP=7680]=`KEEP`,e[e.ZERO=0]=`ZERO`,e[e.REPLACE=7681]=`REPLACE`,e[e.INVERT=5386]=`INVERT`,e[e.INCREMENT_CLAMP=7682]=`INCREMENT_CLAMP`,e[e.DECREMENT_CLAMP=7683]=`DECREMENT_CLAMP`,e[e.INCREMENT_WRAP=34055]=`INCREMENT_WRAP`,e[e.DECREMENT_WRAP=34056]=`DECREMENT_WRAP`})(TD||={});var ED;(function(e){e[e.Float=0]=`Float`,e[e.UnfilterableFloat=1]=`UnfilterableFloat`,e[e.Uint=2]=`Uint`,e[e.Sint=3]=`Sint`,e[e.Depth=4]=`Depth`})(ED||={});var DD;(function(e){e[e.LOWER_LEFT=0]=`LOWER_LEFT`,e[e.UPPER_LEFT=1]=`UPPER_LEFT`})(DD||={});var OD;(function(e){e[e.NEGATIVE_ONE=0]=`NEGATIVE_ONE`,e[e.ZERO=1]=`ZERO`})(OD||={});var kD;(function(e){e[e.OcclusionConservative=0]=`OcclusionConservative`})(kD||={});var Z;(function(e){e[e.U8=1]=`U8`,e[e.U16=2]=`U16`,e[e.U32=3]=`U32`,e[e.S8=4]=`S8`,e[e.S16=5]=`S16`,e[e.S32=6]=`S32`,e[e.F16=7]=`F16`,e[e.F32=8]=`F32`,e[e.BC1=65]=`BC1`,e[e.BC2=66]=`BC2`,e[e.BC3=67]=`BC3`,e[e.BC4_UNORM=68]=`BC4_UNORM`,e[e.BC4_SNORM=69]=`BC4_SNORM`,e[e.BC5_UNORM=70]=`BC5_UNORM`,e[e.BC5_SNORM=71]=`BC5_SNORM`,e[e.U16_PACKED_5551=97]=`U16_PACKED_5551`,e[e.U16_PACKED_565=98]=`U16_PACKED_565`,e[e.D24=129]=`D24`,e[e.D32F=130]=`D32F`,e[e.D24S8=131]=`D24S8`,e[e.D32FS8=132]=`D32FS8`})(Z||={});var AD;(function(e){e[e.R=1]=`R`,e[e.RG=2]=`RG`,e[e.RGB=3]=`RGB`,e[e.RGBA=4]=`RGBA`,e[e.A=5]=`A`})(AD||={});function jD(e){return e}var Q;(function(e){e[e.None=0]=`None`,e[e.Normalized=1]=`Normalized`,e[e.sRGB=2]=`sRGB`,e[e.Depth=4]=`Depth`,e[e.Stencil=8]=`Stencil`,e[e.RenderTarget=16]=`RenderTarget`,e[e.Luminance=32]=`Luminance`})(Q||={});function MD(e,t,n){return e<<16|t<<8|n}var $;(function(e){e[e.ALPHA=MD(Z.U8,AD.A,Q.None)]=`ALPHA`,e[e.U8_LUMINANCE=MD(Z.U8,AD.A,Q.Luminance)]=`U8_LUMINANCE`,e[e.F16_LUMINANCE=MD(Z.F16,AD.A,Q.Luminance)]=`F16_LUMINANCE`,e[e.F32_LUMINANCE=MD(Z.F32,AD.A,Q.Luminance)]=`F32_LUMINANCE`,e[e.F16_R=MD(Z.F16,AD.R,Q.None)]=`F16_R`,e[e.F16_RG=MD(Z.F16,AD.RG,Q.None)]=`F16_RG`,e[e.F16_RGB=MD(Z.F16,AD.RGB,Q.None)]=`F16_RGB`,e[e.F16_RGBA=MD(Z.F16,AD.RGBA,Q.None)]=`F16_RGBA`,e[e.F32_R=MD(Z.F32,AD.R,Q.None)]=`F32_R`,e[e.F32_RG=MD(Z.F32,AD.RG,Q.None)]=`F32_RG`,e[e.F32_RGB=MD(Z.F32,AD.RGB,Q.None)]=`F32_RGB`,e[e.F32_RGBA=MD(Z.F32,AD.RGBA,Q.None)]=`F32_RGBA`,e[e.U8_R=MD(Z.U8,AD.R,Q.None)]=`U8_R`,e[e.U8_R_NORM=MD(Z.U8,AD.R,Q.Normalized)]=`U8_R_NORM`,e[e.U8_RG=MD(Z.U8,AD.RG,Q.None)]=`U8_RG`,e[e.U8_RG_NORM=MD(Z.U8,AD.RG,Q.Normalized)]=`U8_RG_NORM`,e[e.U8_RGB=MD(Z.U8,AD.RGB,Q.None)]=`U8_RGB`,e[e.U8_RGB_NORM=MD(Z.U8,AD.RGB,Q.Normalized)]=`U8_RGB_NORM`,e[e.U8_RGB_SRGB=MD(Z.U8,AD.RGB,Q.sRGB|Q.Normalized)]=`U8_RGB_SRGB`,e[e.U8_RGBA=MD(Z.U8,AD.RGBA,Q.None)]=`U8_RGBA`,e[e.U8_RGBA_NORM=MD(Z.U8,AD.RGBA,Q.Normalized)]=`U8_RGBA_NORM`,e[e.U8_RGBA_SRGB=MD(Z.U8,AD.RGBA,Q.sRGB|Q.Normalized)]=`U8_RGBA_SRGB`,e[e.U16_R=MD(Z.U16,AD.R,Q.None)]=`U16_R`,e[e.U16_R_NORM=MD(Z.U16,AD.R,Q.Normalized)]=`U16_R_NORM`,e[e.U16_RG_NORM=MD(Z.U16,AD.RG,Q.Normalized)]=`U16_RG_NORM`,e[e.U16_RGBA_NORM=MD(Z.U16,AD.RGBA,Q.Normalized)]=`U16_RGBA_NORM`,e[e.U16_RGBA=MD(Z.U16,AD.RGBA,Q.None)]=`U16_RGBA`,e[e.U16_RGB=MD(Z.U16,AD.RGB,Q.None)]=`U16_RGB`,e[e.U16_RG=MD(Z.U16,AD.RG,Q.None)]=`U16_RG`,e[e.U32_R=MD(Z.U32,AD.R,Q.None)]=`U32_R`,e[e.U32_RG=MD(Z.U32,AD.RG,Q.None)]=`U32_RG`,e[e.U32_RGB=MD(Z.U32,AD.RGB,Q.None)]=`U32_RGB`,e[e.U32_RGBA=MD(Z.U32,AD.RGBA,Q.None)]=`U32_RGBA`,e[e.S8_R=MD(Z.S8,AD.R,Q.None)]=`S8_R`,e[e.S8_R_NORM=MD(Z.S8,AD.R,Q.Normalized)]=`S8_R_NORM`,e[e.S8_RG_NORM=MD(Z.S8,AD.RG,Q.Normalized)]=`S8_RG_NORM`,e[e.S8_RGB_NORM=MD(Z.S8,AD.RGB,Q.Normalized)]=`S8_RGB_NORM`,e[e.S8_RGBA_NORM=MD(Z.S8,AD.RGBA,Q.Normalized)]=`S8_RGBA_NORM`,e[e.S16_R=MD(Z.S16,AD.R,Q.None)]=`S16_R`,e[e.S16_RG=MD(Z.S16,AD.RG,Q.None)]=`S16_RG`,e[e.S16_RG_NORM=MD(Z.S16,AD.RG,Q.Normalized)]=`S16_RG_NORM`,e[e.S16_RGB_NORM=MD(Z.S16,AD.RGB,Q.Normalized)]=`S16_RGB_NORM`,e[e.S16_RGBA=MD(Z.S16,AD.RGBA,Q.None)]=`S16_RGBA`,e[e.S16_RGBA_NORM=MD(Z.S16,AD.RGBA,Q.Normalized)]=`S16_RGBA_NORM`,e[e.S32_R=MD(Z.S32,AD.R,Q.None)]=`S32_R`,e[e.S32_RG=MD(Z.S32,AD.RG,Q.None)]=`S32_RG`,e[e.S32_RGB=MD(Z.S32,AD.RGB,Q.None)]=`S32_RGB`,e[e.S32_RGBA=MD(Z.S32,AD.RGBA,Q.None)]=`S32_RGBA`,e[e.U16_RGBA_5551=MD(Z.U16_PACKED_5551,AD.RGBA,Q.Normalized)]=`U16_RGBA_5551`,e[e.U16_RGB_565=MD(Z.U16_PACKED_565,AD.RGB,Q.Normalized)]=`U16_RGB_565`,e[e.BC1=MD(Z.BC1,AD.RGBA,Q.Normalized)]=`BC1`,e[e.BC1_SRGB=MD(Z.BC1,AD.RGBA,Q.Normalized|Q.sRGB)]=`BC1_SRGB`,e[e.BC2=MD(Z.BC2,AD.RGBA,Q.Normalized)]=`BC2`,e[e.BC2_SRGB=MD(Z.BC2,AD.RGBA,Q.Normalized|Q.sRGB)]=`BC2_SRGB`,e[e.BC3=MD(Z.BC3,AD.RGBA,Q.Normalized)]=`BC3`,e[e.BC3_SRGB=MD(Z.BC3,AD.RGBA,Q.Normalized|Q.sRGB)]=`BC3_SRGB`,e[e.BC4_UNORM=MD(Z.BC4_UNORM,AD.R,Q.Normalized)]=`BC4_UNORM`,e[e.BC4_SNORM=MD(Z.BC4_SNORM,AD.R,Q.Normalized)]=`BC4_SNORM`,e[e.BC5_UNORM=MD(Z.BC5_UNORM,AD.RG,Q.Normalized)]=`BC5_UNORM`,e[e.BC5_SNORM=MD(Z.BC5_SNORM,AD.RG,Q.Normalized)]=`BC5_SNORM`,e[e.D24=MD(Z.D24,AD.R,Q.Depth)]=`D24`,e[e.D24_S8=MD(Z.D24S8,AD.RG,Q.Depth|Q.Stencil)]=`D24_S8`,e[e.D32F=MD(Z.D32F,AD.R,Q.Depth)]=`D32F`,e[e.D32F_S8=MD(Z.D32FS8,AD.RG,Q.Depth|Q.Stencil)]=`D32F_S8`,e[e.U8_RGB_RT=MD(Z.U8,AD.RGB,Q.RenderTarget|Q.Normalized)]=`U8_RGB_RT`,e[e.U8_RGBA_RT=MD(Z.U8,AD.RGBA,Q.RenderTarget|Q.Normalized)]=`U8_RGBA_RT`,e[e.U8_RGBA_RT_SRGB=MD(Z.U8,AD.RGBA,Q.RenderTarget|Q.Normalized|Q.sRGB)]=`U8_RGBA_RT_SRGB`})($||={});function ND(e){return e>>>8&255}function PD(e){return e>>>16&255}function FD(e){return e&255}function ID(e){switch(e){case Z.F32:case Z.U32:case Z.S32:return 4;case Z.U16:case Z.S16:case Z.F16:return 2;case Z.U8:case Z.S8:return 1;default:throw Error(`whoops`)}}function LD(e){return ID(PD(e))}function RD(e){var t=ID(PD(e)),n=jD(ND(e));return t*n}function zD(e){var t=FD(e);if(t&Q.Depth)return ED.Depth;if(t&Q.Normalized)return ED.Float;var n=PD(e);if(n===Z.F16||n===Z.F32)return ED.Float;if(n===Z.U8||n===Z.U16||n===Z.U32)return ED.Uint;if(n===Z.S8||n===Z.S16||n===Z.S32)return ED.Sint;throw Error(`whoops`)}function BD(e,t){if(t===void 0&&(t=``),!e)throw Error(`Assert fail: ${t}`)}function VD(e){if(e!=null)return e;throw Error(`Missing object`)}function HD(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}function UD(e,t){e.r=t.r,e.g=t.g,e.b=t.b,e.a=t.a}function WD(e){var t=e.r,n=e.g,r=e.b,i=e.a;return{r:t,g:n,b:r,a:i}}function GD(e,t,n,r){return r===void 0&&(r=1),{r:e,g:t,b:n,a:r}}var KD=GD(0,0,0,0);GD(0,0,0,1);var qD=GD(1,1,1,0);GD(1,1,1,1);function JD(e){return!!(e&&!(e&e-1))}function YD(e,t){return e??t}function XD(e){return e===void 0?null:e}function ZD(e,t){var n=t-1;return e+n&~n}function QD(e,t){for(var n=Array(e),r=0;r<e;r++)n[r]=t();return n}function $D(e,t){return t===void 0&&(t=1),e.split(`
`).map(function(e,n){return`${eO(``+(t+n),4,` `)}  ${e}`}).join(`
`)}function eO(e,t,n){for(n===void 0&&(n=`0`);e.length<t;)e=`${n}${e}`;return e}function tO(e,t){e.blendDstFactor=t.blendDstFactor,e.blendSrcFactor=t.blendSrcFactor,e.blendMode=t.blendMode}function nO(e,t){return e===void 0&&(e={}),e.compare=t.compare,e.depthFailOp=t.depthFailOp,e.passOp=t.passOp,e.failOp=t.failOp,e.mask=t.mask,e}function rO(e,t){return e===void 0&&(e={rgbBlendState:{},alphaBlendState:{},channelWriteMask:0}),tO(e.rgbBlendState,t.rgbBlendState),tO(e.alphaBlendState,t.alphaBlendState),e.channelWriteMask=t.channelWriteMask,e}function iO(e,t){e.length!==t.length&&(e.length=t.length);for(var n=0;n<t.length;n++)e[n]=rO(e[n],t[n])}function aO(e,t){t.attachmentsState!==void 0&&iO(e.attachmentsState,t.attachmentsState),e.blendConstant&&t.blendConstant&&UD(e.blendConstant,t.blendConstant),e.depthCompare=YD(t.depthCompare,e.depthCompare),e.depthWrite=YD(t.depthWrite,e.depthWrite),e.stencilWrite=YD(t.stencilWrite,e.stencilWrite),e.stencilFront&&t.stencilFront&&nO(e.stencilFront,t.stencilFront),e.stencilBack&&t.stencilBack&&nO(e.stencilBack,t.stencilBack),e.cullMode=YD(t.cullMode,e.cullMode),e.frontFace=YD(t.frontFace,e.frontFace),e.polygonOffset=YD(t.polygonOffset,e.polygonOffset),e.polygonOffsetFactor=YD(t.polygonOffsetFactor,e.polygonOffsetFactor),e.polygonOffsetUnits=YD(t.polygonOffsetUnits,e.polygonOffsetUnits)}function oO(e){var t=Object.assign({},e);return t.attachmentsState=[],iO(t.attachmentsState,e.attachmentsState),t.blendConstant=t.blendConstant&&WD(t.blendConstant),t.stencilFront=nO(void 0,e.stencilFront),t.stencilBack=nO(void 0,e.stencilBack),t}var sO={blendMode:pD.ADD,blendSrcFactor:fD.ONE,blendDstFactor:fD.ZERO},cO={attachmentsState:[{channelWriteMask:wD.ALL,rgbBlendState:sO,alphaBlendState:sO}],blendConstant:WD(KD),depthWrite:!0,depthCompare:lD.LEQUAL,stencilWrite:!1,stencilFront:{compare:lD.ALWAYS,passOp:TD.KEEP,depthFailOp:TD.KEEP,failOp:TD.KEEP},stencilBack:{compare:lD.ALWAYS,passOp:TD.KEEP,depthFailOp:TD.KEEP,failOp:TD.KEEP},cullMode:dD.NONE,frontFace:uD.CCW,polygonOffset:!1,polygonOffsetFactor:0,polygonOffsetUnits:0};function lO(e,t){e===void 0&&(e=null),t===void 0&&(t=cO);var n=oO(t);return e!==null&&aO(n,e),n}lO({depthCompare:lD.ALWAYS,depthWrite:!1},cO);var uO={texture:null,sampler:null,formatKind:ED.Float,dimension:SD.TEXTURE_2D};function dO(e,t,n){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function fO(e,t){for(var n=Array(e.length),r=0;r<e.length;r++)n[r]=t(e[r]);return n}function pO(e,t){return e.texture===t.texture&&e.binding===t.binding}function mO(e,t){return e.buffer===t.buffer&&e.size===t.size&&e.binding===t.binding&&e.offset===t.offset}function hO(e,t){return e===null?t===null:t===null?!1:e.sampler===t.sampler&&e.texture===t.texture&&e.dimension===t.dimension&&e.formatKind===t.formatKind&&e.comparison===t.comparison}function gO(e,t){return e.samplerBindings=e.samplerBindings||[],e.uniformBufferBindings=e.uniformBufferBindings||[],e.storageBufferBindings=e.storageBufferBindings||[],e.storageTextureBindings=e.storageTextureBindings||[],t.samplerBindings=t.samplerBindings||[],t.uniformBufferBindings=t.uniformBufferBindings||[],t.storageBufferBindings=t.storageBufferBindings||[],t.storageTextureBindings=t.storageTextureBindings||[],!(e.samplerBindings.length!==t.samplerBindings.length||!dO(e.samplerBindings,t.samplerBindings,hO)||!dO(e.uniformBufferBindings,t.uniformBufferBindings,mO)||!dO(e.storageBufferBindings,t.storageBufferBindings,mO)||!dO(e.storageTextureBindings,t.storageTextureBindings,pO))}function _O(e,t){return e.blendMode==t.blendMode&&e.blendSrcFactor===t.blendSrcFactor&&e.blendDstFactor===t.blendDstFactor}function vO(e,t){return!(!_O(e.rgbBlendState,t.rgbBlendState)||!_O(e.alphaBlendState,t.alphaBlendState)||e.channelWriteMask!==t.channelWriteMask)}function yO(e,t){return e.compare==t.compare&&e.depthFailOp===t.depthFailOp&&e.failOp===t.failOp&&e.passOp===t.passOp&&e.mask===t.mask}function bO(e,t){return!dO(e.attachmentsState,t.attachmentsState,vO)||e.blendConstant&&t.blendConstant&&!HD(e.blendConstant,t.blendConstant)||e.stencilFront&&t.stencilFront&&!yO(e.stencilFront,t.stencilFront)||e.stencilBack&&t.stencilBack&&!yO(e.stencilBack,t.stencilBack)?!1:e.depthCompare===t.depthCompare&&e.depthWrite===t.depthWrite&&e.stencilWrite===t.stencilWrite&&e.cullMode===t.cullMode&&e.frontFace===t.frontFace&&e.polygonOffset===t.polygonOffset&&e.polygonOffsetFactor===t.polygonOffsetFactor&&e.polygonOffsetUnits===t.polygonOffsetUnits}function xO(e,t){return e.id===t.id}function SO(e,t){return e===t}function CO(e,t){return!(e.topology!==t.topology||e.inputLayout!==t.inputLayout||e.sampleCount!==t.sampleCount||e.megaStateDescriptor&&t.megaStateDescriptor&&!bO(e.megaStateDescriptor,t.megaStateDescriptor)||!xO(e.program,t.program)||!dO(e.colorAttachmentFormats,t.colorAttachmentFormats,SO)||e.depthStencilAttachmentFormat!==t.depthStencilAttachmentFormat)}function wO(e,t){return e.offset===t.offset&&e.shaderLocation===t.shaderLocation&&e.format===t.format&&e.divisor===t.divisor}function TO(e,t){return iD(e)?iD(t):iD(t)?!1:e.arrayStride===t.arrayStride&&e.stepMode===t.stepMode&&dO(e.attributes,t.attributes,wO)}function EO(e,t){return!(e.indexBufferFormat!==t.indexBufferFormat||!dO(e.vertexBufferDescriptors,t.vertexBufferDescriptors,TO)||!xO(e.program,t.program))}function DO(e){var t=e.sampler,n=e.texture,r=e.dimension,i=e.formatKind,a=e.comparison;return{sampler:t,texture:n,dimension:r,formatKind:i,comparison:a}}function OO(e){var t=e.buffer,n=e.size,r=e.binding,i=e.offset;return{binding:r,buffer:t,offset:i,size:n}}function kO(e){var t=e.binding,n=e.texture;return{binding:t,texture:n}}function AO(e){var t=e.samplerBindings&&fO(e.samplerBindings,DO),n=e.uniformBufferBindings&&fO(e.uniformBufferBindings,OO),r=e.storageBufferBindings&&fO(e.storageBufferBindings,OO),i=e.storageTextureBindings&&fO(e.storageTextureBindings,kO);return{samplerBindings:t,uniformBufferBindings:n,storageBufferBindings:r,storageTextureBindings:i,pipeline:e.pipeline}}function jO(e){var t=e.inputLayout,n=e.program,r=e.topology,i=e.megaStateDescriptor&&oO(e.megaStateDescriptor),a=e.colorAttachmentFormats.slice(),o=e.depthStencilAttachmentFormat,s=e.sampleCount;return{inputLayout:t,megaStateDescriptor:i,program:n,topology:r,colorAttachmentFormats:a,depthStencilAttachmentFormat:o,sampleCount:s}}function MO(e){var t=e.shaderLocation,n=e.format,r=e.offset,i=e.divisor;return{shaderLocation:t,format:n,offset:r,divisor:i}}function NO(e){if(iD(e))return e;var t=e.arrayStride,n=e.stepMode,r=fO(e.attributes,MO);return{arrayStride:t,stepMode:n,attributes:r}}function PO(e){var t=fO(e.vertexBufferDescriptors,NO),n=e.indexBufferFormat,r=e.program;return{vertexBufferDescriptors:t,indexBufferFormat:n,program:r}}var FO,IO=/([^[]*)(\[[0-9]+\])?/;function LO(e){if(e[e.length-1]!==`]`)return{name:e,length:1,isArray:!1};var t=e.match(IO);if(!t||t.length<2)throw Error(`Failed to parse GLSL uniform name ${e}`);return{name:t[1],length:Number(t[2])||1,isArray:!!t[2]}}function RO(){var e=null;return function(t,n,r){var i=e!==r;return i&&(t.uniform1i(n,r),e=r),i}}function zO(e,t,n,r){var i=null,a=null;return function(o,s,c){var l=t(c,n),u=l.length,d=!1;if(i===null)i=new Float32Array(u),a=u,d=!0;else{BD(a===u,`Uniform length cannot change.`);for(var f=0;f<u;++f)if(l[f]!==i[f]){d=!0;break}}return d&&(r(o,e,s,l),i.set(l)),d}}function BO(e,t,n,r){e[t](n,r)}function VO(e,t,n,r){e[t](n,!1,r)}var HO={},UO={},WO={},GO=[0];function KO(e,t,n,r){t===1&&typeof e==`boolean`&&(e=e?1:0),Number.isFinite(e)&&(GO[0]=e,e=GO);var i=e.length;if(e instanceof n)return e;var a=r[i];a||(a=new n(i),r[i]=a);for(var o=0;o<i;o++)a[o]=e[o];return a}function qO(e,t){return KO(e,t,Float32Array,HO)}function JO(e,t){return KO(e,t,Int32Array,UO)}function YO(e,t){return KO(e,t,Uint32Array,WO)}var XO=(FO={},FO[X.FLOAT]=zO.bind(null,`uniform1fv`,qO,1,BO),FO[X.FLOAT_VEC2]=zO.bind(null,`uniform2fv`,qO,2,BO),FO[X.FLOAT_VEC3]=zO.bind(null,`uniform3fv`,qO,3,BO),FO[X.FLOAT_VEC4]=zO.bind(null,`uniform4fv`,qO,4,BO),FO[X.INT]=zO.bind(null,`uniform1iv`,JO,1,BO),FO[X.INT_VEC2]=zO.bind(null,`uniform2iv`,JO,2,BO),FO[X.INT_VEC3]=zO.bind(null,`uniform3iv`,JO,3,BO),FO[X.INT_VEC4]=zO.bind(null,`uniform4iv`,JO,4,BO),FO[X.BOOL]=zO.bind(null,`uniform1iv`,JO,1,BO),FO[X.BOOL_VEC2]=zO.bind(null,`uniform2iv`,JO,2,BO),FO[X.BOOL_VEC3]=zO.bind(null,`uniform3iv`,JO,3,BO),FO[X.BOOL_VEC4]=zO.bind(null,`uniform4iv`,JO,4,BO),FO[X.FLOAT_MAT2]=zO.bind(null,`uniformMatrix2fv`,qO,4,VO),FO[X.FLOAT_MAT3]=zO.bind(null,`uniformMatrix3fv`,qO,9,VO),FO[X.FLOAT_MAT4]=zO.bind(null,`uniformMatrix4fv`,qO,16,VO),FO[X.UNSIGNED_INT]=zO.bind(null,`uniform1uiv`,YO,1,BO),FO[X.UNSIGNED_INT_VEC2]=zO.bind(null,`uniform2uiv`,YO,2,BO),FO[X.UNSIGNED_INT_VEC3]=zO.bind(null,`uniform3uiv`,YO,3,BO),FO[X.UNSIGNED_INT_VEC4]=zO.bind(null,`uniform4uiv`,YO,4,BO),FO[X.FLOAT_MAT2x3]=zO.bind(null,`uniformMatrix2x3fv`,qO,6,VO),FO[X.FLOAT_MAT2x4]=zO.bind(null,`uniformMatrix2x4fv`,qO,8,VO),FO[X.FLOAT_MAT3x2]=zO.bind(null,`uniformMatrix3x2fv`,qO,6,VO),FO[X.FLOAT_MAT3x4]=zO.bind(null,`uniformMatrix3x4fv`,qO,12,VO),FO[X.FLOAT_MAT4x2]=zO.bind(null,`uniformMatrix4x2fv`,qO,8,VO),FO[X.FLOAT_MAT4x3]=zO.bind(null,`uniformMatrix4x3fv`,qO,12,VO),FO[X.SAMPLER_2D]=RO,FO[X.SAMPLER_CUBE]=RO,FO[X.SAMPLER_3D]=RO,FO[X.SAMPLER_2D_SHADOW]=RO,FO[X.SAMPLER_2D_ARRAY]=RO,FO[X.SAMPLER_2D_ARRAY_SHADOW]=RO,FO[X.SAMPLER_CUBE_SHADOW]=RO,FO[X.INT_SAMPLER_2D]=RO,FO[X.INT_SAMPLER_3D]=RO,FO[X.INT_SAMPLER_CUBE]=RO,FO[X.INT_SAMPLER_2D_ARRAY]=RO,FO[X.UNSIGNED_INT_SAMPLER_2D]=RO,FO[X.UNSIGNED_INT_SAMPLER_3D]=RO,FO[X.UNSIGNED_INT_SAMPLER_CUBE]=RO,FO[X.UNSIGNED_INT_SAMPLER_2D_ARRAY]=RO,FO);function ZO(e,t,n){var r=XO[n.type];if(!r)throw Error(`Unknown GLSL uniform type ${n.type}`);return r().bind(null,e,t)}var QO={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121};function $O(e){return Object.prototype.toString.call(e)in QO}function ek(e,t){return`#define ${e} ${t}`}function tk(e){var t={};return e.replace(/^\s*#define\s*(\S*)\s*(\S*)\s*$/gm,function(e,n,r){var i=Number(r);return t[n]=isNaN(i)?r:i,``}),t}function nk(e,t){var n=[];return e.replace(/^\s*layout\(location\s*=\s*(\S*)\)\s*in\s+\S+\s*(.*);$/gm,function(e,r,i){var a=Number(r);return n.push({location:isNaN(a)?t[r]:a,name:i}),``}),n}function rk(e){if(e===void 0)return null;var t=/binding\s*=\s*(\d+)/.exec(e);if(t!==null){var n=parseInt(t[1],10);if(!Number.isNaN(n))return n}return null}function ik(e){return[e,``]}function ak(e,t,n,r,i){r===void 0&&(r=null),i===void 0&&(i=!0);var a=e.glslVersion===`#version 100`,o=t===`frag`&&n.match(/^\s*layout\(location\s*=\s*\d*\)\s*out\s+vec4\s*(.*);$/gm)?.length>1,s=n.replace(`\r
`,`
`).split(`
`).map(function(e){return e.replace(/[/][/].*$/,``)}).filter(function(e){return!(!e||/^\s+$/.test(e))}),c=``;r!==null&&(c=Object.keys(r).map(function(e){return ek(e,r[e])}).join(`
`));var l=s.find(function(e){return e.startsWith(`precision`)})||`precision mediump float;`,u=i?s.filter(function(e){return!e.startsWith(`precision`)}).join(`
`):s.join(`
`),d=``;if(e.viewportOrigin===DD.UPPER_LEFT&&(d+=`${ek(`VIEWPORT_ORIGIN_TL`,`1`)}
`),e.clipSpaceNearZ===OD.ZERO&&(d+=`${ek(`CLIPSPACE_NEAR_ZERO`,`1`)}
`),e.explicitBindingLocations){var f=0,p=0,m=0;u=u.replace(/^\s*(layout\((.*)\))?\s*uniform(.+{)$/gm,function(e,t,n,r){return`layout(${n?`${n}, `:``}set = ${f}, binding = ${p++}) uniform ${r}`}),f++,p=0,BD(e.separateSamplerTextures),u=u.replace(/^\s*(layout\((.*)\))?\s*uniform sampler(\w+) (.*);/gm,function(e,n,r,i,a){var o=rk(r);o===null&&(o=p++);var s=ue(ik(i),2),c=s[0],l=s[1];return t===`frag`?`
layout(set = `.concat(f,`, binding = `).concat(o*2+0,`) uniform texture`).concat(c,` T_`).concat(a,`;
layout(set = `).concat(f,`, binding = `).concat(o*2+1,`) uniform sampler`).concat(l,` S_`).concat(a,`;`).trim():``}),u=u.replace(t===`frag`?/^\s*\b(varying|in)\b/gm:/^\s*\b(varying|out)\b/gm,function(e,t){return`layout(location = ${m++}) ${t}`}),d+=`${ek(`gl_VertexID`,`gl_VertexIndex`)}
`,d+=`${ek(`gl_InstanceID`,`gl_InstanceIndex`)}
`,l=l.replace(/^precision (.*) sampler(.*);$/gm,``)}else{var h=0;u=u.replace(/^\s*(layout\((.*)\))?\s*uniform sampler(\w+) (.*);/gm,function(e,t,n,r,i){var a=rk(n);return a===null&&(a=h++),`uniform sampler${r} ${i}; // BINDING=${a}`})}if(u=u.replace(/\bPU_SAMPLER_(\w+)\((.*?)\)/g,function(e,t,n){return`SAMPLER_${t}(P_${n})`}),u=u.replace(/\bPF_SAMPLER_(\w+)\((.*?)\)/g,function(e,t,n){return`PP_SAMPLER_${t}(P_${n})`}),u=u.replace(/\bPU_TEXTURE\((.*?)\)/g,function(e,t){return`TEXTURE(P_${t})`}),e.separateSamplerTextures)u=u.replace(/\bPD_SAMPLER_(\w+)\((.*?)\)/g,function(e,t,n){var r=ue(ik(t),2),i=r[0],a=r[1];return`texture${i} T_P_${n}, sampler${a} S_P_${n}`}),u=u.replace(/\bPP_SAMPLER_(\w+)\((.*?)\)/g,function(e,t,n){return`T_${n}, S_${n}`}),u=u.replace(/\bSAMPLER_(\w+)\((.*?)\)/g,function(e,t,n){return`sampler${t}(T_${n}, S_${n})`}),u=u.replace(/\bTEXTURE\((.*?)\)/g,function(e,t){return`T_${t}`});else{var g=[];u=u.replace(/\bPD_SAMPLER_(\w+)\((.*?)\)/g,function(e,t,n){return`sampler${t} P_${n}`}),u=u.replace(/\bPP_SAMPLER_(\w+)\((.*?)\)/g,function(e,t,n){return n}),u=u.replace(/\bSAMPLER_(\w+)\((.*?)\)/g,function(e,t,n){return g.push([n,t]),n}),a&&g.forEach(function(e){var t=ue(e,2),n=t[0],r=t[1];u=u.replace(RegExp(`texture\\(${n}`,`g`),function(){return`texture${r}(${n}`})}),u=u.replace(/\bTEXTURE\((.*?)\)/g,function(e,t){return t})}var _=``.concat(a?``:e.glslVersion,`
`).concat(a&&o?`#extension GL_EXT_draw_buffers : require
`:``,`
`).concat(a&&t===`frag`?`#extension GL_OES_standard_derivatives : enable
`:``).concat(i?l:``,`
`).concat(d||``).concat(c?c+`
`:``,`
`).concat(u,`
`).trim();if(e.explicitBindingLocations&&t===`frag`&&(_=_.replace(/^\b(out)\b/g,function(e,t){return`layout(location = 0) ${t}`})),a){if(t===`frag`&&(_=_.replace(/^\s*in\s+(\S+)\s*(.*);$/gm,function(e,t,n){return`varying ${t} ${n};
`})),t===`vert`&&(_=_.replace(/^\s*out\s+(\S+)\s*(.*);$/gm,function(e,t,n){return`varying ${t} ${n};
`}),_=_.replace(/^\s*layout\(location\s*=\s*\S*\)\s*in\s+(\S+)\s*(.*);$/gm,function(e,t,n){return`attribute ${t} ${n};
`})),_=_.replace(/\s*uniform\s*.*\s*{((?:\s*.*\s*)*?)};/g,function(e,t){return t.trim().replace(/^.*$/gm,function(e){var t=e.trim();return t.startsWith(`#`)?t:e?`uniform ${t}`:``})}),t===`frag`)if(o){var v=[];_=_.replace(/^\s*layout\(location\s*=\s*\d*\)\s*out\s+vec4\s*(.*);$/gm,function(e,t){return v.push(t),`vec4 ${t};
`});var y=_.lastIndexOf(`}`);_=_.substring(0,y)+`
    ${v.map(function(e,t){return`gl_FragData[${t}] = ${e};
    `}).join(`
`)}`+_.substring(y)}else{var b;if(_=_.replace(/^\s*out\s+(\S+)\s*(.*);$/gm,function(e,t,n){return b=n,`${t} ${n};
`}),b){var y=_.lastIndexOf(`}`);_=_.substring(0,y)+`
  gl_FragColor = vec4(${b});
`+_.substring(y)}}_=_.replace(/^\s*layout\((.*)\)/gm,``)}return _}var ok=function(e){me(t,e);function t(t){var n=t.id,r=t.device,i=e.call(this)||this;return i.id=n,i.device=r,i.device.resourceCreationTracker!==null&&i.device.resourceCreationTracker.trackResourceCreated(i),i}return t.prototype.destroy=function(){this.device.resourceCreationTracker!==null&&this.device.resourceCreationTracker.trackResourceDestroyed(this)},t}(sD),sk=function(e){me(t,e);function t(t){var n=t.id,r=t.device,i=t.descriptor,a=e.call(this,{id:n,device:r})||this;a.type=cD.Bindings;var o=i.uniformBufferBindings,s=i.samplerBindings;return a.uniformBufferBindings=o||[],a.samplerBindings=s||[],a.bindingLayouts=a.createBindingLayouts(),a}return t.prototype.createBindingLayouts=function(){var e=0,t=0,n=[],r=this.uniformBufferBindings.length,i=this.samplerBindings.length;return n.push({firstUniformBuffer:e,numUniformBuffers:r,firstSampler:t,numSamplers:i}),e+=r,t+=i,{numUniformBuffers:e,numSamplers:t,bindingLayoutTables:n}},t}(ok),ck;function lk(e){return ck===void 0?typeof WebGL2RenderingContext<`u`&&e instanceof WebGL2RenderingContext?(ck=!0,!0):(ck=!!(e&&e._version===2),ck):ck}function uk(e){switch(PD(e)){case Z.BC1:case Z.BC2:case Z.BC3:case Z.BC4_UNORM:case Z.BC4_SNORM:case Z.BC5_UNORM:case Z.BC5_SNORM:return!0;default:return!1}}function dk(e){if(FD(e)&Q.Normalized)return!1;var t=PD(e);return t===Z.S8||t===Z.S16||t===Z.S32||t===Z.U8||t===Z.U16||t===Z.U32}function fk(e){switch(e){case yD.STATIC:return X.STATIC_DRAW;case yD.DYNAMIC:return X.DYNAMIC_DRAW}}function pk(e){if(e&vD.INDEX)return X.ELEMENT_ARRAY_BUFFER;if(e&vD.VERTEX)return X.ARRAY_BUFFER;if(e&vD.UNIFORM)return X.UNIFORM_BUFFER}function mk(e){switch(e){case _D.TRIANGLES:return X.TRIANGLES;case _D.POINTS:return X.POINTS;case _D.TRIANGLE_STRIP:return X.TRIANGLE_STRIP;case _D.LINES:return X.LINES;case _D.LINE_STRIP:return X.LINE_STRIP;default:throw Error(`Unknown primitive topology mode`)}}function hk(e){switch(e){case Z.U8:return X.UNSIGNED_BYTE;case Z.U16:return X.UNSIGNED_SHORT;case Z.U32:return X.UNSIGNED_INT;case Z.S8:return X.BYTE;case Z.S16:return X.SHORT;case Z.S32:return X.INT;case Z.F16:return X.HALF_FLOAT;case Z.F32:return X.FLOAT;default:throw Error(`whoops`)}}function gk(e){switch(e){case AD.R:return 1;case AD.RG:return 2;case AD.RGB:return 3;case AD.RGBA:return 4;default:return 1}}function _k(e){var t=PD(e),n=ND(e),r=FD(e),i=hk(t),a=gk(n),o=!!(r&Q.Normalized);return{size:a,type:i,normalized:o}}function vk(e){switch(e){case $.U8_R:return X.UNSIGNED_BYTE;case $.U16_R:return X.UNSIGNED_SHORT;case $.U32_R:return X.UNSIGNED_INT;default:throw Error(`whoops`)}}function yk(e){switch(e){case mD.CLAMP_TO_EDGE:return X.CLAMP_TO_EDGE;case mD.REPEAT:return X.REPEAT;case mD.MIRRORED_REPEAT:return X.MIRRORED_REPEAT;default:throw Error(`whoops`)}}function bk(e,t){if(t===gD.LINEAR&&e===hD.BILINEAR)return X.LINEAR_MIPMAP_LINEAR;if(t===gD.LINEAR&&e===hD.POINT)return X.NEAREST_MIPMAP_LINEAR;if(t===gD.NEAREST&&e===hD.BILINEAR)return X.LINEAR_MIPMAP_NEAREST;if(t===gD.NEAREST&&e===hD.POINT)return X.NEAREST_MIPMAP_NEAREST;if(t===gD.NO_MIP&&e===hD.BILINEAR)return X.LINEAR;if(t===gD.NO_MIP&&e===hD.POINT)return X.NEAREST;throw Error(`Unknown texture filter mode`)}function xk(e,t){t===void 0&&(t=0);var n=e;return n.gl_buffer_pages[t/n.pageByteSize|0]}function Sk(e){return e.gl_texture}function Ck(e){return e.gl_sampler}function wk(e,t){e.name=t,e.__SPECTOR_Metadata={name:t}}function Tk(e,t){for(var n=[];;){var r=t.exec(e);if(!r)break;n.push(r)}return n}function Ek(e){return e.blendMode==pD.ADD&&e.blendSrcFactor==fD.ONE&&e.blendDstFactor===fD.ZERO}function Dk(e){switch(e){case kD.OcclusionConservative:return X.ANY_SAMPLES_PASSED_CONSERVATIVE;default:throw Error(`whoops`)}}function Ok(e){if(e===SD.TEXTURE_2D)return X.TEXTURE_2D;if(e===SD.TEXTURE_2D_ARRAY)return X.TEXTURE_2D_ARRAY;if(e===SD.TEXTURE_CUBE_MAP)return X.TEXTURE_CUBE_MAP;if(e===SD.TEXTURE_3D)return X.TEXTURE_3D;throw Error(`whoops`)}function kk(e,t,n,r){return!(e%n!==0||t%r!==0)}var Ak=function(e){me(t,e);function t(t){var n=t.id,r=t.device,i=t.descriptor,a=e.call(this,{id:n,device:r})||this;a.type=cD.Buffer;var o=i.viewOrSize,s=i.usage,c=i.hint,l=c===void 0?yD.STATIC:c,u=r.uniformBufferMaxPageByteSize,d=r.gl,f=s&vD.UNIFORM;f||(lk(d)?d.bindVertexArray(null):r.OES_vertex_array_object.bindVertexArrayOES(null));var p=oD(o)?ZD(o,4):ZD(o.byteLength,4);a.gl_buffer_pages=[];var m;if(f){for(var h=p;h>0;)a.gl_buffer_pages.push(a.createBufferPage(Math.min(h,u),s,l)),h-=u;m=u}else a.gl_buffer_pages.push(a.createBufferPage(p,s,l)),m=p;return a.pageByteSize=m,a.byteSize=p,a.usage=s,a.gl_target=pk(s),oD(o)||a.setSubData(0,new Uint8Array(o.buffer)),f||(lk(d)?d.bindVertexArray(a.device.currentBoundVAO):r.OES_vertex_array_object.bindVertexArrayOES(a.device.currentBoundVAO)),a}return t.prototype.setSubData=function(e,t,n,r){n===void 0&&(n=0),r===void 0&&(r=t.byteLength-n);for(var i=this.device.gl,a=this.pageByteSize,o=e+r,s=e,c=e%a;s<o;){var l=lk(i)?i.COPY_WRITE_BUFFER:this.gl_target,u=xk(this,s);if(u.ubo)return;i.bindBuffer(l,u),lk(i)?i.bufferSubData(l,c,t,n,Math.min(o-s,a)):i.bufferSubData(l,c,t),s+=a,c=0,n+=a,this.device.debugGroupStatisticsBufferUpload()}},t.prototype.destroy=function(){e.prototype.destroy.call(this);for(var t=0;t<this.gl_buffer_pages.length;t++)this.gl_buffer_pages[t].ubo||this.device.gl.deleteBuffer(this.gl_buffer_pages[t]);this.gl_buffer_pages=[]},t.prototype.createBufferPage=function(e,t,n){var r=this.device.gl,i=t&vD.UNIFORM;if(!lk(r)&&i)return{ubo:!0};var a=this.device.ensureResourceExists(r.createBuffer()),o=pk(t),s=fk(n);return r.bindBuffer(o,a),r.bufferData(o,e,s),a},t}(ok),jk=function(e){me(t,e);function t(t){var n,r,i,a,o=t.id,s=t.device,c=t.descriptor,l=e.call(this,{id:o,device:s})||this;l.type=cD.InputLayout;var u=c.vertexBufferDescriptors,d=c.indexBufferFormat,f=c.program;BD(d===$.U16_R||d===$.U32_R||d===null);var p=d===null?null:vk(d),m=d===null?null:LD(d),h=l.device.gl,g=l.device.ensureResourceExists(lk(h)?h.createVertexArray():s.OES_vertex_array_object.createVertexArrayOES());lk(h)?h.bindVertexArray(g):s.OES_vertex_array_object.bindVertexArrayOES(g),h.bindBuffer(h.ARRAY_BUFFER,xk(l.device.fallbackVertexBuffer));try{for(var _=Pe(c.vertexBufferDescriptors),v=_.next();!v.done;v=_.next()){var y=v.value,b=y.stepMode,x=y.attributes;try{for(var S=(i=void 0,Pe(x)),C=S.next();!C.done;C=S.next()){var w=C.value,T=w.shaderLocation,E=w.format,D=w.divisor,O=D===void 0?1:D,k=lk(h)?T:f.attributes[T]?.location,A=_k(E);if(w.vertexFormat=A,!iD(k)){dk(E);var j=A.size,M=A.type,N=A.normalized;h.vertexAttribPointer(k,j,M,N,0,0),b===bD.INSTANCE&&(lk(h)?h.vertexAttribDivisor(k,O):s.ANGLE_instanced_arrays.vertexAttribDivisorANGLE(k,O)),h.enableVertexAttribArray(k)}}}catch(e){i={error:e}}finally{try{C&&!C.done&&(a=S.return)&&a.call(S)}finally{if(i)throw i.error}}}}catch(e){n={error:e}}finally{try{v&&!v.done&&(r=_.return)&&r.call(_)}finally{if(n)throw n.error}}return lk(h)?h.bindVertexArray(null):s.OES_vertex_array_object.bindVertexArrayOES(null),l.vertexBufferDescriptors=u,l.vao=g,l.indexBufferFormat=d,l.indexBufferType=p,l.indexBufferCompByteSize=m,l.program=f,l}return t.prototype.destroy=function(){e.prototype.destroy.call(this),this.device.currentBoundVAO===this.vao&&(lk(this.device.gl)?(this.device.gl.bindVertexArray(null),this.device.gl.deleteVertexArray(this.vao)):(this.device.OES_vertex_array_object.bindVertexArrayOES(null),this.device.OES_vertex_array_object.deleteVertexArrayOES(this.vao)),this.device.currentBoundVAO=null)},t}(ok),Mk=function(e){me(t,e);function t(t){var n=t.id,r=t.device,i=t.descriptor,a=t.fake,o=e.call(this,{id:n,device:r})||this;o.type=cD.Texture,i=Ce({dimension:SD.TEXTURE_2D,depthOrArrayLayers:1,mipLevelCount:1},i);var s=o.device.gl,c,l,u=o.clampmipLevelCount(i);if(o.immutable=i.usage===CD.RENDER_TARGET,o.pixelStore=i.pixelStore,o.format=i.format,o.dimension=i.dimension,o.formatKind=zD(i.format),o.width=i.width,o.height=i.height,o.depthOrArrayLayers=i.depthOrArrayLayers,o.mipmaps=u>=1,!a){l=o.device.ensureResourceExists(s.createTexture());var d=o.device.translateTextureType(i.format),f=o.device.translateTextureInternalFormat(i.format);if(o.device.setActiveTexture(s.TEXTURE0),o.device.currentTextures[0]=null,o.preprocessImage(),i.dimension===SD.TEXTURE_2D){if(c=X.TEXTURE_2D,s.bindTexture(c,l),o.immutable)if(lk(s))s.texStorage2D(c,u,f,i.width,i.height);else{var p=(f===X.DEPTH_COMPONENT||o.isNPOT(),0);(o.format===$.D32F||o.format===$.D24_S8)&&!lk(s)&&!r.WEBGL_depth_texture||(s.texImage2D(c,p,f,i.width,i.height,0,f,d,null),o.mipmaps&&(o.mipmaps=!1,s.texParameteri(X.TEXTURE_2D,X.TEXTURE_MIN_FILTER,X.LINEAR),s.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_S,X.CLAMP_TO_EDGE),s.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_T,X.CLAMP_TO_EDGE)))}BD(i.depthOrArrayLayers===1)}else if(i.dimension===SD.TEXTURE_2D_ARRAY)c=X.TEXTURE_2D_ARRAY,s.bindTexture(c,l),o.immutable&&lk(s)&&s.texStorage3D(c,u,f,i.width,i.height,i.depthOrArrayLayers);else if(i.dimension===SD.TEXTURE_3D)c=X.TEXTURE_3D,s.bindTexture(c,l),o.immutable&&lk(s)&&s.texStorage3D(c,u,f,i.width,i.height,i.depthOrArrayLayers);else if(i.dimension===SD.TEXTURE_CUBE_MAP)c=X.TEXTURE_CUBE_MAP,s.bindTexture(c,l),o.immutable&&lk(s)&&s.texStorage2D(c,u,f,i.width,i.height),BD(i.depthOrArrayLayers===6);else throw Error(`whoops`)}return o.gl_texture=l,o.gl_target=c,o.mipLevelCount=u,o}return t.prototype.setImageData=function(e,t){t===void 0&&(t=0);var n=this.device.gl;uk(this.format);var r=this.gl_target===X.TEXTURE_3D||this.gl_target===X.TEXTURE_2D_ARRAY,i=this.gl_target===X.TEXTURE_CUBE_MAP,a=$O(e[0]);this.device.setActiveTexture(n.TEXTURE0),this.device.currentTextures[0]=null;var o=e[0],s,c;a?(s=this.width,c=this.height):(s=o.width,c=o.height,this.width=s,this.height=c),n.bindTexture(this.gl_target,this.gl_texture);var l=this.device.translateTextureFormat(this.format),u=lk(n)?this.device.translateInternalTextureFormat(this.format):l,d=this.device.translateTextureType(this.format);this.preprocessImage();for(var f=0;f<this.depthOrArrayLayers;f++){var p=e[f],m=this.gl_target;i&&(m=X.TEXTURE_CUBE_MAP_POSITIVE_X+f%6),this.immutable?n.texSubImage2D(m,t,0,0,s,c,l,d,p):lk(n)?r?n.texImage3D(m,t,u,s,c,this.depthOrArrayLayers,0,l,d,p):n.texImage2D(m,t,u,s,c,0,l,d,p):a?n.texImage2D(m,t,l,s,c,0,l,d,p):n.texImage2D(m,t,l,l,d,p)}this.mipmaps&&this.generateMipmap(r)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.device.gl.deleteTexture(Sk(this))},t.prototype.clampmipLevelCount=function(e){if(e.dimension===SD.TEXTURE_2D_ARRAY&&e.depthOrArrayLayers>1&&PD(e.format)===Z.BC1)for(var t=e.width,n=e.height,r=0;r<e.mipLevelCount;r++){if(t<=2||n<=2)return r-1;t=Math.max(t/2|0,1),n=Math.max(n/2|0,1)}return e.mipLevelCount},t.prototype.preprocessImage=function(){var e=this.device.gl;this.pixelStore&&(this.pixelStore.unpackFlipY&&e.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,!0),this.pixelStore.packAlignment&&e.pixelStorei(X.PACK_ALIGNMENT,this.pixelStore.packAlignment),this.pixelStore.unpackAlignment&&e.pixelStorei(X.UNPACK_ALIGNMENT,this.pixelStore.unpackAlignment))},t.prototype.generateMipmap=function(e){e===void 0&&(e=!1);var t=this.device.gl;return!lk(t)&&this.isNPOT()||this.gl_texture&&this.gl_target&&(t.bindTexture(this.gl_target,this.gl_texture),e?(t.texParameteri(this.gl_target,X.TEXTURE_BASE_LEVEL,0),t.texParameteri(this.gl_target,X.TEXTURE_MAX_LEVEL,Math.log2(this.width)),t.texParameteri(this.gl_target,X.TEXTURE_MIN_FILTER,X.LINEAR_MIPMAP_LINEAR),t.texParameteri(this.gl_target,X.TEXTURE_MAG_FILTER,X.LINEAR)):t.texParameteri(X.TEXTURE_2D,X.TEXTURE_MIN_FILTER,X.NEAREST_MIPMAP_LINEAR),t.generateMipmap(this.gl_target),t.bindTexture(this.gl_target,null)),this},t.prototype.isNPOT=function(){var e=this.device.gl;return lk(e)?!1:!JD(this.width)||!JD(this.height)},t}(ok),Nk=function(e){me(t,e);function t(t){var n=t.id,r=t.device,i=t.descriptor,a=e.call(this,{id:n,device:r})||this;a.type=cD.RenderTarget,a.gl_renderbuffer=null,a.texture=null;var o=a.device.gl,s=i.format,c=i.width,l=i.height,u=i.sampleCount,d=u===void 0?1:u,f=i.texture,p=!1;if((s===$.D32F||s===$.D24_S8)&&f&&!lk(o)&&!r.WEBGL_depth_texture&&(f.destroy(),a.texture=null,p=!0),!p&&f)a.texture=f;else{a.gl_renderbuffer=a.device.ensureResourceExists(o.createRenderbuffer()),o.bindRenderbuffer(o.RENDERBUFFER,a.gl_renderbuffer);var m=a.device.translateTextureInternalFormat(s,!0);lk(o)&&d>1?o.renderbufferStorageMultisample(X.RENDERBUFFER,d,m,c,l):o.renderbufferStorage(X.RENDERBUFFER,m,c,l)}return a.format=s,a.width=c,a.height=l,a.sampleCount=d,a}return t.prototype.destroy=function(){e.prototype.destroy.call(this),this.gl_renderbuffer!==null&&this.device.gl.deleteRenderbuffer(this.gl_renderbuffer),this.texture&&this.texture.destroy()},t}(ok),Pk;(function(e){e[e.NeedsCompile=0]=`NeedsCompile`,e[e.Compiling=1]=`Compiling`,e[e.NeedsBind=2]=`NeedsBind`,e[e.ReadyToUse=3]=`ReadyToUse`})(Pk||={});var Fk=function(e){me(t,e);function t(t,n){var r=t.id,i=t.device,a=t.descriptor,o=e.call(this,{id:r,device:i})||this;o.rawVertexGLSL=n,o.type=cD.Program,o.uniformSetters={},o.attributes=[];var s=o.device.gl;return o.descriptor=a,o.gl_program=o.device.ensureResourceExists(s.createProgram()),o.gl_shader_vert=null,o.gl_shader_frag=null,o.compileState=Pk.NeedsCompile,o.tryCompileProgram(),o}return t.prototype.destroy=function(){e.prototype.destroy.call(this),this.device.gl.deleteProgram(this.gl_program),this.device.gl.deleteShader(this.gl_shader_vert),this.device.gl.deleteShader(this.gl_shader_frag)},t.prototype.tryCompileProgram=function(){BD(this.compileState===Pk.NeedsCompile);var e=this.descriptor,t=e.vertex,n=e.fragment,r=this.device.gl;t?.glsl&&n?.glsl&&(this.gl_shader_vert=this.compileShader(t.postprocess?t.postprocess(t.glsl):t.glsl,r.VERTEX_SHADER),this.gl_shader_frag=this.compileShader(n.postprocess?n.postprocess(n.glsl):n.glsl,r.FRAGMENT_SHADER),r.attachShader(this.gl_program,this.gl_shader_vert),r.attachShader(this.gl_program,this.gl_shader_frag),r.linkProgram(this.gl_program),this.compileState=Pk.Compiling,lk(r)||(this.readUniformLocationsFromLinkedProgram(),this.readAttributesFromLinkedProgram()))},t.prototype.readAttributesFromLinkedProgram=function(){for(var e=this.device.gl,t=e.getProgramParameter(this.gl_program,e.ACTIVE_ATTRIBUTES),n=tk(this.descriptor.vertex.glsl),r=nk(this.rawVertexGLSL,n),i=function(t){var n=e.getActiveAttrib(a.gl_program,t),i=n.name,o=n.type,s=n.size,c=e.getAttribLocation(a.gl_program,i),l=r.find(function(e){return e.name===i})?.location;c>=0&&!iD(l)&&(a.attributes[l]={name:i,location:c,type:o,size:s})},a=this,o=0;o<t;o++)i(o)},t.prototype.readUniformLocationsFromLinkedProgram=function(){for(var e=this.device.gl,t=e.getProgramParameter(this.gl_program,e.ACTIVE_UNIFORMS),n=0;n<t;n++){var r=e.getActiveUniform(this.gl_program,n),i=LO(r.name).name,a=e.getUniformLocation(this.gl_program,i);if(this.uniformSetters[i]=ZO(e,a,r),r&&r.size>1)for(var o=0;o<r.size;o++)a=e.getUniformLocation(this.gl_program,`${i}[${o}]`),this.uniformSetters[`${i}[${o}]`]=ZO(e,a,r)}},t.prototype.compileShader=function(e,t){var n=this.device.gl,r=this.device.ensureResourceExists(n.createShader(t));return n.shaderSource(r,e),n.compileShader(r),r},t.prototype.setUniformsLegacy=function(e){e===void 0&&(e={});var t=this.device.gl;if(!lk(t)){var n=!1;for(var r in e){n||=(t.useProgram(this.gl_program),!0);var i=e[r],a=this.uniformSetters[r];if(a){var o=i;o instanceof Mk&&(o=o.textureIndex),a(o)}}}return this},t}(ok),Ik=function(e){me(t,e);function t(t){var n=t.id,r=t.device,i=t.descriptor,a=e.call(this,{id:n,device:r})||this;a.type=cD.QueryPool;var o=a.device.gl;if(lk(o)){var s=i.elemCount,c=i.type;a.gl_query=QD(s,function(){return a.device.ensureResourceExists(o.createQuery())}),a.gl_query_type=Dk(c)}return a}return t.prototype.queryResultOcclusion=function(e){var t=this.device.gl;if(lk(t)){var n=this.gl_query[e];return t.getQueryParameter(n,t.QUERY_RESULT_AVAILABLE)?!!t.getQueryParameter(n,t.QUERY_RESULT):null}return null},t.prototype.destroy=function(){e.prototype.destroy.call(this);var t=this.device.gl;if(lk(t))for(var n=0;n<this.gl_query.length;n++)t.deleteQuery(this.gl_query[n])},t}(ok),Lk=function(e){me(t,e);function t(t){var n=t.id,r=t.device,i=e.call(this,{id:n,device:r})||this;return i.type=cD.Readback,i.gl_pbo=null,i.gl_sync=null,i}return t.prototype.clientWaitAsync=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=10);var r=this.device.gl;return new Promise(function(i,a){function o(){var s=r.clientWaitSync(e,t,0);if(s==r.WAIT_FAILED){a();return}if(s==r.TIMEOUT_EXPIRED){setTimeout(o,aD(n,0,r.MAX_CLIENT_WAIT_TIMEOUT_WEBGL));return}i()}o()})},t.prototype.getBufferSubDataAsync=function(e,t,n,r,i,a){return pe(this,void 0,void 0,function(){var o;return ge(this,function(s){switch(s.label){case 0:return o=this.device.gl,lk(o)?(this.gl_sync=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0),o.flush(),[4,this.clientWaitAsync(this.gl_sync,0,10)]):[3,2];case 1:return s.sent(),o.bindBuffer(e,t),o.getBufferSubData(e,n,r,i,a),o.bindBuffer(e,null),[2,r];case 2:return[2]}})})},t.prototype.readTexture=function(e,t,n,r,i,a,o,s){return o===void 0&&(o=0),s===void 0&&(s=a.byteLength||0),pe(this,void 0,void 0,function(){var c,l,u,d,f;return ge(this,function(p){return c=this.device.gl,l=e,u=this.device.translateTextureFormat(l.format),d=this.device.translateTextureType(l.format),f=RD(l.format),lk(c)?(this.gl_pbo=this.device.ensureResourceExists(c.createBuffer()),c.bindBuffer(c.PIXEL_PACK_BUFFER,this.gl_pbo),c.bufferData(c.PIXEL_PACK_BUFFER,s,c.STREAM_READ),c.bindBuffer(c.PIXEL_PACK_BUFFER,null),c.bindFramebuffer(X.READ_FRAMEBUFFER,this.device.readbackFramebuffer),c.framebufferTexture2D(X.READ_FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_2D,l.gl_texture,0),c.bindBuffer(c.PIXEL_PACK_BUFFER,this.gl_pbo),c.readPixels(t,n,r,i,u,d,o*f),c.bindBuffer(c.PIXEL_PACK_BUFFER,null),[2,this.getBufferSubDataAsync(c.PIXEL_PACK_BUFFER,this.gl_pbo,0,a,o,0)]):[2,this.readTextureSync(e,t,n,r,i,a,o,s)]})})},t.prototype.readTextureSync=function(e,t,n,r,i,a,o,s){s===void 0&&(s=a.byteLength||0);var c=this.device.gl,l=e,u=this.device.translateTextureType(l.format);return c.bindFramebuffer(X.FRAMEBUFFER,this.device.readbackFramebuffer),c.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_2D,l.gl_texture,0),c.pixelStorei(c.PACK_ALIGNMENT,4),c.readPixels(t,n,r,i,c.RGBA,u,a),a},t.prototype.readBuffer=function(e,t,n,r,i){return pe(this,void 0,void 0,function(){var a;return ge(this,function(o){return a=this.device.gl,lk(a)?[2,this.getBufferSubDataAsync(a.ARRAY_BUFFER,xk(e,t),t,n,r,i)]:[2,Promise.reject()]})})},t.prototype.destroy=function(){e.prototype.destroy.call(this),lk(this.device.gl)&&(this.gl_sync!==null&&this.device.gl.deleteSync(this.gl_sync),this.gl_pbo!==null&&this.device.gl.deleteBuffer(this.gl_pbo))},t}(ok),Rk=function(e){me(t,e);function t(t){var n=t.id,r=t.device,i=t.descriptor,a=e.call(this,{id:n,device:r})||this;return a.type=cD.RenderPipeline,a.drawMode=mk(i.topology??_D.TRIANGLES),a.program=i.program,a.inputLayout=i.inputLayout,a.megaState=Ce(Ce({},oO(cO)),i.megaStateDescriptor),a.colorAttachmentFormats=i.colorAttachmentFormats.slice(),a.depthStencilAttachmentFormat=i.depthStencilAttachmentFormat,a.sampleCount=i.sampleCount??1,a}return t}(ok),zk=function(e){me(t,e);function t(t){var n=t.id,r=t.device,i=t.descriptor,a=e.call(this,{id:n,device:r})||this;return a.type=cD.ComputePipeline,a.descriptor=i,a}return t}(ok),Bk=function(){function e(){this.liveObjects=new Set,this.creationStacks=new Map,this.deletionStacks=new Map}return e.prototype.trackResourceCreated=function(e){this.creationStacks.set(e,Error().stack),this.liveObjects.add(e)},e.prototype.trackResourceDestroyed=function(e){this.deletionStacks.has(e)&&console.warn(`Object double freed:`,e,`

Creation stack: `,this.creationStacks.get(e),`

Deletion stack: `,this.deletionStacks.get(e),`

This stack: `,Error().stack),this.deletionStacks.set(e,Error().stack),this.liveObjects.delete(e)},e.prototype.checkForLeaks=function(){var e,t;try{for(var n=Pe(this.liveObjects.values()),r=n.next();!r.done;r=n.next()){var i=r.value;console.warn(`Object leaked:`,i,`Creation stack:`,this.creationStacks.get(i))}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.setResourceLeakCheck=function(e,t){t?this.liveObjects.add(e):this.liveObjects.delete(e)},e}(),Vk=function(e){me(t,e);function t(t){var n=t.id,r=t.device,i=t.descriptor,a=e.call(this,{id:n,device:r})||this;a.type=cD.Sampler;var o=a.device.gl;if(lk(o)){var s=a.device.ensureResourceExists(o.createSampler());o.samplerParameteri(s,X.TEXTURE_WRAP_S,yk(i.addressModeU)),o.samplerParameteri(s,X.TEXTURE_WRAP_T,yk(i.addressModeV)),o.samplerParameteri(s,X.TEXTURE_WRAP_R,yk(i.addressModeW??i.addressModeU)),o.samplerParameteri(s,X.TEXTURE_MIN_FILTER,bk(i.minFilter,i.mipmapFilter)),o.samplerParameteri(s,X.TEXTURE_MAG_FILTER,bk(i.magFilter,gD.NO_MIP)),i.lodMinClamp!==void 0&&o.samplerParameterf(s,X.TEXTURE_MIN_LOD,i.lodMinClamp),i.lodMaxClamp!==void 0&&o.samplerParameterf(s,X.TEXTURE_MAX_LOD,i.lodMaxClamp),i.compareFunction!==void 0&&(o.samplerParameteri(s,o.TEXTURE_COMPARE_MODE,o.COMPARE_REF_TO_TEXTURE),o.samplerParameteri(s,o.TEXTURE_COMPARE_FUNC,i.compareFunction));var c=i.maxAnisotropy??1;c>1&&a.device.EXT_texture_filter_anisotropic!==null&&(BD(i.minFilter===hD.BILINEAR&&i.magFilter===hD.BILINEAR&&i.mipmapFilter===gD.LINEAR),o.samplerParameterf(s,a.device.EXT_texture_filter_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT,c)),a.gl_sampler=s}else a.descriptor=i;return a}return t.prototype.setTextureParameters=function(e,t,n){var r=this.device.gl,i=this.descriptor;this.isNPOT(t,n)?r.texParameteri(X.TEXTURE_2D,X.TEXTURE_MIN_FILTER,X.LINEAR):r.texParameteri(e,X.TEXTURE_MIN_FILTER,bk(i.minFilter,i.mipmapFilter)),r.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_S,yk(i.addressModeU)),r.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_T,yk(i.addressModeV)),r.texParameteri(e,X.TEXTURE_MAG_FILTER,bk(i.magFilter,gD.NO_MIP));var a=i.maxAnisotropy??1;a>1&&this.device.EXT_texture_filter_anisotropic!==null&&(BD(i.minFilter===hD.BILINEAR&&i.magFilter===hD.BILINEAR&&i.mipmapFilter===gD.LINEAR),r.texParameteri(e,this.device.EXT_texture_filter_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a))},t.prototype.destroy=function(){e.prototype.destroy.call(this),lk(this.device.gl)&&this.device.gl.deleteSampler(Ck(this))},t.prototype.isNPOT=function(e,t){return!JD(e)||!JD(t)},t}(ok),Hk=function(){function e(){}return e.prototype.dispatchWorkgroups=function(e,t,n){},e.prototype.dispatchWorkgroupsIndirect=function(e,t){},e.prototype.setPipeline=function(e){},e.prototype.setBindings=function(e){},e.prototype.pushDebugGroup=function(e){},e.prototype.popDebugGroup=function(){},e.prototype.insertDebugMarker=function(e){},e}(),Uk=function(e){me(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=cD.RenderBundle,t.commands=[],t}return t.prototype.push=function(e){this.commands.push(e)},t.prototype.replay=function(){this.commands.forEach(function(e){return e()})},t}(ok),Wk=65536,Gk=/uniform(?:\s+)(\w+)(?:\s?){([^]*?)}/g,Kk=function(){function e(e,t){t===void 0&&(t={}),this.shaderDebug=!1,this.OES_vertex_array_object=null,this.ANGLE_instanced_arrays=null,this.OES_texture_float=null,this.OES_draw_buffers_indexed=null,this.WEBGL_draw_buffers=null,this.WEBGL_depth_texture=null,this.WEBGL_color_buffer_float=null,this.EXT_color_buffer_half_float=null,this.WEBGL_compressed_texture_s3tc=null,this.WEBGL_compressed_texture_s3tc_srgb=null,this.EXT_texture_compression_rgtc=null,this.EXT_texture_filter_anisotropic=null,this.KHR_parallel_shader_compile=null,this.EXT_texture_norm16=null,this.EXT_color_buffer_float=null,this.OES_texture_float_linear=null,this.OES_texture_half_float_linear=null,this.scTexture=null,this.scPlatformFramebuffer=null,this.currentActiveTexture=null,this.currentBoundVAO=null,this.currentProgram=null,this.resourceCreationTracker=null,this.resourceUniqueId=0,this.currentColorAttachments=[],this.currentColorAttachmentLevels=[],this.currentColorResolveTos=[],this.currentColorResolveToLevels=[],this.currentSampleCount=-1,this.currentIndexBufferByteOffset=null,this.currentMegaState=oO(cO),this.currentSamplers=[],this.currentTextures=[],this.currentUniformBuffers=[],this.currentUniformBufferByteOffsets=[],this.currentUniformBufferByteSizes=[],this.currentScissorEnabled=!1,this.currentStencilRef=null,this.currentRenderPassDescriptor=null,this.currentRenderPassDescriptorStack=[],this.debugGroupStack=[],this.resolveColorAttachmentsChanged=!1,this.resolveDepthStencilAttachmentsChanged=!1,this.explicitBindingLocations=!1,this.separateSamplerTextures=!1,this.viewportOrigin=DD.LOWER_LEFT,this.clipSpaceNearZ=OD.NEGATIVE_ONE,this.supportMRT=!1,this.inBlitRenderPass=!1,this.supportedSampleCounts=[],this.occlusionQueriesRecommended=!1,this.computeShadersSupported=!1,this.gl=e,this.contextAttributes=VD(e.getContextAttributes()),lk(e)?(this.EXT_texture_norm16=e.getExtension(`EXT_texture_norm16`),this.EXT_color_buffer_float=e.getExtension(`EXT_color_buffer_float`)):(this.OES_vertex_array_object=e.getExtension(`OES_vertex_array_object`),this.ANGLE_instanced_arrays=e.getExtension(`ANGLE_instanced_arrays`),this.OES_texture_float=e.getExtension(`OES_texture_float`),this.WEBGL_draw_buffers=e.getExtension(`WEBGL_draw_buffers`),this.WEBGL_depth_texture=e.getExtension(`WEBGL_depth_texture`),this.WEBGL_color_buffer_float=e.getExtension(`WEBGL_color_buffer_float`),this.EXT_color_buffer_half_float=e.getExtension(`EXT_color_buffer_half_float`),e.getExtension(`EXT_frag_depth`),e.getExtension(`OES_element_index_uint`),e.getExtension(`OES_standard_derivatives`)),this.WEBGL_compressed_texture_s3tc=e.getExtension(`WEBGL_compressed_texture_s3tc`),this.WEBGL_compressed_texture_s3tc_srgb=e.getExtension(`WEBGL_compressed_texture_s3tc_srgb`),this.EXT_texture_compression_rgtc=e.getExtension(`EXT_texture_compression_rgtc`),this.EXT_texture_filter_anisotropic=e.getExtension(`EXT_texture_filter_anisotropic`),this.EXT_texture_norm16=e.getExtension(`EXT_texture_norm16`),this.OES_texture_float_linear=e.getExtension(`OES_texture_float_linear`),this.OES_texture_half_float_linear=e.getExtension(`OES_texture_half_float_linear`),this.KHR_parallel_shader_compile=e.getExtension(`KHR_parallel_shader_compile`),lk(e)?(this.platformString=`WebGL2`,this.glslVersion=`#version 300 es`):(this.platformString=`WebGL1`,this.glslVersion=`#version 100`),this.scTexture=new Mk({id:this.getNextUniqueId(),device:this,descriptor:{width:0,height:0,depthOrArrayLayers:1,dimension:SD.TEXTURE_2D,mipLevelCount:1,usage:CD.RENDER_TARGET,format:this.contextAttributes.alpha===!1?$.U8_RGB_RT:$.U8_RGBA_RT},fake:!0}),this.scTexture.formatKind=ED.Float,this.scTexture.gl_target=null,this.scTexture.gl_texture=null,this.resolveColorReadFramebuffer=this.ensureResourceExists(e.createFramebuffer()),this.resolveColorDrawFramebuffer=this.ensureResourceExists(e.createFramebuffer()),this.resolveDepthStencilReadFramebuffer=this.ensureResourceExists(e.createFramebuffer()),this.resolveDepthStencilDrawFramebuffer=this.ensureResourceExists(e.createFramebuffer()),this.renderPassDrawFramebuffer=this.ensureResourceExists(e.createFramebuffer()),this.readbackFramebuffer=this.ensureResourceExists(e.createFramebuffer()),this.fallbackTexture2D=this.createFallbackTexture(SD.TEXTURE_2D,ED.Float),this.fallbackTexture2DDepth=this.createFallbackTexture(SD.TEXTURE_2D,ED.Depth),this.fallbackVertexBuffer=this.createBuffer({viewOrSize:1,usage:vD.VERTEX,hint:yD.STATIC}),lk(e)&&(this.fallbackTexture2DArray=this.createFallbackTexture(SD.TEXTURE_2D_ARRAY,ED.Float),this.fallbackTexture3D=this.createFallbackTexture(SD.TEXTURE_3D,ED.Float),this.fallbackTextureCube=this.createFallbackTexture(SD.TEXTURE_CUBE_MAP,ED.Float)),this.currentMegaState.depthCompare=lD.LESS,this.currentMegaState.depthWrite=!1,this.currentMegaState.attachmentsState[0].channelWriteMask=wD.ALL,e.enable(e.DEPTH_TEST),e.enable(e.STENCIL_TEST),this.checkLimits(),t.shaderDebug&&(this.shaderDebug=!0),t.trackResources&&(this.resourceCreationTracker=new Bk)}return e.prototype.destroy=function(){this.blitBindings&&this.blitBindings.destroy(),this.blitInputLayout&&this.blitInputLayout.destroy(),this.blitRenderPipeline&&this.blitRenderPipeline.destroy(),this.blitVertexBuffer&&this.blitVertexBuffer.destroy(),this.blitProgram&&this.blitProgram.destroy()},e.prototype.createFallbackTexture=function(e,t){var n=e===SD.TEXTURE_CUBE_MAP?6:1,r=t===ED.Depth?$.D32F:$.U8_RGBA_NORM,i=this.createTexture({dimension:e,format:r,usage:CD.SAMPLED,width:1,height:1,depthOrArrayLayers:n,mipLevelCount:1});return t===ED.Float&&i.setImageData([new Uint8Array(4*n)]),Sk(i)},e.prototype.getNextUniqueId=function(){return++this.resourceUniqueId},e.prototype.checkLimits=function(){var e=this.gl;if(this.maxVertexAttribs=e.getParameter(X.MAX_VERTEX_ATTRIBS),lk(e)){this.uniformBufferMaxPageByteSize=Math.min(e.getParameter(X.MAX_UNIFORM_BLOCK_SIZE),Wk),this.uniformBufferWordAlignment=e.getParameter(e.UNIFORM_BUFFER_OFFSET_ALIGNMENT)/4;var t=e.getInternalformatParameter(e.RENDERBUFFER,e.DEPTH32F_STENCIL8,e.SAMPLES);this.supportedSampleCounts=t?fe([],ue(t),!1):[],this.occlusionQueriesRecommended=!0}else this.uniformBufferWordAlignment=64,this.uniformBufferMaxPageByteSize=Wk;this.uniformBufferMaxPageWordSize=this.uniformBufferMaxPageByteSize/4,this.supportedSampleCounts.includes(1)||this.supportedSampleCounts.push(1),this.supportedSampleCounts.sort(function(e,t){return e-t})},e.prototype.configureSwapChain=function(e,t,n){var r=this.scTexture;r.width=e,r.height=t,this.scPlatformFramebuffer=XD(n)},e.prototype.getDevice=function(){return this},e.prototype.getCanvas=function(){return this.gl.canvas},e.prototype.getOnscreenTexture=function(){return this.scTexture},e.prototype.beginFrame=function(){},e.prototype.endFrame=function(){},e.prototype.translateTextureInternalFormat=function(e,t){switch(t===void 0&&(t=!1),e){case $.ALPHA:return X.ALPHA;case $.U8_LUMINANCE:case $.F16_LUMINANCE:case $.F32_LUMINANCE:return X.LUMINANCE;case $.F16_R:return X.R16F;case $.F16_RG:return X.RG16F;case $.F16_RGB:return X.RGB16F;case $.F16_RGBA:return X.RGBA16F;case $.F32_R:return X.R32F;case $.F32_RG:return X.RG32F;case $.F32_RGB:return X.RGB32F;case $.F32_RGBA:return lk(this.gl)?X.RGBA32F:t?this.WEBGL_color_buffer_float.RGBA32F_EXT:X.RGBA;case $.U8_R_NORM:return X.R8;case $.U8_RG_NORM:return X.RG8;case $.U8_RGB_NORM:case $.U8_RGB_RT:return X.RGB8;case $.U8_RGB_SRGB:return X.SRGB8;case $.U8_RGBA_NORM:case $.U8_RGBA_RT:return lk(this.gl)?X.RGBA8:t?X.RGBA4:X.RGBA;case $.U8_RGBA:return X.RGBA;case $.U8_RGBA_SRGB:case $.U8_RGBA_RT_SRGB:return X.SRGB8_ALPHA8;case $.U16_R:return X.R16UI;case $.U16_R_NORM:return this.EXT_texture_norm16.R16_EXT;case $.U16_RG_NORM:return this.EXT_texture_norm16.RG16_EXT;case $.U16_RGBA_NORM:return this.EXT_texture_norm16.RGBA16_EXT;case $.U16_RGBA_5551:return X.RGB5_A1;case $.U16_RGB_565:return X.RGB565;case $.U32_R:return X.R32UI;case $.S8_RGBA_NORM:return X.RGBA8_SNORM;case $.S8_RG_NORM:return X.RG8_SNORM;case $.BC1:return this.WEBGL_compressed_texture_s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT;case $.BC1_SRGB:return this.WEBGL_compressed_texture_s3tc_srgb.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;case $.BC2:return this.WEBGL_compressed_texture_s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT;case $.BC2_SRGB:return this.WEBGL_compressed_texture_s3tc_srgb.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;case $.BC3:return this.WEBGL_compressed_texture_s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT;case $.BC3_SRGB:return this.WEBGL_compressed_texture_s3tc_srgb.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT;case $.BC4_UNORM:return this.EXT_texture_compression_rgtc.COMPRESSED_RED_RGTC1_EXT;case $.BC4_SNORM:return this.EXT_texture_compression_rgtc.COMPRESSED_SIGNED_RED_RGTC1_EXT;case $.BC5_UNORM:return this.EXT_texture_compression_rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT;case $.BC5_SNORM:return this.EXT_texture_compression_rgtc.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT;case $.D32F_S8:return lk(this.gl)?X.DEPTH32F_STENCIL8:this.WEBGL_depth_texture?X.DEPTH_STENCIL:X.DEPTH_COMPONENT16;case $.D24_S8:return lk(this.gl)?X.DEPTH24_STENCIL8:this.WEBGL_depth_texture?X.DEPTH_STENCIL:X.DEPTH_COMPONENT16;case $.D32F:return lk(this.gl)?X.DEPTH_COMPONENT32F:this.WEBGL_depth_texture?X.DEPTH_COMPONENT:X.DEPTH_COMPONENT16;case $.D24:return lk(this.gl)?X.DEPTH_COMPONENT24:this.WEBGL_depth_texture?X.DEPTH_COMPONENT:X.DEPTH_COMPONENT16;default:throw Error(`whoops`)}},e.prototype.translateTextureType=function(e){switch(PD(e)){case Z.U8:return X.UNSIGNED_BYTE;case Z.U16:return X.UNSIGNED_SHORT;case Z.U32:return X.UNSIGNED_INT;case Z.S8:return X.BYTE;case Z.F16:return X.HALF_FLOAT;case Z.F32:return X.FLOAT;case Z.U16_PACKED_5551:return X.UNSIGNED_SHORT_5_5_5_1;case Z.D32F:return lk(this.gl)?X.FLOAT:this.WEBGL_depth_texture?X.UNSIGNED_INT:X.UNSIGNED_BYTE;case Z.D24:return lk(this.gl)?X.UNSIGNED_INT_24_8:this.WEBGL_depth_texture?X.UNSIGNED_SHORT:X.UNSIGNED_BYTE;case Z.D24S8:return lk(this.gl)?X.UNSIGNED_INT_24_8:this.WEBGL_depth_texture?X.UNSIGNED_INT_24_8_WEBGL:X.UNSIGNED_BYTE;case Z.D32FS8:return X.FLOAT_32_UNSIGNED_INT_24_8_REV;default:throw Error(`whoops`)}},e.prototype.translateInternalTextureFormat=function(e){switch(e){case $.F32_R:return X.R32F;case $.F32_RG:return X.RG32F;case $.F32_RGB:return X.RGB32F;case $.F32_RGBA:return X.RGBA32F;case $.F16_R:return X.R16F;case $.F16_RG:return X.RG16F;case $.F16_RGB:return X.RGB16F;case $.F16_RGBA:return X.RGBA16F}return this.translateTextureFormat(e)},e.prototype.translateTextureFormat=function(e){if(uk(e)||e===$.F32_LUMINANCE||e===$.U8_LUMINANCE)return this.translateTextureInternalFormat(e);var t=lk(this.gl)||!lk(this.gl)&&!!this.WEBGL_depth_texture;switch(e){case $.D24_S8:case $.D32F_S8:return t?X.DEPTH_STENCIL:X.RGBA;case $.D24:case $.D32F:return t?X.DEPTH_COMPONENT:X.RGBA}var n=dk(e);switch(ND(e)){case AD.A:return X.ALPHA;case AD.R:return n?X.RED_INTEGER:X.RED;case AD.RG:return n?X.RG_INTEGER:X.RG;case AD.RGB:return n?X.RGB_INTEGER:X.RGB;case AD.RGBA:return X.RGBA}},e.prototype.setActiveTexture=function(e){this.currentActiveTexture!==e&&(this.gl.activeTexture(e),this.currentActiveTexture=e)},e.prototype.bindVAO=function(e){this.currentBoundVAO!==e&&(lk(this.gl)?this.gl.bindVertexArray(e):this.OES_vertex_array_object.bindVertexArrayOES(e),this.currentBoundVAO=e)},e.prototype.programCompiled=function(e){BD(e.compileState!==Pk.NeedsCompile),e.compileState===Pk.Compiling&&(e.compileState=Pk.NeedsBind,this.shaderDebug&&this.checkProgramCompilationForErrors(e))},e.prototype.useProgram=function(e){this.currentProgram!==e&&(this.programCompiled(e),this.gl.useProgram(e.gl_program),this.currentProgram=e)},e.prototype.ensureResourceExists=function(e){if(e===null){var t=this.gl.getError();throw Error(`Created resource is null; GL error encountered: ${t}`)}else return e},e.prototype.createBuffer=function(e){return new Ak({id:this.getNextUniqueId(),device:this,descriptor:e})},e.prototype.createTexture=function(e){return new Mk({id:this.getNextUniqueId(),device:this,descriptor:e})},e.prototype.createSampler=function(e){return new Vk({id:this.getNextUniqueId(),device:this,descriptor:e})},e.prototype.createRenderTarget=function(e){return new Nk({id:this.getNextUniqueId(),device:this,descriptor:e})},e.prototype.createRenderTargetFromTexture=function(e){var t=e,n=t.format,r=t.width,i=t.height,a=t.mipLevelCount;return BD(a===1),this.createRenderTarget({format:n,width:r,height:i,sampleCount:1,texture:e})},e.prototype.createProgram=function(e){var t=e.vertex?.glsl;return e.vertex?.glsl&&(e.vertex.glsl=ak(this.queryVendorInfo(),`vert`,e.vertex.glsl)),e.fragment?.glsl&&(e.fragment.glsl=ak(this.queryVendorInfo(),`frag`,e.fragment.glsl)),this.createProgramSimple(e,t)},e.prototype.createProgramSimple=function(e,t){return new Fk({id:this.getNextUniqueId(),device:this,descriptor:e},t)},e.prototype.createBindings=function(e){return new sk({id:this.getNextUniqueId(),device:this,descriptor:e})},e.prototype.createInputLayout=function(e){return new jk({id:this.getNextUniqueId(),device:this,descriptor:e})},e.prototype.createRenderPipeline=function(e){return new Rk({id:this.getNextUniqueId(),device:this,descriptor:e})},e.prototype.createComputePass=function(){return new Hk},e.prototype.createComputePipeline=function(e){return new zk({id:this.getNextUniqueId(),device:this,descriptor:e})},e.prototype.createReadback=function(){return new Lk({id:this.getNextUniqueId(),device:this})},e.prototype.createQueryPool=function(e,t){return new Ik({id:this.getNextUniqueId(),device:this,descriptor:{type:e,elemCount:t}})},e.prototype.formatRenderPassDescriptor=function(e){var t=e.colorAttachment;e.depthClearValue=e.depthClearValue??`load`,e.stencilClearValue=e.stencilClearValue??`load`;for(var n=0;n<t.length;n++)e.colorAttachmentLevel||=[],e.colorAttachmentLevel[n]=e.colorAttachmentLevel[n]??0,e.colorResolveToLevel||=[],e.colorResolveToLevel[n]=e.colorResolveToLevel[n]??0,e.colorClearColor||=[],e.colorClearColor[n]=e.colorClearColor[n]??`load`,e.colorStore||=[],e.colorStore[n]=e.colorStore[n]??!1},e.prototype.createRenderBundle=function(){return new Uk({id:this.getNextUniqueId(),device:this})},e.prototype.beginBundle=function(e){this.renderBundle=e},e.prototype.endBundle=function(){this.renderBundle=void 0},e.prototype.executeBundles=function(e){e.forEach(function(e){e.replay()})},e.prototype.createRenderPass=function(e){this.currentRenderPassDescriptor!==null&&this.currentRenderPassDescriptorStack.push(this.currentRenderPassDescriptor),this.currentRenderPassDescriptor=e,this.formatRenderPassDescriptor(e);var t=e.colorAttachment,n=e.colorAttachmentLevel,r=e.colorClearColor,i=e.colorResolveTo,a=e.colorResolveToLevel,o=e.depthStencilAttachment,s=e.depthClearValue,c=e.stencilClearValue,l=e.depthStencilResolveTo,u=i&&i.length===1&&i[0]===this.scTexture;this.setRenderPassParametersBegin(t.length,u);for(var d=0;d<t.length;d++)this.setRenderPassParametersColor(d,t[d],n[d],i[d],a[d],u);this.setRenderPassParametersDepthStencil(o,l,u),this.validateCurrentAttachments();for(var d=0;d<t.length;d++){var f=r[d];f!==`load`&&this.setRenderPassParametersClearColor(d,f.r,f.g,f.b,f.a)}return this.setRenderPassParametersClearDepthStencil(s,c),this},e.prototype.submitPass=function(e){BD(this.currentRenderPassDescriptor!==null),this.endPass(),this.currentRenderPassDescriptorStack.length?this.currentRenderPassDescriptor=this.currentRenderPassDescriptorStack.pop():this.currentRenderPassDescriptor=null},e.prototype.copySubTexture2D=function(e,t,n,r,i,a){var o=this.gl,s=e,c=r;if(BD(c.mipLevelCount===1),BD(s.mipLevelCount===1),lk(o))s===this.scTexture?o.bindFramebuffer(o.DRAW_FRAMEBUFFER,this.scPlatformFramebuffer):(o.bindFramebuffer(o.DRAW_FRAMEBUFFER,this.resolveColorDrawFramebuffer),this.bindFramebufferAttachment(o.DRAW_FRAMEBUFFER,o.COLOR_ATTACHMENT0,s,0)),o.bindFramebuffer(o.READ_FRAMEBUFFER,this.resolveColorReadFramebuffer),this.bindFramebufferAttachment(o.READ_FRAMEBUFFER,o.COLOR_ATTACHMENT0,c,0),o.blitFramebuffer(i,a,i+c.width,a+c.height,t,n,t+c.width,n+c.height,o.COLOR_BUFFER_BIT,o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,null),o.bindFramebuffer(o.DRAW_FRAMEBUFFER,null);else if(s===this.scTexture){var l=this.createRenderTargetFromTexture(r);this.submitBlitRenderPass(l,s)}},e.prototype.queryLimits=function(){return this},e.prototype.queryTextureFormatSupported=function(e,t,n){switch(e){case $.BC1_SRGB:case $.BC2_SRGB:case $.BC3_SRGB:return this.WEBGL_compressed_texture_s3tc_srgb===null?!1:kk(t,n,4,4);case $.BC1:case $.BC2:case $.BC3:return this.WEBGL_compressed_texture_s3tc===null?!1:kk(t,n,4,4);case $.BC4_UNORM:case $.BC4_SNORM:case $.BC5_UNORM:case $.BC5_SNORM:return this.EXT_texture_compression_rgtc===null?!1:kk(t,n,4,4);case $.U16_R_NORM:case $.U16_RG_NORM:case $.U16_RGBA_NORM:return this.EXT_texture_norm16!==null;case $.F32_R:case $.F32_RG:case $.F32_RGB:case $.F32_RGBA:return this.OES_texture_float_linear!==null;case $.F16_R:case $.F16_RG:case $.F16_RGB:case $.F16_RGBA:return this.OES_texture_half_float_linear!==null;default:return!0}},e.prototype.queryProgramReady=function(e){var t=this.gl;if(e.compileState===Pk.NeedsCompile)throw Error(`whoops`);if(e.compileState===Pk.Compiling){var n=void 0;return n=this.KHR_parallel_shader_compile===null?!0:t.getProgramParameter(e.gl_program,this.KHR_parallel_shader_compile.COMPLETION_STATUS_KHR),n&&this.programCompiled(e),n}return e.compileState===Pk.NeedsBind||e.compileState===Pk.ReadyToUse},e.prototype.queryPlatformAvailable=function(){return this.gl.isContextLost()},e.prototype.queryVendorInfo=function(){return this},e.prototype.queryRenderPass=function(e){return this.currentRenderPassDescriptor},e.prototype.queryRenderTarget=function(e){return e},e.prototype.setResourceName=function(e,t){if(e.name=t,e.type===cD.Buffer)for(var n=e.gl_buffer_pages,r=0;r<n.length;r++)wk(n[r],`${t} Page ${r}`);else if(e.type===cD.Texture)wk(Sk(e),t);else if(e.type===cD.Sampler)wk(Ck(e),t);else if(e.type===cD.RenderTarget){var i=e.gl_renderbuffer;i!==null&&wk(i,t)}else e.type===cD.InputLayout&&wk(e.vao,t)},e.prototype.setResourceLeakCheck=function(e,t){this.resourceCreationTracker!==null&&this.resourceCreationTracker.setResourceLeakCheck(e,t)},e.prototype.checkForLeaks=function(){this.resourceCreationTracker!==null&&this.resourceCreationTracker.checkForLeaks()},e.prototype.pushDebugGroup=function(e){},e.prototype.popDebugGroup=function(){},e.prototype.insertDebugMarker=function(e){},e.prototype.programPatched=function(e,t){BD(this.shaderDebug)},e.prototype.getBufferData=function(e,t,n){n===void 0&&(n=0);var r=this.gl;lk(r)&&(r.bindBuffer(r.COPY_READ_BUFFER,xk(e,n*4)),r.getBufferSubData(r.COPY_READ_BUFFER,n*4,t))},e.prototype.debugGroupStatisticsDrawCall=function(e){e===void 0&&(e=1);for(var t=this.debugGroupStack.length-1;t>=0;t--)this.debugGroupStack[t].drawCallCount+=e},e.prototype.debugGroupStatisticsBufferUpload=function(e){e===void 0&&(e=1);for(var t=this.debugGroupStack.length-1;t>=0;t--)this.debugGroupStack[t].bufferUploadCount+=e},e.prototype.debugGroupStatisticsTextureBind=function(e){e===void 0&&(e=1);for(var t=this.debugGroupStack.length-1;t>=0;t--)this.debugGroupStack[t].textureBindCount+=e},e.prototype.debugGroupStatisticsTriangles=function(e){for(var t=this.debugGroupStack.length-1;t>=0;t--)this.debugGroupStack[t].triangleCount+=e},e.prototype.reportShaderError=function(e,t){var n=this.gl,r=n.getShaderParameter(e,n.COMPILE_STATUS);if(!r){console.error($D(t));var i=n.getExtension(`WEBGL_debug_shaders`);i&&console.error(i.getTranslatedShaderSource(e)),console.error(n.getShaderInfoLog(e))}return r},e.prototype.checkProgramCompilationForErrors=function(e){var t=this.gl,n=e.gl_program;if(!t.getProgramParameter(n,t.LINK_STATUS)){var r=e.descriptor;if(!this.reportShaderError(e.gl_shader_vert,r.vertex.glsl)||!this.reportShaderError(e.gl_shader_frag,r.fragment.glsl))return;console.error(t.getProgramInfoLog(e.gl_program))}},e.prototype.bindFramebufferAttachment=function(e,t,n,r){var i=this.gl;if(iD(n))i.framebufferRenderbuffer(e,t,i.RENDERBUFFER,null);else if(n.type===cD.RenderTarget)n.gl_renderbuffer===null?n.texture!==null&&i.framebufferTexture2D(e,t,X.TEXTURE_2D,Sk(n.texture),r):i.framebufferRenderbuffer(e,t,i.RENDERBUFFER,n.gl_renderbuffer);else if(n.type===cD.Texture){var a=Sk(n);n.dimension===SD.TEXTURE_2D?i.framebufferTexture2D(e,t,X.TEXTURE_2D,a,r):lk(i)&&(n.dimension,SD.TEXTURE_2D_ARRAY)}},e.prototype.bindFramebufferDepthStencilAttachment=function(e,t){var n=this.gl,r=iD(t)?Q.Depth|Q.Stencil:FD(t.format),i=!!(r&Q.Depth),a=!!(r&Q.Stencil);i&&a?lk(this.gl)||!lk(this.gl)&&this.WEBGL_depth_texture?this.bindFramebufferAttachment(e,n.DEPTH_STENCIL_ATTACHMENT,t,0):this.bindFramebufferAttachment(e,n.DEPTH_ATTACHMENT,t,0):i?(this.bindFramebufferAttachment(e,n.DEPTH_ATTACHMENT,t,0),this.bindFramebufferAttachment(e,n.STENCIL_ATTACHMENT,null,0)):a&&(this.bindFramebufferAttachment(e,n.STENCIL_ATTACHMENT,t,0),this.bindFramebufferAttachment(e,n.DEPTH_ATTACHMENT,null,0))},e.prototype.validateCurrentAttachments=function(){for(var e=-1,t=-1,n=-1,r=0;r<this.currentColorAttachments.length;r++){var i=this.currentColorAttachments[r];i!==null&&(e===-1?(e=i.sampleCount,t=i.width,n=i.height):(BD(e===i.sampleCount),BD(t===i.width),BD(n===i.height)))}this.currentDepthStencilAttachment&&(e===-1?e=this.currentDepthStencilAttachment.sampleCount:(BD(e===this.currentDepthStencilAttachment.sampleCount),BD(t===this.currentDepthStencilAttachment.width),BD(n===this.currentDepthStencilAttachment.height))),this.currentSampleCount=e},e.prototype.setRenderPassParametersBegin=function(e,t){t===void 0&&(t=!1);var n=this.gl;if(t)n.bindFramebuffer(X.FRAMEBUFFER,null);else if(lk(n)?n.bindFramebuffer(X.DRAW_FRAMEBUFFER,this.renderPassDrawFramebuffer):this.inBlitRenderPass||n.bindFramebuffer(X.FRAMEBUFFER,this.renderPassDrawFramebuffer),lk(n)?n.drawBuffers([X.COLOR_ATTACHMENT0,X.COLOR_ATTACHMENT1,X.COLOR_ATTACHMENT2,X.COLOR_ATTACHMENT3]):!this.inBlitRenderPass&&this.WEBGL_draw_buffers&&this.WEBGL_draw_buffers.drawBuffersWEBGL([X.COLOR_ATTACHMENT0_WEBGL,X.COLOR_ATTACHMENT1_WEBGL,X.COLOR_ATTACHMENT2_WEBGL,X.COLOR_ATTACHMENT3_WEBGL]),!this.inBlitRenderPass)for(var r=e;r<this.currentColorAttachments.length;r++){var i=lk(n)?X.DRAW_FRAMEBUFFER:X.FRAMEBUFFER,a=lk(n)?X.COLOR_ATTACHMENT0:X.COLOR_ATTACHMENT0_WEBGL;n.framebufferRenderbuffer(i,a+r,X.RENDERBUFFER,null),n.framebufferTexture2D(i,a+r,X.TEXTURE_2D,null,0)}this.currentColorAttachments.length=e},e.prototype.setRenderPassParametersColor=function(e,t,n,r,i,a){a===void 0&&(a=!1);var o=this.gl,s=lk(o);(this.currentColorAttachments[e]!==t||this.currentColorAttachmentLevels[e]!==n)&&(this.currentColorAttachments[e]=t,this.currentColorAttachmentLevels[e]=n,!a&&(s||!s&&this.WEBGL_draw_buffers)&&this.bindFramebufferAttachment(s?X.DRAW_FRAMEBUFFER:X.FRAMEBUFFER,(s?X.COLOR_ATTACHMENT0:X.COLOR_ATTACHMENT0_WEBGL)+e,t,n),this.resolveColorAttachmentsChanged=!0),(this.currentColorResolveTos[e]!==r||this.currentColorResolveToLevels[e]!==i)&&(this.currentColorResolveTos[e]=r,this.currentColorResolveToLevels[e]=i,r!==null&&(this.resolveColorAttachmentsChanged=!0))},e.prototype.setRenderPassParametersDepthStencil=function(e,t,n){n===void 0&&(n=!1);var r=this.gl;this.currentDepthStencilAttachment!==e&&(this.currentDepthStencilAttachment=e,!n&&!this.inBlitRenderPass&&this.bindFramebufferDepthStencilAttachment(lk(r)?X.DRAW_FRAMEBUFFER:X.FRAMEBUFFER,this.currentDepthStencilAttachment),this.resolveDepthStencilAttachmentsChanged=!0),this.currentDepthStencilResolveTo!==t&&(this.currentDepthStencilResolveTo=t,t&&(this.resolveDepthStencilAttachmentsChanged=!0))},e.prototype.setRenderPassParametersClearColor=function(e,t,n,r,i){var a=this.gl;if(this.OES_draw_buffers_indexed!==null){var o=this.currentMegaState.attachmentsState[e];o&&o.channelWriteMask!==wD.ALL&&(this.OES_draw_buffers_indexed.colorMaskiOES(e,!0,!0,!0,!0),o.channelWriteMask=wD.ALL)}else{var o=this.currentMegaState.attachmentsState[0];o&&o.channelWriteMask!==wD.ALL&&(a.colorMask(!0,!0,!0,!0),o.channelWriteMask=wD.ALL)}this.setScissorRectEnabled(!1),lk(a)?a.clearBufferfv(a.COLOR,e,[t,n,r,i]):(a.clearColor(t,n,r,i),a.clear(a.COLOR_BUFFER_BIT))},e.prototype.setRenderPassParametersClearDepthStencil=function(e,t){e===void 0&&(e=`load`),t===void 0&&(t=`load`);var n=this.gl;e!==`load`&&(BD(!!this.currentDepthStencilAttachment),this.currentMegaState.depthWrite||(n.depthMask(!0),this.currentMegaState.depthWrite=!0),lk(n)?n.clearBufferfv(n.DEPTH,0,[e]):(n.clearDepth(e),n.clear(n.DEPTH_BUFFER_BIT))),t!==`load`&&(BD(!!this.currentDepthStencilAttachment),this.currentMegaState.stencilWrite||(n.enable(n.STENCIL_TEST),n.stencilMask(255),this.currentMegaState.stencilWrite=!0),lk(n)?n.clearBufferiv(n.STENCIL,0,[t]):(n.clearStencil(t),n.clear(n.STENCIL_BUFFER_BIT)))},e.prototype.setBindings=function(e){var t=this,n;if(this.renderBundle){this.renderBundle.push(function(){return t.setBindings(e)});return}var r=this.gl,i=e,a=i.uniformBufferBindings,o=i.samplerBindings,s=i.bindingLayouts;BD(0<s.bindingLayoutTables.length);var c=s.bindingLayoutTables[0];BD(a.length>=c.numUniformBuffers),BD(o.length>=c.numSamplers);for(var l=0;l<a.length;l++){var u=a[l];if(u.size!==0){var d=c.firstUniformBuffer+l,f=u.buffer,p=u.offset||0,m=u.size||f.byteSize;if(f!==this.currentUniformBuffers[d]||p!==this.currentUniformBufferByteOffsets[d]||m!==this.currentUniformBufferByteSizes[d]){var h=p%f.pageByteSize,g=f.gl_buffer_pages[p/f.pageByteSize|0];BD(h+m<=f.pageByteSize),lk(r)&&r.bindBufferRange(r.UNIFORM_BUFFER,d,g,h,m),this.currentUniformBuffers[d]=f,this.currentUniformBufferByteOffsets[d]=p,this.currentUniformBufferByteSizes[d]=m}}}for(var l=0;l<c.numSamplers;l++){var u=o[l],_=c.firstSampler+l,v=u!==null&&u.sampler!==null?Ck(u.sampler):null,y=u!==null&&u.texture!==null?Sk(u.texture):null;if(this.currentSamplers[_]!==v&&(lk(r)&&r.bindSampler(_,v),this.currentSamplers[_]=v),this.currentTextures[_]!==y){if(this.setActiveTexture(r.TEXTURE0+_),y!==null){var b=VD(u).texture,x=b.gl_target,S=b.width,C=b.height;u.texture.textureIndex=_,r.bindTexture(x,y),lk(r)||(n=u.sampler)==null||n.setTextureParameters(x,S,C),this.debugGroupStatisticsTextureBind()}else{var w=Ce(Ce({},u),uO),T=w.dimension,E=w.formatKind,x=Ok(T);r.bindTexture(x,this.getFallbackTexture(Ce({gl_target:x,formatKind:E},w)))}this.currentTextures[_]=y}}},e.prototype.setViewport=function(e,t,n,r){this.gl.viewport(e,t,n,r)},e.prototype.setScissorRect=function(e,t,n,r){var i=this.gl;this.setScissorRectEnabled(!0),i.scissor(e,t,n,r)},e.prototype.applyAttachmentStateIndexed=function(e,t,n){var r=this.gl,i=this.OES_draw_buffers_indexed;t.channelWriteMask!==n.channelWriteMask&&(i.colorMaskiOES(e,!!(n.channelWriteMask&wD.RED),!!(n.channelWriteMask&wD.GREEN),!!(n.channelWriteMask&wD.BLUE),!!(n.channelWriteMask&wD.ALPHA)),t.channelWriteMask=n.channelWriteMask);var a=t.rgbBlendState.blendMode!==n.rgbBlendState.blendMode||t.alphaBlendState.blendMode!==n.alphaBlendState.blendMode,o=t.rgbBlendState.blendSrcFactor!==n.rgbBlendState.blendSrcFactor||t.alphaBlendState.blendSrcFactor!==n.alphaBlendState.blendSrcFactor||t.rgbBlendState.blendDstFactor!==n.rgbBlendState.blendDstFactor||t.alphaBlendState.blendDstFactor!==n.alphaBlendState.blendDstFactor;(o||a)&&(Ek(t.rgbBlendState)&&Ek(t.alphaBlendState)?i.enableiOES(e,r.BLEND):Ek(n.rgbBlendState)&&Ek(n.alphaBlendState)&&i.disableiOES(e,r.BLEND)),a&&(i.blendEquationSeparateiOES(e,n.rgbBlendState.blendMode,n.alphaBlendState.blendMode),t.rgbBlendState.blendMode=n.rgbBlendState.blendMode,t.alphaBlendState.blendMode=n.alphaBlendState.blendMode),o&&(i.blendFuncSeparateiOES(e,n.rgbBlendState.blendSrcFactor,n.rgbBlendState.blendDstFactor,n.alphaBlendState.blendSrcFactor,n.alphaBlendState.blendDstFactor),t.rgbBlendState.blendSrcFactor=n.rgbBlendState.blendSrcFactor,t.alphaBlendState.blendSrcFactor=n.alphaBlendState.blendSrcFactor,t.rgbBlendState.blendDstFactor=n.rgbBlendState.blendDstFactor,t.alphaBlendState.blendDstFactor=n.alphaBlendState.blendDstFactor)},e.prototype.applyAttachmentState=function(e,t){var n=this.gl;e.channelWriteMask!==t.channelWriteMask&&(n.colorMask(!!(t.channelWriteMask&wD.RED),!!(t.channelWriteMask&wD.GREEN),!!(t.channelWriteMask&wD.BLUE),!!(t.channelWriteMask&wD.ALPHA)),e.channelWriteMask=t.channelWriteMask);var r=e.rgbBlendState.blendMode!==t.rgbBlendState.blendMode||e.alphaBlendState.blendMode!==t.alphaBlendState.blendMode,i=e.rgbBlendState.blendSrcFactor!==t.rgbBlendState.blendSrcFactor||e.alphaBlendState.blendSrcFactor!==t.alphaBlendState.blendSrcFactor||e.rgbBlendState.blendDstFactor!==t.rgbBlendState.blendDstFactor||e.alphaBlendState.blendDstFactor!==t.alphaBlendState.blendDstFactor;(i||r)&&(Ek(e.rgbBlendState)&&Ek(e.alphaBlendState)?n.enable(n.BLEND):Ek(t.rgbBlendState)&&Ek(t.alphaBlendState)&&n.disable(n.BLEND)),r&&(n.blendEquationSeparate(t.rgbBlendState.blendMode,t.alphaBlendState.blendMode),e.rgbBlendState.blendMode=t.rgbBlendState.blendMode,e.alphaBlendState.blendMode=t.alphaBlendState.blendMode),i&&(n.blendFuncSeparate(t.rgbBlendState.blendSrcFactor,t.rgbBlendState.blendDstFactor,t.alphaBlendState.blendSrcFactor,t.alphaBlendState.blendDstFactor),e.rgbBlendState.blendSrcFactor=t.rgbBlendState.blendSrcFactor,e.alphaBlendState.blendSrcFactor=t.alphaBlendState.blendSrcFactor,e.rgbBlendState.blendDstFactor=t.rgbBlendState.blendDstFactor,e.alphaBlendState.blendDstFactor=t.alphaBlendState.blendDstFactor)},e.prototype.setMegaState=function(e){var t=this.gl,n=this.currentMegaState;if(this.OES_draw_buffers_indexed!==null)for(var r=0;r<e.attachmentsState.length;r++)this.applyAttachmentStateIndexed(r,n.attachmentsState[0],e.attachmentsState[0]);else BD(e.attachmentsState.length===1),this.applyAttachmentState(n.attachmentsState[0],e.attachmentsState[0]);HD(n.blendConstant,e.blendConstant)||(t.blendColor(e.blendConstant.r,e.blendConstant.g,e.blendConstant.b,e.blendConstant.a),UD(n.blendConstant,e.blendConstant)),n.depthCompare!==e.depthCompare&&(t.depthFunc(e.depthCompare),n.depthCompare=e.depthCompare),!!n.depthWrite!=!!e.depthWrite&&(t.depthMask(e.depthWrite),n.depthWrite=e.depthWrite),!!n.stencilWrite!=!!e.stencilWrite&&(t.stencilMask(e.stencilWrite?255:0),n.stencilWrite=e.stencilWrite);var i=!1;if(!yO(n.stencilFront,e.stencilFront)){i=!0;var a=e.stencilFront,o=a.passOp,s=a.failOp,c=a.depthFailOp,l=a.compare;(n.stencilFront.passOp!==o||n.stencilFront.failOp!==s||n.stencilFront.depthFailOp!==c)&&(t.stencilOpSeparate(t.FRONT,s,c,o),n.stencilFront.passOp=o,n.stencilFront.failOp=s,n.stencilFront.depthFailOp=c),n.stencilFront.compare!==l&&(this.setStencilReference(0),n.stencilFront.compare=l)}if(!yO(n.stencilBack,e.stencilBack)){i=!0;var u=e.stencilBack,o=u.passOp,s=u.failOp,c=u.depthFailOp,l=u.compare;(n.stencilBack.passOp!==o||n.stencilBack.failOp!==s||n.stencilBack.depthFailOp!==c)&&(t.stencilOpSeparate(t.BACK,s,c,o),n.stencilBack.passOp=o,n.stencilBack.failOp=s,n.stencilBack.depthFailOp=c),n.stencilBack.compare!==l&&(this.setStencilReference(0),n.stencilBack.compare=l)}(n.stencilFront.mask!==e.stencilFront.mask||n.stencilBack.mask!==e.stencilBack.mask)&&(i=!0,n.stencilFront.mask=e.stencilFront.mask,n.stencilBack.mask=e.stencilBack.mask),i&&this.applyStencil(),n.cullMode!==e.cullMode&&(n.cullMode===dD.NONE?t.enable(t.CULL_FACE):e.cullMode===dD.NONE&&t.disable(t.CULL_FACE),e.cullMode===dD.BACK?t.cullFace(t.BACK):e.cullMode===dD.FRONT?t.cullFace(t.FRONT):e.cullMode===dD.FRONT_AND_BACK&&t.cullFace(t.FRONT_AND_BACK),n.cullMode=e.cullMode),n.frontFace!==e.frontFace&&(t.frontFace(e.frontFace),n.frontFace=e.frontFace),n.polygonOffset!==e.polygonOffset&&(e.polygonOffset?t.enable(t.POLYGON_OFFSET_FILL):t.disable(t.POLYGON_OFFSET_FILL),n.polygonOffset=e.polygonOffset),(n.polygonOffsetFactor!==e.polygonOffsetFactor||n.polygonOffsetUnits!==e.polygonOffsetUnits)&&(t.polygonOffset(e.polygonOffsetFactor,e.polygonOffsetUnits),n.polygonOffsetFactor=e.polygonOffsetFactor,n.polygonOffsetUnits=e.polygonOffsetUnits)},e.prototype.validatePipelineFormats=function(e){for(var t=0;t<this.currentColorAttachments.length;t++)if(this.currentColorAttachments[t]===null)continue;this.currentDepthStencilAttachment&&BD(this.currentDepthStencilAttachment.format===e.depthStencilAttachmentFormat),this.currentSampleCount!==-1&&BD(this.currentSampleCount===e.sampleCount)},e.prototype.setPipeline=function(e){var t=this;if(this.renderBundle){this.renderBundle.push(function(){return t.setPipeline(e)});return}this.currentPipeline=e,this.validatePipelineFormats(this.currentPipeline),this.setMegaState(this.currentPipeline.megaState);var n=this.currentPipeline.program;if(this.useProgram(n),n.compileState===Pk.NeedsBind){var r=this.gl,i=n.gl_program,a=n.descriptor,o=Tk(a.vertex.glsl,Gk);if(lk(r))for(var s=0;s<o.length;s++){var c=ue(o[s],2),l=c[1],u=r.getUniformBlockIndex(i,l);u!==-1&&u!==4294967295&&r.uniformBlockBinding(i,u,s)}for(var d=Tk(a.fragment.glsl,/^uniform .*sampler\S+ (\w+);\s* \/\/ BINDING=(\d+)$/gm),s=0;s<d.length;s++){var f=ue(d[s],3),p=f[1],m=f[2],h=r.getUniformLocation(i,p);r.uniform1i(h,parseInt(m))}n.compileState=Pk.ReadyToUse}},e.prototype.setVertexInput=function(e,t,n){var r,i,a=this;if(this.renderBundle){this.renderBundle.push(function(){return a.setVertexInput(e,t,n)});return}if(e!==null){BD(this.currentPipeline.inputLayout===e);var o=e;this.bindVAO(o.vao);for(var s=this.gl,c=0;c<o.vertexBufferDescriptors.length;c++){var l=o.vertexBufferDescriptors[c],u=l.arrayStride,d=l.attributes;try{for(var f=(r=void 0,Pe(d)),p=f.next();!p.done;p=f.next()){var m=p.value,h=m.shaderLocation,g=m.offset,_=lk(s)?h:o.program.attributes[h]?.location;if(!iD(_)){var v=t[c];if(v===null)continue;var y=m.vertexFormat;s.bindBuffer(s.ARRAY_BUFFER,xk(v.buffer));var b=(v.offset||0)+g;s.vertexAttribPointer(_,y.size,y.type,y.normalized,u,b)}}}catch(e){r={error:e}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}if(BD(n!==null==(o.indexBufferFormat!==null)),n!==null){var x=n.buffer;BD(x.usage===vD.INDEX),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,xk(x)),this.currentIndexBufferByteOffset=n.offset||0}else this.currentIndexBufferByteOffset=null}else BD(this.currentPipeline.inputLayout===null),BD(n===null),this.bindVAO(null),this.currentIndexBufferByteOffset=0},e.prototype.setStencilReference=function(e){this.currentStencilRef!==e&&(this.currentStencilRef=e,this.applyStencil())},e.prototype.draw=function(e,t,n,r){var i,a=this;if(this.renderBundle){this.renderBundle.push(function(){return a.draw(e,t,n,r)});return}var o=this.gl,s=this.currentPipeline;if(t){var c=[s.drawMode,n||0,e,t];lk(o)?o.drawArraysInstanced.apply(o,fe([],ue(c),!1)):(i=this.ANGLE_instanced_arrays).drawArraysInstancedANGLE.apply(i,fe([],ue(c),!1))}else o.drawArrays(s.drawMode,n,e);this.debugGroupStatisticsDrawCall(),this.debugGroupStatisticsTriangles(e/3*Math.max(t,1))},e.prototype.drawIndexed=function(e,t,n,r,i){var a,o=this;if(this.renderBundle){this.renderBundle.push(function(){return o.drawIndexed(e,t,n,r,i)});return}var s=this.gl,c=this.currentPipeline,l=VD(c.inputLayout),u=VD(this.currentIndexBufferByteOffset)+n*l.indexBufferCompByteSize;if(t){var d=[c.drawMode,e,l.indexBufferType,u,t];lk(s)?s.drawElementsInstanced.apply(s,fe([],ue(d),!1)):(a=this.ANGLE_instanced_arrays).drawElementsInstancedANGLE.apply(a,fe([],ue(d),!1))}else s.drawElements(c.drawMode,e,l.indexBufferType,u);this.debugGroupStatisticsDrawCall(),this.debugGroupStatisticsTriangles(e/3*Math.max(t,1))},e.prototype.drawIndirect=function(e,t){},e.prototype.drawIndexedIndirect=function(e,t){},e.prototype.beginOcclusionQuery=function(e){var t=this.gl;if(lk(t)){var n=this.currentRenderPassDescriptor.occlusionQueryPool;t.beginQuery(n.gl_query_type,n.gl_query[e])}},e.prototype.endOcclusionQuery=function(){var e=this.gl;if(lk(e)){var t=this.currentRenderPassDescriptor.occlusionQueryPool;e.endQuery(t.gl_query_type)}},e.prototype.pipelineQueryReady=function(e){var t=e;return this.queryProgramReady(t.program)},e.prototype.pipelineForceReady=function(e){},e.prototype.endPass=function(){for(var e=this.gl,t=lk(e),n=this.currentColorResolveTos.length===1&&this.currentColorResolveTos[0]===this.scTexture,r=!1,i=0;i<this.currentColorAttachments.length;i++){var a=this.currentColorAttachments[i];if(a!==null){var o=this.currentColorResolveTos[i],s=!1;o!==null&&(BD(a.width===o.width&&a.height===o.height),this.setScissorRectEnabled(!1),n||(t&&e.bindFramebuffer(e.READ_FRAMEBUFFER,this.resolveColorReadFramebuffer),this.resolveColorAttachmentsChanged&&t&&this.bindFramebufferAttachment(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,a,this.currentColorAttachmentLevels[i])),s=!0,n||(o===this.scTexture?e.bindFramebuffer(t?X.DRAW_FRAMEBUFFER:X.FRAMEBUFFER,this.scPlatformFramebuffer):(e.bindFramebuffer(t?X.DRAW_FRAMEBUFFER:X.FRAMEBUFFER,this.resolveColorDrawFramebuffer),this.resolveColorAttachmentsChanged&&e.framebufferTexture2D(t?X.DRAW_FRAMEBUFFER:X.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o.gl_texture,this.currentColorResolveToLevels[i]))),n||(t?(e.blitFramebuffer(0,0,a.width,a.height,0,0,o.width,o.height,e.COLOR_BUFFER_BIT,e.LINEAR),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null)):this.submitBlitRenderPass(a,o)),r=!0),this.currentRenderPassDescriptor.colorStore[i]||!n&&!s&&(e.bindFramebuffer(t?X.READ_FRAMEBUFFER:X.FRAMEBUFFER,this.resolveColorReadFramebuffer),this.resolveColorAttachmentsChanged&&this.bindFramebufferAttachment(t?X.READ_FRAMEBUFFER:X.FRAMEBUFFER,e.COLOR_ATTACHMENT0,a,this.currentColorAttachmentLevels[i])),n||e.bindFramebuffer(t?X.READ_FRAMEBUFFER:X.FRAMEBUFFER,null)}}this.resolveColorAttachmentsChanged=!1;var c=this.currentDepthStencilAttachment;if(c){var l=this.currentDepthStencilResolveTo,s=!1;l&&(BD(c.width===l.width&&c.height===l.height),this.setScissorRectEnabled(!1),n||(e.bindFramebuffer(t?X.READ_FRAMEBUFFER:X.FRAMEBUFFER,this.resolveDepthStencilReadFramebuffer),e.bindFramebuffer(t?X.DRAW_FRAMEBUFFER:X.FRAMEBUFFER,this.resolveDepthStencilDrawFramebuffer),this.resolveDepthStencilAttachmentsChanged&&(this.bindFramebufferDepthStencilAttachment(t?X.READ_FRAMEBUFFER:X.FRAMEBUFFER,c),this.bindFramebufferDepthStencilAttachment(t?X.DRAW_FRAMEBUFFER:X.FRAMEBUFFER,l))),s=!0,n||(t&&e.blitFramebuffer(0,0,c.width,c.height,0,0,l.width,l.height,e.DEPTH_BUFFER_BIT,e.NEAREST),e.bindFramebuffer(t?X.DRAW_FRAMEBUFFER:X.FRAMEBUFFER,null)),r=!0),!n&&!this.currentRenderPassDescriptor.depthStencilStore&&(s||=(e.bindFramebuffer(t?X.READ_FRAMEBUFFER:X.FRAMEBUFFER,this.resolveDepthStencilReadFramebuffer),this.resolveDepthStencilAttachmentsChanged&&this.bindFramebufferDepthStencilAttachment(t?X.READ_FRAMEBUFFER:X.FRAMEBUFFER,c),!0),t&&e.invalidateFramebuffer(e.READ_FRAMEBUFFER,[e.DEPTH_STENCIL_ATTACHMENT])),!n&&s&&e.bindFramebuffer(t?X.READ_FRAMEBUFFER:X.FRAMEBUFFER,null),this.resolveDepthStencilAttachmentsChanged=!1}!n&&!r&&e.bindFramebuffer(t?X.DRAW_FRAMEBUFFER:X.FRAMEBUFFER,null)},e.prototype.setScissorRectEnabled=function(e){if(this.currentScissorEnabled!==e){var t=this.gl;e?t.enable(t.SCISSOR_TEST):t.disable(t.SCISSOR_TEST),this.currentScissorEnabled=e}},e.prototype.applyStencil=function(){iD(this.currentStencilRef)||(this.gl.stencilFuncSeparate(X.FRONT,this.currentMegaState.stencilFront.compare,this.currentStencilRef,this.currentMegaState.stencilFront.mask||255),this.gl.stencilFuncSeparate(X.BACK,this.currentMegaState.stencilBack.compare,this.currentStencilRef,this.currentMegaState.stencilBack.mask||255))},e.prototype.getFallbackTexture=function(e){var t=e.gl_target,n=e.formatKind;if(t===X.TEXTURE_2D)return n===ED.Depth?this.fallbackTexture2DDepth:this.fallbackTexture2D;if(t===X.TEXTURE_2D_ARRAY)return this.fallbackTexture2DArray;if(t===X.TEXTURE_3D)return this.fallbackTexture3D;if(t===X.TEXTURE_CUBE_MAP)return this.fallbackTextureCube;throw Error(`whoops`)},e.prototype.submitBlitRenderPass=function(e,t){this.blitRenderPipeline||(this.blitProgram=this.createProgram({vertex:{glsl:`layout(location = 0) in vec2 a_Position;
out vec2 v_TexCoord;
void main() {
  v_TexCoord = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);

  #ifdef VIEWPORT_ORIGIN_TL
    v_TexCoord.y = 1.0 - v_TexCoord.y;
  #endif
}`},fragment:{glsl:`uniform sampler2D u_Texture;
in vec2 v_TexCoord;
out vec4 outputColor;
void main() {
  outputColor = texture(SAMPLER_2D(u_Texture), v_TexCoord);
}`}}),this.blitVertexBuffer=this.createBuffer({usage:vD.VERTEX|vD.COPY_DST,viewOrSize:new Float32Array([-4,-4,4,-4,0,4])}),this.blitInputLayout=this.createInputLayout({vertexBufferDescriptors:[{arrayStride:8,stepMode:bD.VERTEX,attributes:[{format:$.F32_RG,offset:0,shaderLocation:0}]}],indexBufferFormat:null,program:this.blitProgram}),this.blitRenderPipeline=this.createRenderPipeline({topology:_D.TRIANGLES,sampleCount:1,program:this.blitProgram,colorAttachmentFormats:[$.U8_RGBA_RT],depthStencilAttachmentFormat:null,inputLayout:this.blitInputLayout,megaStateDescriptor:oO(cO)}),this.blitBindings=this.createBindings({samplerBindings:[{sampler:null,texture:e.texture}],uniformBufferBindings:[]}),this.blitProgram.setUniformsLegacy({u_Texture:e}));var n=this.currentRenderPassDescriptor;this.currentRenderPassDescriptor=null,this.inBlitRenderPass=!0;var r=this.createRenderPass({colorAttachment:[e],colorResolveTo:[t],colorClearColor:[qD]}),i=this.getCanvas(),a=i.width,o=i.height;r.setPipeline(this.blitRenderPipeline),r.setBindings(this.blitBindings),r.setVertexInput(this.blitInputLayout,[{buffer:this.blitVertexBuffer}],null),r.setViewport(0,0,a,o),this.gl.disable(this.gl.BLEND),r.draw(3,0),this.gl.enable(this.gl.BLEND),this.currentRenderPassDescriptor=n,this.inBlitRenderPass=!1},e}(),qk=function(){function e(e){this.pluginOptions=e}return e.prototype.createSwapChain=function(e){return pe(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c,l,u,d,f,p;return ge(this,function(m){return t=this.pluginOptions,n=t.targets,r=t.xrCompatible,i=t.antialias,a=i===void 0?!1:i,o=t.preserveDrawingBuffer,s=o===void 0?!1:o,c=t.premultipliedAlpha,l=c===void 0?!0:c,u=t.shaderDebug,d=t.trackResources,f={antialias:a,preserveDrawingBuffer:s,stencil:!0,premultipliedAlpha:l,xrCompatible:r},this.handleContextEvents(e),n.includes(`webgl2`)&&(p=e.getContext(`webgl2`,f)||e.getContext(`experimental-webgl2`,f)),!p&&n.includes(`webgl1`)&&(p=e.getContext(`webgl`,f)||e.getContext(`experimental-webgl`,f)),[2,new Kk(p,{shaderDebug:u,trackResources:d})]})})},e.prototype.handleContextEvents=function(e){var t=this.pluginOptions,n=t.onContextLost,r=t.onContextRestored,i=t.onContextCreationError;i&&e.addEventListener(`webglcontextcreationerror`,i,!1),n&&e.addEventListener(`webglcontextlost`,n,!1),r&&e.addEventListener(`webglcontextrestored`,r,!1)},e}(),Jk,Yk=typeof TextDecoder<`u`?new TextDecoder(`utf-8`,{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error(`TextDecoder not available`)}};typeof TextDecoder<`u`&&Yk.decode();var Xk=null;function Zk(){return(Xk===null||Xk.byteLength===0)&&(Xk=new Uint8Array(Jk.memory.buffer)),Xk}function Qk(e,t){return e>>>=0,Yk.decode(Zk().subarray(e,e+t))}var $k=Array(128).fill(void 0);$k.push(void 0,null,!0,!1);var eA=$k.length;function tA(e){eA===$k.length&&$k.push($k.length+1);let t=eA;return eA=$k[t],$k[t]=e,t}function nA(e){return $k[e]}function rA(e){e<132||($k[e]=eA,eA=e)}function iA(e){let t=nA(e);return rA(e),t}var aA=0,oA=typeof TextEncoder<`u`?new TextEncoder(`utf-8`):{encode:()=>{throw Error(`TextEncoder not available`)}},sA=typeof oA.encodeInto==`function`?function(e,t){return oA.encodeInto(e,t)}:function(e,t){let n=oA.encode(e);return t.set(n),{read:e.length,written:n.length}};function cA(e,t,n){if(n===void 0){let n=oA.encode(e),r=t(n.length,1)>>>0;return Zk().subarray(r,r+n.length).set(n),aA=n.length,r}let r=e.length,i=t(r,1)>>>0,a=Zk(),o=0;for(;o<r;o++){let t=e.charCodeAt(o);if(t>127)break;a[i+o]=t}if(o!==r){o!==0&&(e=e.slice(o)),i=n(i,r,r=o+e.length*3,1)>>>0;let t=Zk().subarray(i+o,i+r),a=sA(e,t);o+=a.written}return aA=o,i}var lA=null;function uA(){return(lA===null||lA.byteLength===0)&&(lA=new Int32Array(Jk.memory.buffer)),lA}function dA(e,t,n){let r,i;try{let s=Jk.__wbindgen_add_to_stack_pointer(-16),c=cA(e,Jk.__wbindgen_malloc,Jk.__wbindgen_realloc),l=aA,u=cA(t,Jk.__wbindgen_malloc,Jk.__wbindgen_realloc),d=aA;Jk.glsl_compile(s,c,l,u,d,n);var a=uA()[s/4+0],o=uA()[s/4+1];return r=a,i=o,Qk(a,o)}finally{Jk.__wbindgen_add_to_stack_pointer(16),Jk.__wbindgen_free(r,i,1)}}var fA=class e{static __wrap(t){t>>>=0;let n=Object.create(e.prototype);return n.__wbg_ptr=t,n}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){let e=this.__destroy_into_raw();Jk.__wbg_wgslcomposer_free(e)}constructor(){let t=Jk.wgslcomposer_new();return e.__wrap(t)}load_composable(e){let t=cA(e,Jk.__wbindgen_malloc,Jk.__wbindgen_realloc),n=aA;Jk.wgslcomposer_load_composable(this.__wbg_ptr,t,n)}wgsl_compile(e){let t,n;try{let a=Jk.__wbindgen_add_to_stack_pointer(-16),o=cA(e,Jk.__wbindgen_malloc,Jk.__wbindgen_realloc),s=aA;Jk.wgslcomposer_wgsl_compile(a,this.__wbg_ptr,o,s);var r=uA()[a/4+0],i=uA()[a/4+1];return t=r,n=i,Qk(r,i)}finally{Jk.__wbindgen_add_to_stack_pointer(16),Jk.__wbindgen_free(t,n,1)}}};async function pA(e,t){if(typeof Response==`function`&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming==`function`)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if(e.headers.get(`Content-Type`)!=`application/wasm`)console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t);else throw t}let n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{let n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function mA(){let e={};return e.wbg={},e.wbg.__wbindgen_string_new=function(e,t){let n=Qk(e,t);return tA(n)},e.wbg.__wbindgen_object_drop_ref=function(e){iA(e)},e.wbg.__wbg_log_1d3ae0273d8f4f8a=function(e){console.log(nA(e))},e.wbg.__wbg_log_576ca876af0d4a77=function(e,t){console.log(nA(e),nA(t))},e.wbg.__wbindgen_throw=function(e,t){throw Error(Qk(e,t))},e}function hA(e,t){return Jk=e.exports,gA.__wbindgen_wasm_module=t,lA=null,Xk=null,Jk}async function gA(e){if(Jk!==void 0)return Jk;let t=mA();(typeof e==`string`||typeof Request==`function`&&e instanceof Request||typeof URL==`function`&&e instanceof URL)&&(e=fetch(e));let{instance:n,module:r}=await pA(await e,t);return hA(n,r)}var _A;(function(e){e[e.COPY_SRC=1]=`COPY_SRC`,e[e.COPY_DST=2]=`COPY_DST`,e[e.TEXTURE_BINDING=4]=`TEXTURE_BINDING`,e[e.STORAGE_BINDING=8]=`STORAGE_BINDING`,e[e.STORAGE=8]=`STORAGE`,e[e.RENDER_ATTACHMENT=16]=`RENDER_ATTACHMENT`})(_A||={});var vA;(function(e){e[e.READ=1]=`READ`,e[e.WRITE=2]=`WRITE`})(vA||={});function yA(e){var t=0;return e&CD.SAMPLED&&(t|=_A.TEXTURE_BINDING|_A.COPY_DST|_A.COPY_SRC),e&CD.STORAGE&&(t|=_A.TEXTURE_BINDING|_A.STORAGE_BINDING|_A.COPY_SRC|_A.COPY_DST),e&CD.RENDER_TARGET&&(t|=_A.RENDER_ATTACHMENT|_A.TEXTURE_BINDING|_A.COPY_SRC|_A.COPY_DST),t}function bA(e){if(e===$.U8_R_NORM)return`r8unorm`;if(e===$.S8_R_NORM)return`r8snorm`;if(e===$.U8_RG_NORM)return`rg8unorm`;if(e===$.S8_RG_NORM)return`rg8snorm`;if(e===$.U32_R)return`r32uint`;if(e===$.S32_R)return`r32sint`;if(e===$.F32_R)return`r32float`;if(e===$.U16_RG)return`rg16uint`;if(e===$.S16_RG)return`rg16sint`;if(e===$.F16_RG)return`rg16float`;if(e===$.U8_RGBA_RT)return`bgra8unorm`;if(e===$.U8_RGBA_RT_SRGB)return`bgra8unorm-srgb`;if(e===$.U8_RGBA_NORM)return`rgba8unorm`;if(e===$.U8_RGBA_SRGB)return`rgba8unorm-srgb`;if(e===$.S8_RGBA_NORM)return`rgba8snorm`;if(e===$.U32_RG)return`rg32uint`;if(e===$.S32_RG)return`rg32sint`;if(e===$.F32_RG)return`rg32float`;if(e===$.U16_RGBA)return`rgba16uint`;if(e===$.S16_RGBA)return`rgba16sint`;if(e===$.F16_RGBA)return`rgba16float`;if(e===$.F32_RGBA)return`rgba32float`;if(e===$.U32_RGBA)return`rgba32uint`;if(e===$.S32_RGBA)return`rgba32sint`;if(e===$.D24)return`depth24plus`;if(e===$.D24_S8)return`depth24plus-stencil8`;if(e===$.D32F)return`depth32float`;if(e===$.D32F_S8)return`depth32float-stencil8`;if(e===$.BC1)return`bc1-rgba-unorm`;if(e===$.BC1_SRGB)return`bc1-rgba-unorm-srgb`;if(e===$.BC2)return`bc2-rgba-unorm`;if(e===$.BC2_SRGB)return`bc2-rgba-unorm-srgb`;if(e===$.BC3)return`bc3-rgba-unorm`;if(e===$.BC3_SRGB)return`bc3-rgba-unorm-srgb`;if(e===$.BC4_SNORM)return`bc4-r-snorm`;if(e===$.BC4_UNORM)return`bc4-r-unorm`;if(e===$.BC5_SNORM)return`bc5-rg-snorm`;if(e===$.BC5_UNORM)return`bc5-rg-unorm`;throw`whoops`}function xA(e){if(e===SD.TEXTURE_2D||e===SD.TEXTURE_CUBE_MAP||e===SD.TEXTURE_2D_ARRAY)return`2d`;if(e===SD.TEXTURE_3D)return`3d`;throw Error(`whoops`)}function SA(e){if(e===SD.TEXTURE_2D)return`2d`;if(e===SD.TEXTURE_CUBE_MAP)return`cube`;if(e===SD.TEXTURE_2D_ARRAY)return`2d-array`;if(e===SD.TEXTURE_3D)return`3d`;throw Error(`whoops`)}function CA(e){var t=0;return e&vD.INDEX&&(t|=GPUBufferUsage.INDEX),e&vD.VERTEX&&(t|=GPUBufferUsage.VERTEX),e&vD.UNIFORM&&(t|=GPUBufferUsage.UNIFORM),e&vD.STORAGE&&(t|=GPUBufferUsage.STORAGE),e&vD.COPY_SRC&&(t|=GPUBufferUsage.COPY_SRC),e&vD.INDIRECT&&(t|=GPUBufferUsage.INDIRECT),t|=GPUBufferUsage.COPY_DST,t}function wA(e){if(e===mD.CLAMP_TO_EDGE)return`clamp-to-edge`;if(e===mD.REPEAT)return`repeat`;if(e===mD.MIRRORED_REPEAT)return`mirror-repeat`;throw Error(`whoops`)}function TA(e){if(e===hD.BILINEAR)return`linear`;if(e===hD.POINT)return`nearest`;throw Error(`whoops`)}function EA(e){if(e===gD.LINEAR)return`linear`;if(e===gD.NEAREST||e===gD.NO_MIP)return`nearest`;throw Error(`whoops`)}function DA(e){return e.gpuBuffer}function OA(e){return e.gpuSampler}function kA(e){return e.querySet}function AA(e){if(e===kD.OcclusionConservative)return`occlusion`;throw Error(`whoops`)}function jA(e){switch(e){case _D.TRIANGLES:return`triangle-list`;case _D.POINTS:return`point-list`;case _D.TRIANGLE_STRIP:return`triangle-strip`;case _D.LINES:return`line-list`;case _D.LINE_STRIP:return`line-strip`;default:throw Error(`Unknown primitive topology mode`)}}function MA(e){if(e===dD.NONE)return`none`;if(e===dD.FRONT)return`front`;if(e===dD.BACK)return`back`;throw Error(`whoops`)}function NA(e){if(e===uD.CCW)return`ccw`;if(e===uD.CW)return`cw`;throw Error(`whoops`)}function PA(e,t){return{topology:jA(e),cullMode:MA(t.cullMode),frontFace:NA(t.frontFace)}}function FA(e){if(e===fD.ZERO)return`zero`;if(e===fD.ONE)return`one`;if(e===fD.SRC)return`src`;if(e===fD.ONE_MINUS_SRC)return`one-minus-src`;if(e===fD.DST)return`dst`;if(e===fD.ONE_MINUS_DST)return`one-minus-dst`;if(e===fD.SRC_ALPHA)return`src-alpha`;if(e===fD.ONE_MINUS_SRC_ALPHA)return`one-minus-src-alpha`;if(e===fD.DST_ALPHA)return`dst-alpha`;if(e===fD.ONE_MINUS_DST_ALPHA)return`one-minus-dst-alpha`;if(e===fD.CONST)return`constant`;if(e===fD.ONE_MINUS_CONSTANT)return`one-minus-constant`;if(e===fD.SRC_ALPHA_SATURATE)return`src-alpha-saturated`;throw Error(`whoops`)}function IA(e){if(e===pD.ADD)return`add`;if(e===pD.SUBSTRACT)return`subtract`;if(e===pD.REVERSE_SUBSTRACT)return`reverse-subtract`;if(e===pD.MIN)return`min`;if(e===pD.MAX)return`max`;throw Error(`whoops`)}function LA(e){return{operation:IA(e.blendMode),srcFactor:FA(e.blendSrcFactor),dstFactor:FA(e.blendDstFactor)}}function RA(e){return e.blendMode===pD.ADD&&e.blendSrcFactor===fD.ONE&&e.blendDstFactor===fD.ZERO}function zA(e){if(!(RA(e.rgbBlendState)&&RA(e.alphaBlendState)))return{color:LA(e.rgbBlendState),alpha:LA(e.alphaBlendState)}}function BA(e,t){return{format:bA(t),blend:zA(e),writeMask:e.channelWriteMask}}function VA(e,t){return t.attachmentsState.map(function(t,n){return BA(t,e[n])})}function HA(e){if(e===lD.NEVER)return`never`;if(e===lD.LESS)return`less`;if(e===lD.EQUAL)return`equal`;if(e===lD.LEQUAL)return`less-equal`;if(e===lD.GREATER)return`greater`;if(e===lD.NOTEQUAL)return`not-equal`;if(e===lD.GEQUAL)return`greater-equal`;if(e===lD.ALWAYS)return`always`;throw Error(`whoops`)}function UA(e){if(e===TD.KEEP)return`keep`;if(e===TD.REPLACE)return`replace`;if(e===TD.ZERO)return`zero`;if(e===TD.DECREMENT_CLAMP)return`decrement-clamp`;if(e===TD.DECREMENT_WRAP)return`decrement-wrap`;if(e===TD.INCREMENT_CLAMP)return`increment-clamp`;if(e===TD.INCREMENT_WRAP)return`increment-wrap`;if(e===TD.INVERT)return`invert`;throw Error(`whoops`)}function WA(e,t){if(!iD(e))return{format:bA(e),depthWriteEnabled:!!t.depthWrite,depthCompare:HA(t.depthCompare),depthBias:t.polygonOffset?t.polygonOffsetUnits:0,depthBiasSlopeScale:t.polygonOffset?t.polygonOffsetFactor:0,stencilFront:{compare:HA(t.stencilFront.compare),passOp:UA(t.stencilFront.passOp),failOp:UA(t.stencilFront.failOp),depthFailOp:UA(t.stencilFront.depthFailOp)},stencilBack:{compare:HA(t.stencilBack.compare),passOp:UA(t.stencilBack.passOp),failOp:UA(t.stencilBack.failOp),depthFailOp:UA(t.stencilBack.depthFailOp)},stencilReadMask:4294967295,stencilWriteMask:4294967295}}function GA(e){if(e!==null){if(e===$.U16_R)return`uint16`;if(e===$.U32_R)return`uint32`;throw Error(`whoops`)}}function KA(e){if(e===bD.VERTEX)return`vertex`;if(e===bD.INSTANCE)return`instance`;throw Error(`whoops`)}function qA(e){if(e===$.U8_R||e===$.U8_RG)return`uint8x2`;if(e===$.U8_RGB||e===$.U8_RGBA)return`uint8x4`;if(e===$.U8_RG_NORM)return`unorm8x2`;if(e===$.U8_RGBA_NORM)return`unorm8x4`;if(e===$.S8_RGB_NORM||e===$.S8_RGBA_NORM)return`snorm8x4`;if(e===$.U16_RG_NORM)return`unorm16x2`;if(e===$.U16_RGBA_NORM)return`unorm16x4`;if(e===$.S16_RG_NORM)return`snorm16x2`;if(e===$.S16_RGBA_NORM)return`snorm16x4`;if(e===$.S16_RG)return`uint16x2`;if(e===$.F16_RG)return`float16x2`;if(e===$.F16_RGBA)return`float16x4`;if(e===$.F32_R)return`float32`;if(e===$.F32_RG)return`float32x2`;if(e===$.F32_RGB)return`float32x3`;if(e===$.F32_RGBA)return`float32x4`;throw`whoops`}function JA(e){switch(PD(e)){case Z.BC1:case Z.BC2:case Z.BC3:case Z.BC4_SNORM:case Z.BC4_UNORM:case Z.BC5_SNORM:case Z.BC5_UNORM:return!0;default:return!1}}function YA(e){switch(PD(e)){case Z.BC1:case Z.BC2:case Z.BC3:case Z.BC4_SNORM:case Z.BC4_UNORM:case Z.BC5_SNORM:case Z.BC5_UNORM:return 4;default:return 1}}function XA(e,t,n,r){switch(n===void 0&&(n=!1),e){case $.S8_R:case $.S8_R_NORM:case $.S8_RG_NORM:case $.S8_RGB_NORM:case $.S8_RGBA_NORM:var i=(t instanceof ArrayBuffer,new Int8Array(t));return r&&i.set(new Int8Array(r)),i;case $.U8_R:case $.U8_R_NORM:case $.U8_RG:case $.U8_RG_NORM:case $.U8_RGB:case $.U8_RGB_NORM:case $.U8_RGB_SRGB:case $.U8_RGBA:case $.U8_RGBA_NORM:case $.U8_RGBA_SRGB:var a=(t instanceof ArrayBuffer,new Uint8Array(t));return r&&a.set(new Uint8Array(r)),a;case $.S16_R:case $.S16_RG:case $.S16_RG_NORM:case $.S16_RGB_NORM:case $.S16_RGBA:case $.S16_RGBA_NORM:var o=t instanceof ArrayBuffer?new Int16Array(t):new Int16Array(n?t/2:t);return r&&o.set(new Int16Array(r)),o;case $.U16_R:case $.U16_RGB:case $.U16_RGBA_5551:case $.U16_RGBA_NORM:case $.U16_RG_NORM:case $.U16_R_NORM:var s=t instanceof ArrayBuffer?new Uint16Array(t):new Uint16Array(n?t/2:t);return r&&s.set(new Uint16Array(r)),s;case $.S32_R:var c=t instanceof ArrayBuffer?new Int32Array(t):new Int32Array(n?t/4:t);return r&&c.set(new Int32Array(r)),c;case $.U32_R:case $.U32_RG:var l=t instanceof ArrayBuffer?new Uint32Array(t):new Uint32Array(n?t/4:t);return r&&l.set(new Uint32Array(r)),l;case $.F32_R:case $.F32_RG:case $.F32_RGB:case $.F32_RGBA:var u=t instanceof ArrayBuffer?new Float32Array(t):new Float32Array(n?t/4:t);return r&&u.set(new Float32Array(r)),u}var d=(t instanceof ArrayBuffer,new Uint8Array(t));return r&&d.set(new Uint8Array(r)),d}function ZA(e){var t=(e&32768)>>15,n=(e&31744)>>10,r=e&1023;return n===0?(t?-1:1)*2**-14*(r/2**10):n==31?r?NaN:(t?-1:1)*(1/0):(t?-1:1)*2**(n-15)*(1+r/2**10)}function QA(e){switch(e){case`r8unorm`:case`r8snorm`:case`r8uint`:case`r8sint`:return{width:1,height:1,length:1};case`r16uint`:case`r16sint`:case`r16float`:case`rg8unorm`:case`rg8snorm`:case`rg8uint`:case`rg8sint`:return{width:1,height:1,length:2};case`r32uint`:case`r32sint`:case`r32float`:case`rg16uint`:case`rg16sint`:case`rg16float`:case`rgba8unorm`:case`rgba8unorm-srgb`:case`rgba8snorm`:case`rgba8uint`:case`rgba8sint`:case`bgra8unorm`:case`bgra8unorm-srgb`:case`rgb9e5ufloat`:case`rgb10a2unorm`:case`rg11b10ufloat`:return{width:1,height:1,length:4};case`rg32uint`:case`rg32sint`:case`rg32float`:case`rgba16uint`:case`rgba16sint`:case`rgba16float`:return{width:1,height:1,length:8};case`rgba32uint`:case`rgba32sint`:case`rgba32float`:return{width:1,height:1,length:16};case`stencil8`:throw Error(`No fixed size for Stencil8 format!`);case`depth16unorm`:return{width:1,height:1,length:2};case`depth24plus`:throw Error(`No fixed size for Depth24Plus format!`);case`depth24plus-stencil8`:throw Error(`No fixed size for Depth24PlusStencil8 format!`);case`depth32float`:return{width:1,height:1,length:4};case`depth32float-stencil8`:return{width:1,height:1,length:5};case`bc7-rgba-unorm`:case`bc7-rgba-unorm-srgb`:case`bc6h-rgb-ufloat`:case`bc6h-rgb-float`:case`bc2-rgba-unorm`:case`bc2-rgba-unorm-srgb`:case`bc3-rgba-unorm`:case`bc3-rgba-unorm-srgb`:case`bc5-rg-unorm`:case`bc5-rg-snorm`:return{width:4,height:4,length:16};case`bc4-r-unorm`:case`bc4-r-snorm`:case`bc1-rgba-unorm`:case`bc1-rgba-unorm-srgb`:return{width:4,height:4,length:8};default:return{width:1,height:1,length:4}}}var $A=function(e){me(t,e);function t(t){var n=t.id,r=t.device,i=e.call(this)||this;return i.id=n,i.device=r,i}return t.prototype.destroy=function(){},t}(sD),ej=function(e){me(t,e);function t(t){var n=t.id,r=t.device,i=t.descriptor,a=e.call(this,{id:n,device:r})||this;a.type=cD.Bindings;var o=i.pipeline;BD(!!o);var s=i.uniformBufferBindings,c=i.storageBufferBindings,l=i.samplerBindings,u=i.storageTextureBindings;a.numUniformBuffers=s?.length||0;var d=[[],[],[],[]],f=0;if(s&&s.length)for(var p=0;p<s.length;p++){var m=i.uniformBufferBindings[p],h=m.binding,g=m.size,_=m.offset,v=m.buffer,y={buffer:DA(v),offset:_??0,size:g};d[0].push({binding:h??f++,resource:y})}if(l&&l.length){f=0;for(var p=0;p<l.length;p++){var b=Ce(Ce({},l[p]),uO),h=i.samplerBindings[p],x=h.texture===null?a.device.getFallbackTexture(b):h.texture;b.dimension=x.dimension,b.formatKind=zD(x.format);var S=x.gpuTextureView;if(d[1].push({binding:h.textureBinding??f++,resource:S}),h.samplerBinding!==-1){var C=h.sampler===null?a.device.getFallbackSampler(b):h.sampler,w=OA(C);d[1].push({binding:h.samplerBinding??f++,resource:w})}}}if(c&&c.length){f=0;for(var p=0;p<c.length;p++){var T=i.storageBufferBindings[p],h=T.binding,g=T.size,_=T.offset,v=T.buffer,y={buffer:DA(v),offset:_??0,size:g};d[2].push({binding:h??f++,resource:y})}}if(u&&u.length){f=0;for(var p=0;p<u.length;p++){var E=i.storageTextureBindings[p],h=E.binding,x=E.texture,S=x.gpuTextureView;d[3].push({binding:h??f++,resource:S})}}var D=d.findLastIndex(function(e){return!!e.length});return a.gpuBindGroup=d.map(function(e,t){return t<=D&&a.device.device.createBindGroup({layout:o.getBindGroupLayout(t),entries:e})}),a}return t}($A),tj=function(e){me(t,e);function t(t){var n=t.id,r=t.device,i=t.descriptor,a=e.call(this,{id:n,device:r})||this;a.type=cD.Buffer;var o=i.usage,s=i.viewOrSize,c=!!(o&vD.MAP_READ);a.usage=CA(o),c&&(a.usage=vD.MAP_READ|vD.COPY_DST);var l=!oD(s);return a.view=oD(s)?null:s,a.size=oD(s)?ZD(s,4):ZD(s.byteLength,4),oD(s)?a.gpuBuffer=a.device.device.createBuffer({usage:a.usage,size:a.size,mappedAtCreation:c?l:!1}):(a.gpuBuffer=a.device.device.createBuffer({usage:a.usage,size:a.size,mappedAtCreation:!0}),new(s&&s.constructor||Float32Array)(a.gpuBuffer.getMappedRange()).set(s),a.gpuBuffer.unmap()),a}return t.prototype.setSubData=function(e,t,n,r){n===void 0&&(n=0),r===void 0&&(r=0);var i=this.gpuBuffer;r||=t.byteLength,r=Math.min(r,this.size-e);var a=t.byteOffset+n,o=a+r,s=r+3&-4;if(s!==r){var c=new Uint8Array(t.buffer.slice(a,o));t=new Uint8Array(s),t.set(c),n=0,a=0,o=s,r=s}for(var l=1024*1024*15,u=0;o-(a+u)>l;)this.device.device.queue.writeBuffer(i,e+u,t.buffer,a+u,l),u+=l;this.device.device.queue.writeBuffer(i,e+u,t.buffer,a+u,r-u)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.gpuBuffer.destroy()},t}($A),nj=function(){function e(){this.gpuComputePassEncoder=null}return e.prototype.dispatchWorkgroups=function(e,t,n){this.gpuComputePassEncoder.dispatchWorkgroups(e,t,n)},e.prototype.dispatchWorkgroupsIndirect=function(e,t){this.gpuComputePassEncoder.dispatchWorkgroupsIndirect(e.gpuBuffer,t)},e.prototype.finish=function(){this.gpuComputePassEncoder.end(),this.gpuComputePassEncoder=null,this.frameCommandEncoder=null},e.prototype.beginComputePass=function(e){BD(this.gpuComputePassEncoder===null),this.frameCommandEncoder=e,this.gpuComputePassEncoder=this.frameCommandEncoder.beginComputePass(this.gpuComputePassDescriptor)},e.prototype.setPipeline=function(e){var t=VD(e.gpuComputePipeline);this.gpuComputePassEncoder.setPipeline(t)},e.prototype.setBindings=function(e){var t=this,n=e;n.gpuBindGroup.forEach(function(e,r){e&&t.gpuComputePassEncoder.setBindGroup(r,n.gpuBindGroup[r])})},e.prototype.pushDebugGroup=function(e){this.gpuComputePassEncoder.pushDebugGroup(e)},e.prototype.popDebugGroup=function(){this.gpuComputePassEncoder.popDebugGroup()},e.prototype.insertDebugMarker=function(e){this.gpuComputePassEncoder.insertDebugMarker(e)},e}(),rj=function(e){me(t,e);function t(t){var n=t.id,r=t.device,i=t.descriptor,a=e.call(this,{id:n,device:r})||this;a.type=cD.ComputePipeline,a.gpuComputePipeline=null,a.descriptor=i;var o=i.program.computeStage;if(o===null)return a;var s={layout:`auto`,compute:Ce({},o)};return a.gpuComputePipeline=a.device.device.createComputePipeline(s),a.name!==void 0&&(a.gpuComputePipeline.label=a.name),a}return t.prototype.getBindGroupLayout=function(e){return this.gpuComputePipeline.getBindGroupLayout(e)},t}($A),ij=function(e){me(t,e);function t(t){var n,r,i,a,o=t.id,s=t.device,c=t.descriptor,l=e.call(this,{id:o,device:s})||this;l.type=cD.InputLayout;var u=[];try{for(var d=Pe(c.vertexBufferDescriptors),f=d.next();!f.done;f=d.next()){var p=f.value,m=p.arrayStride,h=p.stepMode,g=p.attributes;u.push({arrayStride:m,stepMode:KA(h),attributes:[]});try{for(var _=(i=void 0,Pe(g)),v=_.next();!v.done;v=_.next()){var y=v.value,b=y.shaderLocation,x=y.format,S=y.offset;u[u.length-1].attributes.push({shaderLocation:b,format:qA(x),offset:S})}}catch(e){i={error:e}}finally{try{v&&!v.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}}}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}return l.indexFormat=GA(c.indexBufferFormat),l.buffers=u,l}return t}($A),aj=function(e){me(t,e);function t(t){var n=t.id,r=t.device,i=t.descriptor,a=e.call(this,{id:n,device:r})||this;return a.type=cD.Program,a.vertexStage=null,a.fragmentStage=null,a.computeStage=null,a.descriptor=i,i.vertex&&(a.vertexStage=a.createShaderStage(i.vertex,`vertex`)),i.fragment&&(a.fragmentStage=a.createShaderStage(i.fragment,`fragment`)),i.compute&&(a.computeStage=a.createShaderStage(i.compute,`compute`)),a}return t.prototype.setUniformsLegacy=function(e){},t.prototype.createShaderStage=function(e,t){var n,r,i=e.glsl,a=e.wgsl,o=e.entryPoint,s=e.postprocess,c=!1,l=a;if(!l)try{l=this.device.glsl_compile(i,t,c)}catch(e){throw console.error(e,i),Error(`whoops`)}var u=function(e){if(!l.includes(e))return`continue`;l=l.replace(`var T_${e}: texture_2d<f32>;`,`var T_${e}: texture_depth_2d;`),l=l.replace(RegExp(`textureSample\\(T_${e}(.*)\\);\$`,`gm`),function(t,n){return`vec4<f32>(textureSample(T_${e}${n}), 0.0, 0.0, 0.0);`})};try{for(var d=Pe([`u_TextureFramebufferDepth`]),f=d.next();!f.done;f=d.next()){var p=f.value;u(p)}}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}return s&&(l=s(l)),{module:this.device.device.createShaderModule({code:l}),entryPoint:o||`main`}},t}($A),oj=function(e){me(t,e);function t(t){var n=t.id,r=t.device,i=t.descriptor,a=e.call(this,{id:n,device:r})||this;a.type=cD.QueryPool;var o=i.elemCount,s=i.type;return a.querySet=a.device.device.createQuerySet({type:AA(s),count:o}),a.resolveBuffer=a.device.device.createBuffer({size:o*8,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),a.cpuBuffer=a.device.device.createBuffer({size:o*8,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),a.results=null,a}return t.prototype.queryResultOcclusion=function(e){return this.results===null?null:this.results[e]!==BigInt(0)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.querySet.destroy(),this.resolveBuffer.destroy(),this.cpuBuffer.destroy()},t}($A),sj=function(e){me(t,e);function t(t){var n=t.id,r=t.device,i=e.call(this,{id:n,device:r})||this;return i.type=cD.Readback,i}return t.prototype.readTexture=function(e,t,n,r,i,a,o,s){return o===void 0&&(o=0),pe(this,void 0,void 0,function(){var s,c,l,u,d,f,p,m;return ge(this,function(h){return s=e,c=0,l=QA(s.gpuTextureformat),u=Math.ceil(r/l.width)*l.length,d=Math.ceil(u/256)*256,f=d*i,p=this.device.createBuffer({usage:vD.STORAGE|vD.MAP_READ|vD.COPY_DST,hint:yD.STATIC,viewOrSize:f}),m=this.device.device.createCommandEncoder(),m.copyTextureToBuffer({texture:s.gpuTexture,mipLevel:0,origin:{x:t,y:n,z:Math.max(c,0)}},{buffer:p.gpuBuffer,offset:0,bytesPerRow:d},{width:r,height:i,depthOrArrayLayers:1}),this.device.device.queue.submit([m.finish()]),[2,this.readBuffer(p,0,a.byteLength===f?a:null,o,f,s.format,!0,!1,u,d,i)]})})},t.prototype.readTextureSync=function(e,t,n,r,i,a,o,s){throw Error(`ERROR_MSG_METHOD_NOT_IMPLEMENTED`)},t.prototype.readBuffer=function(e,t,n,r,i,a,o,s,c,l,u){var d=this;t===void 0&&(t=0),n===void 0&&(n=null),i===void 0&&(i=0),a===void 0&&(a=$.U8_RGB),o===void 0&&(o=!1),c===void 0&&(c=0),l===void 0&&(l=0),u===void 0&&(u=0);var f=e,p=i||f.size,m=n||f.view,h=m&&m.constructor&&m.constructor.BYTES_PER_ELEMENT||LD(a),g=f;if(!(f.usage&vD.MAP_READ&&f.usage&vD.COPY_DST)){var _=this.device.device.createCommandEncoder();g=this.device.createBuffer({usage:vD.STORAGE|vD.MAP_READ|vD.COPY_DST,hint:yD.STATIC,viewOrSize:p}),_.copyBufferToBuffer(f.gpuBuffer,t,g.gpuBuffer,0,p),this.device.device.queue.submit([_.finish()])}return new Promise(function(e,n){g.gpuBuffer.mapAsync(vA.READ,t,p).then(function(){var n=g.gpuBuffer.getMappedRange(t,p),r=m;if(o)r=r===null?XA(a,p,!0,n):XA(a,r.buffer,void 0,n);else if(r===null)switch(h){case 1:r=new Uint8Array(p),r.set(new Uint8Array(n));break;case 2:r=d.getHalfFloatAsFloatRGBAArrayBuffer(p/2,n);break;case 4:r=new Float32Array(p/4),r.set(new Float32Array(n));break}else switch(h){case 1:r=new Uint8Array(r.buffer),r.set(new Uint8Array(n));break;case 2:r=d.getHalfFloatAsFloatRGBAArrayBuffer(p/2,n,m);break;case 4:var i=m&&m.constructor||Float32Array;r=new i(r.buffer),r.set(new i(n));break}if(c!==l){h===1&&!o&&(c*=2,l*=2);for(var s=new Uint8Array(r.buffer),f=c,_=0,v=1;v<u;++v){_=v*l;for(var y=0;y<c;++y)s[f++]=s[_++]}r=h!==0&&!o?new Float32Array(s.buffer,0,f/4):new Uint8Array(s.buffer,0,f)}g.gpuBuffer.unmap(),e(r)},function(e){return n(e)})})},t.prototype.getHalfFloatAsFloatRGBAArrayBuffer=function(e,t,n){n||=new Float32Array(e);for(var r=new Uint16Array(t);e--;)n[e]=ZA(r[e]);return n},t}($A),cj=function(){function e(e){this.device=e,this.gpuRenderPassEncoder=null,this.gfxColorAttachment=[],this.gfxColorAttachmentLevel=[],this.gfxColorResolveTo=[],this.gfxColorResolveToLevel=[],this.gfxDepthStencilAttachment=null,this.gfxDepthStencilResolveTo=null,this.gpuColorAttachments=[],this.gpuDepthStencilAttachment={view:null,depthLoadOp:`load`,depthStoreOp:`store`,stencilLoadOp:`load`,stencilStoreOp:`store`},this.gpuRenderPassDescriptor={colorAttachments:this.gpuColorAttachments,depthStencilAttachment:this.gpuDepthStencilAttachment}}return e.prototype.getEncoder=function(){return this.renderBundle?.renderBundleEncoder||this.gpuRenderPassEncoder},e.prototype.getTextureView=function(e,t){return BD(t<e.mipLevelCount),e.mipLevelCount===1?e.gpuTextureView:e.gpuTexture.createView({baseMipLevel:t,mipLevelCount:1})},e.prototype.setRenderPassDescriptor=function(e){this.descriptor=e,this.gpuRenderPassDescriptor.colorAttachments=this.gpuColorAttachments;var t=e.colorAttachment.length;this.gfxColorAttachment.length=t,this.gfxColorResolveTo.length=t;for(var n=0;n<e.colorAttachment.length;n++){var r=e.colorAttachment[n],i=e.colorResolveTo[n];if(r===null&&i!==null&&(r=i,i=null),this.gfxColorAttachment[n]=r,this.gfxColorResolveTo[n]=i,this.gfxColorAttachmentLevel[n]=e.colorAttachmentLevel?.[n]||0,this.gfxColorResolveToLevel[n]=e.colorResolveToLevel?.[n]||0,r!==null){this.gpuColorAttachments[n]===void 0&&(this.gpuColorAttachments[n]={});var a=this.gpuColorAttachments[n];a.view=this.getTextureView(r,this.gfxColorAttachmentLevel?.[n]||0);var o=e.colorClearColor?.[n]??`load`;o===`load`?a.loadOp=`load`:(a.loadOp=`clear`,a.clearValue=o),a.storeOp=e.colorStore?.[n]?`store`:`discard`,a.resolveTarget=void 0,i!==null&&(r.sampleCount>1?a.resolveTarget=this.getTextureView(i,this.gfxColorResolveToLevel[n]):a.storeOp=`store`)}else{this.gpuColorAttachments.length=n,this.gfxColorAttachment.length=n,this.gfxColorResolveTo.length=n;break}}if(this.gfxDepthStencilAttachment=e.depthStencilAttachment,this.gfxDepthStencilResolveTo=e.depthStencilResolveTo,e.depthStencilAttachment){var s=e.depthStencilAttachment,a=this.gpuDepthStencilAttachment;a.view=s.gpuTextureView,FD(s.format)&Q.Depth?(e.depthClearValue===`load`?a.depthLoadOp=`load`:(a.depthLoadOp=`clear`,a.depthClearValue=e.depthClearValue),e.depthStencilStore||this.gfxDepthStencilResolveTo!==null?a.depthStoreOp=`store`:a.depthStoreOp=`discard`):(a.depthLoadOp=void 0,a.depthStoreOp=void 0),FD(s.format)&Q.Stencil?(e.stencilClearValue===`load`?a.stencilLoadOp=`load`:(a.stencilLoadOp=`clear`,a.stencilClearValue=e.stencilClearValue),e.depthStencilStore||this.gfxDepthStencilResolveTo!==null?a.stencilStoreOp=`store`:a.stencilStoreOp=`discard`):(a.stencilLoadOp=void 0,a.stencilStoreOp=void 0),this.gpuRenderPassDescriptor.depthStencilAttachment=this.gpuDepthStencilAttachment}else this.gpuRenderPassDescriptor.depthStencilAttachment=void 0;this.gpuRenderPassDescriptor.occlusionQuerySet=iD(e.occlusionQueryPool)?void 0:kA(e.occlusionQueryPool)},e.prototype.beginRenderPass=function(e,t){BD(this.gpuRenderPassEncoder===null),this.setRenderPassDescriptor(t),this.frameCommandEncoder=e,this.gpuRenderPassEncoder=this.frameCommandEncoder.beginRenderPass(this.gpuRenderPassDescriptor)},e.prototype.flipY=function(e,t){return this.device.swapChainHeight-e-t},e.prototype.setViewport=function(e,t,n,r,i,a){i===void 0&&(i=0),a===void 0&&(a=1),this.gpuRenderPassEncoder.setViewport(e,this.flipY(t,r),n,r,i,a)},e.prototype.setScissorRect=function(e,t,n,r){this.gpuRenderPassEncoder.setScissorRect(e,this.flipY(t,r),n,r)},e.prototype.setPipeline=function(e){var t=VD(e.gpuRenderPipeline);this.getEncoder().setPipeline(t)},e.prototype.setVertexInput=function(e,t,n){if(e!==null){var r=this.getEncoder(),i=e;n!==null&&r.setIndexBuffer(DA(n.buffer),VD(i.indexFormat),n.offset);for(var a=0;a<t.length;a++){var o=t[a];o!==null&&r.setVertexBuffer(a,DA(o.buffer),o.offset)}}},e.prototype.setBindings=function(e){var t=e,n=this.getEncoder();t.gpuBindGroup.forEach(function(e,r){e&&n.setBindGroup(r,t.gpuBindGroup[r])})},e.prototype.setStencilReference=function(e){this.gpuRenderPassEncoder.setStencilReference(e)},e.prototype.draw=function(e,t,n,r){this.getEncoder().draw(e,t,n,r)},e.prototype.drawIndexed=function(e,t,n,r,i){this.getEncoder().drawIndexed(e,t,n,r,i)},e.prototype.drawIndirect=function(e,t){this.getEncoder().drawIndirect(DA(e),t)},e.prototype.drawIndexedIndirect=function(e,t){this.getEncoder().drawIndexedIndirect(DA(e),t)},e.prototype.beginOcclusionQuery=function(e){this.gpuRenderPassEncoder.beginOcclusionQuery(e)},e.prototype.endOcclusionQuery=function(){this.gpuRenderPassEncoder.endOcclusionQuery()},e.prototype.pushDebugGroup=function(e){this.gpuRenderPassEncoder.pushDebugGroup(e)},e.prototype.popDebugGroup=function(){this.gpuRenderPassEncoder.popDebugGroup()},e.prototype.insertDebugMarker=function(e){this.gpuRenderPassEncoder.insertDebugMarker(e)},e.prototype.beginBundle=function(e){this.renderBundle=e},e.prototype.endBundle=function(){this.renderBundle.finish()},e.prototype.executeBundles=function(e){this.gpuRenderPassEncoder.executeBundles(e.map(function(e){return e.renderBundle}))},e.prototype.finish=function(){var e;(e=this.gpuRenderPassEncoder)==null||e.end(),this.gpuRenderPassEncoder=null;for(var t=0;t<this.gfxColorAttachment.length;t++){var n=this.gfxColorAttachment[t],r=this.gfxColorResolveTo[t];n!==null&&r!==null&&n.sampleCount===1&&this.copyAttachment(r,this.gfxColorAttachmentLevel[t],n,this.gfxColorResolveToLevel[t])}this.gfxDepthStencilAttachment&&this.gfxDepthStencilResolveTo&&(this.gfxDepthStencilAttachment.sampleCount>1||this.copyAttachment(this.gfxDepthStencilResolveTo,0,this.gfxDepthStencilAttachment,0)),this.frameCommandEncoder=null},e.prototype.copyAttachment=function(e,t,n,r){BD(n.sampleCount===1);var i={texture:n.gpuTexture,mipLevel:r},a={texture:e.gpuTexture,mipLevel:t};BD(n.width>>>r==e.width>>>t),BD(n.height>>>r==e.height>>>t),BD(!!(n.usage&_A.COPY_SRC)),BD(!!(e.usage&_A.COPY_DST)),this.frameCommandEncoder.copyTextureToTexture(i,a,[e.width,e.height,1])},e}(),lj=function(e){me(t,e);function t(t){var n=t.id,r=t.device,i=t.descriptor,a=e.call(this,{id:n,device:r})||this;return a.type=cD.RenderPipeline,a.isCreatingAsync=!1,a.gpuRenderPipeline=null,a.descriptor=i,a.device.createRenderPipelineInternal(a,!1),a}return t.prototype.getBindGroupLayout=function(e){return this.gpuRenderPipeline.getBindGroupLayout(e)},t}($A),uj=function(e){me(t,e);function t(t){var n=t.id,r=t.device,i=t.descriptor,a=e.call(this,{id:n,device:r})||this;a.type=cD.Sampler;var o=i.lodMinClamp,s=i.mipmapFilter===gD.NO_MIP?i.lodMinClamp:i.lodMaxClamp,c=i.maxAnisotropy??1;return c>1&&BD(i.minFilter===hD.BILINEAR&&i.magFilter===hD.BILINEAR&&i.mipmapFilter===gD.LINEAR),a.gpuSampler=a.device.device.createSampler({addressModeU:wA(i.addressModeU),addressModeV:wA(i.addressModeV),addressModeW:wA(i.addressModeW??i.addressModeU),lodMinClamp:o,lodMaxClamp:s,minFilter:TA(i.minFilter),magFilter:TA(i.magFilter),mipmapFilter:EA(i.mipmapFilter),compare:i.compareFunction===void 0?void 0:HA(i.compareFunction),maxAnisotropy:c}),a}return t}($A),dj=function(e){me(t,e);function t(t){var n=t.id,r=t.device,i=t.descriptor,a=t.skipCreate,o=t.sampleCount,s=e.call(this,{id:n,device:r})||this;s.type=cD.Texture,s.flipY=!1;var c=i.format,l=i.dimension,u=i.width,d=i.height,f=i.depthOrArrayLayers,p=i.mipLevelCount,m=i.usage;return s.flipY=!!i.pixelStore?.unpackFlipY,s.device.createTextureShared({format:c,dimension:l??SD.TEXTURE_2D,width:u,height:d,depthOrArrayLayers:f??1,mipLevelCount:p??1,usage:m,sampleCount:o??1},s,a),s}return t.prototype.textureFromImageBitmapOrCanvas=function(e,t,n){for(var r=t[0].width,i=t[0].height,a={size:{width:r,height:i,depthOrArrayLayers:n},format:`rgba8unorm`,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT},o=e.createTexture(a),s=0;s<t.length;s++)e.queue.copyExternalImageToTexture({source:t[s],flipY:this.flipY},{texture:o,origin:[0,0,s]},[r,i]);return[o,r,i]},t.prototype.isImageBitmapOrCanvases=function(e){var t=e[0];return t instanceof ImageBitmap||t instanceof HTMLCanvasElement||t instanceof OffscreenCanvas},t.prototype.isVideo=function(e){return e[0]instanceof HTMLVideoElement},t.prototype.setImageData=function(e,t){var n,r=this,i=this.device.device,a,o,s;if(this.isImageBitmapOrCanvases(e))n=ue(this.textureFromImageBitmapOrCanvas(i,e,this.depthOrArrayLayers),3),a=n[0],o=n[1],s=n[2];else if(this.isVideo(e))a=i.importExternalTexture({source:e[0]});else{var c=QA(this.gpuTextureformat),l=Math.ceil(this.width/c.width)*c.length;e.forEach(function(e){i.queue.writeTexture({texture:r.gpuTexture},e,{bytesPerRow:l},{width:r.width,height:r.height})})}this.width=o,this.height=s,a&&(this.gpuTexture=a),this.gpuTextureView=this.gpuTexture.createView({dimension:SA(this.dimension)})},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.gpuTexture.destroy()},t}($A),fj=function(e){me(t,e);function t(t){var n=t.id,r=t.device,i=e.call(this,{id:n,device:r})||this;return i.type=cD.RenderBundle,i.renderBundleEncoder=i.device.device.createRenderBundleEncoder({colorFormats:[i.device.swapChainFormat]}),i}return t.prototype.finish=function(){this.renderBundle=this.renderBundleEncoder.finish()},t}($A),pj=function(){function e(e,t,n,r,i,a){this.swapChainWidth=0,this.swapChainHeight=0,this.swapChainTextureUsage=_A.RENDER_ATTACHMENT|_A.COPY_DST,this._resourceUniqueId=0,this.renderPassPool=[],this.computePassPool=[],this.frameCommandEncoderPool=[],this.featureTextureCompressionBC=!1,this.platformString=`WebGPU`,this.glslVersion=`#version 440`,this.explicitBindingLocations=!0,this.separateSamplerTextures=!0,this.viewportOrigin=DD.UPPER_LEFT,this.clipSpaceNearZ=OD.ZERO,this.supportsSyncPipelineCompilation=!1,this.supportMRT=!0,this.device=t,this.canvas=n,this.canvasContext=r,this.glsl_compile=i,this.WGSLComposer=a,this.fallbackTexture2D=this.createFallbackTexture(SD.TEXTURE_2D,ED.Float),this.setResourceName(this.fallbackTexture2D,`Fallback Texture2D`),this.fallbackTexture2DDepth=this.createFallbackTexture(SD.TEXTURE_2D,ED.Depth),this.setResourceName(this.fallbackTexture2DDepth,`Fallback Depth Texture2D`),this.fallbackTexture2DArray=this.createFallbackTexture(SD.TEXTURE_2D_ARRAY,ED.Float),this.setResourceName(this.fallbackTexture2DArray,`Fallback Texture2DArray`),this.fallbackTexture3D=this.createFallbackTexture(SD.TEXTURE_3D,ED.Float),this.setResourceName(this.fallbackTexture3D,`Fallback Texture3D`),this.fallbackTextureCube=this.createFallbackTexture(SD.TEXTURE_CUBE_MAP,ED.Float),this.setResourceName(this.fallbackTextureCube,`Fallback TextureCube`),this.fallbackSamplerFiltering=this.createSampler({addressModeU:mD.REPEAT,addressModeV:mD.REPEAT,minFilter:hD.POINT,magFilter:hD.POINT,mipmapFilter:gD.NEAREST}),this.setResourceName(this.fallbackSamplerFiltering,`Fallback Sampler Filtering`),this.fallbackSamplerComparison=this.createSampler({addressModeU:mD.REPEAT,addressModeV:mD.REPEAT,minFilter:hD.POINT,magFilter:hD.POINT,mipmapFilter:gD.NEAREST,compareFunction:lD.ALWAYS}),this.setResourceName(this.fallbackSamplerComparison,`Fallback Sampler Comparison Filtering`),this.device.features&&(this.featureTextureCompressionBC=this.device.features.has(`texture-compression-bc`)),this.device.onuncapturederror=function(e){console.error(e.error)},this.swapChainFormat=navigator.gpu.getPreferredCanvasFormat(),this.canvasContext.configure({device:this.device,format:this.swapChainFormat,usage:this.swapChainTextureUsage,alphaMode:`premultiplied`})}return e.prototype.destroy=function(){},e.prototype.configureSwapChain=function(e,t){this.swapChainWidth===e&&this.swapChainHeight===t||(this.swapChainWidth=e,this.swapChainHeight=t)},e.prototype.getOnscreenTexture=function(){var e=this.canvasContext.getCurrentTexture(),t=e.createView(),n=new dj({id:0,device:this,descriptor:{format:$.U8_RGBA_RT,width:this.swapChainWidth,height:this.swapChainHeight,depthOrArrayLayers:0,dimension:SD.TEXTURE_2D,mipLevelCount:1,usage:this.swapChainTextureUsage},skipCreate:!0});return n.depthOrArrayLayers=1,n.sampleCount=1,n.gpuTexture=e,n.gpuTextureView=t,n.name=`Onscreen`,this.setResourceName(n,`Onscreen Texture`),n},e.prototype.getDevice=function(){return this},e.prototype.getCanvas=function(){return this.canvas},e.prototype.beginFrame=function(){BD(this.frameCommandEncoderPool.length===0)},e.prototype.endFrame=function(){BD(this.frameCommandEncoderPool.every(function(e){return e!==null})),this.device.queue.submit(this.frameCommandEncoderPool.map(function(e){return e.finish()})),this.frameCommandEncoderPool=[]},e.prototype.getNextUniqueId=function(){return++this._resourceUniqueId},e.prototype.createBuffer=function(e){return new tj({id:this.getNextUniqueId(),device:this,descriptor:e})},e.prototype.createTexture=function(e){return new dj({id:this.getNextUniqueId(),device:this,descriptor:e})},e.prototype.createSampler=function(e){return new uj({id:this.getNextUniqueId(),device:this,descriptor:e})},e.prototype.createRenderTarget=function(e){var t=new dj({id:this.getNextUniqueId(),device:this,descriptor:Ce(Ce({},e),{dimension:SD.TEXTURE_2D,mipLevelCount:1,depthOrArrayLayers:1,usage:CD.RENDER_TARGET}),sampleCount:e.sampleCount});return t.depthOrArrayLayers=1,t.type=cD.RenderTarget,t},e.prototype.createRenderTargetFromTexture=function(e){var t=e,n=t.format,r=t.width,i=t.height,a=t.depthOrArrayLayers,o=t.sampleCount,s=t.mipLevelCount,c=t.gpuTexture,l=t.gpuTextureView,u=t.usage;BD(!!(u&_A.RENDER_ATTACHMENT));var d=new dj({id:this.getNextUniqueId(),device:this,descriptor:{format:n,width:r,height:i,depthOrArrayLayers:a,dimension:SD.TEXTURE_2D,mipLevelCount:s,usage:u},skipCreate:!0});return d.depthOrArrayLayers=a,d.sampleCount=o,d.gpuTexture=c,d.gpuTextureView=l,d},e.prototype.createProgram=function(e){return e.vertex?.glsl&&(e.vertex.glsl=ak(this.queryVendorInfo(),`vert`,e.vertex.glsl)),e.fragment?.glsl&&(e.fragment.glsl=ak(this.queryVendorInfo(),`frag`,e.fragment.glsl)),new aj({id:this.getNextUniqueId(),device:this,descriptor:e})},e.prototype.createProgramSimple=function(e){return new aj({id:this.getNextUniqueId(),device:this,descriptor:e})},e.prototype.createTextureShared=function(e,t,n){var r={width:e.width,height:e.height,depthOrArrayLayers:e.depthOrArrayLayers},i=e.mipLevelCount,a=bA(e.format),o=xA(e.dimension),s=yA(e.usage);if(t.gpuTextureformat=a,t.dimension=e.dimension,t.format=e.format,t.width=e.width,t.height=e.height,t.depthOrArrayLayers=e.depthOrArrayLayers,t.mipLevelCount=i,t.usage=s,t.sampleCount=e.sampleCount,!n){var c=this.device.createTexture({size:r,mipLevelCount:i,format:a,dimension:o,sampleCount:e.sampleCount,usage:s}),l=c.createView();t.gpuTexture=c,t.gpuTextureView=l}},e.prototype.getFallbackSampler=function(e){return e.formatKind===ED.Depth&&e.comparison?this.fallbackSamplerComparison:this.fallbackSamplerFiltering},e.prototype.getFallbackTexture=function(e){var t=e.dimension,n=e.formatKind;if(t===SD.TEXTURE_2D)return n===ED.Depth?this.fallbackTexture2DDepth:this.fallbackTexture2D;if(t===SD.TEXTURE_2D_ARRAY)return this.fallbackTexture2DArray;if(t===SD.TEXTURE_3D)return this.fallbackTexture3D;if(t===SD.TEXTURE_CUBE_MAP)return this.fallbackTextureCube;throw Error(`whoops`)},e.prototype.createFallbackTexture=function(e,t){var n=e===SD.TEXTURE_CUBE_MAP?6:1,r=t===ED.Float?$.U8_RGBA_NORM:$.D24;return this.createTexture({dimension:e,format:r,usage:CD.SAMPLED,width:1,height:1,depthOrArrayLayers:n,mipLevelCount:1})},e.prototype.createBindings=function(e){return new ej({id:this.getNextUniqueId(),device:this,descriptor:e})},e.prototype.createInputLayout=function(e){return new ij({id:this.getNextUniqueId(),device:this,descriptor:e})},e.prototype.createComputePipeline=function(e){return new rj({id:this.getNextUniqueId(),device:this,descriptor:e})},e.prototype.createRenderPipeline=function(e){return new lj({id:this.getNextUniqueId(),device:this,descriptor:Ce({},e)})},e.prototype.createQueryPool=function(e,t){return new oj({id:this.getNextUniqueId(),device:this,descriptor:{type:e,elemCount:t}})},e.prototype.createRenderPipelineInternal=function(e,t){if(e.gpuRenderPipeline===null){var n=e.descriptor,r=n.program,i=r.vertexStage,a=r.fragmentStage;if(!(i===null||a===null)){var o=n.megaStateDescriptor||{},s=o.stencilBack,c=o.stencilFront,l=de(o,[`stencilBack`,`stencilFront`]),u=oO(cO);n.megaStateDescriptor=Ce(Ce(Ce({},u),{stencilBack:Ce(Ce({},u.stencilBack),s),stencilFront:Ce(Ce({},u.stencilFront),c)}),l);var d=n.megaStateDescriptor.attachmentsState[0];n.colorAttachmentFormats.forEach(function(e,t){n.megaStateDescriptor.attachmentsState[t]||(n.megaStateDescriptor.attachmentsState[t]=rO(void 0,d))});var f=PA(n.topology??_D.TRIANGLES,n.megaStateDescriptor),p=VA(n.colorAttachmentFormats,n.megaStateDescriptor),m=WA(n.depthStencilAttachmentFormat,n.megaStateDescriptor),h=void 0;n.inputLayout!==null&&(h=n.inputLayout.buffers);var g=n.sampleCount,_={layout:`auto`,vertex:Ce(Ce({},i),{buffers:h}),primitive:f,depthStencil:m,multisample:{count:g},fragment:Ce(Ce({},a),{targets:p})};e.gpuRenderPipeline=this.device.createRenderPipeline(_)}}},e.prototype.createReadback=function(){return new sj({id:this.getNextUniqueId(),device:this})},e.prototype.createRenderBundle=function(){return new fj({id:this.getNextUniqueId(),device:this})},e.prototype.createRenderPass=function(e){var t=this.renderPassPool.pop();t===void 0&&(t=new cj(this));var n=this.frameCommandEncoderPool.pop();return n===void 0&&(n=this.device.createCommandEncoder()),t.beginRenderPass(n,e),t},e.prototype.createComputePass=function(){var e=this.computePassPool.pop();e===void 0&&(e=new nj);var t=this.frameCommandEncoderPool.pop();return t===void 0&&(t=this.device.createCommandEncoder()),e.beginComputePass(t),e},e.prototype.submitPass=function(e){var t=e;t instanceof cj?(this.frameCommandEncoderPool.push(t.frameCommandEncoder),t.finish(),this.renderPassPool.push(t)):t instanceof nj&&(this.frameCommandEncoderPool.push(t.frameCommandEncoder),t.finish(),this.computePassPool.push(t))},e.prototype.copySubTexture2D=function(e,t,n,r,i,a,o){var s=this.device.createCommandEncoder(),c=e,l=r,u={texture:l.gpuTexture,origin:[i,a,0],mipLevel:0,aspect:`all`},d={texture:c.gpuTexture,origin:[t,n,0],mipLevel:0,aspect:`all`};BD(!!(l.usage&_A.COPY_SRC)),BD(!!(c.usage&_A.COPY_DST)),s.copyTextureToTexture(u,d,[l.width,l.height,o||1]),this.device.queue.submit([s.finish()])},e.prototype.queryLimits=function(){return{uniformBufferMaxPageWordSize:this.device.limits.maxUniformBufferBindingSize>>>2,uniformBufferWordAlignment:this.device.limits.minUniformBufferOffsetAlignment>>>2,supportedSampleCounts:[1],occlusionQueriesRecommended:!0,computeShadersSupported:!0}},e.prototype.queryTextureFormatSupported=function(e,t,n){if(JA(e)){if(!this.featureTextureCompressionBC)return!1;var r=YA(e);return t%r!==0||n%r!==0?!1:this.featureTextureCompressionBC}switch(e){case $.U16_RGBA_NORM:return!1;case $.F32_RGBA:return!1}return!0},e.prototype.queryPlatformAvailable=function(){return!0},e.prototype.queryVendorInfo=function(){return this},e.prototype.queryRenderPass=function(e){return e.descriptor},e.prototype.queryRenderTarget=function(e){return e},e.prototype.setResourceName=function(e,t){if(e.name=t,e.type===cD.Buffer){var n=e;n.gpuBuffer.label=t}else if(e.type===cD.Texture){var n=e;n.gpuTexture.label=t,n.gpuTextureView.label=t}else if(e.type===cD.RenderTarget){var n=e;n.gpuTexture.label=t,n.gpuTextureView.label=t}else if(e.type===cD.Sampler){var n=e;n.gpuSampler.label=t}else if(e.type===cD.RenderPipeline){var n=e;n.gpuRenderPipeline!==null&&(n.gpuRenderPipeline.label=t)}},e.prototype.setResourceLeakCheck=function(e,t){},e.prototype.checkForLeaks=function(){},e.prototype.programPatched=function(e){},e.prototype.pipelineQueryReady=function(e){return e.gpuRenderPipeline!==null},e.prototype.pipelineForceReady=function(e){var t=e;this.createRenderPipelineInternal(t,!1)},e}(),mj=function(){function e(e){this.pluginOptions=e}return e.prototype.createSwapChain=function(e){return pe(this,void 0,void 0,function(){var t,n,r,i,a,o,s,c;return ge(this,function(l){switch(l.label){case 0:if(globalThis.navigator.gpu===void 0)return[2,null];t=null,l.label=1;case 1:return l.trys.push([1,3,,4]),n=this.pluginOptions.xrCompatible,[4,globalThis.navigator.gpu.requestAdapter({xrCompatible:n})];case 2:return t=l.sent(),[3,4];case 3:return r=l.sent(),console.log(r),[3,4];case 4:return t===null?[2,null]:(i=[`depth32float-stencil8`,`texture-compression-bc`,`float32-filterable`],a=i.filter(function(e){return t.features.has(e)}),[4,t.requestDevice({requiredFeatures:a})]);case 5:if(o=l.sent(),o&&(s=this.pluginOptions.onContextLost,o.lost.then(function(){s&&s()})),o===null||(c=e.getContext(`webgpu`),!c))return[2,null];l.label=6;case 6:return l.trys.push([6,8,,9]),[4,gA(this.pluginOptions.shaderCompilerPath)];case 7:return l.sent(),[3,9];case 8:return l.sent(),[3,9];case 9:return[2,new pj(t,o,e,c,dA,fA&&new fA)]}})})},e}(),hj=class{constructor(e,t){let{buffer:n,offset:r,stride:i,normalized:a,size:o,divisor:s,shaderLocation:c}=t;this.buffer=n,this.attribute={shaderLocation:c,buffer:n.get(),offset:r||0,stride:i||0,normalized:a||!1,divisor:s||0},o&&(this.attribute.size=o)}get(){return this.buffer}updateBuffer(e){this.buffer.subData(e)}destroy(){this.buffer.destroy()}},gj={[q.FLOAT]:Float32Array,[q.UNSIGNED_BYTE]:Uint8Array,[q.SHORT]:Int16Array,[q.UNSIGNED_SHORT]:Uint16Array,[q.INT]:Int32Array,[q.UNSIGNED_INT]:Uint32Array},_j={[q.POINTS]:_D.POINTS,[q.LINES]:_D.LINES,[q.LINE_LOOP]:_D.LINES,[q.LINE_STRIP]:_D.LINE_STRIP,[q.TRIANGLES]:_D.TRIANGLES,[q.TRIANGLE_FAN]:_D.TRIANGLES,[q.TRIANGLE_STRIP]:_D.TRIANGLE_STRIP},vj={1:$.F32_R,2:$.F32_RG,3:$.F32_RGB,4:$.F32_RGBA},yj={[q.STATIC_DRAW]:yD.STATIC,[q.DYNAMIC_DRAW]:yD.DYNAMIC,[q.STREAM_DRAW]:yD.DYNAMIC},bj={[q.REPEAT]:mD.REPEAT,[q.CLAMP_TO_EDGE]:mD.CLAMP_TO_EDGE,[q.MIRRORED_REPEAT]:mD.MIRRORED_REPEAT},xj={[q.NEVER]:lD.NEVER,[q.ALWAYS]:lD.ALWAYS,[q.LESS]:lD.LESS,[q.LEQUAL]:lD.LEQUAL,[q.GREATER]:lD.GREATER,[q.GEQUAL]:lD.GEQUAL,[q.EQUAL]:lD.EQUAL,[q.NOTEQUAL]:lD.NOTEQUAL},Sj={[q.FRONT]:dD.FRONT,[q.BACK]:dD.BACK},Cj={[q.FUNC_ADD]:pD.ADD,[q.MIN_EXT]:pD.MIN,[q.MAX_EXT]:pD.MAX,[q.FUNC_SUBTRACT]:pD.SUBSTRACT,[q.FUNC_REVERSE_SUBTRACT]:pD.REVERSE_SUBSTRACT},wj={[q.ZERO]:fD.ZERO,[q.ONE]:fD.ONE,[q.SRC_COLOR]:fD.SRC,[q.ONE_MINUS_SRC_COLOR]:fD.ONE_MINUS_SRC,[q.SRC_ALPHA]:fD.SRC_ALPHA,[q.ONE_MINUS_SRC_ALPHA]:fD.ONE_MINUS_SRC_ALPHA,[q.DST_COLOR]:fD.DST,[q.ONE_MINUS_DST_COLOR]:fD.ONE_MINUS_DST,[q.DST_ALPHA]:fD.DST_ALPHA,[q.ONE_MINUS_DST_ALPHA]:fD.ONE_MINUS_DST_ALPHA,[q.CONSTANT_COLOR]:fD.CONST,[q.ONE_MINUS_CONSTANT_COLOR]:fD.ONE_MINUS_CONSTANT,[q.CONSTANT_ALPHA]:fD.CONST,[q.ONE_MINUS_CONSTANT_ALPHA]:fD.ONE_MINUS_CONSTANT,[q.SRC_ALPHA_SATURATE]:fD.SRC_ALPHA_SATURATE},Tj={[q.REPLACE]:TD.REPLACE,[q.KEEP]:TD.KEEP,[q.ZERO]:TD.ZERO,[q.INVERT]:TD.INVERT,[q.INCR]:TD.INCREMENT_CLAMP,[q.DECR]:TD.DECREMENT_CLAMP,[q.INCR_WRAP]:TD.INCREMENT_WRAP,[q.DECR_WRAP]:TD.DECREMENT_WRAP},Ej={[q.ALWAYS]:lD.ALWAYS,[q.EQUAL]:lD.EQUAL,[q.GEQUAL]:lD.GEQUAL,[q.GREATER]:lD.GREATER,[q.LEQUAL]:lD.LEQUAL,[q.LESS]:lD.LESS,[q.NEVER]:lD.NEVER,[q.NOTEQUAL]:lD.NOTEQUAL},Dj={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121};function Oj(e){return Object.prototype.toString.call(e)in Dj}function kj(e,t){let n=e.length,r=Math.ceil(n/3),i=n+r,a=new Float32Array(i);for(let n=0;n<i;n+=4)a[n]=e[n/4*3],a[n+1]=e[n/4*3+1],a[n+2]=e[n/4*3+2],a[n+3]=t;return a}var Aj=class{constructor(e,t){this.isDestroyed=!1;let{data:n,usage:r,type:i,isUBO:a,label:o}=t,s;s=Oj(n)?n:new gj[this.type||q.FLOAT](n),this.type=i,this.size=s.byteLength,this.buffer=e.createBuffer({viewOrSize:s,usage:a?vD.UNIFORM:vD.VERTEX,hint:yj[r||q.STATIC_DRAW]}),o&&e.setResourceName(this.buffer,o)}get(){return this.buffer}destroy(){this.isDestroyed||this.buffer.destroy(),this.isDestroyed=!0}subData({data:e,offset:t}){let n;n=Oj(e)?e:new gj[this.type||q.FLOAT](e),this.buffer.setSubData(t,new Uint8Array(n.buffer))}};function jj(e,t=0){return e+=t,e+=e<<10,e+=e>>>6,e>>>0}function Mj(e){return e+=e<<3,e^=e>>>11,e+=e<<15,e>>>0}function Nj(){return 0}var Pj=class{constructor(){this.keys=[],this.values=[]}},Fj=class{constructor(e,t){this.keyEqualFunc=e,this.keyHashFunc=t,this.buckets=new Map}findBucketIndex(e,t){for(let n=0;n<e.keys.length;n++)if(this.keyEqualFunc(t,e.keys[n]))return n;return-1}findBucket(e){let t=this.keyHashFunc(e);return this.buckets.get(t)}get(e){let t=this.findBucket(e);if(t===void 0)return null;let n=this.findBucketIndex(t,e);return n<0?null:t.values[n]}add(e,t){let n=this.keyHashFunc(e);this.buckets.get(n)===void 0&&this.buckets.set(n,new Pj);let r=this.buckets.get(n);r.keys.push(e),r.values.push(t)}delete(e){let t=this.findBucket(e);if(t===void 0)return;let n=this.findBucketIndex(t,e);n!==-1&&(t.keys.splice(n,1),t.values.splice(n,1))}clear(){this.buckets.clear()}size(){let e=0;for(let t of this.buckets.values())e+=t.values.length;return e}*values(){for(let e of this.buckets.values())for(let t=e.values.length-1;t>=0;t--)yield e.values[t]}};function Ij(e,t){return e=jj(e,t.blendMode),e=jj(e,t.blendSrcFactor),e=jj(e,t.blendDstFactor),e}function Lj(e,t){return e=Ij(e,t.rgbBlendState),e=Ij(e,t.alphaBlendState),e=jj(e,t.channelWriteMask),e}function Rj(e,t){return e=jj(e,t.r<<24|t.g<<16|t.b<<8|t.a),e}function zj(e,t){for(let n=0;n<t.attachmentsState.length;n++)e=Lj(e,t.attachmentsState[n]);return e=Rj(e,t.blendConstant||KD),e=jj(e,t.depthCompare),e=jj(e,t.depthWrite?1:0),e=jj(e,t.stencilFront?.compare),e=jj(e,t.stencilFront?.passOp),e=jj(e,t.stencilFront?.failOp),e=jj(e,t.stencilFront?.depthFailOp),e=jj(e,t.stencilBack?.compare),e=jj(e,t.stencilBack?.passOp),e=jj(e,t.stencilBack?.failOp),e=jj(e,t.stencilBack?.depthFailOp),e=jj(e,t.stencilWrite?1:0),e=jj(e,t.cullMode),e=jj(e,t.frontFace?1:0),e=jj(e,t.polygonOffset?1:0),e}function Bj(e){let t=0;t=jj(t,e.program.id),e.inputLayout!==null&&(t=jj(t,e.inputLayout.id)),t=zj(t,e.megaStateDescriptor);for(let n=0;n<e.colorAttachmentFormats.length;n++)t=jj(t,e.colorAttachmentFormats[n]||0);return t=jj(t,e.depthStencilAttachmentFormat||0),Mj(t)}function Vj(e){let t=0;if(e.samplerBindings)for(let n=0;n<e.samplerBindings.length;n++){let r=e.samplerBindings[n];r!==null&&r.texture!==null&&(t=jj(t,r.texture.id))}if(e.uniformBufferBindings)for(let n=0;n<e.uniformBufferBindings.length;n++){let r=e.uniformBufferBindings[n];r!==null&&r.buffer!==null&&(t=jj(t,r.buffer.id),t=jj(t,r.binding),t=jj(t,r.offset),t=jj(t,r.size))}if(e.storageBufferBindings)for(let n=0;n<e.storageBufferBindings.length;n++){let r=e.storageBufferBindings[n];r!==null&&r.buffer!==null&&(t=jj(t,r.buffer.id),t=jj(t,r.binding),t=jj(t,r.offset),t=jj(t,r.size))}if(e.storageTextureBindings)for(let n=0;n<e.storageTextureBindings.length;n++){let r=e.storageTextureBindings[n];r!==null&&r.texture!==null&&(t=jj(t,r.texture.id),t=jj(t,r.binding))}return Mj(t)}function Hj(e,t){return e.vertex?.glsl===t.vertex?.glsl&&e.fragment?.glsl===t.fragment?.glsl}function Uj(e){return{vertex:{glsl:e.vertex?.glsl},fragment:{glsl:e.fragment?.glsl}}}var Wj=class{constructor(e){this.device=e,this.bindingsCache=new Fj(gO,Vj),this.renderPipelinesCache=new Fj(CO,Bj),this.inputLayoutsCache=new Fj(EO,Nj),this.programCache=new Fj(Hj,Nj)}createBindings(e){let t=this.bindingsCache.get(e);if(t===null){let n=AO(e);n.uniformBufferBindings=n.uniformBufferBindings?.filter(({size:e})=>e&&e>0),t=this.device.createBindings(n),this.bindingsCache.add(n,t)}return t}createRenderPipeline(e){let t=this.renderPipelinesCache.get(e);if(t===null){let n=jO(e);n.colorAttachmentFormats=n.colorAttachmentFormats.filter(e=>e),t=this.device.createRenderPipeline(n),this.renderPipelinesCache.add(n,t)}return t}createInputLayout(e){e.vertexBufferDescriptors=e.vertexBufferDescriptors.filter(e=>!!e);let t=this.inputLayoutsCache.get(e);if(t===null){let n=PO(e);t=this.device.createInputLayout(n),this.inputLayoutsCache.add(n,t)}return t}createProgram(e){let t=this.programCache.get(e);if(t===null){let n=Uj(e);t=this.device.createProgram(e),this.programCache.add(n,t)}return t}destroy(){for(let e of this.bindingsCache.values())e.destroy();for(let e of this.renderPipelinesCache.values())e.destroy();for(let e of this.inputLayoutsCache.values())e.destroy();for(let e of this.programCache.values())e.destroy();this.bindingsCache.clear(),this.renderPipelinesCache.clear(),this.inputLayoutsCache.clear(),this.programCache.clear()}},Gj=class{constructor(e,t){let{data:n,type:r,count:i=0}=t,a;a=Oj(n)?n:new gj[this.type||q.UNSIGNED_INT](n),this.type=r,this.count=i,this.indexBuffer=e.createBuffer({viewOrSize:a,usage:vD.INDEX})}get(){return this.indexBuffer}subData({data:e}){let t;t=Oj(e)?e:new gj[this.type||q.UNSIGNED_INT](e),this.indexBuffer.setSubData(0,new Uint8Array(t.buffer))}destroy(){this.indexBuffer.destroy()}};function Kj(e){return!!(e&&e.texture)}var qj=class{constructor(e,t){this.device=e,this.options=t,this.isDestroy=!1;let{wrapS:n=q.CLAMP_TO_EDGE,wrapT:r=q.CLAMP_TO_EDGE,aniso:i,mag:a=q.NEAREST,min:o=q.NEAREST}=t;this.createTexture(t),this.sampler=e.createSampler({addressModeU:bj[n],addressModeV:bj[r],minFilter:o===q.NEAREST?hD.POINT:hD.BILINEAR,magFilter:a===q.NEAREST?hD.POINT:hD.BILINEAR,mipmapFilter:gD.NO_MIP,maxAnisotropy:i})}createTexture(e){let{type:t=q.UNSIGNED_BYTE,width:n,height:r,flipY:i=!1,format:a=q.RGBA,alignment:o=1,usage:s=hu.SAMPLED,unorm:c=!1,label:l}=e,{data:u}=e;this.width=n,this.height=r;let d=$.U8_RGBA_RT;if(t===q.UNSIGNED_BYTE&&a===q.RGBA)d=c?$.U8_RGBA_NORM:$.U8_RGBA_RT;else if(t===q.UNSIGNED_BYTE&&a===q.LUMINANCE)d=$.U8_LUMINANCE;else if(t===q.FLOAT&&a===q.LUMINANCE)d=$.F32_LUMINANCE;else if(t===q.FLOAT&&a===q.RGB)this.device.queryVendorInfo().platformString===`WebGPU`?(u&&=kj(u,0),d=$.F32_RGBA):d=$.F32_RGB;else if(t===q.FLOAT&&a===q.RGBA)d=$.F32_RGBA;else if(t===q.FLOAT&&a===q.RED)d=$.F32_R;else throw Error(`create texture error, type: ${t}, format: ${a}`);this.texture=this.device.createTexture({format:d,width:n,height:r,usage:s===hu.SAMPLED?CD.SAMPLED:CD.RENDER_TARGET,pixelStore:{unpackFlipY:i,packAlignment:o},mipLevelCount:1}),l&&this.device.setResourceName(this.texture,l),u&&this.texture.setImageData([u])}get(){return this.texture}update(e){let{data:t}=e;this.texture.setImageData([t])}bind(){}resize({width:e,height:t}){(this.width!==e||this.height!==t)&&this.destroy(),this.options.width=e,this.options.height=t,this.createTexture(this.options),this.isDestroy=!1}getSize(){return[this.width,this.height]}destroy(){var e;!this.isDestroy&&!this.texture.destroyed&&((e=this.texture)==null||e.destroy()),this.isDestroy=!0}},Jj=class{constructor(e,t){this.device=e,this.options=t,this.createColorRenderTarget(),this.createDepthRenderTarget()}createColorRenderTarget(e=!1){let{width:t,height:n,color:r}=this.options;r&&(Kj(r)?(e&&r.resize({width:t,height:n}),this.colorTexture=r.get(),this.colorRenderTarget=this.device.createRenderTargetFromTexture(this.colorTexture),this.width=r.width,this.height=r.height):t&&n&&(this.colorTexture=this.device.createTexture({format:$.U8_RGBA_RT,usage:CD.RENDER_TARGET,width:t,height:n}),this.colorRenderTarget=this.device.createRenderTargetFromTexture(this.colorTexture),this.width=t,this.height=n))}createDepthRenderTarget(e=!1){let{width:t,height:n,depth:r}=this.options;r&&(Kj(r)?(e&&r.resize({width:t,height:n}),this.depthTexture=r.get(),this.depthRenderTarget=this.device.createRenderTargetFromTexture(this.depthTexture),this.width=r.width,this.height=r.height):t&&n&&(this.depthTexture=this.device.createTexture({format:$.D24_S8,usage:CD.RENDER_TARGET,width:t,height:n}),this.depthRenderTarget=this.device.createRenderTargetFromTexture(this.depthTexture),this.width=t,this.height=n))}get(){return this.colorRenderTarget}destroy(){var e,t;(e=this.colorRenderTarget)==null||e.destroy(),(t=this.depthRenderTarget)==null||t.destroy()}resize({width:e,height:t}){(this.width!==e||this.height!==t)&&(this.destroy(),this.colorTexture.destroyed=!0,this.depthTexture.destroyed=!0,this.options.width=e,this.options.height=t,this.createColorRenderTarget(!0),this.createDepthRenderTarget(!0))}},Yj=Object.defineProperty,Xj=Object.defineProperties,Zj=Object.getOwnPropertyDescriptors,Qj=Object.getOwnPropertySymbols,$j=Object.prototype.hasOwnProperty,eM=Object.prototype.propertyIsEnumerable,tM=(e,t,n)=>t in e?Yj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nM=(e,t)=>{for(var n in t||={})$j.call(t,n)&&tM(e,n,t[n]);if(Qj)for(var n of Qj(t))eM.call(t,n)&&tM(e,n,t[n]);return e},rM=(e,t)=>Xj(e,Zj(t)),{isPlainObject:iM,isTypedArray:aM,isNil:oM}=di,sM=class{constructor(e,t,n){this.device=e,this.options=t,this.service=n,this.destroyed=!1,this.uniforms={},this.vertexBuffers=[];let{vs:r,fs:i,attributes:a,uniforms:o,count:s,elements:c,diagnosticDerivativeUniformityEnabled:l}=t;this.options=t;let u=l?``:this.service.viewportOrigin===DD.UPPER_LEFT?`diagnostic(off,derivative_uniformity);`:``;this.program=n.renderCache.createProgram({vertex:{glsl:r},fragment:{glsl:i,postprocess:e=>u+e}}),o&&(this.uniforms=this.extractUniforms(o));let d=[],f=0;Object.keys(a).forEach(e=>{let t=a[e],n=t.get();this.vertexBuffers.push(n.get());let{offset:r=0,stride:i=0,size:o=1,divisor:s=0,shaderLocation:c=0}=t.attribute;d.push({arrayStride:i||o*4,stepMode:bD.VERTEX,attributes:[{format:vj[o],shaderLocation:c,offset:r,divisor:s}]}),f=n.size/o}),s||(this.options.count=f),c&&(this.indexBuffer=c.get()),this.inputLayout=n.renderCache.createInputLayout({vertexBufferDescriptors:d,indexBufferFormat:c?$.U32_R:null,program:this.program}),this.pipeline=this.createPipeline(t)}createPipeline(e,t){let{primitive:n=q.TRIANGLES,depth:r,cull:i,blend:a,stencil:o}=e,s=this.initDepthDrawParams({depth:r}),c=!!(s&&s.enable),l=this.initCullDrawParams({cull:i}),u=!!(l&&l.enable),d=this.getBlendDrawParams({blend:a}),f=!!(d&&d.enable),p=this.getStencilDrawParams({stencil:o}),m=!!(p&&p.enable),h=this.device.createRenderPipeline({inputLayout:this.inputLayout,program:this.program,topology:_j[n],colorAttachmentFormats:[$.U8_RGBA_RT],depthStencilAttachmentFormat:$.D24_S8,megaStateDescriptor:{attachmentsState:[t?{channelWriteMask:wD.ALL,rgbBlendState:{blendMode:pD.ADD,blendSrcFactor:fD.ONE,blendDstFactor:fD.ZERO},alphaBlendState:{blendMode:pD.ADD,blendSrcFactor:fD.ONE,blendDstFactor:fD.ZERO}}:{channelWriteMask:m&&p.opFront.zpass===TD.REPLACE?wD.NONE:wD.ALL,rgbBlendState:{blendMode:f&&d.equation.rgb||pD.ADD,blendSrcFactor:f&&d.func.srcRGB||fD.SRC_ALPHA,blendDstFactor:f&&d.func.dstRGB||fD.ONE_MINUS_SRC_ALPHA},alphaBlendState:{blendMode:f&&d.equation.alpha||pD.ADD,blendSrcFactor:f&&d.func.srcAlpha||fD.ONE,blendDstFactor:f&&d.func.dstAlpha||fD.ONE}}],blendConstant:f?KD:void 0,depthWrite:c,depthCompare:c&&s.func||lD.LESS,cullMode:u&&l.face||dD.NONE,stencilWrite:m,stencilFront:{compare:m?p.func.cmp:lD.ALWAYS,passOp:p.opFront.zpass,failOp:p.opFront.fail,depthFailOp:p.opFront.zfail,mask:p.opFront.mask},stencilBack:{compare:m?p.func.cmp:lD.ALWAYS,passOp:p.opBack.zpass,failOp:p.opBack.fail,depthFailOp:p.opBack.zfail,mask:p.opBack.mask}}});return m&&!oM(o?.func?.ref)&&(h.stencilFuncReference=o.func.ref),h}updateAttributesAndElements(){}updateAttributes(){}addUniforms(e){this.uniforms=nM(nM({},this.uniforms),this.extractUniforms(e))}draw(e,t){let n=nM(nM({},this.options),e),{count:r=0,instances:i,elements:a,uniforms:o={},uniformBuffers:s,textures:c}=n;this.uniforms=nM(nM({},this.uniforms),this.extractUniforms(o));let{renderPass:l,currentFramebuffer:u,width:d,height:f}=this.service;this.pipeline=this.createPipeline(n,t);let p=this.service.device,m=p.swapChainHeight;if(p.swapChainHeight=u?.height||f,l.setViewport(0,0,u?.width||d,u?.height||f),p.swapChainHeight=m,l.setPipeline(this.pipeline),oM(this.pipeline.stencilFuncReference)||l.setStencilReference(this.pipeline.stencilFuncReference),l.setVertexInput(this.inputLayout,this.vertexBuffers.map(e=>({buffer:e})),a?{buffer:this.indexBuffer,offset:0}:null),s&&(this.bindings=p.createBindings({pipeline:this.pipeline,uniformBufferBindings:s.map((e,t)=>{let n=e;return{binding:t,buffer:n.get(),size:n.size}}),samplerBindings:c?.map(e=>({texture:e.texture,sampler:e.sampler}))})),this.bindings&&(l.setBindings(this.bindings),Object.keys(this.uniforms).forEach(e=>{let t=this.uniforms[e];t instanceof qj?this.uniforms[e]=t.get():t instanceof Jj&&(this.uniforms[e]=t.get().texture)}),this.program.setUniformsLegacy(this.uniforms)),a){let e=a.count;e===0?l.draw(r,i):l.drawIndexed(e,i)}else l.draw(r,i)}destroy(){var e,t,n;(e=this.vertexBuffers)==null||e.forEach(e=>e.destroy()),(t=this.indexBuffer)==null||t.destroy(),(n=this.bindings)==null||n.destroy(),this.pipeline.destroy(),this.destroyed=!0}initDepthDrawParams({depth:e}){if(e)return{enable:e.enable===void 0?!0:!!e.enable,mask:e.mask===void 0?!0:!!e.mask,func:xj[e.func||q.LESS],range:e.range||[0,1]}}getBlendDrawParams({blend:e}){let{enable:t,func:n,equation:r,color:i=[0,0,0,0]}=e||{};return{enable:!!t,func:{srcRGB:wj[n&&n.srcRGB||q.SRC_ALPHA],srcAlpha:wj[n&&n.srcAlpha||q.SRC_ALPHA],dstRGB:wj[n&&n.dstRGB||q.ONE_MINUS_SRC_ALPHA],dstAlpha:wj[n&&n.dstAlpha||q.ONE_MINUS_SRC_ALPHA]},equation:{rgb:Cj[r&&r.rgb||q.FUNC_ADD],alpha:Cj[r&&r.alpha||q.FUNC_ADD]},color:i}}getStencilDrawParams({stencil:e}){let{enable:t,mask:n=4294967295,func:r={cmp:q.ALWAYS,ref:0,mask:4294967295},opFront:i={fail:q.KEEP,zfail:q.KEEP,zpass:q.KEEP},opBack:a={fail:q.KEEP,zfail:q.KEEP,zpass:q.KEEP}}=e||{};return{enable:!!t,mask:n,func:rM(nM({},r),{cmp:Ej[r.cmp]}),opFront:{fail:Tj[i.fail],zfail:Tj[i.zfail],zpass:Tj[i.zpass],mask:r.mask},opBack:{fail:Tj[a.fail],zfail:Tj[a.zfail],zpass:Tj[a.zpass],mask:r.mask}}}initCullDrawParams({cull:e}){if(e){let{enable:t,face:n=q.BACK}=e;return{enable:!!t,face:Sj[n]}}}extractUniforms(e){let t={};return Object.keys(e).forEach(n=>{this.extractUniformsRecursively(n,e[n],t,``)}),t}extractUniformsRecursively(e,t,n,r){if(t===null||typeof t==`number`||typeof t==`boolean`||Array.isArray(t)&&typeof t[0]==`number`||aM(t)||t===``||`resize`in t){n[`${r&&r+`.`}${e}`]=t;return}iM(t)&&Object.keys(t).forEach(i=>{this.extractUniformsRecursively(i,t[i],n,`${r&&r+`.`}${e}`)}),Array.isArray(t)&&t.forEach((t,i)=>{Object.keys(t).forEach(a=>{this.extractUniformsRecursively(a,t[a],n,`${r&&r+`.`}${e}[${i}]`)})})}};function cM(e){return typeof WebGL2RenderingContext<`u`&&e instanceof WebGL2RenderingContext?!0:!!(e&&e._version===2)}var lM=(e,t,n)=>new Promise((r,i)=>{var a=e=>{try{s(n.next(e))}catch(e){i(e)}},o=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,o);s((n=n.apply(e,t)).next())}),{isUndefined:uM}=di,dM=class{constructor(){this.uniformBuffers=[],this.queryVerdorInfo=()=>this.device.queryVendorInfo().platformString,this.createModel=e=>new sM(this.device,e,this),this.createAttribute=e=>new hj(this.device,e),this.createBuffer=e=>new Aj(this.device,e),this.createElements=e=>new Gj(this.device,e),this.createTexture2D=e=>new qj(this.device,e),this.createFramebuffer=e=>new Jj(this.device,e),this.useFramebuffer=(e,t)=>{this.currentFramebuffer=e,this.beginFrame(),t(),this.endFrame(),this.currentFramebuffer=null},this.useFramebufferAsync=(e,t)=>lM(this,null,function*(){this.currentFramebuffer=e,this.preRenderPass=this.renderPass,this.beginFrame(),yield t(),this.endFrame(),this.currentFramebuffer=null,this.renderPass=this.preRenderPass}),this.clear=e=>{let{color:t,depth:n,stencil:r,framebuffer:i=null}=e;if(i)i.clearOptions={color:t,depth:n,stencil:r};else{let e=this.queryVerdorInfo();if(e===`WebGL1`){let e=this.getGLContext();uM(r)?uM(n)||(e.clearDepth(n),e.clear(e.DEPTH_BUFFER_BIT)):(e.clearStencil(r),e.clear(e.STENCIL_BUFFER_BIT))}else if(e===`WebGL2`){let e=this.getGLContext();uM(r)?uM(n)||e.clearBufferfv(e.DEPTH,0,[n]):e.clearBufferiv(e.STENCIL,0,[r])}}},this.viewport=({width:e,height:t})=>{this.swapChain.configureSwapChain(e,t),this.createMainColorDepthRT(e,t),this.width=e,this.height=t},this.readPixels=e=>{let{framebuffer:t,x:n,y:r,width:i,height:a}=e,o=this.device.createReadback(),s=t.colorTexture,c=o.readTextureSync(s,n,this.viewportOrigin===DD.LOWER_LEFT?r:this.height-r,i,a,new Uint8Array(i*a*4));if(this.viewportOrigin!==DD.LOWER_LEFT)for(let e=0;e<c.length;e+=4){let t=c[e];c[e]=c[e+2],c[e+2]=t}return o.destroy(),c},this.readPixelsAsync=e=>lM(this,null,function*(){let{framebuffer:t,x:n,y:r,width:i,height:a}=e,o=this.device.createReadback(),s=t.colorTexture,c=yield o.readTexture(s,n,this.viewportOrigin===DD.LOWER_LEFT?r:this.height-r,i,a,new Uint8Array(i*a*4));if(this.viewportOrigin!==DD.LOWER_LEFT)for(let e=0;e<c.length;e+=4){let t=c[e];c[e]=c[e+2],c[e+2]=t}return o.destroy(),c}),this.getViewportSize=()=>({width:this.width,height:this.height}),this.getContainer=()=>this.canvas?.parentElement,this.getCanvas=()=>this.canvas,this.getGLContext=()=>this.device.gl,this.destroy=()=>{var e;this.canvas=null,(e=this.uniformBuffers)==null||e.forEach(e=>{e.destroy()}),this.device.destroy(),this.renderCache.destroy()}}init(e,t){return lM(this,null,function*(){let{enableWebGPU:n,shaderCompilerPath:r,antialias:i}=t;this.canvas=e;let a=yield(n?new mj({shaderCompilerPath:r}):new qk({targets:[`webgl2`,`webgl1`],antialias:i,onContextLost(e){console.warn(`context lost`,e)},onContextCreationError(e){console.warn(`context creation error`,e)},onContextRestored(e){console.warn(`context restored`,e)}})).createSwapChain(e);a.configureSwapChain(e.width,e.height),this.device=a.getDevice(),this.swapChain=a,this.renderCache=new Wj(this.device),this.currentFramebuffer=null,this.viewportOrigin=this.device.queryVendorInfo().viewportOrigin;let o=this.device.gl;this.extensionObject={OES_texture_float:!cM(o)&&this.device.OES_texture_float},this.createMainColorDepthRT(e.width,e.height)})}createMainColorDepthRT(e,t){this.mainColorRT&&this.mainColorRT.destroy(),this.mainDepthRT&&this.mainDepthRT.destroy(),this.mainColorRT=this.device.createRenderTargetFromTexture(this.device.createTexture({format:$.U8_RGBA_RT,width:e,height:t,usage:CD.RENDER_TARGET})),this.mainDepthRT=this.device.createRenderTargetFromTexture(this.device.createTexture({format:$.D24_S8,width:e,height:t,usage:CD.RENDER_TARGET}))}beginFrame(){this.device.beginFrame();let{currentFramebuffer:e,swapChain:t,mainColorRT:n,mainDepthRT:r}=this,i=e?e.colorRenderTarget:n,a=e?null:t.getOnscreenTexture(),o=e?e.depthRenderTarget:r,{color:s=[0,0,0,0],depth:c=1,stencil:l=0}=e?.clearOptions||{},u=i?GD(s[0]*255,s[1]*255,s[2]*255,s[3]):KD,d=o?c:void 0,f=o?l:void 0;this.renderPass=this.device.createRenderPass({colorAttachment:[i],colorResolveTo:[a],colorClearColor:[u],colorStore:[!0],depthStencilAttachment:o,depthClearValue:d,stencilClearValue:f})}endFrame(){this.device.submitPass(this.renderPass),this.device.endFrame()}getPointSizeRange(){let e=this.device.gl;return e.getParameter(e.ALIASED_POINT_SIZE_RANGE)}testExtension(e){return!!this.getGLContext().getExtension(e)}setState(){}setBaseState(){}setCustomLayerDefaults(){}setDirty(e){this.isDirty=e}getDirty(){return this.isDirty}},fM=t(((exports,t)=>{(function(n,r){typeof exports==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):n.createREGL=r()})(exports,(function(){var e=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},t=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;++r)e[n[r]]=t[n[r]];return e},n=`
`;function r(e){return typeof atob<`u`?atob(e):`base64:`+e}function i(e){var t=Error(`(regl) `+e);throw console.error(t),t}function a(e,t){e||i(t)}function o(e){return e?`: `+e:``}function s(e,t,n){e in t||i(`unknown parameter (`+e+`)`+o(n)+`. possible values: `+Object.keys(t).join())}function c(t,n){e(t)||i(`invalid parameter type`+o(n)+`. must be a typed array`)}function l(e,t){switch(t){case`number`:return typeof e==`number`;case`object`:return typeof e==`object`;case`string`:return typeof e==`string`;case`boolean`:return typeof e==`boolean`;case`function`:return typeof e==`function`;case`undefined`:return e===void 0;case`symbol`:return typeof e==`symbol`}}function u(e,t,n){l(e,t)||i(`invalid parameter type`+o(n)+`. expected `+t+`, got `+typeof e)}function d(e,t){e>=0&&(e|0)===e||i(`invalid parameter type, (`+e+`)`+o(t)+`. must be a nonnegative integer`)}function f(e,t,n){t.indexOf(e)<0&&i(`invalid value`+o(n)+`. must be one of: `+t)}var p=[`gl`,`canvas`,`container`,`attributes`,`pixelRatio`,`extensions`,`optionalExtensions`,`profile`,`onDone`];function m(e){Object.keys(e).forEach(function(e){p.indexOf(e)<0&&i(`invalid regl constructor argument "`+e+`". must be one of `+p)})}function h(e,t){for(e+=``;e.length<t;)e=` `+e;return e}function g(){this.name=`unknown`,this.lines=[],this.index={},this.hasErrors=!1}function _(e,t){this.number=e,this.line=t,this.errors=[]}function v(e,t,n){this.file=e,this.line=t,this.message=n}function y(){var e=Error(),t=(e.stack||e).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return r?r[1]:`unknown`}function b(){var e=Error(),t=(e.stack||e).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return r?r[1]:`unknown`}function x(e,t){var n=e.split(`
`),i=1,a=0,o={unknown:new g,0:new g};o.unknown.name=o[0].name=t||y(),o.unknown.lines.push(new _(0,``));for(var s=0;s<n.length;++s){var c=n[s],l=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(c);if(l)switch(l[1]){case`line`:var u=/(\d+)(\s+\d+)?/.exec(l[2]);u&&(i=u[1]|0,u[2]&&(a=u[2]|0,a in o||(o[a]=new g)));break;case`define`:var d=/SHADER_NAME(_B64)?\s+(.*)$/.exec(l[2]);d&&(o[a].name=d[1]?r(d[2]):d[2]);break}o[a].lines.push(new _(i++,c))}return Object.keys(o).forEach(function(e){var t=o[e];t.lines.forEach(function(e){t.index[e.number]=e})}),o}function S(e){var t=[];return e.split(`
`).forEach(function(e){if(!(e.length<5)){var n=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(e);n?t.push(new v(n[1]|0,n[2]|0,n[3].trim())):e.length>0&&t.push(new v(`unknown`,0,e))}}),t}function C(e,t){t.forEach(function(t){var n=e[t.file];if(n){var r=n.index[t.line];if(r){r.errors.push(t),n.hasErrors=!0;return}}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)})}function w(e,t,r,i,o){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var s=e.getShaderInfoLog(t),c=i===e.FRAGMENT_SHADER?`fragment`:`vertex`;j(r,`string`,c+` shader source must be a string`,o);var l=x(r,o),u=S(s);C(l,u),Object.keys(l).forEach(function(e){var t=l[e];if(!t.hasErrors)return;var r=[``],i=[``];function a(e,t){r.push(e),i.push(t||``)}a(`file number `+e+`: `+t.name+`
`,`color:red;text-decoration:underline;font-weight:bold`),t.lines.forEach(function(e){if(e.errors.length>0){a(h(e.number,4)+`|  `,`background-color:yellow; font-weight:bold`),a(e.line+n,`color:red; background-color:yellow; font-weight:bold`);var t=0;e.errors.forEach(function(r){var i=r.message,o=/^\s*'(.*)'\s*:\s*(.*)$/.exec(i);if(o){var s=o[1];switch(i=o[2],s){case`assign`:s=`=`;break}t=Math.max(e.line.indexOf(s,t),0)}else t=0;a(h(`| `,6)),a(h(`^^^`,t+3)+n,`font-weight:bold`),a(h(`| `,6)),a(i+n,`font-weight:bold`)}),a(h(`| `,6)+n)}else a(h(e.number,4)+`|  `),a(e.line+n,`color:red`)}),typeof document<`u`&&!window.chrome?(i[0]=r.join(`%c`),console.log.apply(console,i)):console.log(r.join(``))}),a.raise(`Error compiling `+c+` shader, `+l[0].name)}}function T(e,t,r,i,o){if(!e.getProgramParameter(t,e.LINK_STATUS)){var s=e.getProgramInfoLog(t),c=x(r,o),l=`Error linking program with vertex shader, "`+x(i,o)[0].name+`", and fragment shader "`+c[0].name+`"`;typeof document<`u`?console.log(`%c`+l+n+`%c`+s,`color:red;text-decoration:underline;font-weight:bold`,`color:red`):console.log(l+n+s),a.raise(l)}}function E(e){e._commandRef=y()}function D(e,t,n,r){E(e);function i(e){return e?r.id(e):0}e._fragId=i(e.static.frag),e._vertId=i(e.static.vert);function a(e,t){Object.keys(t).forEach(function(t){e[r.id(t)]=!0})}var o=e._uniformSet={};a(o,t.static),a(o,t.dynamic);var s=e._attributeSet={};a(s,n.static),a(s,n.dynamic),e._hasCount=`count`in e.static||`count`in e.dynamic||`elements`in e.static||`elements`in e.dynamic}function O(e,t){var n=b();i(e+` in command `+(t||y())+(n===`unknown`?``:` called from `+n))}function k(e,t,n){e||O(t,n||y())}function A(e,t,n,r){e in t||O(`unknown parameter (`+e+`)`+o(n)+`. possible values: `+Object.keys(t).join(),r||y())}function j(e,t,n,r){l(e,t)||O(`invalid parameter type`+o(n)+`. expected `+t+`, got `+typeof e,r||y())}function M(e){e()}function N(e,t,n){e.texture?f(e.texture._texture.internalformat,t,`unsupported texture format for attachment`):f(e.renderbuffer._renderbuffer.format,n,`unsupported renderbuffer format for attachment`)}var P=33071,F=9728,ee=9984,I=9985,te=9986,L=9987,ne=5120,re=5121,ie=5122,R=5123,ae=5124,oe=5125,se=5126,ce=32819,le=32820,ue=33635,de=34042,fe=36193,pe={};pe[ne]=pe[re]=1,pe[ie]=pe[R]=pe[fe]=pe[ue]=pe[ce]=pe[le]=2,pe[ae]=pe[oe]=pe[se]=pe[de]=4;function me(e,t){return e===le||e===ce||e===ue?2:e===de?4:pe[e]*t}function he(e){return!(e&e-1)&&!!e}function ge(e,t,n){var r,i=t.width,o=t.height,s=t.channels;a(i>0&&i<=n.maxTextureSize&&o>0&&o<=n.maxTextureSize,`invalid texture shape`),(e.wrapS!==P||e.wrapT!==P)&&a(he(i)&&he(o),`incompatible wrap mode for texture, both width and height must be power of 2`),t.mipmask===1?i!==1&&o!==1&&a(e.minFilter!==ee&&e.minFilter!==te&&e.minFilter!==I&&e.minFilter!==L,`min filter requires mipmap`):(a(he(i)&&he(o),`texture must be a square power of 2 to support mipmapping`),a(t.mipmask===(i<<1)-1,`missing or incomplete mipmap data`)),t.type===se&&(n.extensions.indexOf(`oes_texture_float_linear`)<0&&a(e.minFilter===F&&e.magFilter===F,`filter not supported, must enable oes_texture_float_linear`),a(!e.genMipmaps,`mipmap generation not supported with float textures`));var c=t.images;for(r=0;r<16;++r)if(c[r]){var l=i>>r,u=o>>r;a(t.mipmask&1<<r,`missing mipmap data`);var d=c[r];if(a(d.width===l&&d.height===u,`invalid shape for mip images`),a(d.format===t.format&&d.internalformat===t.internalformat&&d.type===t.type,`incompatible type for mip image`),!d.compressed)if(d.data){var f=Math.ceil(me(d.type,s)*l/d.unpackAlignment)*d.unpackAlignment;a(d.data.byteLength===f*u,`invalid data for image, buffer size is inconsistent with image format`)}else d.element||d.copy}else e.genMipmaps||a((t.mipmask&1<<r)==0,`extra mipmap data`);t.compressed&&a(!e.genMipmaps,`mipmap generation for compressed images not supported`)}function _e(e,t,n,r){var i=e.width,o=e.height,s=e.channels;a(i>0&&i<=r.maxTextureSize&&o>0&&o<=r.maxTextureSize,`invalid texture shape`),a(i===o,`cube map must be square`),a(t.wrapS===P&&t.wrapT===P,`wrap mode not supported by cube map`);for(var c=0;c<n.length;++c){var l=n[c];a(l.width===i&&l.height===o,`inconsistent cube map face shape`),t.genMipmaps&&(a(!l.compressed,`can not generate mipmap for compressed textures`),a(l.mipmask===1,`can not specify mipmaps and generate mipmaps`));for(var u=l.images,d=0;d<16;++d){var f=u[d];if(f){var p=i>>d,m=o>>d;a(l.mipmask&1<<d,`missing mipmap data`),a(f.width===p&&f.height===m,`invalid shape for mip images`),a(f.format===e.format&&f.internalformat===e.internalformat&&f.type===e.type,`incompatible type for mip image`),f.compressed||(f.data?a(f.data.byteLength===p*m*Math.max(me(f.type,s),f.unpackAlignment),`invalid data for image, buffer size is inconsistent with image format`):f.element||f.copy)}}}}var z=t(a,{optional:M,raise:i,commandRaise:O,command:k,parameter:s,commandParameter:A,constructor:m,type:u,commandType:j,isTypedArray:c,nni:d,oneOf:f,shaderError:w,linkError:T,callSite:b,saveCommandRef:E,saveDrawInfo:D,framebufferFormat:N,guessCommand:y,texture2D:ge,textureCube:_e}),ve=0,ye=0;function be(e,t){this.id=ve++,this.type=e,this.data=t}function xe(e){return e.replace(/\\/g,`\\\\`).replace(/"/g,`\\"`)}function Se(e){if(e.length===0)return[];var t=e.charAt(0),n=e.charAt(e.length-1);if(e.length>1&&t===n&&(t===`"`||t===`'`))return[`"`+xe(e.substr(1,e.length-2))+`"`];var r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(r)return Se(e.substr(0,r.index)).concat(Se(r[1])).concat(Se(e.substr(r.index+r[0].length)));var i=e.split(`.`);if(i.length===1)return[`"`+xe(e)+`"`];for(var a=[],o=0;o<i.length;++o)a=a.concat(Se(i[o]));return a}function Ce(e){return`[`+Se(e).join(`][`)+`]`}function we(e,t){return new be(e,Ce(t+``))}function Te(e){return typeof e==`function`&&!e._reglType||e instanceof be}function Ee(e,t){return typeof e==`function`?new be(ye,e):e}var De={DynamicVariable:be,define:we,isDynamic:Te,unbox:Ee,accessor:Ce},Oe={next:typeof requestAnimationFrame==`function`?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:typeof cancelAnimationFrame==`function`?function(e){return cancelAnimationFrame(e)}:clearTimeout},ke=typeof performance<`u`&&performance.now?function(){return performance.now()}:function(){return+new Date};function Ae(){var e={"":0},t=[``];return{id:function(n){var r=e[n];return r||(r=e[n]=t.length,t.push(n),r)},str:function(e){return t[e]}}}function je(e,n,r){var i=document.createElement(`canvas`);t(i.style,{border:0,margin:0,padding:0,top:0,left:0}),e.appendChild(i),e===document.body&&(i.style.position=`absolute`,t(e.style,{margin:0,padding:0}));function a(){var n=window.innerWidth,a=window.innerHeight;if(e!==document.body){var o=e.getBoundingClientRect();n=o.right-o.left,a=o.bottom-o.top}i.width=r*n,i.height=r*a,t(i.style,{width:n+`px`,height:a+`px`})}var o;e!==document.body&&typeof ResizeObserver==`function`?(o=new ResizeObserver(function(){setTimeout(a)}),o.observe(e)):window.addEventListener(`resize`,a,!1);function s(){o?o.disconnect():window.removeEventListener(`resize`,a),e.removeChild(i)}return a(),{canvas:i,onDestroy:s}}function Me(e,t){function n(n){try{return e.getContext(n,t)}catch{return null}}return n(`webgl`)||n(`experimental-webgl`)||n(`webgl-experimental`)}function Ne(e){return typeof e.nodeName==`string`&&typeof e.appendChild==`function`&&typeof e.getBoundingClientRect==`function`}function Pe(e){return typeof e.drawArrays==`function`||typeof e.drawElements==`function`}function Fe(e){return typeof e==`string`?e.split():(z(Array.isArray(e),`invalid extension array`),e)}function Ie(e){return typeof e==`string`?(z(typeof document<`u`,`not supported outside of DOM`),document.querySelector(e)):e}function Le(e){var t=e||{},n,r,i,a,o={},s=[],c=[],l=typeof window>`u`?1:window.devicePixelRatio,u=!1,d=function(e){e&&z.raise(e)},f=function(){};if(typeof t==`string`?(z(typeof document<`u`,`selector queries only supported in DOM enviroments`),n=document.querySelector(t),z(n,`invalid query string for element`)):typeof t==`object`?Ne(t)?n=t:Pe(t)?(a=t,i=a.canvas):(z.constructor(t),`gl`in t?a=t.gl:`canvas`in t?i=Ie(t.canvas):`container`in t&&(r=Ie(t.container)),`attributes`in t&&(o=t.attributes,z.type(o,`object`,`invalid context attributes`)),`extensions`in t&&(s=Fe(t.extensions)),`optionalExtensions`in t&&(c=Fe(t.optionalExtensions)),`onDone`in t&&(z.type(t.onDone,`function`,`invalid or missing onDone callback`),d=t.onDone),`profile`in t&&(u=!!t.profile),`pixelRatio`in t&&(l=+t.pixelRatio,z(l>0,`invalid pixel ratio`))):z.raise(`invalid arguments to regl`),n&&(n.nodeName.toLowerCase()===`canvas`?i=n:r=n),!a){if(!i){z(typeof document<`u`,`must manually specify webgl context outside of DOM environments`);var p=je(r||document.body,d,l);if(!p)return null;i=p.canvas,f=p.onDestroy}o.premultipliedAlpha===void 0&&(o.premultipliedAlpha=!0),a=Me(i,o)}return a?{gl:a,canvas:i,container:r,extensions:s,optionalExtensions:c,pixelRatio:l,profile:u,onDone:d,onDestroy:f}:(f(),d(`webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org`),null)}function Re(e,t){var n={};function r(t){z.type(t,`string`,`extension name must be string`);var r=t.toLowerCase(),i;try{i=n[r]=e.getExtension(r)}catch{}return!!i}for(var i=0;i<t.extensions.length;++i){var a=t.extensions[i];if(!r(a))return t.onDestroy(),t.onDone(`"`+a+`" extension is not supported by the current WebGL context, try upgrading your system or a different browser`),null}return t.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach(function(e){if(n[e]&&!r(e))throw Error(`(regl): error restoring extension `+e)})}}}function ze(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=t(r);return n}var Be=5120,Ve=5121,He=5122,B=5123,V=5124,Ue=5125,We=5126;function Ge(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}function Ke(e){var t=(e>65535)<<4,n;return e>>>=t,n=(e>255)<<3,e>>>=n,t|=n,n=(e>15)<<2,e>>>=n,t|=n,n=(e>3)<<1,e>>>=n,t|=n,t|e>>1}function qe(){var e=ze(8,function(){return[]});function t(t){var n=Ge(t),r=e[Ke(n)>>2];return r.length>0?r.pop():new ArrayBuffer(n)}function n(t){e[Ke(t.byteLength)>>2].push(t)}function r(e,n){var r=null;switch(e){case Be:r=new Int8Array(t(n),0,n);break;case Ve:r=new Uint8Array(t(n),0,n);break;case He:r=new Int16Array(t(2*n),0,n);break;case B:r=new Uint16Array(t(2*n),0,n);break;case V:r=new Int32Array(t(4*n),0,n);break;case Ue:r=new Uint32Array(t(4*n),0,n);break;case We:r=new Float32Array(t(4*n),0,n);break;default:return null}return r.length===n?r:r.subarray(0,n)}function i(e){n(e.buffer)}return{alloc:t,free:n,allocType:r,freeType:i}}var Je=qe();Je.zero=qe();var Ye=3408,H=3410,Xe=3411,Ze=3412,Qe=3413,$e=3414,et=3415,tt=33901,nt=33902,rt=3379,it=3386,at=34921,ot=36347,st=36348,ct=35661,lt=35660,ut=34930,dt=36349,ft=34076,pt=34024,mt=7936,ht=7937,gt=7938,_t=35724,vt=34047,yt=36063,bt=34852,xt=3553,St=34067,Ct=34069,wt=33984,Tt=6408,Et=5126,Dt=5121,Ot=36160,kt=36053,At=36064,jt=16384,Mt=function(e,t){var n=1;t.ext_texture_filter_anisotropic&&(n=e.getParameter(vt));var r=1,i=1;t.webgl_draw_buffers&&(r=e.getParameter(bt),i=e.getParameter(yt));var a=!!t.oes_texture_float;if(a){var o=e.createTexture();e.bindTexture(xt,o),e.texImage2D(xt,0,Tt,1,1,0,Tt,Et,null);var s=e.createFramebuffer();if(e.bindFramebuffer(Ot,s),e.framebufferTexture2D(Ot,At,xt,o,0),e.bindTexture(xt,null),e.checkFramebufferStatus(Ot)!==kt)a=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(jt);var c=Je.allocType(Et,4);e.readPixels(0,0,1,1,Tt,Et,c),e.getError()?a=!1:(e.deleteFramebuffer(s),e.deleteTexture(o),a=c[0]===1),Je.freeType(c)}}var l=typeof navigator<`u`&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),u=!0;if(!l){var d=e.createTexture(),f=Je.allocType(Dt,36);e.activeTexture(wt),e.bindTexture(St,d),e.texImage2D(Ct,0,Tt,3,3,0,Tt,Dt,f),Je.freeType(f),e.bindTexture(St,null),e.deleteTexture(d),u=!e.getError()}return{colorBits:[e.getParameter(H),e.getParameter(Xe),e.getParameter(Ze),e.getParameter(Qe)],depthBits:e.getParameter($e),stencilBits:e.getParameter(et),subpixelBits:e.getParameter(Ye),extensions:Object.keys(t).filter(function(e){return!!t[e]}),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:i,pointSizeDims:e.getParameter(tt),lineWidthDims:e.getParameter(nt),maxViewportDims:e.getParameter(it),maxCombinedTextureUnits:e.getParameter(ct),maxCubeMapSize:e.getParameter(ft),maxRenderbufferSize:e.getParameter(pt),maxTextureUnits:e.getParameter(ut),maxTextureSize:e.getParameter(rt),maxAttributes:e.getParameter(at),maxVertexUniforms:e.getParameter(ot),maxVertexTextureUnits:e.getParameter(lt),maxVaryingVectors:e.getParameter(st),maxFragmentUniforms:e.getParameter(dt),glsl:e.getParameter(_t),renderer:e.getParameter(ht),vendor:e.getParameter(mt),version:e.getParameter(gt),readFloat:a,npotTextureCube:u}};function Nt(t){return!!t&&typeof t==`object`&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&typeof t.offset==`number`&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||e(t.data))}var Pt=function(e){return Object.keys(e).map(function(t){return e[t]})},Ft={shape:Vt,flatten:Bt};function It(e,t,n){for(var r=0;r<t;++r)n[r]=e[r]}function Lt(e,t,n,r){for(var i=0,a=0;a<t;++a)for(var o=e[a],s=0;s<n;++s)r[i++]=o[s]}function Rt(e,t,n,r,i,a){for(var o=a,s=0;s<t;++s)for(var c=e[s],l=0;l<n;++l)for(var u=c[l],d=0;d<r;++d)i[o++]=u[d]}function zt(e,t,n,r,i){for(var a=1,o=n+1;o<t.length;++o)a*=t[o];var s=t[n];if(t.length-n===4){var c=t[n+1],l=t[n+2],u=t[n+3];for(o=0;o<s;++o)Rt(e[o],c,l,u,r,i),i+=a}else for(o=0;o<s;++o)zt(e[o],t,n+1,r,i),i+=a}function Bt(e,t,n,r){var i=1;if(t.length)for(var a=0;a<t.length;++a)i*=t[a];else i=0;var o=r||Je.allocType(n,i);switch(t.length){case 0:break;case 1:It(e,t[0],o);break;case 2:Lt(e,t[0],t[1],o);break;case 3:Rt(e,t[0],t[1],t[2],o,0);break;default:zt(e,t,0,o,0)}return o}function Vt(e){for(var t=[],n=e;n.length;n=n[0])t.push(n.length);return t}var Ht={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ut={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Wt={dynamic:35048,stream:35040,static:35044},Gt=Ft.flatten,Kt=Ft.shape,qt=35044,Jt=35040,Yt=5121,Xt=5126,Zt=[];Zt[5120]=1,Zt[5122]=2,Zt[5124]=4,Zt[5121]=1,Zt[5123]=2,Zt[5125]=4,Zt[5126]=4;function Qt(e){return Ht[Object.prototype.toString.call(e)]|0}function $t(e,t){for(var n=0;n<t.length;++n)e[n]=t[n]}function en(e,t,n,r,i,a,o){for(var s=0,c=0;c<n;++c)for(var l=0;l<r;++l)e[s++]=t[i*c+a*l+o]}function tn(t,n,r,i){var a=0,o={};function s(e){this.id=a++,this.buffer=t.createBuffer(),this.type=e,this.usage=qt,this.byteLength=0,this.dimension=1,this.dtype=Yt,this.persistentData=null,r.profile&&(this.stats={size:0})}s.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},s.prototype.destroy=function(){p(this)};var c=[];function l(e,t){var n=c.pop();return n||=new s(e),n.bind(),f(n,t,Jt,0,1,!1),n}function u(e){c.push(e)}function d(e,n,r){e.byteLength=n.byteLength,t.bufferData(e.type,n,r)}function f(t,n,r,i,a,o){var s;if(t.usage=r,Array.isArray(n)){if(t.dtype=i||Xt,n.length>0){var c;if(Array.isArray(n[0])){s=Kt(n);for(var l=1,u=1;u<s.length;++u)l*=s[u];t.dimension=l,c=Gt(n,s,t.dtype),d(t,c,r),o?t.persistentData=c:Je.freeType(c)}else if(typeof n[0]==`number`){t.dimension=a;var f=Je.allocType(t.dtype,n.length);$t(f,n),d(t,f,r),o?t.persistentData=f:Je.freeType(f)}else e(n[0])?(t.dimension=n[0].length,t.dtype=i||Qt(n[0])||Xt,c=Gt(n,[n.length,n[0].length],t.dtype),d(t,c,r),o?t.persistentData=c:Je.freeType(c)):z.raise(`invalid buffer data`)}}else if(e(n))t.dtype=i||Qt(n),t.dimension=a,d(t,n,r),o&&(t.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(Nt(n)){s=n.shape;var p=n.stride,m=n.offset,h=0,g=0,_=0,v=0;s.length===1?(h=s[0],g=1,_=p[0],v=0):s.length===2?(h=s[0],g=s[1],_=p[0],v=p[1]):z.raise(`invalid shape`),t.dtype=i||Qt(n.data)||Xt,t.dimension=g;var y=Je.allocType(t.dtype,h*g);en(y,n.data,h,g,_,v,m),d(t,y,r),o?t.persistentData=y:Je.freeType(y)}else n instanceof ArrayBuffer?(t.dtype=Yt,t.dimension=a,d(t,n,r),o&&(t.persistentData=new Uint8Array(new Uint8Array(n)))):z.raise(`invalid buffer data`)}function p(e){n.bufferCount--,i(e);var r=e.buffer;z(r,`buffer must not be deleted already`),t.deleteBuffer(r),e.buffer=null,delete o[e.id]}function m(i,a,c,l){n.bufferCount++;var u=new s(a);o[u.id]=u;function d(n){var i=qt,a=null,o=0,s=0,c=1;return Array.isArray(n)||e(n)||Nt(n)||n instanceof ArrayBuffer?a=n:typeof n==`number`?o=n|0:n&&(z.type(n,`object`,`buffer arguments must be an object, a number or an array`),`data`in n&&(z(a===null||Array.isArray(a)||e(a)||Nt(a),`invalid data for buffer`),a=n.data),`usage`in n&&(z.parameter(n.usage,Wt,`invalid buffer usage`),i=Wt[n.usage]),`type`in n&&(z.parameter(n.type,Ut,`invalid buffer type`),s=Ut[n.type]),`dimension`in n&&(z.type(n.dimension,`number`,`invalid dimension`),c=n.dimension|0),`length`in n&&(z.nni(o,`buffer length must be a nonnegative integer`),o=n.length|0)),u.bind(),a?f(u,a,i,s,c,l):(o&&t.bufferData(u.type,o,i),u.dtype=s||Yt,u.usage=i,u.dimension=c,u.byteLength=o),r.profile&&(u.stats.size=u.byteLength*Zt[u.dtype]),d}function m(e,n){z(n+e.byteLength<=u.byteLength,`invalid buffer subdata call, buffer is too small.  Can't write data of size `+e.byteLength+` starting from offset `+n+` to a buffer of size `+u.byteLength),t.bufferSubData(u.type,n,e)}function h(t,n){var r=(n||0)|0,i;if(u.bind(),e(t)||t instanceof ArrayBuffer)m(t,r);else if(Array.isArray(t)){if(t.length>0)if(typeof t[0]==`number`){var a=Je.allocType(u.dtype,t.length);$t(a,t),m(a,r),Je.freeType(a)}else if(Array.isArray(t[0])||e(t[0])){i=Kt(t);var o=Gt(t,i,u.dtype);m(o,r),Je.freeType(o)}else z.raise(`invalid buffer data`)}else if(Nt(t)){i=t.shape;var s=t.stride,c=0,l=0,f=0,p=0;i.length===1?(c=i[0],l=1,f=s[0],p=0):i.length===2?(c=i[0],l=i[1],f=s[0],p=s[1]):z.raise(`invalid shape`);var h=Array.isArray(t.data)?u.dtype:Qt(t.data),g=Je.allocType(h,c*l);en(g,t.data,c,l,f,p,t.offset),m(g,r),Je.freeType(g)}else z.raise(`invalid data for buffer subdata`);return d}return c||d(i),d._reglType=`buffer`,d._buffer=u,d.subdata=h,r.profile&&(d.stats=u.stats),d.destroy=function(){p(u)},d}function h(){Pt(o).forEach(function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)})}return r.profile&&(n.getTotalBufferSize=function(){var e=0;return Object.keys(o).forEach(function(t){e+=o[t].stats.size}),e}),{create:m,createStream:l,destroyStream:u,clear:function(){Pt(o).forEach(p),c.forEach(p)},getBuffer:function(e){return e&&e._buffer instanceof s?e._buffer:null},restore:h,_initBuffer:f}}var nn={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},rn=0,an=1,on=4,sn=5120,cn=5121,ln=5122,un=5123,dn=5124,fn=5125,pn=34963,mn=35040,hn=35044;function gn(t,n,r,i){var a={},o=0,s={uint8:cn,uint16:un};n.oes_element_index_uint&&(s.uint32=fn);function c(e){this.id=o++,a[this.id]=this,this.buffer=e,this.primType=on,this.vertCount=0,this.type=0}c.prototype.bind=function(){this.buffer.bind()};var l=[];function u(e){var t=l.pop();return t||=new c(r.create(null,pn,!0,!1)._buffer),f(t,e,mn,-1,-1,0,0),t}function d(e){l.push(e)}function f(i,a,o,s,c,l,u){i.buffer.bind();var d;if(a){var f=u;!u&&(!e(a)||Nt(a)&&!e(a.data))&&(f=n.oes_element_index_uint?fn:un),r._initBuffer(i.buffer,a,o,f,3)}else t.bufferData(pn,l,o),i.buffer.dtype=d||cn,i.buffer.usage=o,i.buffer.dimension=3,i.buffer.byteLength=l;if(d=u,!u){switch(i.buffer.dtype){case cn:case sn:d=cn;break;case un:case ln:d=un;break;case fn:case dn:d=fn;break;default:z.raise(`unsupported type for element array`)}i.buffer.dtype=d}i.type=d,z(d!==fn||!!n.oes_element_index_uint,`32 bit element buffers not supported, enable oes_element_index_uint first`);var p=c;p<0&&(p=i.buffer.byteLength,d===un?p>>=1:d===fn&&(p>>=2)),i.vertCount=p;var m=s;if(s<0){m=on;var h=i.buffer.dimension;h===1&&(m=rn),h===2&&(m=an),h===3&&(m=on)}i.primType=m}function p(e){i.elementsCount--,z(e.buffer!==null,`must not double destroy elements`),delete a[e.id],e.buffer.destroy(),e.buffer=null}function m(t,n){var a=r.create(null,pn,!0),o=new c(a._buffer);i.elementsCount++;function l(t){if(!t)a(),o.primType=on,o.vertCount=0,o.type=cn;else if(typeof t==`number`)a(t),o.primType=on,o.vertCount=t|0,o.type=cn;else{var n=null,r=hn,i=-1,c=-1,u=0,d=0;Array.isArray(t)||e(t)||Nt(t)?n=t:(z.type(t,`object`,`invalid arguments for elements`),`data`in t&&(n=t.data,z(Array.isArray(n)||e(n)||Nt(n),`invalid data for element buffer`)),`usage`in t&&(z.parameter(t.usage,Wt,`invalid element buffer usage`),r=Wt[t.usage]),`primitive`in t&&(z.parameter(t.primitive,nn,`invalid element buffer primitive`),i=nn[t.primitive]),`count`in t&&(z(typeof t.count==`number`&&t.count>=0,`invalid vertex count for elements`),c=t.count|0),`type`in t&&(z.parameter(t.type,s,`invalid buffer type`),d=s[t.type]),`length`in t?u=t.length|0:(u=c,d===un||d===ln?u*=2:(d===fn||d===dn)&&(u*=4))),f(o,n,r,i,c,u,d)}return l}return l(t),l._reglType=`elements`,l._elements=o,l.subdata=function(e,t){return a.subdata(e,t),l},l.destroy=function(){p(o)},l}return{create:m,createStream:u,destroyStream:d,getElements:function(e){return typeof e==`function`&&e._elements instanceof c?e._elements:null},clear:function(){Pt(a).forEach(p)}}}var _n=new Float32Array(1),vn=new Uint32Array(_n.buffer),yn=5123;function bn(e){for(var t=Je.allocType(yn,e.length),n=0;n<e.length;++n)if(isNaN(e[n]))t[n]=65535;else if(e[n]===1/0)t[n]=31744;else if(e[n]===-1/0)t[n]=64512;else{_n[0]=e[n];var r=vn[0],i=r>>>31<<15,a=(r<<1>>>24)-127,o=r>>13&1023;if(a<-24)t[n]=i;else if(a<-14){var s=-14-a;t[n]=i+(o+1024>>s)}else a>15?t[n]=i+31744:t[n]=i+(a+15<<10)+o}return t}function xn(t){return Array.isArray(t)||e(t)}var Sn=function(e){return!(e&e-1)&&!!e},Cn=34467,wn=3553,Tn=34067,En=34069,Dn=6408,On=6406,kn=6407,An=6409,jn=6410,Mn=32854,Nn=32855,Pn=36194,Fn=32819,In=32820,Ln=33635,Rn=34042,zn=6402,Bn=34041,Vn=35904,Hn=35906,Un=36193,Wn=33776,Gn=33777,Kn=33778,qn=33779,Jn=35986,Yn=35987,Xn=34798,Zn=35840,Qn=35841,$n=35842,er=35843,tr=36196,nr=5121,rr=5123,ir=5125,ar=5126,or=10242,sr=10243,cr=10497,lr=33071,ur=33648,dr=10240,fr=10241,pr=9728,mr=9729,hr=9984,gr=9985,_r=9986,vr=9987,yr=33170,br=4352,xr=4353,Sr=4354,Cr=34046,wr=3317,Tr=37440,Er=37441,Dr=37443,Or=37444,kr=33984,Ar=[hr,_r,gr,vr],jr=[0,An,jn,kn,Dn],Mr={};Mr[An]=Mr[On]=Mr[zn]=1,Mr[Bn]=Mr[jn]=2,Mr[kn]=Mr[Vn]=3,Mr[Dn]=Mr[Hn]=4;function Nr(e){return`[object `+e+`]`}var Pr=Nr(`HTMLCanvasElement`),Fr=Nr(`OffscreenCanvas`),Ir=Nr(`CanvasRenderingContext2D`),Lr=Nr(`ImageBitmap`),Rr=Nr(`HTMLImageElement`),zr=Nr(`HTMLVideoElement`),Br=Object.keys(Ht).concat([Pr,Fr,Ir,Lr,Rr,zr]),Vr=[];Vr[nr]=1,Vr[ar]=4,Vr[Un]=2,Vr[rr]=2,Vr[ir]=4;var Hr=[];Hr[Mn]=2,Hr[Nn]=2,Hr[Pn]=2,Hr[Bn]=4,Hr[Wn]=.5,Hr[Gn]=.5,Hr[Kn]=1,Hr[qn]=1,Hr[Jn]=.5,Hr[Yn]=1,Hr[Xn]=1,Hr[Zn]=.5,Hr[Qn]=.25,Hr[$n]=.5,Hr[er]=.25,Hr[tr]=.5;function Ur(e){return Array.isArray(e)&&(e.length===0||typeof e[0]==`number`)}function Wr(e){return!(!Array.isArray(e)||e.length===0||!xn(e[0]))}function Gr(e){return Object.prototype.toString.call(e)}function Kr(e){return Gr(e)===Pr}function qr(e){return Gr(e)===Fr}function Jr(e){return Gr(e)===Ir}function U(e){return Gr(e)===Lr}function Yr(e){return Gr(e)===Rr}function Xr(e){return Gr(e)===zr}function Zr(e){if(!e)return!1;var t=Gr(e);return Br.indexOf(t)>=0?!0:Ur(e)||Wr(e)||Nt(e)}function Qr(e){return Ht[Object.prototype.toString.call(e)]|0}function $r(e,t){var n=t.length;switch(e.type){case nr:case rr:case ir:case ar:var r=Je.allocType(e.type,n);r.set(t),e.data=r;break;case Un:e.data=bn(t);break;default:z.raise(`unsupported texture type, must specify a typed array`)}}function ei(e,t){return Je.allocType(e.type===Un?ar:e.type,t)}function W(e,t){e.type===Un?(e.data=bn(t),Je.freeType(t)):e.data=t}function ti(e,t,n,r,i,a){for(var o=e.width,s=e.height,c=e.channels,l=o*s*c,u=ei(e,l),d=0,f=0;f<s;++f)for(var p=0;p<o;++p)for(var m=0;m<c;++m)u[d++]=t[n*p+r*f+i*m+a];W(e,u)}function ni(e,t,n,r,i,a){var o=Hr[e]===void 0?Mr[e]*Vr[t]:Hr[e];if(a&&(o*=6),i){for(var s=0,c=n;c>=1;)s+=o*c*c,c/=2;return s}else return o*n*r}function ri(n,r,i,a,o,s,c){var l={"don't care":br,"dont care":br,nice:Sr,fast:xr},u={repeat:cr,clamp:lr,mirror:ur},d={nearest:pr,linear:mr},f=t({mipmap:vr,"nearest mipmap nearest":hr,"linear mipmap nearest":gr,"nearest mipmap linear":_r,"linear mipmap linear":vr},d),p={none:0,browser:Or},m={uint8:nr,rgba4:Fn,rgb565:Ln,"rgb5 a1":In},h={alpha:On,luminance:An,"luminance alpha":jn,rgb:kn,rgba:Dn,rgba4:Mn,"rgb5 a1":Nn,rgb565:Pn},g={};r.ext_srgb&&(h.srgb=Vn,h.srgba=Hn),r.oes_texture_float&&(m.float32=m.float=ar),r.oes_texture_half_float&&(m.float16=m[`half float`]=Un),r.webgl_depth_texture&&(t(h,{depth:zn,"depth stencil":Bn}),t(m,{uint16:rr,uint32:ir,"depth stencil":Rn})),r.webgl_compressed_texture_s3tc&&t(g,{"rgb s3tc dxt1":Wn,"rgba s3tc dxt1":Gn,"rgba s3tc dxt3":Kn,"rgba s3tc dxt5":qn}),r.webgl_compressed_texture_atc&&t(g,{"rgb atc":Jn,"rgba atc explicit alpha":Yn,"rgba atc interpolated alpha":Xn}),r.webgl_compressed_texture_pvrtc&&t(g,{"rgb pvrtc 4bppv1":Zn,"rgb pvrtc 2bppv1":Qn,"rgba pvrtc 4bppv1":$n,"rgba pvrtc 2bppv1":er}),r.webgl_compressed_texture_etc1&&(g[`rgb etc1`]=tr);var _=Array.prototype.slice.call(n.getParameter(Cn));Object.keys(g).forEach(function(e){var t=g[e];_.indexOf(t)>=0&&(h[e]=t)});var v=Object.keys(h);i.textureFormats=v;var y=[];Object.keys(h).forEach(function(e){var t=h[e];y[t]=e});var b=[];Object.keys(m).forEach(function(e){var t=m[e];b[t]=e});var x=[];Object.keys(d).forEach(function(e){var t=d[e];x[t]=e});var S=[];Object.keys(f).forEach(function(e){var t=f[e];S[t]=e});var C=[];Object.keys(u).forEach(function(e){var t=u[e];C[t]=e});var w=v.reduce(function(e,t){var n=h[t];return n===An||n===On||n===An||n===jn||n===zn||n===Bn||r.ext_srgb&&(n===Vn||n===Hn)?e[n]=n:n===Nn||t.indexOf(`rgba`)>=0?e[n]=Dn:e[n]=kn,e},{});function T(){this.internalformat=Dn,this.format=Dn,this.type=nr,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Or,this.width=0,this.height=0,this.channels=0}function E(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function D(e,t){if(!(typeof t!=`object`||!t)){if(`premultiplyAlpha`in t&&(z.type(t.premultiplyAlpha,`boolean`,`invalid premultiplyAlpha`),e.premultiplyAlpha=t.premultiplyAlpha),`flipY`in t&&(z.type(t.flipY,`boolean`,`invalid texture flip`),e.flipY=t.flipY),`alignment`in t&&(z.oneOf(t.alignment,[1,2,4,8],`invalid texture unpack alignment`),e.unpackAlignment=t.alignment),`colorSpace`in t&&(z.parameter(t.colorSpace,p,`invalid colorSpace`),e.colorSpace=p[t.colorSpace]),`type`in t){var n=t.type;z(r.oes_texture_float||!(n===`float`||n===`float32`),`you must enable the OES_texture_float extension in order to use floating point textures.`),z(r.oes_texture_half_float||!(n===`half float`||n===`float16`),`you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures.`),z(r.webgl_depth_texture||!(n===`uint16`||n===`uint32`||n===`depth stencil`),`you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures.`),z.parameter(n,m,`invalid texture type`),e.type=m[n]}var a=e.width,o=e.height,s=e.channels,c=!1;`shape`in t?(z(Array.isArray(t.shape)&&t.shape.length>=2,`shape must be an array`),a=t.shape[0],o=t.shape[1],t.shape.length===3&&(s=t.shape[2],z(s>0&&s<=4,`invalid number of channels`),c=!0),z(a>=0&&a<=i.maxTextureSize,`invalid width`),z(o>=0&&o<=i.maxTextureSize,`invalid height`)):(`radius`in t&&(a=o=t.radius,z(a>=0&&a<=i.maxTextureSize,`invalid radius`)),`width`in t&&(a=t.width,z(a>=0&&a<=i.maxTextureSize,`invalid width`)),`height`in t&&(o=t.height,z(o>=0&&o<=i.maxTextureSize,`invalid height`)),`channels`in t&&(s=t.channels,z(s>0&&s<=4,`invalid number of channels`),c=!0)),e.width=a|0,e.height=o|0,e.channels=s|0;var l=!1;if(`format`in t){var u=t.format;z(r.webgl_depth_texture||!(u===`depth`||u===`depth stencil`),`you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures.`),z.parameter(u,h,`invalid texture format`);var d=e.internalformat=h[u];e.format=w[d],u in m&&(`type`in t||(e.type=m[u])),u in g&&(e.compressed=!0),l=!0}!c&&l?e.channels=Mr[e.format]:c&&!l?e.channels!==jr[e.format]&&(e.format=e.internalformat=jr[e.channels]):l&&c&&z(e.channels===Mr[e.format],`number of channels inconsistent with specified format`)}}function O(e){n.pixelStorei(Tr,e.flipY),n.pixelStorei(Er,e.premultiplyAlpha),n.pixelStorei(Dr,e.colorSpace),n.pixelStorei(wr,e.unpackAlignment)}function k(){T.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function A(t,n){var r=null;if(Zr(n)?r=n:n&&(z.type(n,`object`,`invalid pixel data type`),D(t,n),`x`in n&&(t.xOffset=n.x|0),`y`in n&&(t.yOffset=n.y|0),Zr(n.data)&&(r=n.data)),z(!t.compressed||r instanceof Uint8Array,`compressed texture data must be stored in a uint8array`),n.copy){z(!r,`can not specify copy and data field for the same texture`);var a=o.viewportWidth,s=o.viewportHeight;t.width=t.width||a-t.xOffset,t.height=t.height||s-t.yOffset,t.needsCopy=!0,z(t.xOffset>=0&&t.xOffset<a&&t.yOffset>=0&&t.yOffset<s&&t.width>0&&t.width<=a&&t.height>0&&t.height<=s,`copy texture read out of bounds`)}else if(!r)t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4;else if(e(r))t.channels=t.channels||4,t.data=r,!(`type`in n)&&t.type===nr&&(t.type=Qr(r));else if(Ur(r))t.channels=t.channels||4,$r(t,r),t.alignment=1,t.needsFree=!0;else if(Nt(r)){var c=r.data;!Array.isArray(c)&&t.type===nr&&(t.type=Qr(c));var l=r.shape,u=r.stride,d,f,p,m,h,g;l.length===3?(p=l[2],g=u[2]):(z(l.length===2,`invalid ndarray pixel data, must be 2 or 3D`),p=1,g=1),d=l[0],f=l[1],m=u[0],h=u[1],t.alignment=1,t.width=d,t.height=f,t.channels=p,t.format=t.internalformat=jr[p],t.needsFree=!0,ti(t,c,m,h,g,r.offset)}else if(Kr(r)||qr(r)||Jr(r))Kr(r)||qr(r)?t.element=r:t.element=r.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(U(r))t.element=r,t.width=r.width,t.height=r.height,t.channels=4;else if(Yr(r))t.element=r,t.width=r.naturalWidth,t.height=r.naturalHeight,t.channels=4;else if(Xr(r))t.element=r,t.width=r.videoWidth,t.height=r.videoHeight,t.channels=4;else if(Wr(r)){var _=t.width||r[0].length,v=t.height||r.length,y=t.channels;xn(r[0][0])?y||=r[0][0].length:y||=1;for(var b=Ft.shape(r),x=1,S=0;S<b.length;++S)x*=b[S];var C=ei(t,x);Ft.flatten(r,b,``,C),W(t,C),t.alignment=1,t.width=_,t.height=v,t.channels=y,t.format=t.internalformat=jr[y],t.needsFree=!0}t.type===ar?z(i.extensions.indexOf(`oes_texture_float`)>=0,`oes_texture_float extension not enabled`):t.type===Un&&z(i.extensions.indexOf(`oes_texture_half_float`)>=0,`oes_texture_half_float extension not enabled`)}function j(e,t,r){var i=e.element,o=e.data,s=e.internalformat,c=e.format,l=e.type,u=e.width,d=e.height;O(e),i?n.texImage2D(t,r,c,c,l,i):e.compressed?n.compressedTexImage2D(t,r,s,u,d,0,o):e.needsCopy?(a(),n.copyTexImage2D(t,r,c,e.xOffset,e.yOffset,u,d,0)):n.texImage2D(t,r,c,u,d,0,c,l,o||null)}function M(e,t,r,i,o){var s=e.element,c=e.data,l=e.internalformat,u=e.format,d=e.type,f=e.width,p=e.height;O(e),s?n.texSubImage2D(t,o,r,i,u,d,s):e.compressed?n.compressedTexSubImage2D(t,o,r,i,l,f,p,c):e.needsCopy?(a(),n.copyTexSubImage2D(t,o,r,i,e.xOffset,e.yOffset,f,p)):n.texSubImage2D(t,o,r,i,f,p,u,d,c)}var N=[];function P(){return N.pop()||new k}function F(e){e.needsFree&&Je.freeType(e.data),k.call(e),N.push(e)}function ee(){T.call(this),this.genMipmaps=!1,this.mipmapHint=br,this.mipmask=0,this.images=Array(16)}function I(e,t,n){var r=e.images[0]=P();e.mipmask=1,r.width=e.width=t,r.height=e.height=n,r.channels=e.channels=4}function te(e,t){var n=null;if(Zr(t))n=e.images[0]=P(),E(n,e),A(n,t),e.mipmask=1;else if(D(e,t),Array.isArray(t.mipmap))for(var r=t.mipmap,i=0;i<r.length;++i)n=e.images[i]=P(),E(n,e),n.width>>=i,n.height>>=i,A(n,r[i]),e.mipmask|=1<<i;else n=e.images[0]=P(),E(n,e),A(n,t),e.mipmask=1;E(e,e.images[0]),e.compressed&&(e.internalformat===Wn||e.internalformat===Gn||e.internalformat===Kn||e.internalformat===qn)&&z(e.width%4==0&&e.height%4==0,`for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4`)}function L(e,t){for(var n=e.images,r=0;r<n.length;++r){if(!n[r])return;j(n[r],t,r)}}var ne=[];function re(){var e=ne.pop()||new ee;T.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function ie(e){for(var t=e.images,n=0;n<t.length;++n)t[n]&&F(t[n]),t[n]=null;ne.push(e)}function R(){this.minFilter=pr,this.magFilter=pr,this.wrapS=lr,this.wrapT=lr,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=br}function ae(e,t){if(`min`in t){var n=t.min;z.parameter(n,f),e.minFilter=f[n],Ar.indexOf(e.minFilter)>=0&&!(`faces`in t)&&(e.genMipmaps=!0)}if(`mag`in t){var r=t.mag;z.parameter(r,d),e.magFilter=d[r]}var a=e.wrapS,o=e.wrapT;if(`wrap`in t){var s=t.wrap;typeof s==`string`?(z.parameter(s,u),a=o=u[s]):Array.isArray(s)&&(z.parameter(s[0],u),z.parameter(s[1],u),a=u[s[0]],o=u[s[1]])}else{if(`wrapS`in t){var c=t.wrapS;z.parameter(c,u),a=u[c]}if(`wrapT`in t){var p=t.wrapT;z.parameter(p,u),o=u[p]}}if(e.wrapS=a,e.wrapT=o,`anisotropic`in t){var m=t.anisotropic;z(typeof m==`number`&&m>=1&&m<=i.maxAnisotropic,`aniso samples must be between 1 and `),e.anisotropic=t.anisotropic}if(`mipmap`in t){var h=!1;switch(typeof t.mipmap){case`string`:z.parameter(t.mipmap,l,`invalid mipmap hint`),e.mipmapHint=l[t.mipmap],e.genMipmaps=!0,h=!0;break;case`boolean`:h=e.genMipmaps=t.mipmap;break;case`object`:z(Array.isArray(t.mipmap),`invalid mipmap type`),e.genMipmaps=!1,h=!0;break;default:z.raise(`invalid mipmap type`)}h&&!(`min`in t)&&(e.minFilter=hr)}}function oe(e,t){n.texParameteri(t,fr,e.minFilter),n.texParameteri(t,dr,e.magFilter),n.texParameteri(t,or,e.wrapS),n.texParameteri(t,sr,e.wrapT),r.ext_texture_filter_anisotropic&&n.texParameteri(t,Cr,e.anisotropic),e.genMipmaps&&(n.hint(yr,e.mipmapHint),n.generateMipmap(t))}var se=0,ce={},le=i.maxTextureUnits,ue=Array(le).map(function(){return null});function de(e){T.call(this),this.mipmask=0,this.internalformat=Dn,this.id=se++,this.refCount=1,this.target=e,this.texture=n.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new R,c.profile&&(this.stats={size:0})}function fe(e){n.activeTexture(kr),n.bindTexture(e.target,e.texture)}function pe(){var e=ue[0];e?n.bindTexture(e.target,e.texture):n.bindTexture(wn,null)}function me(e){var t=e.texture;z(t,`must not double destroy texture`);var r=e.unit,i=e.target;r>=0&&(n.activeTexture(kr+r),n.bindTexture(i,null),ue[r]=null),n.deleteTexture(t),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete ce[e.id],s.textureCount--}t(de.prototype,{bind:function(){var e=this;e.bindCount+=1;var t=e.unit;if(t<0){for(var r=0;r<le;++r){var i=ue[r];if(i){if(i.bindCount>0)continue;i.unit=-1}ue[r]=e,t=r;break}t>=le&&z.raise(`insufficient number of texture units`),c.profile&&s.maxTextureUnits<t+1&&(s.maxTextureUnits=t+1),e.unit=t,n.activeTexture(kr+t),n.bindTexture(e.target,e.texture)}return t},unbind:function(){--this.bindCount},decRef:function(){--this.refCount<=0&&me(this)}});function he(e,t){var r=new de(wn);ce[r.id]=r,s.textureCount++;function a(e,t){var n=r.texInfo;R.call(n);var o=re();return typeof e==`number`?typeof t==`number`?I(o,e|0,t|0):I(o,e|0,e|0):e?(z.type(e,`object`,`invalid arguments to regl.texture`),ae(n,e),te(o,e)):I(o,1,1),n.genMipmaps&&(o.mipmask=(o.width<<1)-1),r.mipmask=o.mipmask,E(r,o),z.texture2D(n,o,i),r.internalformat=o.internalformat,a.width=o.width,a.height=o.height,fe(r),L(o,wn),oe(n,wn),pe(),ie(o),c.profile&&(r.stats.size=ni(r.internalformat,r.type,o.width,o.height,n.genMipmaps,!1)),a.format=y[r.internalformat],a.type=b[r.type],a.mag=x[n.magFilter],a.min=S[n.minFilter],a.wrapS=C[n.wrapS],a.wrapT=C[n.wrapT],a}function o(e,t,n,i){z(!!e,`must specify image data`);var o=t|0,s=n|0,c=i|0,l=P();return E(l,r),l.width=0,l.height=0,A(l,e),l.width=l.width||(r.width>>c)-o,l.height=l.height||(r.height>>c)-s,z(r.type===l.type&&r.format===l.format&&r.internalformat===l.internalformat,`incompatible format for texture.subimage`),z(o>=0&&s>=0&&o+l.width<=r.width&&s+l.height<=r.height,`texture.subimage write out of bounds`),z(r.mipmask&1<<c,`missing mipmap data`),z(l.data||l.element||l.needsCopy,`missing image data`),fe(r),M(l,wn,o,s,c),pe(),F(l),a}function l(e,t){var i=e|0,o=t|0||i;if(i===r.width&&o===r.height)return a;a.width=r.width=i,a.height=r.height=o,fe(r);for(var s=0;r.mipmask>>s;++s){var l=i>>s,u=o>>s;if(!l||!u)break;n.texImage2D(wn,s,r.format,l,u,0,r.format,r.type,null)}return pe(),c.profile&&(r.stats.size=ni(r.internalformat,r.type,i,o,!1,!1)),a}return a(e,t),a.subimage=o,a.resize=l,a._reglType=`texture2d`,a._texture=r,c.profile&&(a.stats=r.stats),a.destroy=function(){r.decRef()},a}function ge(e,t,r,a,o,l){var u=new de(Tn);ce[u.id]=u,s.cubeCount++;var d=[,,,,,,];function f(e,t,n,r,a,o){var s,l=u.texInfo;for(R.call(l),s=0;s<6;++s)d[s]=re();if(typeof e==`number`||!e){var p=e|0||1;for(s=0;s<6;++s)I(d[s],p,p)}else if(typeof e==`object`)if(t)te(d[0],e),te(d[1],t),te(d[2],n),te(d[3],r),te(d[4],a),te(d[5],o);else if(ae(l,e),D(u,e),`faces`in e){var m=e.faces;for(z(Array.isArray(m)&&m.length===6,`cube faces must be a length 6 array`),s=0;s<6;++s)z(typeof m[s]==`object`&&!!m[s],`invalid input for cube map face`),E(d[s],u),te(d[s],m[s])}else for(s=0;s<6;++s)te(d[s],e);else z.raise(`invalid arguments to cube map`);for(E(u,d[0]),i.npotTextureCube||z(Sn(u.width)&&Sn(u.height),`your browser does not support non power or two texture dimensions`),l.genMipmaps?u.mipmask=(d[0].width<<1)-1:u.mipmask=d[0].mipmask,z.textureCube(u,l,d,i),u.internalformat=d[0].internalformat,f.width=d[0].width,f.height=d[0].height,fe(u),s=0;s<6;++s)L(d[s],En+s);for(oe(l,Tn),pe(),c.profile&&(u.stats.size=ni(u.internalformat,u.type,f.width,f.height,l.genMipmaps,!0)),f.format=y[u.internalformat],f.type=b[u.type],f.mag=x[l.magFilter],f.min=S[l.minFilter],f.wrapS=C[l.wrapS],f.wrapT=C[l.wrapT],s=0;s<6;++s)ie(d[s]);return f}function p(e,t,n,r,i){z(!!t,`must specify image data`),z(typeof e==`number`&&e===(e|0)&&e>=0&&e<6,`invalid face`);var a=n|0,o=r|0,s=i|0,c=P();return E(c,u),c.width=0,c.height=0,A(c,t),c.width=c.width||(u.width>>s)-a,c.height=c.height||(u.height>>s)-o,z(u.type===c.type&&u.format===c.format&&u.internalformat===c.internalformat,`incompatible format for texture.subimage`),z(a>=0&&o>=0&&a+c.width<=u.width&&o+c.height<=u.height,`texture.subimage write out of bounds`),z(u.mipmask&1<<s,`missing mipmap data`),z(c.data||c.element||c.needsCopy,`missing image data`),fe(u),M(c,En+e,a,o,s),pe(),F(c),f}function m(e){var t=e|0;if(t!==u.width){f.width=u.width=t,f.height=u.height=t,fe(u);for(var r=0;r<6;++r)for(var i=0;u.mipmask>>i;++i)n.texImage2D(En+r,i,u.format,t>>i,t>>i,0,u.format,u.type,null);return pe(),c.profile&&(u.stats.size=ni(u.internalformat,u.type,f.width,f.height,!1,!0)),f}}return f(e,t,r,a,o,l),f.subimage=p,f.resize=m,f._reglType=`textureCube`,f._texture=u,c.profile&&(f.stats=u.stats),f.destroy=function(){u.decRef()},f}function _e(){for(var e=0;e<le;++e)n.activeTexture(kr+e),n.bindTexture(wn,null),ue[e]=null;Pt(ce).forEach(me),s.cubeCount=0,s.textureCount=0}c.profile&&(s.getTotalTextureSize=function(){var e=0;return Object.keys(ce).forEach(function(t){e+=ce[t].stats.size}),e});function ve(){for(var e=0;e<le;++e){var t=ue[e];t&&(t.bindCount=0,t.unit=-1,ue[e]=null)}Pt(ce).forEach(function(e){e.texture=n.createTexture(),n.bindTexture(e.target,e.texture);for(var t=0;t<32;++t)if(e.mipmask&1<<t)if(e.target===wn)n.texImage2D(wn,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);else for(var r=0;r<6;++r)n.texImage2D(En+r,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);oe(e.texInfo,e.target)})}return{create2D:he,createCube:ge,clear:_e,getTexture:function(e){return null},restore:ve}}var ii=36161,ai=32854,oi=32855,si=36194,ci=33189,li=36168,ui=34041,di=35907,fi=34836,pi=34842,mi=34843,hi=[];hi[ai]=2,hi[oi]=2,hi[si]=2,hi[ci]=2,hi[li]=1,hi[ui]=4,hi[di]=4,hi[fi]=16,hi[pi]=8,hi[mi]=6;function gi(e,t,n){return hi[e]*t*n}var _i=function(e,t,n,r,i){var a={rgba4:ai,rgb565:si,"rgb5 a1":oi,depth:ci,stencil:li,"depth stencil":ui};t.ext_srgb&&(a.srgba=di),t.ext_color_buffer_half_float&&(a.rgba16f=pi,a.rgb16f=mi),t.webgl_color_buffer_float&&(a.rgba32f=fi);var o=[];Object.keys(a).forEach(function(e){var t=a[e];o[t]=e});var s=0,c={};function l(e){this.id=s++,this.refCount=1,this.renderbuffer=e,this.format=ai,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}l.prototype.decRef=function(){--this.refCount<=0&&u(this)};function u(t){var n=t.renderbuffer;z(n,`must not double destroy renderbuffer`),e.bindRenderbuffer(ii,null),e.deleteRenderbuffer(n),t.renderbuffer=null,t.refCount=0,delete c[t.id],r.renderbufferCount--}function d(t,s){var u=new l(e.createRenderbuffer());c[u.id]=u,r.renderbufferCount++;function d(t,r){var s=0,c=0,l=ai;if(typeof t==`object`&&t){var f=t;if(`shape`in f){var p=f.shape;z(Array.isArray(p)&&p.length>=2,`invalid renderbuffer shape`),s=p[0]|0,c=p[1]|0}else `radius`in f&&(s=c=f.radius|0),`width`in f&&(s=f.width|0),`height`in f&&(c=f.height|0);`format`in f&&(z.parameter(f.format,a,`invalid renderbuffer format`),l=a[f.format])}else typeof t==`number`?(s=t|0,c=typeof r==`number`?r|0:s):t?z.raise(`invalid arguments to renderbuffer constructor`):s=c=1;if(z(s>0&&c>0&&s<=n.maxRenderbufferSize&&c<=n.maxRenderbufferSize,`invalid renderbuffer size`),!(s===u.width&&c===u.height&&l===u.format))return d.width=u.width=s,d.height=u.height=c,u.format=l,e.bindRenderbuffer(ii,u.renderbuffer),e.renderbufferStorage(ii,l,s,c),z(e.getError()===0,`invalid render buffer format`),i.profile&&(u.stats.size=gi(u.format,u.width,u.height)),d.format=o[u.format],d}function f(t,r){var a=t|0,o=r|0||a;return a===u.width&&o===u.height?d:(z(a>0&&o>0&&a<=n.maxRenderbufferSize&&o<=n.maxRenderbufferSize,`invalid renderbuffer size`),d.width=u.width=a,d.height=u.height=o,e.bindRenderbuffer(ii,u.renderbuffer),e.renderbufferStorage(ii,u.format,a,o),z(e.getError()===0,`invalid render buffer format`),i.profile&&(u.stats.size=gi(u.format,u.width,u.height)),d)}return d(t,s),d.resize=f,d._reglType=`renderbuffer`,d._renderbuffer=u,i.profile&&(d.stats=u.stats),d.destroy=function(){u.decRef()},d}i.profile&&(r.getTotalRenderbufferSize=function(){var e=0;return Object.keys(c).forEach(function(t){e+=c[t].stats.size}),e});function f(){Pt(c).forEach(function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(ii,t.renderbuffer),e.renderbufferStorage(ii,t.format,t.width,t.height)}),e.bindRenderbuffer(ii,null)}return{create:d,clear:function(){Pt(c).forEach(u)},restore:f}},vi=36160,yi=36161,bi=3553,xi=34069,Si=36064,Ci=36096,wi=36128,G=33306,K=36053,Ti=36054,Ei=36055,Di=36057,Oi=36061,ki=36193,Ai=5121,ji=5126,Mi=6407,Ni=6408,Pi=6402,Fi=[Mi,Ni],Ii=[];Ii[Ni]=4,Ii[Mi]=3;var Li=[];Li[Ai]=1,Li[ji]=4,Li[ki]=2;var Ri=32854,zi=32855,Bi=36194,Vi=33189,Hi=36168,Ui=34041,Wi=[Ri,zi,Bi,35907,34842,34843,34836],Gi={};Gi[K]=`complete`,Gi[Ti]=`incomplete attachment`,Gi[Di]=`incomplete dimensions`,Gi[Ei]=`incomplete, missing attachment`,Gi[Oi]=`unsupported`;function Ki(e,n,r,i,a,o){var s={cur:null,next:null,dirty:!1,setFBO:null},c=[`rgba`],l=[`rgba4`,`rgb565`,`rgb5 a1`];n.ext_srgb&&l.push(`srgba`),n.ext_color_buffer_half_float&&l.push(`rgba16f`,`rgb16f`),n.webgl_color_buffer_float&&l.push(`rgba32f`);var u=[`uint8`];n.oes_texture_half_float&&u.push(`half float`,`float16`),n.oes_texture_float&&u.push(`float`,`float32`);function d(e,t,n){this.target=e,this.texture=t,this.renderbuffer=n;var r=0,i=0;t?(r=t.width,i=t.height):n&&(r=n.width,i=n.height),this.width=r,this.height=i}function f(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function p(e,t,n){if(e)if(e.texture){var r=e.texture._texture,i=Math.max(1,r.width),a=Math.max(1,r.height);z(i===t&&a===n,`inconsistent width/height for supplied texture`),r.refCount+=1}else{var o=e.renderbuffer._renderbuffer;z(o.width===t&&o.height===n,`inconsistent width/height for renderbuffer`),o.refCount+=1}}function m(t,n){n&&(n.texture?e.framebufferTexture2D(vi,t,n.target,n.texture._texture.texture,0):e.framebufferRenderbuffer(vi,t,yi,n.renderbuffer._renderbuffer.renderbuffer))}function h(e){var t=bi,n=null,r=null,i=e;typeof e==`object`&&(i=e.data,`target`in e&&(t=e.target|0)),z.type(i,`function`,`invalid attachment data`);var a=i._reglType;return a===`texture2d`?(n=i,z(t===bi)):a===`textureCube`?(n=i,z(t>=xi&&t<xi+6,`invalid cube map target`)):a===`renderbuffer`?(r=i,t=yi):z.raise(`invalid regl object for attachment`),new d(t,n,r)}function g(e,t,n,r,o){if(n){var s=i.create2D({width:e,height:t,format:r,type:o});return s._texture.refCount=0,new d(bi,s,null)}else{var c=a.create({width:e,height:t,format:r});return c._renderbuffer.refCount=0,new d(yi,null,c)}}function _(e){return e&&(e.texture||e.renderbuffer)}function v(e,t,n){e&&(e.texture?e.texture.resize(t,n):e.renderbuffer&&e.renderbuffer.resize(t,n),e.width=t,e.height=n)}var y=0,b={};function x(){this.id=y++,b[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function S(e){e.colorAttachments.forEach(f),f(e.depthAttachment),f(e.stencilAttachment),f(e.depthStencilAttachment)}function C(t){var n=t.framebuffer;z(n,`must not double destroy framebuffer`),e.deleteFramebuffer(n),t.framebuffer=null,o.framebufferCount--,delete b[t.id]}function w(t){var n;e.bindFramebuffer(vi,t.framebuffer);var i=t.colorAttachments;for(n=0;n<i.length;++n)m(Si+n,i[n]);for(n=i.length;n<r.maxColorAttachments;++n)e.framebufferTexture2D(vi,Si+n,bi,null,0);e.framebufferTexture2D(vi,G,bi,null,0),e.framebufferTexture2D(vi,Ci,bi,null,0),e.framebufferTexture2D(vi,wi,bi,null,0),m(Ci,t.depthAttachment),m(wi,t.stencilAttachment),m(G,t.depthStencilAttachment);var a=e.checkFramebufferStatus(vi);!e.isContextLost()&&a!==K&&z.raise(`framebuffer configuration not supported, status = `+Gi[a]),e.bindFramebuffer(vi,s.next?s.next.framebuffer:null),s.cur=s.next,e.getError()}function T(e,i){var a=new x;o.framebufferCount++;function d(e,t){var i;z(s.next!==a,`can not update framebuffer which is currently in use`);var o=0,f=0,m=!0,v=!0,y=null,b=!0,x=`rgba`,C=`uint8`,T=1,E=null,D=null,O=null,k=!1;if(typeof e==`number`)o=e|0,f=t|0||o;else if(!e)o=f=1;else{z.type(e,`object`,`invalid arguments for framebuffer`);var A=e;if(`shape`in A){var j=A.shape;z(Array.isArray(j)&&j.length>=2,`invalid shape for framebuffer`),o=j[0],f=j[1]}else `radius`in A&&(o=f=A.radius),`width`in A&&(o=A.width),`height`in A&&(f=A.height);(`color`in A||`colors`in A)&&(y=A.color||A.colors,Array.isArray(y)&&z(y.length===1||n.webgl_draw_buffers,`multiple render targets not supported`)),y||(`colorCount`in A&&(T=A.colorCount|0,z(T>0,`invalid color buffer count`)),`colorTexture`in A&&(b=!!A.colorTexture,x=`rgba4`),`colorType`in A&&(C=A.colorType,b?(z(n.oes_texture_float||!(C===`float`||C===`float32`),`you must enable OES_texture_float in order to use floating point framebuffer objects`),z(n.oes_texture_half_float||!(C===`half float`||C===`float16`),`you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects`)):C===`half float`||C===`float16`?(z(n.ext_color_buffer_half_float,`you must enable EXT_color_buffer_half_float to use 16-bit render buffers`),x=`rgba16f`):(C===`float`||C===`float32`)&&(z(n.webgl_color_buffer_float,`you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers`),x=`rgba32f`),z.oneOf(C,u,`invalid color type`)),`colorFormat`in A&&(x=A.colorFormat,c.indexOf(x)>=0?b=!0:l.indexOf(x)>=0?b=!1:b?z.oneOf(A.colorFormat,c,`invalid color format for texture`):z.oneOf(A.colorFormat,l,`invalid color format for renderbuffer`))),(`depthTexture`in A||`depthStencilTexture`in A)&&(k=!!(A.depthTexture||A.depthStencilTexture),z(!k||n.webgl_depth_texture,`webgl_depth_texture extension not supported`)),`depth`in A&&(typeof A.depth==`boolean`?m=A.depth:(E=A.depth,v=!1)),`stencil`in A&&(typeof A.stencil==`boolean`?v=A.stencil:(D=A.stencil,m=!1)),`depthStencil`in A&&(typeof A.depthStencil==`boolean`?m=v=A.depthStencil:(O=A.depthStencil,m=!1,v=!1))}var M=null,N=null,P=null,F=null;if(Array.isArray(y))M=y.map(h);else if(y)M=[h(y)];else for(M=Array(T),i=0;i<T;++i)M[i]=g(o,f,b,x,C);z(n.webgl_draw_buffers||M.length<=1,`you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers.`),z(M.length<=r.maxColorAttachments,`too many color attachments, not supported`),o||=M[0].width,f||=M[0].height,E?N=h(E):m&&!v&&(N=g(o,f,k,`depth`,`uint32`)),D?P=h(D):v&&!m&&(P=g(o,f,!1,`stencil`,`uint8`)),O?F=h(O):!E&&!D&&v&&m&&(F=g(o,f,k,`depth stencil`,`depth stencil`)),z(!!E+!!D+!!O<=1,`invalid framebuffer configuration, can specify exactly one depth/stencil attachment`);var ee=null;for(i=0;i<M.length;++i)if(p(M[i],o,f),z(!M[i]||M[i].texture&&Fi.indexOf(M[i].texture._texture.format)>=0||M[i].renderbuffer&&Wi.indexOf(M[i].renderbuffer._renderbuffer.format)>=0,`framebuffer color attachment `+i+` is invalid`),M[i]&&M[i].texture){var I=Ii[M[i].texture._texture.format]*Li[M[i].texture._texture.type];ee===null?ee=I:z(ee===I,`all color attachments much have the same number of bits per pixel.`)}return p(N,o,f),z(!N||N.texture&&N.texture._texture.format===Pi||N.renderbuffer&&N.renderbuffer._renderbuffer.format===Vi,`invalid depth attachment for framebuffer object`),p(P,o,f),z(!P||P.renderbuffer&&P.renderbuffer._renderbuffer.format===Hi,`invalid stencil attachment for framebuffer object`),p(F,o,f),z(!F||F.texture&&F.texture._texture.format===Ui||F.renderbuffer&&F.renderbuffer._renderbuffer.format===Ui,`invalid depth-stencil attachment for framebuffer object`),S(a),a.width=o,a.height=f,a.colorAttachments=M,a.depthAttachment=N,a.stencilAttachment=P,a.depthStencilAttachment=F,d.color=M.map(_),d.depth=_(N),d.stencil=_(P),d.depthStencil=_(F),d.width=a.width,d.height=a.height,w(a),d}function f(e,t){z(s.next!==a,`can not resize a framebuffer which is currently in use`);var n=Math.max(e|0,1),r=Math.max(t|0||n,1);if(n===a.width&&r===a.height)return d;for(var i=a.colorAttachments,o=0;o<i.length;++o)v(i[o],n,r);return v(a.depthAttachment,n,r),v(a.stencilAttachment,n,r),v(a.depthStencilAttachment,n,r),a.width=d.width=n,a.height=d.height=r,w(a),d}return d(e,i),t(d,{resize:f,_reglType:`framebuffer`,_framebuffer:a,destroy:function(){C(a),S(a)},use:function(e){s.setFBO({framebuffer:d},e)}})}function E(e){var a=[,,,,,,];function o(e){var r;z(a.indexOf(s.next)<0,`can not update framebuffer which is currently in use`);var l={color:null},d=0,f=null,p=`rgba`,m=`uint8`,h=1;if(typeof e==`number`)d=e|0;else if(!e)d=1;else{z.type(e,`object`,`invalid arguments for framebuffer`);var g=e;if(`shape`in g){var _=g.shape;z(Array.isArray(_)&&_.length>=2,`invalid shape for framebuffer`),z(_[0]===_[1],`cube framebuffer must be square`),d=_[0]}else `radius`in g&&(d=g.radius|0),`width`in g?(d=g.width|0,`height`in g&&z(g.height===d,`must be square`)):`height`in g&&(d=g.height|0);(`color`in g||`colors`in g)&&(f=g.color||g.colors,Array.isArray(f)&&z(f.length===1||n.webgl_draw_buffers,`multiple render targets not supported`)),f||(`colorCount`in g&&(h=g.colorCount|0,z(h>0,`invalid color buffer count`)),`colorType`in g&&(z.oneOf(g.colorType,u,`invalid color type`),m=g.colorType),`colorFormat`in g&&(p=g.colorFormat,z.oneOf(g.colorFormat,c,`invalid color format for texture`))),`depth`in g&&(l.depth=g.depth),`stencil`in g&&(l.stencil=g.stencil),`depthStencil`in g&&(l.depthStencil=g.depthStencil)}var v;if(f)if(Array.isArray(f))for(v=[],r=0;r<f.length;++r)v[r]=f[r];else v=[f];else{v=Array(h);var y={radius:d,format:p,type:m};for(r=0;r<h;++r)v[r]=i.createCube(y)}for(l.color=Array(v.length),r=0;r<v.length;++r){var b=v[r];z(typeof b==`function`&&b._reglType===`textureCube`,`invalid cube map`),d||=b.width,z(b.width===d&&b.height===d,`invalid cube map shape`),l.color[r]={target:xi,data:v[r]}}for(r=0;r<6;++r){for(var x=0;x<v.length;++x)l.color[x].target=xi+r;r>0&&(l.depth=a[0].depth,l.stencil=a[0].stencil,l.depthStencil=a[0].depthStencil),a[r]?a[r](l):a[r]=T(l)}return t(o,{width:d,height:d,color:v})}function l(e){var t,n=e|0;if(z(n>0&&n<=r.maxCubeMapSize,`invalid radius for cube fbo`),n===o.width)return o;var i=o.color;for(t=0;t<i.length;++t)i[t].resize(n);for(t=0;t<6;++t)a[t].resize(n);return o.width=o.height=n,o}return o(e),t(o,{faces:a,resize:l,_reglType:`framebufferCube`,destroy:function(){a.forEach(function(e){e.destroy()})}})}function D(){s.cur=null,s.next=null,s.dirty=!0,Pt(b).forEach(function(t){t.framebuffer=e.createFramebuffer(),w(t)})}return t(s,{getFramebuffer:function(e){if(typeof e==`function`&&e._reglType===`framebuffer`){var t=e._framebuffer;if(t instanceof x)return t}return null},create:T,createCube:E,clear:function(){Pt(b).forEach(C)},restore:D})}var qi=5126,Ji=34962;function Yi(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=qi,this.offset=0,this.stride=0,this.divisor=0}function Xi(t,n,r,i,a){for(var o=r.maxAttributes,s=Array(o),c=0;c<o;++c)s[c]=new Yi;var l=0,u={},d={Record:Yi,scope:{},state:s,currentVAO:null,targetVAO:null,restore:p()?b:function(){},createVAO:x,getVAO:h,destroyBuffer:f,setVAO:p()?g:_,clear:p()?v:function(){}};function f(e){for(var n=0;n<s.length;++n){var r=s[n];r.buffer===e&&(t.disableVertexAttribArray(n),r.buffer=null)}}function p(){return n.oes_vertex_array_object}function m(){return n.angle_instanced_arrays}function h(e){return typeof e==`function`&&e._vao?e._vao:null}function g(e){if(e!==d.currentVAO){var t=p();e?t.bindVertexArrayOES(e.vao):t.bindVertexArrayOES(null),d.currentVAO=e}}function _(e){if(e!==d.currentVAO){if(e)e.bindAttrs();else for(var n=m(),r=0;r<s.length;++r){var i=s[r];i.buffer?(t.enableVertexAttribArray(r),t.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offfset),n&&n.vertexAttribDivisorANGLE(r,i.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}d.currentVAO=e}}function v(){Pt(u).forEach(function(e){e.destroy()})}function y(){this.id=++l,this.attributes=[];var e=p();e?this.vao=e.createVertexArrayOES():this.vao=null,u[this.id]=this,this.buffers=[]}y.prototype.bindAttrs=function(){for(var e=m(),n=this.attributes,r=0;r<n.length;++r){var i=n[r];i.buffer?(t.enableVertexAttribArray(r),t.bindBuffer(Ji,i.buffer.buffer),t.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offset),e&&e.vertexAttribDivisorANGLE(r,i.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}for(var a=n.length;a<o;++a)t.disableVertexAttribArray(a)},y.prototype.refresh=function(){var e=p();e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),d.currentVAO=this)},y.prototype.destroy=function(){if(this.vao){var e=p();this===d.currentVAO&&(d.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}u[this.id]&&(delete u[this.id],--i.vaoCount)};function b(){p()&&Pt(u).forEach(function(e){e.refresh()})}function x(t){var r=new y;i.vaoCount+=1;function s(t){z(Array.isArray(t),`arguments to vertex array constructor must be an array`),z(t.length<o,`too many attributes`),z(t.length>0,`must specify at least one attribute`);for(var i=0;i<r.buffers.length;++i)r.buffers[i].destroy();r.buffers.length=0;var c=r.attributes;c.length=t.length;for(var l=0;l<t.length;++l){var u=t[l],d=c[l]=new Yi;if(Array.isArray(u)||e(u)||Nt(u)){var f=a.create(u,Ji,!1,!0);d.buffer=a.getBuffer(f),d.size=d.buffer.dimension|0,d.normalized=!1,d.type=d.buffer.dtype,d.offset=0,d.stride=0,d.divisor=0,d.state=1,r.buffers.push(f)}else a.getBuffer(u)?(d.buffer=a.getBuffer(u),d.size=d.buffer.dimension|0,d.normalized=!1,d.type=d.buffer.dtype,d.offset=0,d.stride=0,d.divisor=0,d.state=1):a.getBuffer(u.buffer)?(d.buffer=a.getBuffer(u.buffer),d.size=(+u.size||d.buffer.dimension)|0,d.normalized=!!u.normalized||!1,`type`in u?(z.parameter(u.type,Ut,`invalid buffer type`),d.type=Ut[u.type]):d.type=d.buffer.dtype,d.offset=(u.offset||0)|0,d.stride=(u.stride||0)|0,d.divisor=(u.divisor||0)|0,d.state=1,z(d.size>=1&&d.size<=4,`size must be between 1 and 4`),z(d.offset>=0,`invalid offset`),z(d.stride>=0&&d.stride<=255,`stride must be between 0 and 255`),z(d.divisor>=0,`divisor must be positive`),z(!d.divisor||!!n.angle_instanced_arrays,`ANGLE_instanced_arrays must be enabled to use divisor`)):`x`in u?(z(l>0,`first attribute must not be a constant`),d.x=+u.x||0,d.y=+u.y||0,d.z=+u.z||0,d.w=+u.w||0,d.state=2):z(!1,`invalid attribute spec for location `+l)}return r.refresh(),s}return s.destroy=function(){r.destroy()},s._vao=r,s._reglType=`vao`,s(t)}return d}var Zi=35632,Qi=35633,$i=35718,ea=35721;function ta(e,t,n,r){var i={},a={};function o(e,t,n,r){this.name=e,this.id=t,this.location=n,this.info=r}function s(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t.id){e[n].location=t.location;return}e.push(t)}function c(n,r,o){var s=n===Zi?i:a,c=s[r];if(!c){var l=t.str(r);c=e.createShader(n),e.shaderSource(c,l),e.compileShader(c),z.shaderError(e,c,l,n,o),s[r]=c}return c}var l={},u=[],d=0;function f(e,t){this.id=d++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],r.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function p(n,i,a){var l,u,d=c(Zi,n.fragId),f=c(Qi,n.vertId),p=n.program=e.createProgram();if(e.attachShader(p,d),e.attachShader(p,f),a)for(l=0;l<a.length;++l){var m=a[l];e.bindAttribLocation(p,m[0],m[1])}e.linkProgram(p),z.linkError(e,p,t.str(n.fragId),t.str(n.vertId),i);var h=e.getProgramParameter(p,$i);r.profile&&(n.stats.uniformsCount=h);var g=n.uniforms;for(l=0;l<h;++l)if(u=e.getActiveUniform(p,l),u)if(u.size>1)for(var _=0;_<u.size;++_){var v=u.name.replace(`[0]`,`[`+_+`]`);s(g,new o(v,t.id(v),e.getUniformLocation(p,v),u))}else s(g,new o(u.name,t.id(u.name),e.getUniformLocation(p,u.name),u));var y=e.getProgramParameter(p,ea);r.profile&&(n.stats.attributesCount=y);var b=n.attributes;for(l=0;l<y;++l)u=e.getActiveAttrib(p,l),u&&s(b,new o(u.name,t.id(u.name),e.getAttribLocation(p,u.name),u))}r.profile&&(n.getMaxUniformsCount=function(){var e=0;return u.forEach(function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)}),e},n.getMaxAttributesCount=function(){var e=0;return u.forEach(function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)}),e});function m(){i={},a={};for(var e=0;e<u.length;++e)p(u[e],null,u[e].attributes.map(function(e){return[e.location,e.name]}))}return{clear:function(){var t=e.deleteShader.bind(e);Pt(i).forEach(t),i={},Pt(a).forEach(t),a={},u.forEach(function(t){e.deleteProgram(t.program)}),u.length=0,l={},n.shaderCount=0},program:function(e,t,r,i){z.command(e>=0,`missing vertex shader`,r),z.command(t>=0,`missing fragment shader`,r);var a=l[t];a||=l[t]={};var o=a[e];if(o&&!i)return o;var s=new f(t,e);return n.shaderCount++,p(s,r,i),o||(a[e]=s),u.push(s),s},restore:m,shader:c,frag:-1,vert:-1}}var na=6408,ra=5121,ia=3333,aa=5126;function oa(t,n,r,i,a,o,s){function c(c){var l;n.next===null?(z(a.preserveDrawingBuffer,`you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer`),l=ra):(z(n.next.colorAttachments[0].texture!==null,`You cannot read from a renderbuffer`),l=n.next.colorAttachments[0].texture._texture.type,o.oes_texture_float?(z(l===ra||l===aa,`Reading from a framebuffer is only allowed for the types 'uint8' and 'float'`),l===aa&&z(s.readFloat,`Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float`)):z(l===ra,`Reading from a framebuffer is only allowed for the type 'uint8'`));var u=0,d=0,f=i.framebufferWidth,p=i.framebufferHeight,m=null;e(c)?m=c:c&&(z.type(c,`object`,`invalid arguments to regl.read()`),u=c.x|0,d=c.y|0,z(u>=0&&u<i.framebufferWidth,`invalid x offset for regl.read`),z(d>=0&&d<i.framebufferHeight,`invalid y offset for regl.read`),f=(c.width||i.framebufferWidth-u)|0,p=(c.height||i.framebufferHeight-d)|0,m=c.data||null),m&&(l===ra?z(m instanceof Uint8Array,`buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'`):l===aa&&z(m instanceof Float32Array,`buffer must be 'Float32Array' when reading from a framebuffer of type 'float'`)),z(f>0&&f+u<=i.framebufferWidth,`invalid width for read pixels`),z(p>0&&p+d<=i.framebufferHeight,`invalid height for read pixels`),r();var h=f*p*4;return m||(l===ra?m=new Uint8Array(h):l===aa&&(m||=new Float32Array(h))),z.isTypedArray(m,`data buffer for regl.read() must be a typedarray`),z(m.byteLength>=h,`data buffer for regl.read() too small`),t.pixelStorei(ia,4),t.readPixels(u,d,f,p,na,l,m),m}function l(e){var t;return n.setFBO({framebuffer:e.framebuffer},function(){t=c(e)}),t}function u(e){return!e||!(`framebuffer`in e)?c(e):l(e)}return u}function sa(e){return Array.prototype.slice.call(e)}function ca(e){return sa(e).join(``)}function la(){var e=0,n=[],r=[];function i(t){for(var i=0;i<r.length;++i)if(r[i]===t)return n[i];var a=`g`+ e++;return n.push(a),r.push(t),a}function a(){var n=[];function r(){n.push.apply(n,sa(arguments))}var i=[];function a(){var t=`v`+ e++;return i.push(t),arguments.length>0&&(n.push(t,`=`),n.push.apply(n,sa(arguments)),n.push(`;`)),t}return t(r,{def:a,toString:function(){return ca([i.length>0?`var `+i.join(`,`)+`;`:``,ca(n)])}})}function o(){var e=a(),n=a(),r=e.toString,i=n.toString;function o(t,r){n(t,r,`=`,e.def(t,r),`;`)}return t(function(){e.apply(e,sa(arguments))},{def:e.def,entry:e,exit:n,save:o,set:function(t,n,r){o(t,n),e(t,n,`=`,r,`;`)},toString:function(){return r()+i()}})}function s(){var e=ca(arguments),n=o(),r=o(),i=n.toString,a=r.toString;return t(n,{then:function(){return n.apply(n,sa(arguments)),this},else:function(){return r.apply(r,sa(arguments)),this},toString:function(){var t=a();return t&&=`else{`+t+`}`,ca([`if(`,e,`){`,i(),`}`,t])}})}var c=a(),l={};function u(e,n){var r=[];function i(){var e=`a`+r.length;return r.push(e),e}n||=0;for(var a=0;a<n;++a)i();var s=o(),c=s.toString;return l[e]=t(s,{arg:i,toString:function(){return ca([`function(`,r.join(),`){`,c(),`}`])}})}function d(){var e=[`"use strict";`,c,`return {`];Object.keys(l).forEach(function(t){e.push(`"`,t,`":`,l[t].toString(),`,`)}),e.push(`}`);var t=ca(e).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`);return Function.apply(null,n.concat(t)).apply(null,r)}return{global:c,link:i,block:a,proc:u,scope:o,cond:s,compile:d}}var ua=`xyzw`.split(``),da=5121,fa=1,pa=2,ma=0,ha=1,ga=2,_a=3,va=4,ya=`dither`,ba=`blend.enable`,xa=`blend.color`,Sa=`blend.equation`,Ca=`blend.func`,wa=`depth.enable`,Ta=`depth.func`,Ea=`depth.range`,Da=`depth.mask`,Oa=`colorMask`,ka=`cull.enable`,Aa=`cull.face`,ja=`frontFace`,Ma=`lineWidth`,Na=`polygonOffset.enable`,Pa=`polygonOffset.offset`,Fa=`sample.alpha`,Ia=`sample.enable`,La=`sample.coverage`,Ra=`stencil.enable`,za=`stencil.mask`,Ba=`stencil.func`,Va=`stencil.opFront`,Ha=`stencil.opBack`,Ua=`scissor.enable`,Wa=`scissor.box`,Ga=`viewport`,Ka=`profile`,qa=`framebuffer`,Ja=`vert`,Ya=`frag`,Xa=`elements`,Za=`primitive`,Qa=`count`,$a=`offset`,eo=`instances`,to=`vao`,no=`Width`,ro=`Height`,io=qa+no,ao=qa+ro,oo=Ga+no,so=Ga+ro,co=`drawingBuffer`,lo=co+no,uo=co+ro,fo=[Ca,Sa,Ba,Va,Ha,La,Ga,Wa,Pa],po=34962,mo=34963,ho=35632,go=35633,_o=3553,vo=34067,yo=2884,bo=3042,xo=3024,So=2960,Co=2929,wo=3089,To=32823,Eo=32926,Do=32928,Oo=5126,ko=35664,Ao=35665,jo=35666,Mo=5124,No=35667,Po=35668,Fo=35669,Io=35670,Lo=35671,Ro=35672,zo=35673,Bo=35674,Vo=35675,Ho=35676,Uo=35678,Wo=35680,Go=4,Ko=1028,qo=1029,Jo=2304,Yo=2305,Xo=32775,Zo=32776,Qo=519,$o=7680,es=0,ts=1,ns=32774,rs=513,os=36160,ss=36064,cs={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},ls=[`constant color, constant alpha`,`one minus constant color, constant alpha`,`constant color, one minus constant alpha`,`one minus constant color, one minus constant alpha`,`constant alpha, constant color`,`constant alpha, one minus constant color`,`one minus constant alpha, constant color`,`one minus constant alpha, one minus constant color`],us={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},ds={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},fs={frag:ho,vert:go},ps={cw:Jo,ccw:Yo};function ms(t){return Array.isArray(t)||e(t)||Nt(t)}function hs(e){return e.sort(function(e,t){return e===Ga?-1:t===Ga?1:e<t?-1:1})}function gs(e,t,n,r){this.thisDep=e,this.contextDep=t,this.propDep=n,this.append=r}function _s(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function vs(e){return new gs(!1,!1,!1,e)}function ys(e,t){var n=e.type;if(n===ma){var r=e.data.length;return new gs(!0,r>=1,r>=2,t)}else if(n===va){var i=e.data;return new gs(i.thisDep,i.contextDep,i.propDep,t)}else return new gs(n===_a,n===ga,n===ha,t)}var bs=new gs(!1,!1,!1,function(){});function xs(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m){var h=l.Record,g={add:32774,subtract:32778,"reverse subtract":32779};n.ext_blend_minmax&&(g.min=Xo,g.max=Zo);var _=n.angle_instanced_arrays,v=n.webgl_draw_buffers,y={dirty:!0,profile:m.profile},b={},x=[],S={},C={};function w(e){return e.replace(`.`,`_`)}function T(e,t,n){var r=w(e);x.push(e),b[r]=y[r]=!!n,S[r]=t}function E(e,t,n){var r=w(e);x.push(e),Array.isArray(n)?(y[r]=n.slice(),b[r]=n.slice()):y[r]=b[r]=n,C[r]=t}T(ya,xo),T(ba,bo),E(xa,`blendColor`,[0,0,0,0]),E(Sa,`blendEquationSeparate`,[ns,ns]),E(Ca,`blendFuncSeparate`,[ts,es,ts,es]),T(wa,Co,!0),E(Ta,`depthFunc`,rs),E(Ea,`depthRange`,[0,1]),E(Da,`depthMask`,!0),E(Oa,Oa,[!0,!0,!0,!0]),T(ka,yo),E(Aa,`cullFace`,qo),E(ja,ja,Yo),E(Ma,Ma,1),T(Na,To),E(Pa,`polygonOffset`,[0,0]),T(Fa,Eo),T(Ia,Do),E(La,`sampleCoverage`,[1,!1]),T(Ra,So),E(za,`stencilMask`,-1),E(Ba,`stencilFunc`,[Qo,0,-1]),E(Va,`stencilOpSeparate`,[Ko,$o,$o,$o]),E(Ha,`stencilOpSeparate`,[qo,$o,$o,$o]),T(Ua,wo),E(Wa,`scissor`,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),E(Ga,Ga,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var D={gl:e,context:f,strings:t,next:b,current:y,draw:d,elements:a,buffer:i,shader:u,attributes:l.state,vao:l,uniforms:c,framebuffer:s,extensions:n,timer:p,isBufferArgs:ms},O={primTypes:nn,compareFuncs:us,blendFuncs:cs,blendEquations:g,stencilOps:ds,glTypes:Ut,orientationType:ps};z.optional(function(){D.isArrayLike=xn}),v&&(O.backBuffer=[qo],O.drawBuffer=ze(r.maxDrawbuffers,function(e){return e===0?[0]:ze(e,function(e){return ss+e})}));var k=0;function A(){var e=la(),n=e.link,r=e.global;e.id=k++,e.batchId=`0`;var i=n(D),a=e.shared={props:`a0`};Object.keys(D).forEach(function(e){a[e]=r.def(i,`.`,e)}),z.optional(function(){e.CHECK=n(z),e.commandStr=z.guessCommand(),e.command=n(e.commandStr),e.assert=function(e,t,r){e(`if(!(`,t,`))`,this.CHECK,`.commandRaise(`,n(r),`,`,this.command,`);`)},O.invalidBlendCombinations=ls});var o=e.next={},s=e.current={};Object.keys(C).forEach(function(e){Array.isArray(y[e])&&(o[e]=r.def(a.next,`.`,e),s[e]=r.def(a.current,`.`,e))});var c=e.constants={};Object.keys(O).forEach(function(e){c[e]=r.def(JSON.stringify(O[e]))}),e.invoke=function(t,r){switch(r.type){case ma:var i=[`this`,a.context,a.props,e.batchId];return t.def(n(r.data),`.call(`,i.slice(0,Math.max(r.data.length+1,4)),`)`);case ha:return t.def(a.props,r.data);case ga:return t.def(a.context,r.data);case _a:return t.def(`this`,r.data);case va:return r.data.append(e,t),r.data.ref}},e.attribCache={};var u={};return e.scopeAttrib=function(e){var r=t.id(e);if(r in u)return u[r];var i=l.scope[r];return i||=l.scope[r]=new h,u[r]=n(i)},e}function j(e){var t=e.static,n=e.dynamic,r;if(Ka in t){var i=!!t[Ka];r=vs(function(e,t){return i}),r.enable=i}else if(Ka in n){var a=n[Ka];r=ys(a,function(e,t){return e.invoke(t,a)})}return r}function M(e,t){var n=e.static,r=e.dynamic;if(qa in n){var i=n[qa];return i?(i=s.getFramebuffer(i),z.command(i,`invalid framebuffer object`),vs(function(e,t){var n=e.link(i),r=e.shared;t.set(r.framebuffer,`.next`,n);var a=r.context;return t.set(a,`.`+io,n+`.width`),t.set(a,`.`+ao,n+`.height`),n})):vs(function(e,t){var n=e.shared;t.set(n.framebuffer,`.next`,`null`);var r=n.context;return t.set(r,`.`+io,r+`.`+lo),t.set(r,`.`+ao,r+`.`+uo),`null`})}else if(qa in r){var a=r[qa];return ys(a,function(e,t){var n=e.invoke(t,a),r=e.shared,i=r.framebuffer,o=t.def(i,`.getFramebuffer(`,n,`)`);z.optional(function(){e.assert(t,`!`+n+`||`+o,`invalid framebuffer object`)}),t.set(i,`.next`,o);var s=r.context;return t.set(s,`.`+io,o+`?`+o+`.width:`+s+`.`+lo),t.set(s,`.`+ao,o+`?`+o+`.height:`+s+`.`+uo),o})}else return null}function N(e,t,n){var r=e.static,i=e.dynamic;function a(e){if(e in r){var a=r[e];z.commandType(a,`object`,`invalid `+e,n.commandStr);var o=!0,s=a.x|0,c=a.y|0,l,u;return`width`in a?(l=a.width|0,z.command(l>=0,`invalid `+e,n.commandStr)):o=!1,`height`in a?(u=a.height|0,z.command(u>=0,`invalid `+e,n.commandStr)):o=!1,new gs(!o&&t&&t.thisDep,!o&&t&&t.contextDep,!o&&t&&t.propDep,function(e,t){var n=e.shared.context,r=l;`width`in a||(r=t.def(n,`.`,io,`-`,s));var i=u;return`height`in a||(i=t.def(n,`.`,ao,`-`,c)),[s,c,r,i]})}else if(e in i){var d=i[e],f=ys(d,function(t,n){var r=t.invoke(n,d);z.optional(function(){t.assert(n,r+`&&typeof `+r+`==="object"`,`invalid `+e)});var i=t.shared.context,a=n.def(r,`.x|0`),o=n.def(r,`.y|0`),s=n.def(`"width" in `,r,`?`,r,`.width|0:`,`(`,i,`.`,io,`-`,a,`)`),c=n.def(`"height" in `,r,`?`,r,`.height|0:`,`(`,i,`.`,ao,`-`,o,`)`);return z.optional(function(){t.assert(n,s+`>=0&&`+c+`>=0`,`invalid `+e)}),[a,o,s,c]});return t&&(f.thisDep=f.thisDep||t.thisDep,f.contextDep=f.contextDep||t.contextDep,f.propDep=f.propDep||t.propDep),f}else if(t)return new gs(t.thisDep,t.contextDep,t.propDep,function(e,t){var n=e.shared.context;return[0,0,t.def(n,`.`,io),t.def(n,`.`,ao)]});else return null}var o=a(Ga);if(o){var s=o;o=new gs(o.thisDep,o.contextDep,o.propDep,function(e,t){var n=s.append(e,t),r=e.shared.context;return t.set(r,`.`+oo,n[2]),t.set(r,`.`+so,n[3]),n})}return{viewport:o,scissor_box:a(Wa)}}function P(e,t){var n=e.static;if(typeof n[Ya]==`string`&&typeof n[Ja]==`string`){if(Object.keys(t.dynamic).length>0)return null;var r=t.static,i=Object.keys(r);if(i.length>0&&typeof r[i[0]]==`number`){for(var a=[],o=0;o<i.length;++o)z(typeof r[i[o]]==`number`,`must specify all vertex attribute locations when using vaos`),a.push([r[i[o]]|0,i[o]]);return a}}return null}function F(e,n,r){var i=e.static,a=e.dynamic;function o(e){if(e in i){var n=t.id(i[e]);z.optional(function(){u.shader(fs[e],n,z.guessCommand())});var r=vs(function(){return n});return r.id=n,r}else if(e in a){var o=a[e];return ys(o,function(t,n){var r=t.invoke(n,o),i=n.def(t.shared.strings,`.id(`,r,`)`);return z.optional(function(){n(t.shared.shader,`.shader(`,fs[e],`,`,i,`,`,t.command,`);`)}),i})}return null}var s=o(Ya),c=o(Ja),l=null,d;return _s(s)&&_s(c)?(l=u.program(c.id,s.id,null,r),d=vs(function(e,t){return e.link(l)})):d=new gs(s&&s.thisDep||c&&c.thisDep,s&&s.contextDep||c&&c.contextDep,s&&s.propDep||c&&c.propDep,function(e,t){var n=e.shared.shader,r=s?s.append(e,t):t.def(n,`.`,Ya),i=c?c.append(e,t):t.def(n,`.`,Ja),a=n+`.program(`+i+`,`+r;return z.optional(function(){a+=`,`+e.command}),t.def(a+`)`)}),{frag:s,vert:c,progVar:d,program:l}}function ee(e,t){var n=e.static,r=e.dynamic;function i(){if(Xa in n){var e=n[Xa];ms(e)?e=a.getElements(a.create(e,!0)):e&&(e=a.getElements(e),z.command(e,`invalid elements`,t.commandStr));var i=vs(function(t,n){if(e){var r=t.link(e);return t.ELEMENTS=r,r}return t.ELEMENTS=null,null});return i.value=e,i}else if(Xa in r){var o=r[Xa];return ys(o,function(e,t){var n=e.shared,r=n.isBufferArgs,i=n.elements,a=e.invoke(t,o),s=t.def(`null`),c=t.def(r,`(`,a,`)`),l=e.cond(c).then(s,`=`,i,`.createStream(`,a,`);`).else(s,`=`,i,`.getElements(`,a,`);`);return z.optional(function(){e.assert(l.else,`!`+a+`||`+s,`invalid elements`)}),t.entry(l),t.exit(e.cond(c).then(i,`.destroyStream(`,s,`);`)),e.ELEMENTS=s,s})}return null}var o=i();function s(){if(Za in n){var e=n[Za];return z.commandParameter(e,nn,`invalid primitve`,t.commandStr),vs(function(t,n){return nn[e]})}else if(Za in r){var i=r[Za];return ys(i,function(e,t){var n=e.constants.primTypes,r=e.invoke(t,i);return z.optional(function(){e.assert(t,r+` in `+n,`invalid primitive, must be one of `+Object.keys(nn))}),t.def(n,`[`,r,`]`)})}else if(o)return _s(o)?o.value?vs(function(e,t){return t.def(e.ELEMENTS,`.primType`)}):vs(function(){return Go}):new gs(o.thisDep,o.contextDep,o.propDep,function(e,t){var n=e.ELEMENTS;return t.def(n,`?`,n,`.primType:`,Go)});return null}function c(e,i){if(e in n){var a=n[e]|0;return z.command(!i||a>=0,`invalid `+e,t.commandStr),vs(function(e,t){return i&&(e.OFFSET=a),a})}else if(e in r){var s=r[e];return ys(s,function(t,n){var r=t.invoke(n,s);return i&&(t.OFFSET=r,z.optional(function(){t.assert(n,r+`>=0`,`invalid `+e)})),r})}else if(i&&o)return vs(function(e,t){return e.OFFSET=`0`,0});return null}var l=c($a,!0);function u(){if(Qa in n){var e=n[Qa]|0;return z.command(typeof e==`number`&&e>=0,`invalid vertex count`,t.commandStr),vs(function(){return e})}else if(Qa in r){var i=r[Qa];return ys(i,function(e,t){var n=e.invoke(t,i);return z.optional(function(){e.assert(t,`typeof `+n+`==="number"&&`+n+`>=0&&`+n+`===(`+n+`|0)`,`invalid vertex count`)}),n})}else if(o)if(_s(o)){if(o)return l?new gs(l.thisDep,l.contextDep,l.propDep,function(e,t){var n=t.def(e.ELEMENTS,`.vertCount-`,e.OFFSET);return z.optional(function(){e.assert(t,n+`>=0`,`invalid vertex offset/element buffer too small`)}),n}):vs(function(e,t){return t.def(e.ELEMENTS,`.vertCount`)});var a=vs(function(){return-1});return z.optional(function(){a.MISSING=!0}),a}else{var s=new gs(o.thisDep||l.thisDep,o.contextDep||l.contextDep,o.propDep||l.propDep,function(e,t){var n=e.ELEMENTS;return e.OFFSET?t.def(n,`?`,n,`.vertCount-`,e.OFFSET,`:-1`):t.def(n,`?`,n,`.vertCount:-1`)});return z.optional(function(){s.DYNAMIC=!0}),s}return null}return{elements:o,primitive:s(),count:u(),instances:c(eo,!1),offset:l}}function I(e,t){var n=e.static,i=e.dynamic,a={};return x.forEach(function(e){var o=w(e);function s(t,r){if(e in n){var s=t(n[e]);a[o]=vs(function(){return s})}else if(e in i){var c=i[e];a[o]=ys(c,function(e,t){return r(e,t,e.invoke(t,c))})}}switch(e){case ka:case ba:case ya:case Ra:case wa:case Ua:case Na:case Fa:case Ia:case Da:return s(function(n){return z.commandType(n,`boolean`,e,t.commandStr),n},function(t,n,r){return z.optional(function(){t.assert(n,`typeof `+r+`==="boolean"`,`invalid flag `+e,t.commandStr)}),r});case Ta:return s(function(n){return z.commandParameter(n,us,`invalid `+e,t.commandStr),us[n]},function(t,n,r){var i=t.constants.compareFuncs;return z.optional(function(){t.assert(n,r+` in `+i,`invalid `+e+`, must be one of `+Object.keys(us))}),n.def(i,`[`,r,`]`)});case Ea:return s(function(e){return z.command(xn(e)&&e.length===2&&typeof e[0]==`number`&&typeof e[1]==`number`&&e[0]<=e[1],`depth range is 2d array`,t.commandStr),e},function(e,t,n){z.optional(function(){e.assert(t,e.shared.isArrayLike+`(`+n+`)&&`+n+`.length===2&&typeof `+n+`[0]==="number"&&typeof `+n+`[1]==="number"&&`+n+`[0]<=`+n+`[1]`,`depth range must be a 2d array`)});var r=t.def(`+`,n,`[0]`),i=t.def(`+`,n,`[1]`);return[r,i]});case Ca:return s(function(e){z.commandType(e,`object`,`blend.func`,t.commandStr);var n=`srcRGB`in e?e.srcRGB:e.src,r=`srcAlpha`in e?e.srcAlpha:e.src,i=`dstRGB`in e?e.dstRGB:e.dst,a=`dstAlpha`in e?e.dstAlpha:e.dst;return z.commandParameter(n,cs,o+`.srcRGB`,t.commandStr),z.commandParameter(r,cs,o+`.srcAlpha`,t.commandStr),z.commandParameter(i,cs,o+`.dstRGB`,t.commandStr),z.commandParameter(a,cs,o+`.dstAlpha`,t.commandStr),z.command(ls.indexOf(n+`, `+i)===-1,`unallowed blending combination (srcRGB, dstRGB) = (`+n+`, `+i+`)`,t.commandStr),[cs[n],cs[i],cs[r],cs[a]]},function(t,n,r){var i=t.constants.blendFuncs;z.optional(function(){t.assert(n,r+`&&typeof `+r+`==="object"`,`invalid blend func, must be an object`)});function a(a,o){var s=n.def(`"`,a,o,`" in `,r,`?`,r,`.`,a,o,`:`,r,`.`,a);return z.optional(function(){t.assert(n,s+` in `+i,`invalid `+e+`.`+a+o+`, must be one of `+Object.keys(cs))}),s}var o=a(`src`,`RGB`),s=a(`dst`,`RGB`);z.optional(function(){var e=t.constants.invalidBlendCombinations;t.assert(n,e+`.indexOf(`+o+`+", "+`+s+`) === -1 `,`unallowed blending combination for (srcRGB, dstRGB)`)});var c=n.def(i,`[`,o,`]`),l=n.def(i,`[`,a(`src`,`Alpha`),`]`),u=n.def(i,`[`,s,`]`),d=n.def(i,`[`,a(`dst`,`Alpha`),`]`);return[c,u,l,d]});case Sa:return s(function(n){if(typeof n==`string`)return z.commandParameter(n,g,`invalid `+e,t.commandStr),[g[n],g[n]];if(typeof n==`object`)return z.commandParameter(n.rgb,g,e+`.rgb`,t.commandStr),z.commandParameter(n.alpha,g,e+`.alpha`,t.commandStr),[g[n.rgb],g[n.alpha]];z.commandRaise(`invalid blend.equation`,t.commandStr)},function(t,n,r){var i=t.constants.blendEquations,a=n.def(),o=n.def(),s=t.cond(`typeof `,r,`==="string"`);return z.optional(function(){function n(e,n,r){t.assert(e,r+` in `+i,`invalid `+n+`, must be one of `+Object.keys(g))}n(s.then,e,r),t.assert(s.else,r+`&&typeof `+r+`==="object"`,`invalid `+e),n(s.else,e+`.rgb`,r+`.rgb`),n(s.else,e+`.alpha`,r+`.alpha`)}),s.then(a,`=`,o,`=`,i,`[`,r,`];`),s.else(a,`=`,i,`[`,r,`.rgb];`,o,`=`,i,`[`,r,`.alpha];`),n(s),[a,o]});case xa:return s(function(e){return z.command(xn(e)&&e.length===4,`blend.color must be a 4d array`,t.commandStr),ze(4,function(t){return+e[t]})},function(e,t,n){return z.optional(function(){e.assert(t,e.shared.isArrayLike+`(`+n+`)&&`+n+`.length===4`,`blend.color must be a 4d array`)}),ze(4,function(e){return t.def(`+`,n,`[`,e,`]`)})});case za:return s(function(e){return z.commandType(e,`number`,o,t.commandStr),e|0},function(e,t,n){return z.optional(function(){e.assert(t,`typeof `+n+`==="number"`,`invalid stencil.mask`)}),t.def(n,`|0`)});case Ba:return s(function(n){z.commandType(n,`object`,o,t.commandStr);var r=n.cmp||`keep`,i=n.ref||0,a=`mask`in n?n.mask:-1;return z.commandParameter(r,us,e+`.cmp`,t.commandStr),z.commandType(i,`number`,e+`.ref`,t.commandStr),z.commandType(a,`number`,e+`.mask`,t.commandStr),[us[r],i,a]},function(e,t,n){var r=e.constants.compareFuncs;z.optional(function(){function i(){e.assert(t,Array.prototype.join.call(arguments,``),`invalid stencil.func`)}i(n+`&&typeof `,n,`==="object"`),i(`!("cmp" in `,n,`)||(`,n,`.cmp in `,r,`)`)});var i=t.def(`"cmp" in `,n,`?`,r,`[`,n,`.cmp]`,`:`,$o),a=t.def(n,`.ref|0`),o=t.def(`"mask" in `,n,`?`,n,`.mask|0:-1`);return[i,a,o]});case Va:case Ha:return s(function(n){z.commandType(n,`object`,o,t.commandStr);var r=n.fail||`keep`,i=n.zfail||`keep`,a=n.zpass||`keep`;return z.commandParameter(r,ds,e+`.fail`,t.commandStr),z.commandParameter(i,ds,e+`.zfail`,t.commandStr),z.commandParameter(a,ds,e+`.zpass`,t.commandStr),[e===Ha?qo:Ko,ds[r],ds[i],ds[a]]},function(t,n,r){var i=t.constants.stencilOps;z.optional(function(){t.assert(n,r+`&&typeof `+r+`==="object"`,`invalid `+e)});function a(a){return z.optional(function(){t.assert(n,`!("`+a+`" in `+r+`)||(`+r+`.`+a+` in `+i+`)`,`invalid `+e+`.`+a+`, must be one of `+Object.keys(ds))}),n.def(`"`,a,`" in `,r,`?`,i,`[`,r,`.`,a,`]:`,$o)}return[e===Ha?qo:Ko,a(`fail`),a(`zfail`),a(`zpass`)]});case Pa:return s(function(e){z.commandType(e,`object`,o,t.commandStr);var n=e.factor|0,r=e.units|0;return z.commandType(n,`number`,o+`.factor`,t.commandStr),z.commandType(r,`number`,o+`.units`,t.commandStr),[n,r]},function(t,n,r){z.optional(function(){t.assert(n,r+`&&typeof `+r+`==="object"`,`invalid `+e)});var i=n.def(r,`.factor|0`),a=n.def(r,`.units|0`);return[i,a]});case Aa:return s(function(e){var n=0;return e===`front`?n=Ko:e===`back`&&(n=qo),z.command(!!n,o,t.commandStr),n},function(e,t,n){return z.optional(function(){e.assert(t,n+`==="front"||`+n+`==="back"`,`invalid cull.face`)}),t.def(n,`==="front"?`,Ko,`:`,qo)});case Ma:return s(function(e){return z.command(typeof e==`number`&&e>=r.lineWidthDims[0]&&e<=r.lineWidthDims[1],`invalid line width, must be a positive number between `+r.lineWidthDims[0]+` and `+r.lineWidthDims[1],t.commandStr),e},function(e,t,n){return z.optional(function(){e.assert(t,`typeof `+n+`==="number"&&`+n+`>=`+r.lineWidthDims[0]+`&&`+n+`<=`+r.lineWidthDims[1],`invalid line width`)}),n});case ja:return s(function(e){return z.commandParameter(e,ps,o,t.commandStr),ps[e]},function(e,t,n){return z.optional(function(){e.assert(t,n+`==="cw"||`+n+`==="ccw"`,`invalid frontFace, must be one of cw,ccw`)}),t.def(n+`==="cw"?`+Jo+`:`+Yo)});case Oa:return s(function(e){return z.command(xn(e)&&e.length===4,`color.mask must be length 4 array`,t.commandStr),e.map(function(e){return!!e})},function(e,t,n){return z.optional(function(){e.assert(t,e.shared.isArrayLike+`(`+n+`)&&`+n+`.length===4`,`invalid color.mask`)}),ze(4,function(e){return`!!`+n+`[`+e+`]`})});case La:return s(function(e){z.command(typeof e==`object`&&e,o,t.commandStr);var n=`value`in e?e.value:1,r=!!e.invert;return z.command(typeof n==`number`&&n>=0&&n<=1,`sample.coverage.value must be a number between 0 and 1`,t.commandStr),[n,r]},function(e,t,n){z.optional(function(){e.assert(t,n+`&&typeof `+n+`==="object"`,`invalid sample.coverage`)});var r=t.def(`"value" in `,n,`?+`,n,`.value:1`),i=t.def(`!!`,n,`.invert`);return[r,i]})}}),a}function te(e,t){var n=e.static,r=e.dynamic,i={};return Object.keys(n).forEach(function(e){var r=n[e],a;if(typeof r==`number`||typeof r==`boolean`)a=vs(function(){return r});else if(typeof r==`function`){var o=r._reglType;o===`texture2d`||o===`textureCube`?a=vs(function(e){return e.link(r)}):o===`framebuffer`||o===`framebufferCube`?(z.command(r.color.length>0,`missing color attachment for framebuffer sent to uniform "`+e+`"`,t.commandStr),a=vs(function(e){return e.link(r.color[0])})):z.commandRaise(`invalid data for uniform "`+e+`"`,t.commandStr)}else xn(r)?a=vs(function(t){return t.global.def(`[`,ze(r.length,function(n){return z.command(typeof r[n]==`number`||typeof r[n]==`boolean`,`invalid uniform `+e,t.commandStr),r[n]}),`]`)}):z.commandRaise(`invalid or missing data for uniform "`+e+`"`,t.commandStr);a.value=r,i[e]=a}),Object.keys(r).forEach(function(e){var t=r[e];i[e]=ys(t,function(e,n){return e.invoke(n,t)})}),i}function L(e,n){var r=e.static,a=e.dynamic,o={};return Object.keys(r).forEach(function(e){var a=r[e],s=t.id(e),c=new h;if(ms(a))c.state=fa,c.buffer=i.getBuffer(i.create(a,po,!1,!0)),c.type=0;else{var l=i.getBuffer(a);if(l)c.state=fa,c.buffer=l,c.type=0;else if(z.command(typeof a==`object`&&a,`invalid data for attribute `+e,n.commandStr),`constant`in a){var u=a.constant;c.buffer=`null`,c.state=pa,typeof u==`number`?c.x=u:(z.command(xn(u)&&u.length>0&&u.length<=4,`invalid constant for attribute `+e,n.commandStr),ua.forEach(function(e,t){t<u.length&&(c[e]=u[t])}))}else{l=ms(a.buffer)?i.getBuffer(i.create(a.buffer,po,!1,!0)):i.getBuffer(a.buffer),z.command(!!l,`missing buffer for attribute "`+e+`"`,n.commandStr);var d=a.offset|0;z.command(d>=0,`invalid offset for attribute "`+e+`"`,n.commandStr);var f=a.stride|0;z.command(f>=0&&f<256,`invalid stride for attribute "`+e+`", must be integer betweeen [0, 255]`,n.commandStr);var p=a.size|0;z.command(!(`size`in a)||p>0&&p<=4,`invalid size for attribute "`+e+`", must be 1,2,3,4`,n.commandStr);var m=!!a.normalized,g=0;`type`in a&&(z.commandParameter(a.type,Ut,`invalid type for attribute `+e,n.commandStr),g=Ut[a.type]);var v=a.divisor|0;`divisor`in a&&(z.command(v===0||_,`cannot specify divisor for attribute "`+e+`", instancing not supported`,n.commandStr),z.command(v>=0,`invalid divisor for attribute "`+e+`"`,n.commandStr)),z.optional(function(){var t=n.commandStr,r=[`buffer`,`offset`,`divisor`,`normalized`,`type`,`size`,`stride`];Object.keys(a).forEach(function(n){z.command(r.indexOf(n)>=0,`unknown parameter "`+n+`" for attribute pointer "`+e+`" (valid parameters are `+r+`)`,t)})}),c.buffer=l,c.state=fa,c.size=p,c.normalized=m,c.type=g||l.dtype,c.offset=d,c.stride=f,c.divisor=v}}o[e]=vs(function(e,t){var n=e.attribCache;if(s in n)return n[s];var r={isStream:!1};return Object.keys(c).forEach(function(e){r[e]=c[e]}),c.buffer&&(r.buffer=e.link(c.buffer),r.type=r.type||r.buffer+`.dtype`),n[s]=r,r})}),Object.keys(a).forEach(function(e){var t=a[e];function n(n,r){var i=n.invoke(r,t),a=n.shared,o=n.constants,s=a.isBufferArgs,c=a.buffer;z.optional(function(){n.assert(r,i+`&&(typeof `+i+`==="object"||typeof `+i+`==="function")&&(`+s+`(`+i+`)||`+c+`.getBuffer(`+i+`)||`+c+`.getBuffer(`+i+`.buffer)||`+s+`(`+i+`.buffer)||("constant" in `+i+`&&(typeof `+i+`.constant==="number"||`+a.isArrayLike+`(`+i+`.constant))))`,`invalid dynamic attribute "`+e+`"`)});var l={isStream:r.def(!1)},u=new h;u.state=fa,Object.keys(u).forEach(function(e){l[e]=r.def(``+u[e])});var d=l.buffer,f=l.type;r(`if(`,s,`(`,i,`)){`,l.isStream,`=true;`,d,`=`,c,`.createStream(`,po,`,`,i,`);`,f,`=`,d,`.dtype;`,`}else{`,d,`=`,c,`.getBuffer(`,i,`);`,`if(`,d,`){`,f,`=`,d,`.dtype;`,`}else if("constant" in `,i,`){`,l.state,`=`,pa,`;`,`if(typeof `+i+`.constant === "number"){`,l[ua[0]],`=`,i,`.constant;`,ua.slice(1).map(function(e){return l[e]}).join(`=`),`=0;`,`}else{`,ua.map(function(e,t){return l[e]+`=`+i+`.constant.length>`+t+`?`+i+`.constant[`+t+`]:0;`}).join(``),`}}else{`,`if(`,s,`(`,i,`.buffer)){`,d,`=`,c,`.createStream(`,po,`,`,i,`.buffer);`,`}else{`,d,`=`,c,`.getBuffer(`,i,`.buffer);`,`}`,f,`="type" in `,i,`?`,o.glTypes,`[`,i,`.type]:`,d,`.dtype;`,l.normalized,`=!!`,i,`.normalized;`);function p(e){r(l[e],`=`,i,`.`,e,`|0;`)}return p(`size`),p(`offset`),p(`stride`),p(`divisor`),r(`}}`),r.exit(`if(`,l.isStream,`){`,c,`.destroyStream(`,d,`);`,`}`),l}o[e]=ys(t,n)}),o}function ne(e,t){var n=e.static,r=e.dynamic;if(to in n){var i=n[to];return i!==null&&l.getVAO(i)===null&&(i=l.createVAO(i)),vs(function(e){return e.link(l.getVAO(i))})}else if(to in r){var a=r[to];return ys(a,function(e,t){var n=e.invoke(t,a);return t.def(e.shared.vao+`.getVAO(`+n+`)`)})}return null}function re(e){var t=e.static,n=e.dynamic,r={};return Object.keys(t).forEach(function(e){var n=t[e];r[e]=vs(function(e,t){return typeof n==`number`||typeof n==`boolean`?``+n:e.link(n)})}),Object.keys(n).forEach(function(e){var t=n[e];r[e]=ys(t,function(e,n){return e.invoke(n,t)})}),r}function ie(e,t,r,i,a){var o=e.static,s=e.dynamic;z.optional(function(){var e=[qa,Ja,Ya,Xa,Za,$a,Qa,eo,Ka,to].concat(x);function t(t){Object.keys(t).forEach(function(t){z.command(e.indexOf(t)>=0,`unknown parameter "`+t+`"`,a.commandStr)})}t(o),t(s)});var c=P(e,t),u=M(e,a),d=N(e,u,a),f=ee(e,a),p=I(e,a),m=F(e,a,c);function h(e){var t=d[e];t&&(p[e]=t)}h(Ga),h(w(Wa));var g=Object.keys(p).length>0,_={framebuffer:u,draw:f,shader:m,state:p,dirty:g,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(_.profile=j(e,a),_.uniforms=te(r,a),_.drawVAO=_.scopeVAO=ne(e,a),!_.drawVAO&&m.program&&!c&&n.angle_instanced_arrays){var v=!0,y=m.program.attributes.map(function(e){var n=t.static[e];return v&&=!!n,n});if(v&&y.length>0){var b=l.getVAO(l.createVAO(y));_.drawVAO=new gs(null,null,null,function(e,t){return e.link(b)}),_.useVAO=!0}}return c?_.useVAO=!0:_.attributes=L(t,a),_.context=re(i,a),_}function R(e,t,n){var r=e.shared.context,i=e.scope();Object.keys(n).forEach(function(a){t.save(r,`.`+a);var o=n[a];i(r,`.`,a,`=`,o.append(e,t),`;`)}),t(i)}function ae(e,t,n,r){var i=e.shared,a=i.gl,o=i.framebuffer,s;v&&(s=t.def(i.extensions,`.webgl_draw_buffers`));var c=e.constants,l=c.drawBuffer,u=c.backBuffer,d=n?n.append(e,t):t.def(o,`.next`);r||t(`if(`,d,`!==`,o,`.cur){`),t(`if(`,d,`){`,a,`.bindFramebuffer(`,os,`,`,d,`.framebuffer);`),v&&t(s,`.drawBuffersWEBGL(`,l,`[`,d,`.colorAttachments.length]);`),t(`}else{`,a,`.bindFramebuffer(`,os,`,null);`),v&&t(s,`.drawBuffersWEBGL(`,u,`);`),t(`}`,o,`.cur=`,d,`;`),r||t(`}`)}function oe(e,t,n){var r=e.shared,i=r.gl,a=e.current,o=e.next,s=r.current,c=r.next,l=e.cond(s,`.dirty`);x.forEach(function(t){var r=w(t);if(!(r in n.state)){var u,d;if(r in o){u=o[r],d=a[r];var f=ze(y[r].length,function(e){return l.def(u,`[`,e,`]`)});l(e.cond(f.map(function(e,t){return e+`!==`+d+`[`+t+`]`}).join(`||`)).then(i,`.`,C[r],`(`,f,`);`,f.map(function(e,t){return d+`[`+t+`]=`+e}).join(`;`),`;`))}else{u=l.def(c,`.`,r);var p=e.cond(u,`!==`,s,`.`,r);l(p),r in S?p(e.cond(u).then(i,`.enable(`,S[r],`);`).else(i,`.disable(`,S[r],`);`),s,`.`,r,`=`,u,`;`):p(i,`.`,C[r],`(`,u,`);`,s,`.`,r,`=`,u,`;`)}}}),Object.keys(n.state).length===0&&l(s,`.dirty=false;`),t(l)}function se(e,t,n,r){var i=e.shared,a=e.current,o=i.current,s=i.gl;hs(Object.keys(n)).forEach(function(i){var c=n[i];if(!(r&&!r(c))){var l=c.append(e,t);if(S[i]){var u=S[i];_s(c)?l?t(s,`.enable(`,u,`);`):t(s,`.disable(`,u,`);`):t(e.cond(l).then(s,`.enable(`,u,`);`).else(s,`.disable(`,u,`);`)),t(o,`.`,i,`=`,l,`;`)}else if(xn(l)){var d=a[i];t(s,`.`,C[i],`(`,l,`);`,l.map(function(e,t){return d+`[`+t+`]=`+e}).join(`;`),`;`)}else t(s,`.`,C[i],`(`,l,`);`,o,`.`,i,`=`,l,`;`)}})}function ce(e,t){_&&(e.instancing=t.def(e.shared.extensions,`.angle_instanced_arrays`))}function le(e,t,n,r,i){var a=e.shared,o=e.stats,s=a.current,c=a.timer,l=n.profile;function u(){return typeof performance>`u`?`Date.now()`:`performance.now()`}var d,f;function m(e){d=t.def(),e(d,`=`,u(),`;`),typeof i==`string`?e(o,`.count+=`,i,`;`):e(o,`.count++;`),p&&(r?(f=t.def(),e(f,`=`,c,`.getNumPendingQueries();`)):e(c,`.beginQuery(`,o,`);`))}function h(e){e(o,`.cpuTime+=`,u(),`-`,d,`;`),p&&(r?e(c,`.pushScopeStats(`,f,`,`,c,`.getNumPendingQueries(),`,o,`);`):e(c,`.endQuery();`))}function g(e){var n=t.def(s,`.profile`);t(s,`.profile=`,e,`;`),t.exit(s,`.profile=`,n,`;`)}var _;if(l){if(_s(l)){l.enable?(m(t),h(t.exit),g(`true`)):g(`false`);return}_=l.append(e,t),g(_)}else _=t.def(s,`.profile`);var v=e.block();m(v),t(`if(`,_,`){`,v,`}`);var y=e.block();h(y),t.exit(`if(`,_,`){`,y,`}`)}function ue(e,t,n,r,i){var a=e.shared;function o(e){switch(e){case ko:case No:case Lo:return 2;case Ao:case Po:case Ro:return 3;case jo:case Fo:case zo:return 4;default:return 1}}function s(n,r,i){var o=a.gl,s=t.def(n,`.location`),c=t.def(a.attributes,`[`,s,`]`),l=i.state,u=i.buffer,d=[i.x,i.y,i.z,i.w],f=[`buffer`,`normalized`,`offset`,`stride`];function p(){t(`if(!`,c,`.buffer){`,o,`.enableVertexAttribArray(`,s,`);}`);var n=i.type,a=i.size?t.def(i.size,`||`,r):r;if(t(`if(`,c,`.type!==`,n,`||`,c,`.size!==`,a,`||`,f.map(function(e){return c+`.`+e+`!==`+i[e]}).join(`||`),`){`,o,`.bindBuffer(`,po,`,`,u,`.buffer);`,o,`.vertexAttribPointer(`,[s,a,n,i.normalized,i.stride,i.offset],`);`,c,`.type=`,n,`;`,c,`.size=`,a,`;`,f.map(function(e){return c+`.`+e+`=`+i[e]+`;`}).join(``),`}`),_){var l=i.divisor;t(`if(`,c,`.divisor!==`,l,`){`,e.instancing,`.vertexAttribDivisorANGLE(`,[s,l],`);`,c,`.divisor=`,l,`;}`)}}function m(){t(`if(`,c,`.buffer){`,o,`.disableVertexAttribArray(`,s,`);`,c,`.buffer=null;`,`}if(`,ua.map(function(e,t){return c+`.`+e+`!==`+d[t]}).join(`||`),`){`,o,`.vertexAttrib4f(`,s,`,`,d,`);`,ua.map(function(e,t){return c+`.`+e+`=`+d[t]+`;`}).join(``),`}`)}l===fa?p():l===pa?m():(t(`if(`,l,`===`,fa,`){`),p(),t(`}else{`),m(),t(`}`))}r.forEach(function(r){var a=r.name,c=n.attributes[a],l;if(c){if(!i(c))return;l=c.append(e,t)}else{if(!i(bs))return;var u=e.scopeAttrib(a);z.optional(function(){e.assert(t,u+`.state`,`missing attribute `+a)}),l={},Object.keys(new h).forEach(function(e){l[e]=t.def(u,`.`,e)})}s(e.link(r),o(r.info.type),l)})}function de(e,n,r,i,a){for(var o=e.shared,s=o.gl,c,l=0;l<i.length;++l){var u=i[l],d=u.name,f=u.info.type,p=r.uniforms[d],m=e.link(u)+`.location`,h;if(p){if(!a(p))continue;if(_s(p)){var g=p.value;if(z.command(g!=null,`missing uniform "`+d+`"`,e.commandStr),f===Uo||f===Wo){z.command(typeof g==`function`&&(f===Uo&&(g._reglType===`texture2d`||g._reglType===`framebuffer`)||f===Wo&&(g._reglType===`textureCube`||g._reglType===`framebufferCube`)),`invalid texture for uniform `+d,e.commandStr);var _=e.link(g._texture||g.color[0]._texture);n(s,`.uniform1i(`,m,`,`,_+`.bind());`),n.exit(_,`.unbind();`)}else if(f===Bo||f===Vo||f===Ho){z.optional(function(){z.command(xn(g),`invalid matrix for uniform `+d,e.commandStr),z.command(f===Bo&&g.length===4||f===Vo&&g.length===9||f===Ho&&g.length===16,`invalid length for matrix uniform `+d,e.commandStr)});var v=e.global.def(`new Float32Array([`+Array.prototype.slice.call(g)+`])`),y=2;f===Vo?y=3:f===Ho&&(y=4),n(s,`.uniformMatrix`,y,`fv(`,m,`,false,`,v,`);`)}else{switch(f){case Oo:z.commandType(g,`number`,`uniform `+d,e.commandStr),c=`1f`;break;case ko:z.command(xn(g)&&g.length===2,`uniform `+d,e.commandStr),c=`2f`;break;case Ao:z.command(xn(g)&&g.length===3,`uniform `+d,e.commandStr),c=`3f`;break;case jo:z.command(xn(g)&&g.length===4,`uniform `+d,e.commandStr),c=`4f`;break;case Io:z.commandType(g,`boolean`,`uniform `+d,e.commandStr),c=`1i`;break;case Mo:z.commandType(g,`number`,`uniform `+d,e.commandStr),c=`1i`;break;case Lo:z.command(xn(g)&&g.length===2,`uniform `+d,e.commandStr),c=`2i`;break;case No:z.command(xn(g)&&g.length===2,`uniform `+d,e.commandStr),c=`2i`;break;case Ro:z.command(xn(g)&&g.length===3,`uniform `+d,e.commandStr),c=`3i`;break;case Po:z.command(xn(g)&&g.length===3,`uniform `+d,e.commandStr),c=`3i`;break;case zo:z.command(xn(g)&&g.length===4,`uniform `+d,e.commandStr),c=`4i`;break;case Fo:z.command(xn(g)&&g.length===4,`uniform `+d,e.commandStr),c=`4i`;break}n(s,`.uniform`,c,`(`,m,`,`,xn(g)?Array.prototype.slice.call(g):g,`);`)}continue}else h=p.append(e,n)}else{if(!a(bs))continue;h=n.def(o.uniforms,`[`,t.id(d),`]`)}f===Uo?n(`if(`,h,`&&`,h,`._reglType==="framebuffer"){`,h,`=`,h,`.color[0];`,`}`):f===Wo&&n(`if(`,h,`&&`,h,`._reglType==="framebufferCube"){`,h,`=`,h,`.color[0];`,`}`),z.optional(function(){function t(t,r){e.assert(n,t,`bad data or missing for uniform "`+d+`".  `+r)}function r(e){t(`typeof `+h+`==="`+e+`"`,`invalid type, expected `+e)}function i(n,r){t(o.isArrayLike+`(`+h+`)&&`+h+`.length===`+n,`invalid vector, should have length `+n,e.commandStr)}function a(n){t(`typeof `+h+`==="function"&&`+h+`._reglType==="texture`+(n===_o?`2d`:`Cube`)+`"`,`invalid texture type`,e.commandStr)}switch(f){case Mo:r(`number`);break;case No:i(2,`number`);break;case Po:i(3,`number`);break;case Fo:i(4,`number`);break;case Oo:r(`number`);break;case ko:i(2,`number`);break;case Ao:i(3,`number`);break;case jo:i(4,`number`);break;case Io:r(`boolean`);break;case Lo:i(2,`boolean`);break;case Ro:i(3,`boolean`);break;case zo:i(4,`boolean`);break;case Bo:i(4,`number`);break;case Vo:i(9,`number`);break;case Ho:i(16,`number`);break;case Uo:a(_o);break;case Wo:a(vo);break}});var b=1;switch(f){case Uo:case Wo:var x=n.def(h,`._texture`);n(s,`.uniform1i(`,m,`,`,x,`.bind());`),n.exit(x,`.unbind();`);continue;case Mo:case Io:c=`1i`;break;case No:case Lo:c=`2i`,b=2;break;case Po:case Ro:c=`3i`,b=3;break;case Fo:case zo:c=`4i`,b=4;break;case Oo:c=`1f`;break;case ko:c=`2f`,b=2;break;case Ao:c=`3f`,b=3;break;case jo:c=`4f`,b=4;break;case Bo:c=`Matrix2fv`;break;case Vo:c=`Matrix3fv`;break;case Ho:c=`Matrix4fv`;break}if(n(s,`.uniform`,c,`(`,m,`,`),c.charAt(0)===`M`){var S=(f-Bo+2)**2,C=e.global.def(`new Float32Array(`,S,`)`);n(`false,(Array.isArray(`,h,`)||`,h,` instanceof Float32Array)?`,h,`:(`,ze(S,function(e){return C+`[`+e+`]=`+h+`[`+e+`]`}),`,`,C,`)`)}else n(b>1?ze(b,function(e){return h+`[`+e+`]`}):h);n(`);`)}}function fe(e,t,n,r){var i=e.shared,a=i.gl,o=i.draw,s=r.draw;function c(){var i=s.elements,c,l=t;return i?((i.contextDep&&r.contextDynamic||i.propDep)&&(l=n),c=i.append(e,l)):c=l.def(o,`.`,Xa),c&&l(`if(`+c+`)`+a+`.bindBuffer(`+mo+`,`+c+`.buffer.buffer);`),c}function l(){var i=s.count,a,c=t;return i?((i.contextDep&&r.contextDynamic||i.propDep)&&(c=n),a=i.append(e,c),z.optional(function(){i.MISSING&&e.assert(t,`false`,`missing vertex count`),i.DYNAMIC&&e.assert(c,a+`>=0`,`missing vertex count`)})):(a=c.def(o,`.`,Qa),z.optional(function(){e.assert(c,a+`>=0`,`missing vertex count`)})),a}var u=c();function d(i){var a=s[i];return a?a.contextDep&&r.contextDynamic||a.propDep?a.append(e,n):a.append(e,t):t.def(o,`.`,i)}var f=d(Za),p=d($a),m=l();if(typeof m==`number`){if(m===0)return}else n(`if(`,m,`){`),n.exit(`}`);var h,g;_&&(h=d(eo),g=e.instancing);var v=u+`.type`,y=s.elements&&_s(s.elements);function b(){function e(){n(g,`.drawElementsInstancedANGLE(`,[f,m,v,p+`<<((`+v+`-`+da+`)>>1)`,h],`);`)}function t(){n(g,`.drawArraysInstancedANGLE(`,[f,p,m,h],`);`)}u?y?e():(n(`if(`,u,`){`),e(),n(`}else{`),t(),n(`}`)):t()}function x(){function e(){n(a+`.drawElements(`+[f,m,v,p+`<<((`+v+`-`+da+`)>>1)`]+`);`)}function t(){n(a+`.drawArrays(`+[f,p,m]+`);`)}u?y?e():(n(`if(`,u,`){`),e(),n(`}else{`),t(),n(`}`)):t()}_&&(typeof h!=`number`||h>=0)?typeof h==`string`?(n(`if(`,h,`>0){`),b(),n(`}else if(`,h,`<0){`),x(),n(`}`)):b():x()}function pe(e,t,n,r,i){var a=A(),o=a.proc(`body`,i);return z.optional(function(){a.commandStr=t.commandStr,a.command=a.link(t.commandStr)}),_&&(a.instancing=o.def(a.shared.extensions,`.angle_instanced_arrays`)),e(a,o,n,r),a.compile().body}function me(e,t,n,r){ce(e,t),n.useVAO?n.drawVAO?t(e.shared.vao,`.setVAO(`,n.drawVAO.append(e,t),`);`):t(e.shared.vao,`.setVAO(`,e.shared.vao,`.targetVAO);`):(t(e.shared.vao,`.setVAO(null);`),ue(e,t,n,r.attributes,function(){return!0})),de(e,t,n,r.uniforms,function(){return!0}),fe(e,t,t,n)}function he(e,t){var n=e.proc(`draw`,1);ce(e,n),R(e,n,t.context),ae(e,n,t.framebuffer),oe(e,n,t),se(e,n,t.state),le(e,n,t,!1,!0);var r=t.shader.progVar.append(e,n);if(n(e.shared.gl,`.useProgram(`,r,`.program);`),t.shader.program)me(e,n,t,t.shader.program);else{n(e.shared.vao,`.setVAO(null);`);var i=e.global.def(`{}`),a=n.def(r,`.id`),o=n.def(i,`[`,a,`]`);n(e.cond(o).then(o,`.call(this,a0);`).else(o,`=`,i,`[`,a,`]=`,e.link(function(n){return pe(me,e,t,n,1)}),`(`,r,`);`,o,`.call(this,a0);`))}Object.keys(t.state).length>0&&n(e.shared.current,`.dirty=true;`)}function ge(e,t,n,r){e.batchId=`a1`,ce(e,t);function i(){return!0}ue(e,t,n,r.attributes,i),de(e,t,n,r.uniforms,i),fe(e,t,t,n)}function _e(e,t,n,r){ce(e,t);var i=n.contextDep,a=t.def(),o=`a0`,s=`a1`,c=t.def();e.shared.props=c,e.batchId=a;var l=e.scope(),u=e.scope();t(l.entry,`for(`,a,`=0;`,a,`<`,s,`;++`,a,`){`,c,`=`,o,`[`,a,`];`,u,`}`,l.exit);function d(e){return e.contextDep&&i||e.propDep}function f(e){return!d(e)}if(n.needsContext&&R(e,u,n.context),n.needsFramebuffer&&ae(e,u,n.framebuffer),se(e,u,n.state,d),n.profile&&d(n.profile)&&le(e,u,n,!1,!0),r)n.useVAO?n.drawVAO?d(n.drawVAO)?u(e.shared.vao,`.setVAO(`,n.drawVAO.append(e,u),`);`):l(e.shared.vao,`.setVAO(`,n.drawVAO.append(e,l),`);`):l(e.shared.vao,`.setVAO(`,e.shared.vao,`.targetVAO);`):(l(e.shared.vao,`.setVAO(null);`),ue(e,l,n,r.attributes,f),ue(e,u,n,r.attributes,d)),de(e,l,n,r.uniforms,f),de(e,u,n,r.uniforms,d),fe(e,l,u,n);else{var p=e.global.def(`{}`),m=n.shader.progVar.append(e,u),h=u.def(m,`.id`),g=u.def(p,`[`,h,`]`);u(e.shared.gl,`.useProgram(`,m,`.program);`,`if(!`,g,`){`,g,`=`,p,`[`,h,`]=`,e.link(function(t){return pe(ge,e,n,t,2)}),`(`,m,`);}`,g,`.call(this,a0[`,a,`],`,a,`);`)}}function ve(e,t){var n=e.proc(`batch`,2);e.batchId=`0`,ce(e,n);var r=!1,i=!0;Object.keys(t.context).forEach(function(e){r||=t.context[e].propDep}),r||(R(e,n,t.context),i=!1);var a=t.framebuffer,o=!1;a?(a.propDep?r=o=!0:a.contextDep&&r&&(o=!0),o||ae(e,n,a)):ae(e,n,null),t.state.viewport&&t.state.viewport.propDep&&(r=!0);function s(e){return e.contextDep&&r||e.propDep}oe(e,n,t),se(e,n,t.state,function(e){return!s(e)}),(!t.profile||!s(t.profile))&&le(e,n,t,!1,`a1`),t.contextDep=r,t.needsContext=i,t.needsFramebuffer=o;var c=t.shader.progVar;if(c.contextDep&&r||c.propDep)_e(e,n,t,null);else{var l=c.append(e,n);if(n(e.shared.gl,`.useProgram(`,l,`.program);`),t.shader.program)_e(e,n,t,t.shader.program);else{n(e.shared.vao,`.setVAO(null);`);var u=e.global.def(`{}`),d=n.def(l,`.id`),f=n.def(u,`[`,d,`]`);n(e.cond(f).then(f,`.call(this,a0,a1);`).else(f,`=`,u,`[`,d,`]=`,e.link(function(n){return pe(_e,e,t,n,2)}),`(`,l,`);`,f,`.call(this,a0,a1);`))}}Object.keys(t.state).length>0&&n(e.shared.current,`.dirty=true;`)}function ye(e,n){var r=e.proc(`scope`,3);e.batchId=`a2`;var i=e.shared,a=i.current;R(e,r,n.context),n.framebuffer&&n.framebuffer.append(e,r),hs(Object.keys(n.state)).forEach(function(t){var a=n.state[t].append(e,r);xn(a)?a.forEach(function(n,i){r.set(e.next[t],`[`+i+`]`,n)}):r.set(i.next,`.`+t,a)}),le(e,r,n,!0,!0),[Xa,$a,Qa,eo,Za].forEach(function(t){var a=n.draw[t];a&&r.set(i.draw,`.`+t,``+a.append(e,r))}),Object.keys(n.uniforms).forEach(function(a){r.set(i.uniforms,`[`+t.id(a)+`]`,n.uniforms[a].append(e,r))}),Object.keys(n.attributes).forEach(function(t){var i=n.attributes[t].append(e,r),a=e.scopeAttrib(t);Object.keys(new h).forEach(function(e){r.set(a,`.`+e,i[e])})}),n.scopeVAO&&r.set(i.vao,`.targetVAO`,n.scopeVAO.append(e,r));function o(t){var a=n.shader[t];a&&r.set(i.shader,`.`+t,a.append(e,r))}o(Ja),o(Ya),Object.keys(n.state).length>0&&(r(a,`.dirty=true;`),r.exit(a,`.dirty=true;`)),r(`a1(`,e.shared.context,`,a0,`,e.batchId,`);`)}function be(e){if(!(typeof e!=`object`||xn(e))){for(var t=Object.keys(e),n=0;n<t.length;++n)if(De.isDynamic(e[t[n]]))return!0;return!1}}function xe(e,t,n){var r=t.static[n];if(!r||!be(r))return;var i=e.global,a=Object.keys(r),o=!1,s=!1,c=!1,l=e.global.def(`{}`);a.forEach(function(t){var n=r[t];if(De.isDynamic(n)){typeof n==`function`&&(n=r[t]=De.unbox(n));var a=ys(n,null);o||=a.thisDep,c||=a.propDep,s||=a.contextDep}else{switch(i(l,`.`,t,`=`),typeof n){case`number`:i(n);break;case`string`:i(`"`,n,`"`);break;case`object`:Array.isArray(n)&&i(`[`,n.join(),`]`);break;default:i(e.link(n));break}i(`;`)}});function u(e,t){a.forEach(function(n){var i=r[n];if(De.isDynamic(i)){var a=e.invoke(t,i);t(l,`.`,n,`=`,a,`;`)}})}t.dynamic[n]=new De.DynamicVariable(va,{thisDep:o,contextDep:s,propDep:c,ref:l,append:u}),delete t.static[n]}function Se(e,t,n,r,i){var a=A();a.stats=a.link(i),Object.keys(t.static).forEach(function(e){xe(a,t,e)}),fo.forEach(function(t){xe(a,e,t)});var o=ie(e,t,n,r,a);return he(a,o),ye(a,o),ve(a,o),a.compile()}return{next:b,current:y,procs:(function(){var e=A(),t=e.proc(`poll`),i=e.proc(`refresh`),a=e.block();t(a),i(a);var o=e.shared,s=o.gl,c=o.next,l=o.current;a(l,`.dirty=false;`),ae(e,t),ae(e,i,null,!0);var u;_&&(u=e.link(_)),n.oes_vertex_array_object&&i(e.link(n.oes_vertex_array_object),`.bindVertexArrayOES(null);`);for(var d=0;d<r.maxAttributes;++d){var f=i.def(o.attributes,`[`,d,`]`),p=e.cond(f,`.buffer`);p.then(s,`.enableVertexAttribArray(`,d,`);`,s,`.bindBuffer(`,po,`,`,f,`.buffer.buffer);`,s,`.vertexAttribPointer(`,d,`,`,f,`.size,`,f,`.type,`,f,`.normalized,`,f,`.stride,`,f,`.offset);`).else(s,`.disableVertexAttribArray(`,d,`);`,s,`.vertexAttrib4f(`,d,`,`,f,`.x,`,f,`.y,`,f,`.z,`,f,`.w);`,f,`.buffer=null;`),i(p),_&&i(u,`.vertexAttribDivisorANGLE(`,d,`,`,f,`.divisor);`)}return i(e.shared.vao,`.currentVAO=null;`,e.shared.vao,`.setVAO(`,e.shared.vao,`.targetVAO);`),Object.keys(S).forEach(function(n){var r=S[n],o=a.def(c,`.`,n),u=e.block();u(`if(`,o,`){`,s,`.enable(`,r,`)}else{`,s,`.disable(`,r,`)}`,l,`.`,n,`=`,o,`;`),i(u),t(`if(`,o,`!==`,l,`.`,n,`){`,u,`}`)}),Object.keys(C).forEach(function(n){var r=C[n],o=y[n],u,d,f=e.block();if(f(s,`.`,r,`(`),xn(o)){var p=o.length;u=e.global.def(c,`.`,n),d=e.global.def(l,`.`,n),f(ze(p,function(e){return u+`[`+e+`]`}),`);`,ze(p,function(e){return d+`[`+e+`]=`+u+`[`+e+`];`}).join(``)),t(`if(`,ze(p,function(e){return u+`[`+e+`]!==`+d+`[`+e+`]`}).join(`||`),`){`,f,`}`)}else u=a.def(c,`.`,n),d=a.def(l,`.`,n),f(u,`);`,l,`.`,n,`=`,u,`;`),t(`if(`,u,`!==`,d,`){`,f,`}`);i(f)}),e.compile()})(),compile:Se}}function Ss(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var Cs=34918,ws=34919,Ts=35007,Es=function(e,t){if(!t.ext_disjoint_timer_query)return null;var n=[];function r(){return n.pop()||t.ext_disjoint_timer_query.createQueryEXT()}function i(e){n.push(e)}var a=[];function o(e){var n=r();t.ext_disjoint_timer_query.beginQueryEXT(Ts,n),a.push(n),p(a.length-1,a.length,e)}function s(){t.ext_disjoint_timer_query.endQueryEXT(Ts)}function c(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var l=[];function u(){return l.pop()||new c}function d(e){l.push(e)}var f=[];function p(e,t,n){var r=u();r.startQueryIndex=e,r.endQueryIndex=t,r.sum=0,r.stats=n,f.push(r)}var m=[],h=[];function g(){var e,n,r=a.length;if(r!==0){h.length=Math.max(h.length,r+1),m.length=Math.max(m.length,r+1),m[0]=0,h[0]=0;var o=0;for(e=0,n=0;n<a.length;++n){var s=a[n];t.ext_disjoint_timer_query.getQueryObjectEXT(s,ws)?(o+=t.ext_disjoint_timer_query.getQueryObjectEXT(s,Cs),i(s)):a[e++]=s,m[n+1]=o,h[n+1]=e}for(a.length=e,e=0,n=0;n<f.length;++n){var c=f[n],l=c.startQueryIndex,u=c.endQueryIndex;c.sum+=m[u]-m[l];var p=h[l],g=h[u];g===p?(c.stats.gpuTime+=c.sum/1e6,d(c)):(c.startQueryIndex=p,c.endQueryIndex=g,f[e++]=c)}f.length=e}}return{beginQuery:o,endQuery:s,pushScopeStats:p,update:g,getNumPendingQueries:function(){return a.length},clear:function(){n.push.apply(n,a);for(var e=0;e<n.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(n[e]);a.length=0,n.length=0},restore:function(){a.length=0,n.length=0}}},Ds=16384,Os=256,ks=1024,As=34962,js=`webglcontextlost`,Ms=`webglcontextrestored`,Ns=1,Ps=2,Fs=3;function Is(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function Ls(e){var n=Le(e);if(!n)return null;var r=n.gl,i=r.getContextAttributes(),a=r.isContextLost(),o=Re(r,n);if(!o)return null;var s=Ae(),c=Ss(),l=o.extensions,u=Es(r,l),d=ke(),f=r.drawingBufferWidth,p=r.drawingBufferHeight,m={tick:0,time:0,viewportWidth:f,viewportHeight:p,framebufferWidth:f,framebufferHeight:p,drawingBufferWidth:f,drawingBufferHeight:p,pixelRatio:n.pixelRatio},h={},g={elements:null,primitive:4,count:-1,offset:0,instances:-1},_=Mt(r,l),v=tn(r,c,n,b),y=Xi(r,l,_,c,v);function b(e){return y.destroyBuffer(e)}var x=gn(r,l,v,c),S=ta(r,s,c,n),C=ri(r,l,_,function(){E.procs.poll()},m,c,n),w=_i(r,l,_,c,n),T=Ki(r,l,_,C,w,c),E=xs(r,s,l,_,v,x,C,T,h,y,S,g,m,u,n),D=oa(r,T,E.procs.poll,m,i,l,_),O=E.next,k=r.canvas,A=[],j=[],M=[],N=[n.onDestroy],P=null;function F(){if(A.length===0){u&&u.update(),P=null;return}P=Oe.next(F),ce();for(var e=A.length-1;e>=0;--e){var t=A[e];t&&t(m,null,0)}r.flush(),u&&u.update()}function ee(){!P&&A.length>0&&(P=Oe.next(F))}function I(){P&&=(Oe.cancel(F),null)}function te(e){e.preventDefault(),a=!0,I(),j.forEach(function(e){e()})}function L(e){r.getError(),a=!1,o.restore(),S.restore(),v.restore(),C.restore(),w.restore(),T.restore(),y.restore(),u&&u.restore(),E.procs.refresh(),ee(),M.forEach(function(e){e()})}k&&(k.addEventListener(js,te,!1),k.addEventListener(Ms,L,!1));function ne(){A.length=0,I(),k&&(k.removeEventListener(js,te),k.removeEventListener(Ms,L)),S.clear(),T.clear(),w.clear(),C.clear(),x.clear(),v.clear(),y.clear(),u&&u.clear(),N.forEach(function(e){e()})}function re(e){z(!!e,`invalid args to regl({...})`),z.type(e,`object`,`invalid args to regl({...})`);function n(e){var n=t({},e);delete n.uniforms,delete n.attributes,delete n.context,delete n.vao,`stencil`in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op);function r(e){if(e in n){var t=n[e];delete n[e],Object.keys(t).forEach(function(r){n[e+`.`+r]=t[r]})}}return r(`blend`),r(`depth`),r(`cull`),r(`stencil`),r(`polygonOffset`),r(`scissor`),r(`sample`),`vao`in e&&(n.vao=e.vao),n}function r(e){var t={},n={};return Object.keys(e).forEach(function(r){var i=e[r];De.isDynamic(i)?n[r]=De.unbox(i,r):t[r]=i}),{dynamic:n,static:t}}var i=r(e.context||{}),o=r(e.uniforms||{}),s=r(e.attributes||{}),c=r(n(e)),l={gpuTime:0,cpuTime:0,count:0},u=E.compile(c,s,o,i,l),d=u.draw,f=u.batch,p=u.scope,m=[];function h(e){for(;m.length<e;)m.push(null);return m}function g(e,t){var n;if(a&&z.raise(`context lost`),typeof e==`function`)return p.call(this,null,e,0);if(typeof t==`function`)if(typeof e==`number`)for(n=0;n<e;++n)p.call(this,null,t,n);else if(Array.isArray(e))for(n=0;n<e.length;++n)p.call(this,e[n],t,n);else return p.call(this,e,t,0);else if(typeof e==`number`){if(e>0)return f.call(this,h(e|0),e|0)}else if(Array.isArray(e)){if(e.length)return f.call(this,e,e.length)}else return d.call(this,e)}return t(g,{stats:l})}var ie=T.setFBO=re({framebuffer:De.define.call(null,Ns,`framebuffer`)});function R(e,t){var n=0;E.procs.poll();var i=t.color;i&&(r.clearColor(+i[0]||0,+i[1]||0,+i[2]||0,+i[3]||0),n|=Ds),`depth`in t&&(r.clearDepth(+t.depth),n|=Os),`stencil`in t&&(r.clearStencil(t.stencil|0),n|=ks),z(!!n,`called regl.clear with no buffer specified`),r.clear(n)}function ae(e){if(z(typeof e==`object`&&e,`regl.clear() takes an object as input`),`framebuffer`in e)if(e.framebuffer&&e.framebuffer_reglType===`framebufferCube`)for(var n=0;n<6;++n)ie(t({framebuffer:e.framebuffer.faces[n]},e),R);else ie(e,R);else R(null,e)}function oe(e){z.type(e,`function`,`regl.frame() callback must be a function`),A.push(e);function t(){var t=Is(A,e);z(t>=0,`cannot cancel a frame twice`);function n(){var e=Is(A,n);A[e]=A[A.length-1],--A.length,A.length<=0&&I()}A[t]=n}return ee(),{cancel:t}}function se(){var e=O.viewport,t=O.scissor_box;e[0]=e[1]=t[0]=t[1]=0,m.viewportWidth=m.framebufferWidth=m.drawingBufferWidth=e[2]=t[2]=r.drawingBufferWidth,m.viewportHeight=m.framebufferHeight=m.drawingBufferHeight=e[3]=t[3]=r.drawingBufferHeight}function ce(){m.tick+=1,m.time=ue(),se(),E.procs.poll()}function le(){se(),E.procs.refresh(),u&&u.update()}function ue(){return(ke()-d)/1e3}le();function de(e,t){z.type(t,`function`,`listener callback must be a function`);var n;switch(e){case`frame`:return oe(t);case`lost`:n=j;break;case`restore`:n=M;break;case`destroy`:n=N;break;default:z.raise(`invalid event, must be one of frame,lost,restore,destroy`)}return n.push(t),{cancel:function(){for(var e=0;e<n.length;++e)if(n[e]===t){n[e]=n[n.length-1],n.pop();return}}}}var fe=t(re,{clear:ae,prop:De.define.bind(null,Ns),context:De.define.bind(null,Ps),this:De.define.bind(null,Fs),draw:re({}),buffer:function(e){return v.create(e,As,!1,!1)},elements:function(e){return x.create(e,!1)},texture:C.create2D,cube:C.createCube,renderbuffer:w.create,framebuffer:T.create,framebufferCube:T.createCube,vao:y.createVAO,attributes:i,frame:oe,on:de,limits:_,hasExtension:function(e){return _.extensions.indexOf(e.toLowerCase())>=0},read:D,destroy:ne,_gl:r,_refresh:le,poll:function(){ce(),u&&u.update()},now:ue,stats:c});return n.onDone(null,fe),fe}return Ls}))})),pM=class{constructor(e,t){let{buffer:n,offset:r,stride:i,normalized:a,size:o,divisor:s}=t;this.buffer=n,this.attribute={buffer:n.get(),offset:r||0,stride:i||0,normalized:a||!1,divisor:s||0},o&&(this.attribute.size=o)}get(){return this.attribute}updateBuffer(e){this.buffer.subData(e)}destroy(){this.buffer.destroy()}},mM={[q.POINTS]:`points`,[q.LINES]:`lines`,[q.LINE_LOOP]:`line loop`,[q.LINE_STRIP]:`line strip`,[q.TRIANGLES]:`triangles`,[q.TRIANGLE_FAN]:`triangle fan`,[q.TRIANGLE_STRIP]:`triangle strip`},hM={[q.STATIC_DRAW]:`static`,[q.DYNAMIC_DRAW]:`dynamic`,[q.STREAM_DRAW]:`stream`},gM={[q.BYTE]:`int8`,[q.INT]:`int32`,[q.UNSIGNED_BYTE]:`uint8`,[q.UNSIGNED_SHORT]:`uint16`,[q.UNSIGNED_INT]:`uint32`,[q.FLOAT]:`float`},_M={[q.ALPHA]:`alpha`,[q.LUMINANCE]:`luminance`,[q.LUMINANCE_ALPHA]:`luminance alpha`,[q.RGB]:`rgb`,[q.RGBA]:`rgba`,[q.RGBA4]:`rgba4`,[q.RGB5_A1]:`rgb5 a1`,[q.RGB565]:`rgb565`,[q.DEPTH_COMPONENT]:`depth`,[q.DEPTH_STENCIL]:`depth stencil`},vM={[q.DONT_CARE]:`dont care`,[q.NICEST]:`nice`,[q.FASTEST]:`fast`},yM={[q.NEAREST]:`nearest`,[q.LINEAR]:`linear`,[q.LINEAR_MIPMAP_LINEAR]:`mipmap`,[q.NEAREST_MIPMAP_LINEAR]:`nearest mipmap linear`,[q.LINEAR_MIPMAP_NEAREST]:`linear mipmap nearest`,[q.NEAREST_MIPMAP_NEAREST]:`nearest mipmap nearest`},bM={[q.REPEAT]:`repeat`,[q.CLAMP_TO_EDGE]:`clamp`,[q.MIRRORED_REPEAT]:`mirror`},xM={[q.NONE]:`none`,[q.BROWSER_DEFAULT_WEBGL]:`browser`},SM={[q.NEVER]:`never`,[q.ALWAYS]:`always`,[q.LESS]:`less`,[q.LEQUAL]:`lequal`,[q.GREATER]:`greater`,[q.GEQUAL]:`gequal`,[q.EQUAL]:`equal`,[q.NOTEQUAL]:`notequal`},CM={[q.FUNC_ADD]:`add`,[q.MIN_EXT]:`min`,[q.MAX_EXT]:`max`,[q.FUNC_SUBTRACT]:`subtract`,[q.FUNC_REVERSE_SUBTRACT]:`reverse subtract`},wM={[q.ZERO]:`zero`,[q.ONE]:`one`,[q.SRC_COLOR]:`src color`,[q.ONE_MINUS_SRC_COLOR]:`one minus src color`,[q.SRC_ALPHA]:`src alpha`,[q.ONE_MINUS_SRC_ALPHA]:`one minus src alpha`,[q.DST_COLOR]:`dst color`,[q.ONE_MINUS_DST_COLOR]:`one minus dst color`,[q.DST_ALPHA]:`dst alpha`,[q.ONE_MINUS_DST_ALPHA]:`one minus dst alpha`,[q.CONSTANT_COLOR]:`constant color`,[q.ONE_MINUS_CONSTANT_COLOR]:`one minus constant color`,[q.CONSTANT_ALPHA]:`constant alpha`,[q.ONE_MINUS_CONSTANT_ALPHA]:`one minus constant alpha`,[q.SRC_ALPHA_SATURATE]:`src alpha saturate`},TM={[q.NEVER]:`never`,[q.ALWAYS]:`always`,[q.LESS]:`less`,[q.LEQUAL]:`lequal`,[q.GREATER]:`greater`,[q.GEQUAL]:`gequal`,[q.EQUAL]:`equal`,[q.NOTEQUAL]:`notequal`},EM={[q.ZERO]:`zero`,[q.KEEP]:`keep`,[q.REPLACE]:`replace`,[q.INVERT]:`invert`,[q.INCR]:`increment`,[q.DECR]:`decrement`,[q.INCR_WRAP]:`increment wrap`,[q.DECR_WRAP]:`decrement wrap`},DM={[q.FRONT]:`front`,[q.BACK]:`back`},OM=class{constructor(e,t){this.isDestroyed=!1;let{data:n,usage:r,type:i}=t;this.buffer=e.buffer({data:n,usage:hM[r||q.STATIC_DRAW],type:gM[i||q.UNSIGNED_BYTE]})}get(){return this.buffer}destroy(){this.isDestroyed||this.buffer.destroy(),this.isDestroyed=!0}subData({data:e,offset:t}){this.buffer.subdata(e,t)}},kM=class{constructor(e,t){let{data:n,usage:r,type:i,count:a}=t;this.elements=e.elements({data:n,usage:hM[r||q.STATIC_DRAW],type:gM[i||q.UNSIGNED_BYTE],count:a})}get(){return this.elements}subData({data:e}){this.elements.subdata(e)}destroy(){}},AM=class{constructor(e,t){let{width:n,height:r,color:i,colors:a}=t,o={width:n,height:r};Array.isArray(a)&&(o.colors=a.map(e=>e.get())),i&&typeof i!=`boolean`&&(o.color=i.get()),this.framebuffer=e.framebuffer(o)}get(){return this.framebuffer}destroy(){this.framebuffer.destroy()}resize({width:e,height:t}){this.framebuffer.resize(e,t)}},jM=Object.defineProperty,MM=Object.defineProperties,NM=Object.getOwnPropertyDescriptors,PM=Object.getOwnPropertySymbols,FM=Object.prototype.hasOwnProperty,IM=Object.prototype.propertyIsEnumerable,LM=(e,t,n)=>t in e?jM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RM=(e,t)=>{for(var n in t||={})FM.call(t,n)&&LM(e,n,t[n]);if(PM)for(var n of PM(t))IM.call(t,n)&&LM(e,n,t[n]);return e},zM=(e,t)=>MM(e,NM(t)),{isPlainObject:BM,isTypedArray:VM}=di,HM=class{constructor(e,t){this.destroyed=!1,this.uniforms={},this.reGl=e;let{vs:n,fs:r,attributes:i,uniforms:a,primitive:o,count:s,elements:c,depth:l,cull:u,instances:d}=t,f={platformString:`WebGL1`,glslVersion:`#version 100`,explicitBindingLocations:!1,separateSamplerTextures:!1,viewportOrigin:DD.LOWER_LEFT,clipSpaceNearZ:OD.NEGATIVE_ONE,supportMRT:!1},p={};this.options=t,a&&(this.uniforms=this.extractUniforms(a),Object.keys(a).forEach(t=>{p[t]=e.prop(t)}));let m={};Object.keys(i).forEach(e=>{m[e]=i[e].get()});let h=al(ak(f,`frag`,r,null,!1)),g=al(ak(f,`vert`,n,null,!1)),_={attributes:m,frag:h,uniforms:p,vert:g,colorMask:e.prop(`colorMask`),lineWidth:1,blend:{enable:e.prop(`blend.enable`),func:e.prop(`blend.func`),equation:e.prop(`blend.equation`),color:e.prop(`blend.color`)},stencil:{enable:e.prop(`stencil.enable`),mask:e.prop(`stencil.mask`),func:e.prop(`stencil.func`),opFront:e.prop(`stencil.opFront`),opBack:e.prop(`stencil.opBack`)},primitive:mM[o===void 0?q.TRIANGLES:o]};d&&(_.instances=d),s?_.count=s:c&&(_.elements=c.get()),this.initDepthDrawParams({depth:l},_),this.initCullDrawParams({cull:u},_),this.drawCommand=e(_),this.drawParams=_}updateAttributesAndElements(e,t){let n={};Object.keys(e).forEach(t=>{n[t]=e[t].get()}),this.drawParams.attributes=n,this.drawParams.elements=t.get(),this.drawCommand=this.reGl(this.drawParams)}updateAttributes(e){let t={};Object.keys(e).forEach(n=>{t[n]=e[n].get()}),this.drawParams.attributes=t,this.drawCommand=this.reGl(this.drawParams)}addUniforms(e){this.uniforms=RM(RM({},this.uniforms),this.extractUniforms(e))}draw(e,t){if(this.drawParams.attributes&&Object.keys(this.drawParams.attributes).length===0)return;let n=RM(RM({},this.uniforms),this.extractUniforms(e.uniforms||{})),r={};Object.keys(n).forEach(e=>{let t=typeof n[e];t===`boolean`||t===`number`||Array.isArray(n[e])||n[e].BYTES_PER_ELEMENT?r[e]=n[e]:r[e]=n[e].get()}),r.blend=t?this.getBlendDrawParams({blend:{enable:!1}}):this.getBlendDrawParams(e),r.stencil=this.getStencilDrawParams(e),r.colorMask=this.getColorMaskDrawParams(e,t),this.drawCommand(r)}destroy(){var e;(e=this.drawParams?.elements)==null||e.destroy(),this.options.attributes&&Object.values(this.options.attributes).forEach(e=>{e?.destroy()}),this.destroyed=!0}initDepthDrawParams({depth:e},t){e&&(t.depth={enable:e.enable===void 0?!0:!!e.enable,mask:e.mask===void 0?!0:!!e.mask,func:SM[e.func||q.LESS],range:e.range||[0,1]})}getBlendDrawParams({blend:e}){let{enable:t,func:n,equation:r,color:i=[0,0,0,0]}=e||{};return{enable:!!t,func:{srcRGB:wM[n&&n.srcRGB||q.SRC_ALPHA],srcAlpha:wM[n&&n.srcAlpha||q.SRC_ALPHA],dstRGB:wM[n&&n.dstRGB||q.ONE_MINUS_SRC_ALPHA],dstAlpha:wM[n&&n.dstAlpha||q.ONE_MINUS_SRC_ALPHA]},equation:{rgb:CM[r&&r.rgb||q.FUNC_ADD],alpha:CM[r&&r.alpha||q.FUNC_ADD]},color:i}}getStencilDrawParams({stencil:e}){let{enable:t,mask:n=-1,func:r={cmp:q.ALWAYS,ref:0,mask:-1},opFront:i={fail:q.KEEP,zfail:q.KEEP,zpass:q.KEEP},opBack:a={fail:q.KEEP,zfail:q.KEEP,zpass:q.KEEP}}=e||{};return{enable:!!t,mask:n,func:zM(RM({},r),{cmp:TM[r.cmp]}),opFront:{fail:EM[i.fail],zfail:EM[i.zfail],zpass:EM[i.zpass]},opBack:{fail:EM[a.fail],zfail:EM[a.zfail],zpass:EM[a.zpass]}}}getColorMaskDrawParams({stencil:e},t){return e?.enable&&e.opFront&&!t?[!1,!1,!1,!1]:[!0,!0,!0,!0]}initCullDrawParams({cull:e},t){if(e){let{enable:n,face:r=q.BACK}=e;t.cull={enable:!!n,face:DM[r]}}}extractUniforms(e){let t={};return Object.keys(e).forEach(n=>{this.extractUniformsRecursively(n,e[n],t,``)}),t}extractUniformsRecursively(e,t,n,r){if(t===null||typeof t==`number`||typeof t==`boolean`||Array.isArray(t)&&typeof t[0]==`number`||VM(t)||t===``||`resize`in t){n[`${r&&r+`.`}${e}`]=t;return}BM(t)&&Object.keys(t).forEach(i=>{this.extractUniformsRecursively(i,t[i],n,`${r&&r+`.`}${e}`)}),Array.isArray(t)&&t.forEach((t,i)=>{Object.keys(t).forEach(a=>{this.extractUniformsRecursively(a,t[a],n,`${r&&r+`.`}${e}[${i}]`)})})}},UM=class{constructor(e,t){this.isDestroy=!1;let{data:n,type:r=q.UNSIGNED_BYTE,width:i,height:a,flipY:o=!1,format:s=q.RGBA,mipmap:c=!1,wrapS:l=q.CLAMP_TO_EDGE,wrapT:u=q.CLAMP_TO_EDGE,aniso:d=0,alignment:f=1,premultiplyAlpha:p=!1,mag:m=q.NEAREST,min:h=q.NEAREST,colorSpace:g=q.BROWSER_DEFAULT_WEBGL,x:_=0,y:v=0,copy:y=!1}=t;this.width=i,this.height=a;let b={width:i,height:a,type:gM[r],format:_M[s],wrapS:bM[l],wrapT:bM[u],mag:yM[m],min:yM[h],alignment:f,flipY:o,colorSpace:xM[g],premultiplyAlpha:p,aniso:d,x:_,y:v,copy:y};n&&(b.data=n),typeof c==`number`?b.mipmap=vM[c]:typeof c==`boolean`&&(b.mipmap=c),this.texture=e.texture(b)}get(){return this.texture}update(e={}){this.texture(e)}bind(){this.texture._texture.bind()}resize({width:e,height:t}){this.texture.resize(e,t),this.width=e,this.height=t}getSize(){return[this.width,this.height]}destroy(){var e;this.isDestroy||(e=this.texture)==null||e.destroy(),this.isDestroy=!0}},WM=e(fM()),GM=(e,t,n)=>new Promise((r,i)=>{var a=e=>{try{s(n.next(e))}catch(e){i(e)}},o=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,o);s((n=n.apply(e,t)).next())}),KM=class{constructor(){this.uniformBuffers=[],this.queryVerdorInfo=()=>`WebGL1`,this.createModel=e=>new HM(this.gl,e),this.createAttribute=e=>new pM(this.gl,e),this.createBuffer=e=>new OM(this.gl,e),this.createElements=e=>new kM(this.gl,e),this.createTexture2D=e=>new UM(this.gl,e),this.createFramebuffer=e=>new AM(this.gl,e),this.useFramebuffer=(e,t)=>{this.gl({framebuffer:e?e.get():null})(t)},this.useFramebufferAsync=(e,t)=>GM(this,null,function*(){this.gl({framebuffer:e?e.get():null})(t)}),this.clear=e=>{var t;let{color:n,depth:r,stencil:i,framebuffer:a=null}=e,o={color:n,depth:r,stencil:i};o.framebuffer=a===null?a:a.get(),(t=this.gl)==null||t.clear(o)},this.viewport=({x:e,y:t,width:n,height:r})=>{this.gl._gl.viewport(e,t,n,r),this.width=n,this.height=r,this.gl._refresh()},this.readPixels=e=>{let{framebuffer:t,x:n,y:r,width:i,height:a}=e,o={x:n,y:r,width:i,height:a};return t&&(o.framebuffer=t.get()),this.gl.read(o)},this.readPixelsAsync=e=>GM(this,null,function*(){return this.readPixels(e)}),this.getViewportSize=()=>({width:this.gl._gl.drawingBufferWidth,height:this.gl._gl.drawingBufferHeight}),this.getContainer=()=>this.canvas?.parentElement,this.getCanvas=()=>this.canvas,this.getGLContext=()=>this.gl._gl,this.destroy=()=>{var e;this.canvas=null,(e=(this.gl?._gl)?.getExtension(`WEBGL_lose_context`))==null||e.loseContext(),this.gl.destroy(),this.gl=null}}init(e,t,n){return GM(this,null,function*(){this.canvas=e,n?this.gl=n:this.gl=yield new Promise((e,n)=>{(0,WM.default)({canvas:this.canvas,attributes:{alpha:!0,antialias:t.antialias,premultipliedAlpha:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,stencil:t.stencil},extensions:[`OES_element_index_uint`,`OES_standard_derivatives`,`ANGLE_instanced_arrays`],optionalExtensions:[`oes_texture_float_linear`,`OES_texture_float`,`EXT_texture_filter_anisotropic`,`EXT_blend_minmax`,`WEBGL_depth_texture`,`WEBGL_lose_context`],profile:!0,onDone:(t,r)=>{(t||!r)&&n(t),e(r)}})}),this.extensionObject={OES_texture_float:this.testExtension(`OES_texture_float`)}})}getPointSizeRange(){return this.gl._gl.getParameter(this.gl._gl.ALIASED_POINT_SIZE_RANGE)}testExtension(e){return!!this.getGLContext().getExtension(e)}setState(){this.gl({cull:{enable:!1,face:`back`},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!0,equation:`add`},framebuffer:null}),this.gl._refresh()}setBaseState(){this.gl({cull:{enable:!1,face:`back`},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!1,equation:`add`},framebuffer:null}),this.gl._refresh()}setCustomLayerDefaults(){let e=this.getGLContext();e.disable(e.CULL_FACE)}setDirty(e){this.isDirty=e}getDirty(){return this.isDirty}beginFrame(){}endFrame(){}},qM=e(la()),JM=[`selectstart`,`selecting`,`selectend`],YM=class extends qM.EventEmitter{constructor(e,t={}){super(),this.isEnable=!1,this.onDragStart=e=>{this.box.style.display=`block`,this.startEvent=this.endEvent=e,this.syncBoxBound(),this.emit(`selectstart`,this.getLngLatBox(),this.startEvent,this.endEvent)},this.onDragging=e=>{this.endEvent=e,this.syncBoxBound(),this.emit(`selecting`,this.getLngLatBox(),this.startEvent,this.endEvent)},this.onDragEnd=e=>{this.endEvent=e,this.box.style.display=`none`,this.emit(`selectend`,this.getLngLatBox(),this.startEvent,this.endEvent)},this.scene=e,this.options=t}get container(){return this.scene.getMapService().getMarkerContainer()}enable(){if(this.isEnable)return;let{className:e}=this.options;if(this.scene.setMapStatus({dragEnable:!1}),this.container.style.cursor=`crosshair`,!this.box){let t=_i(`div`,void 0,this.container);t.classList.add(`l7-select-box`),e&&t.classList.add(e),t.style.display=`none`,this.box=t}this.scene.on(`dragstart`,this.onDragStart),this.scene.on(`dragging`,this.onDragging),this.scene.on(`dragend`,this.onDragEnd),this.isEnable=!0}disable(){this.isEnable&&=(this.scene.setMapStatus({dragEnable:!0}),this.container.style.cursor=`auto`,this.scene.off(`dragstart`,this.onDragStart),this.scene.off(`dragging`,this.onDragging),this.scene.off(`dragend`,this.onDragEnd),!1)}syncBoxBound(){let{x:e,y:t}=this.startEvent,{x:n,y:r}=this.endEvent,i=Math.min(e,n),a=Math.min(t,r),o=Math.abs(e-n),s=Math.abs(t-r);this.box.style.top=`${a}px`,this.box.style.left=`${i}px`,this.box.style.width=`${o}px`,this.box.style.height=`${s}px`}getLngLatBox(){let{lngLat:{lng:e,lat:t}}=this.startEvent,{lngLat:{lng:n,lat:r}}=this.endEvent;return Qi([[e,t],[n,r]])}},XM=Object.defineProperty,ZM=Object.defineProperties,QM=Object.getOwnPropertyDescriptors,$M=Object.getOwnPropertySymbols,eN=Object.prototype.hasOwnProperty,tN=Object.prototype.propertyIsEnumerable,nN=(e,t,n)=>t in e?XM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rN=(e,t)=>{for(var n in t||={})eN.call(t,n)&&nN(e,n,t[n]);if($M)for(var n of $M(t))tN.call(t,n)&&nN(e,n,t[n]);return e},iN=(e,t)=>ZM(e,QM(t)),aN=(e,t,n)=>new Promise((r,i)=>{var a=e=>{try{s(n.next(e))}catch(e){i(e)}},o=e=>{try{s(n.throw(e))}catch(e){i(e)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,o);s((n=n.apply(e,t)).next())}),oN=class{constructor(e){let{id:t,map:n,renderer:r=`device`}=e,i=Vf();this.container=i,n.setContainer(i,t),r===`regl`?i.rendererService=new KM:i.rendererService=new dM,this.sceneService=i.sceneService,this.mapService=i.mapService,this.iconService=i.iconService,this.fontService=i.fontService,this.controlService=i.controlService,this.layerService=i.layerService,this.debugService=i.debugService,this.debugService.setEnable(e.debug),this.markerService=i.markerService,this.interactionService=i.interactionService,this.popupService=i.popupService,this.boxSelect=new YM(this,{}),this.initComponent(t),this.sceneService.init(e),this.initControl()}get map(){return this.mapService.map}get loaded(){return this.sceneService.loaded}getServiceContainer(){return this.container}getSize(){return this.mapService.getSize()}getMinZoom(){return this.mapService.getMinZoom()}getMaxZoom(){return this.mapService.getMaxZoom()}getType(){return this.mapService.getType()}getMapContainer(){return this.mapService.getMapContainer()}getMapCanvasContainer(){return this.mapService.getMapCanvasContainer()}getMapService(){return this.mapService}getDebugService(){return this.debugService}exportPng(e){return aN(this,null,function*(){return this.sceneService.exportPng(e)})}exportMap(e){return aN(this,null,function*(){return this.sceneService.exportPng(e)})}registerRenderService(e){this.sceneService.loaded?new e(this).init():this.on(`loaded`,()=>{new e(this).init()})}setBgColor(e){this.mapService.setBgColor(e)}addLayer(e){this.loaded?this.preAddLayer(e):this.once(`loaded`,()=>{this.preAddLayer(e)})}preAddLayer(e){let t=Hf(this.container);if(e.setContainer(t),this.sceneService.addLayer(e),e.inited){this.initTileLayer(e);let t=this.initMask(e);this.addMask(t,e.id)}else e.on(`inited`,()=>{this.initTileLayer(e);let t=this.initMask(e);this.addMask(t,e.id)})}initMask(e){let{mask:t,maskfence:n,maskColor:r=`#000`,maskOpacity:i=0}=e.getLayerConfig();if(!(!t||!n))return new IT().source(n).shape(`fill`).style({color:r,opacity:i})}addMask(e,t){if(!e)return;let n=this.getLayer(t);if(n){let t=Hf(this.container);e.setContainer(t),n.addMaskLayer(e),this.sceneService.addMask(e)}else console.warn(`parent layer not find!`)}getPickedLayer(){return this.layerService.pickedLayerId}getLayers(){return this.layerService.getLayers()}getLayer(e){return this.layerService.getLayer(e)}getLayerByName(e){return this.layerService.getLayerByName(e)}removeLayer(e,t){return aN(this,null,function*(){yield this.layerService.remove(e,t)})}removeAllLayer(){return aN(this,null,function*(){yield this.layerService.removeAllLayers()})}render(){this.sceneService.render()}setEnableRender(e){this.layerService.setEnableRender(e)}addIconFont(e,t){this.fontService.addIconFont(e,t)}addIconFonts(e){e.forEach(([e,t])=>{this.fontService.addIconFont(e,t)})}addFontFace(e,t){this.fontService.once(`fontloaded`,e=>{this.emit(`fontloaded`,e)}),this.fontService.addFontFace(e,t)}addImage(e,t){return aN(this,null,function*(){yield this.iconService.addImage(e,t)})}hasImage(e){return this.iconService.hasImage(e)}removeImage(e){this.iconService.removeImage(e)}addIconFontGlyphs(e,t){this.fontService.addIconGlyphs(t)}addControl(e){this.controlService.addControl(e,this.container)}removeControl(e){this.controlService.removeControl(e)}getControlByName(e){return this.controlService.getControlByName(e)}addMarker(e){this.markerService.addMarker(e)}addMarkerLayer(e){this.markerService.addMarkerLayer(e)}removeMarkerLayer(e){this.markerService.removeMarkerLayer(e)}removeAllMarkers(){this.markerService.removeAllMarkers()}removeAllMakers(){console.warn(`removeAllMakers 已废弃，请使用 removeAllMarkers`),this.markerService.removeAllMarkers()}addPopup(e){this.popupService.addPopup(e)}removePopup(e){this.popupService.removePopup(e)}on(e,t){var n;JM.includes(e)?(n=this.boxSelect)==null||n.on(e,t):Uf.includes(e)?this.sceneService.on(e,t):this.mapService.on(e,t)}once(e,t){var n;JM.includes(e)?(n=this.boxSelect)==null||n.once(e,t):Uf.includes(e)?this.sceneService.once(e,t):this.mapService.once(e,t)}emit(e,t){Uf.includes(e)?this.sceneService.emit(e,t):this.mapService.on(e,t)}off(e,t){var n;JM.includes(e)?(n=this.boxSelect)==null||n.off(e,t):Uf.includes(e)?this.sceneService.off(e,t):this.mapService.off(e,t)}getZoom(){return this.mapService.getZoom()}getCenter(e){return this.mapService.getCenter(e)}setCenter(e,t){return this.mapService.setCenter(e,t)}getPitch(){return this.mapService.getPitch()}setPitch(e){return this.mapService.setPitch(e)}getRotation(){return this.mapService.getRotation()}getBounds(){return this.mapService.getBounds()}setRotation(e){this.mapService.setRotation(e)}zoomIn(){this.mapService.zoomIn()}zoomOut(){this.mapService.zoomOut()}panTo(e){this.mapService.panTo(e)}panBy(e,t){this.mapService.panBy(e,t)}getContainer(){return this.mapService.getContainer()}setZoom(e){this.mapService.setZoom(e)}fitBounds(e,t){let{fitBoundsOptions:n,animate:r}=this.sceneService.getSceneConfig();this.mapService.fitBounds(e,t||iN(rN({},n),{animate:r}))}setZoomAndCenter(e,t){this.mapService.setZoomAndCenter(e,t)}setMapStyle(e){this.mapService.setMapStyle(e)}setMapStatus(e){this.mapService.setMapStatus(e)}pixelToLngLat(e){return this.mapService.pixelToLngLat(e)}lngLatToPixel(e){return this.mapService.lngLatToPixel(e)}containerToLngLat(e){return this.mapService.containerToLngLat(e)}lngLatToContainer(e){return this.mapService.lngLatToContainer(e)}destroy(){this.sceneService.destroy()}registerPostProcessingPass(e){this.container.postProcessingPass.name=new e}enableShaderPick(){this.layerService.enableShaderPick()}diasbleShaderPick(){this.layerService.disableShaderPick()}enableBoxSelect(e=!0){this.boxSelect.enable(),e&&this.boxSelect.once(`selectend`,()=>{this.disableBoxSelect()})}disableBoxSelect(){this.boxSelect.disable()}static addProtocol(e,t){tr.REGISTERED_PROTOCOLS[e]=t}static removeProtocol(e){delete tr.REGISTERED_PROTOCOLS[e]}getProtocol(e){return tr.REGISTERED_PROTOCOLS[e]}startAnimate(){this.layerService.startAnimate()}stopAnimate(){this.layerService.stopAnimate()}getPointSizeRange(){return this.sceneService.getPointSizeRange()}initComponent(e){this.controlService.init({container:pi(e)},this.container),this.markerService.init(this.container),this.popupService.init(this.container)}initControl(){let{logoVisible:e,logoPosition:t}=this.sceneService.getSceneConfig();e&&this.addControl(new tg({position:t}))}initTileLayer(e){e.getSource().isTile&&(e.tileLayer=new JT(e))}},sN={type:`FeatureCollection`,features:[{type:`Feature`,id:161792,geometry:{type:`Point`,coordinates:[103.893473101,36.51870146]},properties:{ADM0_NAME:`China`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:83005,cum_clin:null,cum_susp:null,cum_death:3340,EPIWeek:15,EPIYear:2020,Comment:null,ID:161792,GUID:`af40da08-eeb3-40e9-bd59-41c06c17191f`,CENTER_LON:103.8934731,CENTER_LAT:36.51870146,ADM0_VIZ_NAME:`China`,Short_Name_ZH:`中国`,Short_Name_FR:`Chine`,Short_Name_ES:`China`,Short_Name_RU:`Китай`,Short_Name_AR:`الصين`}},{type:`Feature`,id:161793,geometry:{type:`Point`,coordinates:[127.829343915,36.367702276]},properties:{ADM0_NAME:`Republic of Korea`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:10284,cum_clin:null,cum_susp:null,cum_death:186,EPIWeek:15,EPIYear:2020,Comment:null,ID:161793,GUID:`8d331366-4bc7-4313-8e11-dea0054e7ad4`,CENTER_LON:127.82934392,CENTER_LAT:36.36770228,ADM0_VIZ_NAME:`Republic of Korea`,Short_Name_ZH:`大韩民国`,Short_Name_FR:`République de Corée`,Short_Name_ES:`República de Corea`,Short_Name_RU:`Республика Корея`,Short_Name_AR:`جمهورية كوريا`}},{type:`Feature`,id:161794,geometry:{type:`Point`,coordinates:[134.490975946,-25.733260232]},properties:{ADM0_NAME:`Australia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5795,cum_clin:null,cum_susp:null,cum_death:39,EPIWeek:15,EPIYear:2020,Comment:null,ID:161794,GUID:`bb79d7c7-29b4-45f2-93e6-2df1acc709ad`,CENTER_LON:134.49097595,CENTER_LAT:-25.73326023,ADM0_VIZ_NAME:`Australia`,Short_Name_ZH:`澳大利亚`,Short_Name_FR:`Australie`,Short_Name_ES:`Australia`,Short_Name_RU:`Австралия`,Short_Name_AR:`أستراليا`}},{type:`Feature`,id:161795,geometry:{type:`Point`,coordinates:[113.252212273,2.36614385200005]},properties:{ADM0_NAME:`Malaysia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3662,cum_clin:null,cum_susp:null,cum_death:61,EPIWeek:15,EPIYear:2020,Comment:null,ID:161795,GUID:`305e146d-efa9-43e5-a000-688bef88a933`,CENTER_LON:109.7115743,CENTER_LAT:3.79382045,ADM0_VIZ_NAME:`Malaysia`,Short_Name_ZH:`马来西亚`,Short_Name_FR:`Malaisie`,Short_Name_ES:`Malasia`,Short_Name_RU:`Малайзия`,Short_Name_AR:`ماليزيا`}},{type:`Feature`,id:161796,geometry:{type:`Point`,coordinates:[138.756881,36.466956]},properties:{ADM0_NAME:`Japan`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3654,cum_clin:null,cum_susp:null,cum_death:73,EPIWeek:15,EPIYear:2020,Comment:null,ID:161796,GUID:`9cba65ba-ddfd-418e-8501-21b13e24e90e`,CENTER_LON:137.97387026,CENTER_LAT:37.53982621,ADM0_VIZ_NAME:`Japan`,Short_Name_ZH:`日本`,Short_Name_FR:`Japon`,Short_Name_ES:`Japón`,Short_Name_RU:`Япония`,Short_Name_AR:`اليابان`}},{type:`Feature`,id:161797,geometry:{type:`Point`,coordinates:[122.873607427,11.747402026]},properties:{ADM0_NAME:`Philippines`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3246,cum_clin:null,cum_susp:null,cum_death:152,EPIWeek:15,EPIYear:2020,Comment:null,ID:161797,GUID:`73f7c9bf-ebf4-48dd-b4a8-ce2005c7b2fd`,CENTER_LON:122.87360743,CENTER_LAT:11.74740203,ADM0_VIZ_NAME:`Philippines`,Short_Name_ZH:`菲律宾`,Short_Name_FR:`Philippines`,Short_Name_ES:`Filipinas`,Short_Name_RU:`Филиппины`,Short_Name_AR:`الفلبين`}},{type:`Feature`,id:161798,geometry:{type:`Point`,coordinates:[103.807653591,1.35118038100006]},properties:{ADM0_NAME:`Singapore`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1309,cum_clin:null,cum_susp:null,cum_death:6,EPIWeek:15,EPIYear:2020,Comment:null,ID:161798,GUID:`f701475b-b12e-4647-8747-5f066797615a`,CENTER_LON:103.80765359,CENTER_LAT:1.35118038,ADM0_VIZ_NAME:`Singapore`,Short_Name_ZH:`新加坡`,Short_Name_FR:`Singapour`,Short_Name_ES:`Singapur`,Short_Name_RU:`Сингапур`,Short_Name_AR:`سنغافورة`}},{type:`Feature`,id:161799,geometry:{type:`Point`,coordinates:[171.603971284,-41.837106886]},properties:{ADM0_NAME:`New Zealand`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:911,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161799,GUID:`4b1c43e1-ae35-4d9a-9cc7-86b92722c762`,CENTER_LON:171.60397128,CENTER_LAT:-41.83710689,ADM0_VIZ_NAME:`New Zealand`,Short_Name_ZH:`新西兰`,Short_Name_FR:`Nouvelle-Zélande`,Short_Name_ES:`Nueva Zelandia`,Short_Name_RU:`Новая Зеландия`,Short_Name_AR:`نيوزيلندا`}},{type:`Feature`,id:161800,geometry:{type:`Point`,coordinates:[108.371477,15.8749560000001]},properties:{ADM0_NAME:`Viet Nam`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:241,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161800,GUID:`7306ccbf-f0ee-4f1b-8c7e-516065fe2ae1`,CENTER_LON:106.30403531,CENTER_LAT:16.65160342,ADM0_VIZ_NAME:`Viet Nam`,Short_Name_ZH:`越南`,Short_Name_FR:`Viet Nam`,Short_Name_ES:`Viet Nam`,Short_Name_RU:`Вьетнам`,Short_Name_AR:`فييت نام`}},{type:`Feature`,id:161801,geometry:{type:`Point`,coordinates:[114.761320882,4.52147838100007]},properties:{ADM0_NAME:`Brunei Darussalam`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:135,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161801,GUID:`688a16e9-73e3-4495-8eec-a9ef51d28b4a`,CENTER_LON:114.76132088,CENTER_LAT:4.52147838,ADM0_VIZ_NAME:`Brunei Darussalam`,Short_Name_ZH:`文莱达鲁萨兰国`,Short_Name_FR:`Brunéi Darussalam`,Short_Name_ES:`Brunei Darussalam`,Short_Name_RU:`Бруней-Даруссалам `,Short_Name_AR:`بروني دار السلام`}},{type:`Feature`,id:161802,geometry:{type:`Point`,coordinates:[104.92123962,12.714029941]},properties:{ADM0_NAME:`Cambodia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:114,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161802,GUID:`752bbf3c-e667-405f-a381-64dc3d7250e9`,CENTER_LON:104.92123962,CENTER_LAT:12.71402994,ADM0_VIZ_NAME:`Cambodia`,Short_Name_ZH:`柬埔寨`,Short_Name_FR:`Cambodge`,Short_Name_ES:`Camboya`,Short_Name_RU:`Камбоджа`,Short_Name_AR:`كمبوديا`}},{type:`Feature`,id:161803,geometry:{type:`Point`,coordinates:[144.775856782,13.4440310690001]},properties:{ADM0_NAME:`Guam`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:112,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161803,GUID:`07a13d36-90ef-4597-8599-bce2894a8a50`,CENTER_LON:144.77585678,CENTER_LAT:13.44403107,ADM0_VIZ_NAME:`Guam`,Short_Name_ZH:`关岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161804,geometry:{type:`Point`,coordinates:[-149.567999999,-17.5319999979999]},properties:{ADM0_NAME:`French Polynesia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:41,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161804,GUID:`5b4d9703-49bb-40f3-8f1a-426055d3630e`,CENTER_LON:-149.568,CENTER_LAT:-17.532,ADM0_VIZ_NAME:`French Polynesia`,Short_Name_ZH:`法属波利尼西亚\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161805,geometry:{type:`Point`,coordinates:[165.671849774,-21.2946141899999]},properties:{ADM0_NAME:`New Caledonia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:18,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161805,GUID:`0c2acf2b-a803-4fdb-af96-dd5eba270bd3`,CENTER_LON:165.67184977,CENTER_LAT:-21.29461419,ADM0_VIZ_NAME:`New Caledonia`,Short_Name_ZH:`新喀里多尼亚\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161806,geometry:{type:`Point`,coordinates:[103.083031076,46.8352087220001]},properties:{ADM0_NAME:`Mongolia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:15,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161806,GUID:`62c58dff-1d74-40b7-8bb4-fb2d4ea17224`,CENTER_LON:103.08303108,CENTER_LAT:46.83520872,ADM0_VIZ_NAME:`Mongolia`,Short_Name_ZH:`蒙古`,Short_Name_FR:`Mongolie`,Short_Name_ES:`Mongolia`,Short_Name_RU:`Монголия`,Short_Name_AR:`منغوليا`}},{type:`Feature`,id:161807,geometry:{type:`Point`,coordinates:[178.182000002,-17.8549999969999]},properties:{ADM0_NAME:`Fiji`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:14,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161807,GUID:`10a110c7-9bca-41a2-8665-e967984c4f31`,CENTER_LON:178.182,CENTER_LAT:-17.855,ADM0_VIZ_NAME:`Fiji`,Short_Name_ZH:`斐济`,Short_Name_FR:`Fidji`,Short_Name_ES:`Fiji`,Short_Name_RU:`Фиджи `,Short_Name_AR:`فيجي`}},{type:`Feature`,id:161808,geometry:{type:`Point`,coordinates:[103.763405594,18.5024505710001]},properties:{ADM0_NAME:`Lao People's Democratic Republic`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:11,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161808,GUID:`ab453840-eb7a-431c-b52f-e79d58df4850`,CENTER_LON:103.76340559,CENTER_LAT:18.50245057,ADM0_VIZ_NAME:`Lao People's Democratic Republic`,Short_Name_ZH:`老挝人民民主共和国`,Short_Name_FR:`République démocratique populaire lao`,Short_Name_ES:`República Democrática Popular Lao`,Short_Name_RU:`Лаосская Народно-Демократическая Республика`,Short_Name_AR:`جمهورية لاوس الديمقراطية الشعبية`}},{type:`Feature`,id:161809,geometry:{type:`Point`,coordinates:[145.587832112,16.255704635]},properties:{ADM0_NAME:`Northern Mariana Islands (Commonwealth of the)`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:8,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161809,GUID:`b6207b55-8d8b-4599-9ea6-714cad3be598`,CENTER_LON:145.58783211,CENTER_LAT:16.25570464,ADM0_VIZ_NAME:`Northern Mariana Islands (Commonwealth of the)`,Short_Name_ZH:`北马里亚纳群岛自由邦\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161810,geometry:{type:`Point`,coordinates:[145.253687589,-6.47589334999998]},properties:{ADM0_NAME:`Papua New Guinea`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161810,GUID:`d4e68089-5dc0-41e2-baf9-f9ba4bf31fa1`,CENTER_LON:145.25368759,CENTER_LAT:-6.47589335,ADM0_VIZ_NAME:`Papua New Guinea`,Short_Name_ZH:`巴布亚新几内亚`,Short_Name_FR:`Papouasie-Nouvelle-Guinée`,Short_Name_ES:`Papua Nueva Guinea`,Short_Name_RU:`Папуа-Новая Гвинея`,Short_Name_AR:`بابوا غينيا الجديدة`}},{type:`Feature`,id:161811,geometry:{type:`Point`,coordinates:[-3.64931117899994,40.2274959580001]},properties:{ADM0_NAME:`Spain`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:130759,cum_clin:null,cum_susp:null,cum_death:12418,EPIWeek:15,EPIYear:2020,Comment:null,ID:161811,GUID:`a2915e2f-0d93-4ee6-8e41-1fa268228580`,CENTER_LON:-3.64931118,CENTER_LAT:40.22749596,ADM0_VIZ_NAME:`Spain`,Short_Name_ZH:`西班牙`,Short_Name_FR:`Espagne`,Short_Name_ES:`España`,Short_Name_RU:`Испания`,Short_Name_AR:`إسبانيا`}},{type:`Feature`,id:161812,geometry:{type:`Point`,coordinates:[12.071655591,42.7911916680001]},properties:{ADM0_NAME:`Italy`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:128948,cum_clin:null,cum_susp:null,cum_death:15889,EPIWeek:15,EPIYear:2020,Comment:null,ID:161812,GUID:`e595e984-0e40-4363-aa46-5e7decf832f6`,CENTER_LON:12.07165559,CENTER_LAT:42.79119167,ADM0_VIZ_NAME:`Italy`,Short_Name_ZH:`意大利`,Short_Name_FR:`Italie`,Short_Name_ES:`Italia`,Short_Name_RU:`Италия`,Short_Name_AR:`إيطاليا`}},{type:`Feature`,id:161813,geometry:{type:`Point`,coordinates:[10.392329666,51.110153956]},properties:{ADM0_NAME:`Germany`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:95391,cum_clin:null,cum_susp:null,cum_death:1434,EPIWeek:15,EPIYear:2020,Comment:null,ID:161813,GUID:`a46bc45e-bcab-46d8-a50b-5008714077c0`,CENTER_LON:10.39232967,CENTER_LAT:51.11015396,ADM0_VIZ_NAME:`Germany`,Short_Name_ZH:`德国`,Short_Name_FR:`Allemagne`,Short_Name_ES:`Alemania`,Short_Name_RU:`Германия`,Short_Name_AR:`ألمانيا`}},{type:`Feature`,id:161814,geometry:{type:`Point`,coordinates:[2.55042645600003,46.5648740250001]},properties:{ADM0_NAME:`France`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:69607,cum_clin:null,cum_susp:null,cum_death:8064,EPIWeek:15,EPIYear:2020,Comment:null,ID:161814,GUID:`4c308a42-4e33-4d8f-a408-0746862545c7`,CENTER_LON:2.55042646,CENTER_LAT:46.56487403,ADM0_VIZ_NAME:`France`,Short_Name_ZH:`法国`,Short_Name_FR:`France`,Short_Name_ES:`Francia`,Short_Name_RU:`Франция`,Short_Name_AR:`فرنسا`}},{type:`Feature`,id:161815,geometry:{type:`Point`,coordinates:[-2.90049476399997,54.160179204]},properties:{ADM0_NAME:`The United Kingdom`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:47810,cum_clin:null,cum_susp:null,cum_death:4934,EPIWeek:15,EPIYear:2020,Comment:null,ID:161815,GUID:`50626e89-e145-4d23-8cc4-911240017430`,CENTER_LON:-2.90049476,CENTER_LAT:54.1601792,ADM0_VIZ_NAME:`The United Kingdom`,Short_Name_ZH:`大不列颠及北爱尔兰联合王国`,Short_Name_FR:`Royaume-Uni de Grande-Bretagne et d'Irlande du Nord`,Short_Name_ES:`Reino Unido de Gran Bretaña e Irlanda del Norte`,Short_Name_RU:`Соединенное Королевство Великобритании и Северной Ирландии`,Short_Name_AR:`المملكة المتحدة لبريطانيا العظمى وآيرلندا الشمالية `}},{type:`Feature`,id:161816,geometry:{type:`Point`,coordinates:[35.1792181100001,39.0606185600001]},properties:{ADM0_NAME:`Turkey`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:27069,cum_clin:null,cum_susp:null,cum_death:574,EPIWeek:15,EPIYear:2020,Comment:null,ID:161816,GUID:`a135ad5a-5f50-44c3-bcca-18554926127a`,CENTER_LON:35.17921811,CENTER_LAT:39.06061856,ADM0_VIZ_NAME:`Turkey`,Short_Name_ZH:`土耳其`,Short_Name_FR:`Turquie`,Short_Name_ES:`Turquía`,Short_Name_RU:`Турция`,Short_Name_AR:`تركيا`}},{type:`Feature`,id:161817,geometry:{type:`Point`,coordinates:[8.23458738300008,46.8025828]},properties:{ADM0_NAME:`Switzerland`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:21065,cum_clin:null,cum_susp:null,cum_death:715,EPIWeek:15,EPIYear:2020,Comment:null,ID:161817,GUID:`3af18dcb-7d8a-4b6e-bc45-84611b8b6ecc`,CENTER_LON:8.23458738,CENTER_LAT:46.8025828,ADM0_VIZ_NAME:`Switzerland`,Short_Name_ZH:`瑞士`,Short_Name_FR:`Suisse`,Short_Name_ES:`Suiza`,Short_Name_RU:`Швейцария`,Short_Name_AR:`سويسرا`}},{type:`Feature`,id:161818,geometry:{type:`Point`,coordinates:[4.66434840900007,50.6429517600001]},properties:{ADM0_NAME:`Belgium`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:19691,cum_clin:null,cum_susp:null,cum_death:1447,EPIWeek:15,EPIYear:2020,Comment:null,ID:161818,GUID:`effea6fa-d758-4860-ad26-41cdc15c23fb`,CENTER_LON:4.66434841,CENTER_LAT:50.64295176,ADM0_VIZ_NAME:`Belgium`,Short_Name_ZH:`比利时`,Short_Name_FR:`Belgique`,Short_Name_ES:`Bélgica`,Short_Name_RU:`Бельгия`,Short_Name_AR:`بلجيكا`}},{type:`Feature`,id:161819,geometry:{type:`Point`,coordinates:[5.60099775900005,52.253576303]},properties:{ADM0_NAME:`Netherlands`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:17851,cum_clin:null,cum_susp:null,cum_death:1766,EPIWeek:15,EPIYear:2020,Comment:null,ID:161819,GUID:`f4139dd7-53a2-45a3-8e8c-c82b9323a391`,CENTER_LON:5.60099776,CENTER_LAT:52.2535763,ADM0_VIZ_NAME:`Netherlands`,Short_Name_ZH:`荷兰`,Short_Name_FR:`Pays-Bas`,Short_Name_ES:`Países Bajos`,Short_Name_RU:`Нидерланды`,Short_Name_AR:`هولندا`}},{type:`Feature`,id:161820,geometry:{type:`Point`,coordinates:[14.1399883120001,47.59295768]},properties:{ADM0_NAME:`Austria`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:11983,cum_clin:null,cum_susp:null,cum_death:204,EPIWeek:15,EPIYear:2020,Comment:null,ID:161820,GUID:`8608cb86-e05d-483d-8eda-8d1b03069602`,CENTER_LON:14.13998831,CENTER_LAT:47.59295768,ADM0_VIZ_NAME:`Austria`,Short_Name_ZH:`奥地利`,Short_Name_FR:`Autriche`,Short_Name_ES:`Austria`,Short_Name_RU:`Австрия`,Short_Name_AR:`النمسا`}},{type:`Feature`,id:161821,geometry:{type:`Point`,coordinates:[-8.46736074199993,39.6026951090001]},properties:{ADM0_NAME:`Portugal`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:11278,cum_clin:null,cum_susp:null,cum_death:295,EPIWeek:15,EPIYear:2020,Comment:null,ID:161821,GUID:`48a4e6f7-f991-43b0-a27c-22d79e1a36bd`,CENTER_LON:-8.46736074,CENTER_LAT:39.60269511,ADM0_VIZ_NAME:`Portugal`,Short_Name_ZH:`葡萄牙`,Short_Name_FR:`Portugal`,Short_Name_ES:`Portugal`,Short_Name_RU:`Португалия`,Short_Name_AR:`البرتغال`}},{type:`Feature`,id:161822,geometry:{type:`Point`,coordinates:[34.9659827130001,31.3580565250001]},properties:{ADM0_NAME:`Israel`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:8018,cum_clin:null,cum_susp:null,cum_death:46,EPIWeek:15,EPIYear:2020,Comment:null,ID:161822,GUID:`81d5bb84-8e84-4830-9fa3-f29e9b09fda8`,CENTER_LON:34.96598271,CENTER_LAT:31.35805652,ADM0_VIZ_NAME:`Israel`,Short_Name_ZH:`以色列`,Short_Name_FR:`Israël`,Short_Name_ES:`Israel`,Short_Name_RU:`Израиль`,Short_Name_AR:`إسرائيل`}},{type:`Feature`,id:161823,geometry:{type:`Point`,coordinates:[16.741155258,62.7877422610001]},properties:{ADM0_NAME:`Sweden`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:6830,cum_clin:null,cum_susp:null,cum_death:401,EPIWeek:15,EPIYear:2020,Comment:null,ID:161823,GUID:`35ec511a-2e1c-4483-a917-1f67a1342382`,CENTER_LON:16.74115526,CENTER_LAT:62.78774226,ADM0_VIZ_NAME:`Sweden`,Short_Name_ZH:`瑞典`,Short_Name_FR:`Suède`,Short_Name_ES:`Suecia`,Short_Name_RU:`Швеция`,Short_Name_AR:`السويد`}},{type:`Feature`,id:161824,geometry:{type:`Point`,coordinates:[14.0750891050001,64.447848874]},properties:{ADM0_NAME:`Norway`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5640,cum_clin:null,cum_susp:null,cum_death:58,EPIWeek:15,EPIYear:2020,Comment:null,ID:161824,GUID:`82efba96-e610-4592-a329-95d7c3a57b4f`,CENTER_LON:14.07508911,CENTER_LAT:64.44784887,ADM0_VIZ_NAME:`Norway`,Short_Name_ZH:`挪威`,Short_Name_FR:`Norvège`,Short_Name_ES:`Noruega`,Short_Name_RU:`Норвегия`,Short_Name_AR:`النرويج`}},{type:`Feature`,id:161825,geometry:{type:`Point`,coordinates:[96.689442146,61.9882456010001]},properties:{ADM0_NAME:`Russian Federation`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5389,cum_clin:null,cum_susp:null,cum_death:45,EPIWeek:15,EPIYear:2020,Comment:null,ID:161825,GUID:`58afb040-3a74-491b-809d-00b145c55577`,CENTER_LON:96.68944215,CENTER_LAT:61.9882456,ADM0_VIZ_NAME:`Russian Federation`,Short_Name_ZH:`俄罗斯联邦`,Short_Name_FR:`Fédération de Russie`,Short_Name_ES:`Federación de Rusia`,Short_Name_RU:`Российская Федерация`,Short_Name_AR:`الاتحاد الروسي`}},{type:`Feature`,id:161826,geometry:{type:`Point`,coordinates:[-8.15157629999993,53.1770868180001]},properties:{ADM0_NAME:`Ireland`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5111,cum_clin:null,cum_susp:null,cum_death:158,EPIWeek:15,EPIYear:2020,Comment:null,ID:161826,GUID:`f5d664d0-c086-4d71-8874-044e3d094c5d`,CENTER_LON:-8.1515763,CENTER_LAT:53.17708682,ADM0_VIZ_NAME:`Ireland`,Short_Name_ZH:`爱尔兰`,Short_Name_FR:`Irlande`,Short_Name_ES:`Irlanda`,Short_Name_RU:`Ирландия`,Short_Name_AR:`آيرلندا`}},{type:`Feature`,id:161827,geometry:{type:`Point`,coordinates:[15.338339951,49.743036139]},properties:{ADM0_NAME:`Czechia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4587,cum_clin:null,cum_susp:null,cum_death:67,EPIWeek:15,EPIYear:2020,Comment:null,ID:161827,GUID:`8cf681ef-d988-4d5d-86c7-5483977059e7`,CENTER_LON:15.33833995,CENTER_LAT:49.74303614,ADM0_VIZ_NAME:`Czechia`,Short_Name_ZH:`捷克`,Short_Name_FR:`Tchéquie`,Short_Name_ES:`Chequia`,Short_Name_RU:`Чехия`,Short_Name_AR:`تشيكيا`}},{type:`Feature`,id:161828,geometry:{type:`Point`,coordinates:[10.0508208200001,55.962332802]},properties:{ADM0_NAME:`Denmark`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4369,cum_clin:null,cum_susp:null,cum_death:179,EPIWeek:15,EPIYear:2020,Comment:null,ID:161828,GUID:`39dcd44b-aa79-48a8-9840-3179a28a35a9`,CENTER_LON:10.05082082,CENTER_LAT:55.9623328,ADM0_VIZ_NAME:`Denmark`,Short_Name_ZH:`丹麦`,Short_Name_FR:`Danemark`,Short_Name_ES:`Dinamarca`,Short_Name_RU:`Дания`,Short_Name_AR:`الدانمرك`}},{type:`Feature`,id:161829,geometry:{type:`Point`,coordinates:[19.4009201690001,52.1247240530001]},properties:{ADM0_NAME:`Poland`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4102,cum_clin:null,cum_susp:null,cum_death:94,EPIWeek:15,EPIYear:2020,Comment:null,ID:161829,GUID:`1c04cb3c-08f6-47a3-bb42-dd9da35e226c`,CENTER_LON:19.40092017,CENTER_LAT:52.12472405,ADM0_VIZ_NAME:`Poland`,Short_Name_ZH:`波兰`,Short_Name_FR:`Pologne`,Short_Name_ES:`Polonia`,Short_Name_RU:`Польша`,Short_Name_AR:`بولندا`}},{type:`Feature`,id:161830,geometry:{type:`Point`,coordinates:[24.96990758,45.843605584]},properties:{ADM0_NAME:`Romania`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3864,cum_clin:null,cum_susp:null,cum_death:148,EPIWeek:15,EPIYear:2020,Comment:null,ID:161830,GUID:`26eaed41-b340-4f38-90e3-9392e04420c6`,CENTER_LON:24.96990758,CENTER_LAT:45.84360558,ADM0_VIZ_NAME:`Romania`,Short_Name_ZH:`罗马尼亚`,Short_Name_FR:`Roumanie`,Short_Name_ES:`Rumania`,Short_Name_RU:`Румыния`,Short_Name_AR:`رومانيا`}},{type:`Feature`,id:161831,geometry:{type:`Point`,coordinates:[6.08754415700002,49.7709639620001]},properties:{ADM0_NAME:`Luxembourg`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:2804,cum_clin:null,cum_susp:null,cum_death:36,EPIWeek:15,EPIYear:2020,Comment:null,ID:161831,GUID:`05241edc-00fd-47ec-ba71-800dbf3f853d`,CENTER_LON:6.08754416,CENTER_LAT:49.77096396,ADM0_VIZ_NAME:`Luxembourg`,Short_Name_ZH:`卢森堡`,Short_Name_FR:`Luxembourg`,Short_Name_ES:`Luxemburgo`,Short_Name_RU:`Люксембург`,Short_Name_AR:`لكسمبرغ`}},{type:`Feature`,id:161832,geometry:{type:`Point`,coordinates:[26.258842304,64.4943312920001]},properties:{ADM0_NAME:`Finland`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1927,cum_clin:null,cum_susp:null,cum_death:28,EPIWeek:15,EPIYear:2020,Comment:null,ID:161832,GUID:`e3fd3d41-feaa-443f-a135-08a80552525c`,CENTER_LON:26.2588423,CENTER_LAT:64.49433129,ADM0_VIZ_NAME:`Finland`,Short_Name_ZH:`芬兰`,Short_Name_FR:`Finlande`,Short_Name_ES:`Finlandia`,Short_Name_RU:`Финляндия`,Short_Name_AR:`فنلندا`}},{type:`Feature`,id:161833,geometry:{type:`Point`,coordinates:[20.8113308580001,44.0338722170001]},properties:{ADM0_NAME:`Serbia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1908,cum_clin:null,cum_susp:null,cum_death:51,EPIWeek:15,EPIYear:2020,Comment:`145`,ID:161833,GUID:`c2a1295d-39bf-42fa-89ed-cadee2ea50c0`,CENTER_LON:20.81133086,CENTER_LAT:44.03387222,ADM0_VIZ_NAME:`Serbia`,Short_Name_ZH:`塞尔维亚`,Short_Name_FR:`Serbie`,Short_Name_ES:`Serbia`,Short_Name_RU:`Сербия`,Short_Name_AR:`صربيا`}},{type:`Feature`,id:161834,geometry:{type:`Point`,coordinates:[22.9879848,39.0445287420001]},properties:{ADM0_NAME:`Greece`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1735,cum_clin:null,cum_susp:null,cum_death:73,EPIWeek:15,EPIYear:2020,Comment:null,ID:161834,GUID:`89efdcec-75e3-4185-83a8-d2cb7f6beff6`,CENTER_LON:22.9879848,CENTER_LAT:39.04452874,ADM0_VIZ_NAME:`Greece`,Short_Name_ZH:`希腊`,Short_Name_FR:`Grèce`,Short_Name_ES:`Grecia`,Short_Name_RU:`Греция`,Short_Name_AR:`اليونان`}},{type:`Feature`,id:161835,geometry:{type:`Point`,coordinates:[-18.6057025969999,64.9976499840001]},properties:{ADM0_NAME:`Iceland`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1486,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161835,GUID:`66510a15-4a49-4fb4-9400-6e6fd0d1d259`,CENTER_LON:-18.6057026,CENTER_LAT:64.99764998,ADM0_VIZ_NAME:`Iceland`,Short_Name_ZH:`冰岛`,Short_Name_FR:`Islande`,Short_Name_ES:`Islandia`,Short_Name_RU:`Исландия`,Short_Name_AR:`آيسلندا`}},{type:`Feature`,id:161836,geometry:{type:`Point`,coordinates:[31.3878455180001,49.0160942850001]},properties:{ADM0_NAME:`Ukraine`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1319,cum_clin:null,cum_susp:null,cum_death:38,EPIWeek:15,EPIYear:2020,Comment:null,ID:161836,GUID:`95185552-2b03-429c-8efb-c5779d556529`,CENTER_LON:31.38784552,CENTER_LAT:49.01609429,ADM0_VIZ_NAME:`Ukraine`,Short_Name_ZH:`乌克兰`,Short_Name_FR:`Ukraine`,Short_Name_ES:`Ucrania`,Short_Name_RU:`Украина`,Short_Name_AR:`أوكرانيا`}},{type:`Feature`,id:161837,geometry:{type:`Point`,coordinates:[16.409342489,45.043636959]},properties:{ADM0_NAME:`Croatia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1182,cum_clin:null,cum_susp:null,cum_death:15,EPIWeek:15,EPIYear:2020,Comment:null,ID:161837,GUID:`0632bd7c-fa87-4b49-847e-747eb322c506`,CENTER_LON:16.40934249,CENTER_LAT:45.04363696,ADM0_VIZ_NAME:`Croatia`,Short_Name_ZH:`克罗地亚`,Short_Name_FR:`Croatie`,Short_Name_ES:`Croacia`,Short_Name_RU:`Хорватия`,Short_Name_AR:`كرواتيا`}},{type:`Feature`,id:161838,geometry:{type:`Point`,coordinates:[25.525770902,58.674007869]},properties:{ADM0_NAME:`Estonia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1097,cum_clin:null,cum_susp:null,cum_death:15,EPIWeek:15,EPIYear:2020,Comment:null,ID:161838,GUID:`465ebc0d-dc95-4d49-8c01-58d7e2a9629f`,CENTER_LON:25.5257709,CENTER_LAT:58.67400787,ADM0_VIZ_NAME:`Estonia`,Short_Name_ZH:`爱沙尼亚`,Short_Name_FR:`Estonie`,Short_Name_ES:`Estonia`,Short_Name_RU:`Эстония`,Short_Name_AR:`إستونيا`}},{type:`Feature`,id:161839,geometry:{type:`Point`,coordinates:[14.8270744380001,46.123550256]},properties:{ADM0_NAME:`Slovenia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:997,cum_clin:null,cum_susp:null,cum_death:28,EPIWeek:15,EPIYear:2020,Comment:null,ID:161839,GUID:`a1f8bec8-8628-4e46-9c7e-238a386177b5`,CENTER_LON:14.82707444,CENTER_LAT:46.12355026,ADM0_VIZ_NAME:`Slovenia`,Short_Name_ZH:`斯洛文尼亚`,Short_Name_FR:`Slovénie`,Short_Name_ES:`Eslovenia`,Short_Name_RU:`Словения`,Short_Name_AR:`سلوفينيا`}},{type:`Feature`,id:161840,geometry:{type:`Point`,coordinates:[28.4743431700001,47.1933256130001]},properties:{ADM0_NAME:`Republic of Moldova`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:864,cum_clin:null,cum_susp:null,cum_death:15,EPIWeek:15,EPIYear:2020,Comment:null,ID:161840,GUID:`2e685fb5-826d-4cda-8f11-ab4e215115c8`,CENTER_LON:28.47434317,CENTER_LAT:47.19332561,ADM0_VIZ_NAME:`Republic of Moldova`,Short_Name_ZH:`摩尔多瓦共和国`,Short_Name_FR:`République de Moldova`,Short_Name_ES:`la República de Moldova`,Short_Name_RU:`Республика Молдова`,Short_Name_AR:` جمهورية مولدوفا`}},{type:`Feature`,id:161841,geometry:{type:`Point`,coordinates:[23.8968307550001,55.3358501330001]},properties:{ADM0_NAME:`Lithuania`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:811,cum_clin:null,cum_susp:null,cum_death:13,EPIWeek:15,EPIYear:2020,Comment:null,ID:161841,GUID:`9dedcb14-a08f-4f9c-9248-f3e734fe9026`,CENTER_LON:23.89683075,CENTER_LAT:55.33585013,ADM0_VIZ_NAME:`Lithuania`,Short_Name_ZH:`立陶宛`,Short_Name_FR:`Lituanie`,Short_Name_ES:`Lituania`,Short_Name_RU:`Литва`,Short_Name_AR:`ليتوانيا`}},{type:`Feature`,id:161842,geometry:{type:`Point`,coordinates:[44.947934237,40.2864168850001]},properties:{ADM0_NAME:`Armenia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:746,cum_clin:null,cum_susp:null,cum_death:7,EPIWeek:15,EPIYear:2020,Comment:null,ID:161842,GUID:`eacf41cc-aa5e-48c9-a3db-386fce22497f`,CENTER_LON:44.94793424,CENTER_LAT:40.28641688,ADM0_VIZ_NAME:`Armenia`,Short_Name_ZH:`亚美尼亚`,Short_Name_FR:`Arménie`,Short_Name_ES:`Armenia`,Short_Name_RU:`Армения`,Short_Name_AR:`أرمينيا`}},{type:`Feature`,id:161843,geometry:{type:`Point`,coordinates:[19.413428132,47.166479059]},properties:{ADM0_NAME:`Hungary`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:744,cum_clin:null,cum_susp:null,cum_death:38,EPIWeek:15,EPIYear:2020,Comment:null,ID:161843,GUID:`dd6f8b0d-73f4-4afc-889e-185c363755bd`,CENTER_LON:19.41342813,CENTER_LAT:47.16647906,ADM0_VIZ_NAME:`Hungary`,Short_Name_ZH:`匈牙利`,Short_Name_FR:`Hongrie`,Short_Name_ES:`Hungría`,Short_Name_RU:`Венгрия`,Short_Name_AR:`هنغاريا`}},{type:`Feature`,id:161844,geometry:{type:`Point`,coordinates:[17.788588722,44.166459531]},properties:{ADM0_NAME:`Bosnia and Herzegovina`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:662,cum_clin:null,cum_susp:null,cum_death:21,EPIWeek:15,EPIYear:2020,Comment:null,ID:161844,GUID:`e72216b1-90ca-4ef3-8ca5-334dc566e491`,CENTER_LON:17.78861095,CENTER_LAT:44.16643966,ADM0_VIZ_NAME:`Bosnia and Herzegovina`,Short_Name_ZH:`波斯尼亚和黑塞哥维那`,Short_Name_FR:`Bosnie-Herzégovine`,Short_Name_ES:`Bosnia y Herzegovina`,Short_Name_RU:`Босния и Герцеговина`,Short_Name_AR:`البوسنة والهرسك`}},{type:`Feature`,id:161845,geometry:{type:`Point`,coordinates:[67.3013001780001,48.160042703]},properties:{ADM0_NAME:`Kazakhstan`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:604,cum_clin:null,cum_susp:null,cum_death:5,EPIWeek:15,EPIYear:2020,Comment:null,ID:161845,GUID:`4977dd2e-53da-4f6e-8b28-b232665dce70`,CENTER_LON:67.30130018,CENTER_LAT:48.1600427,ADM0_VIZ_NAME:`Kazakhstan`,Short_Name_ZH:`哈萨克斯坦`,Short_Name_FR:`Kazakhstan`,Short_Name_ES:`Kazajstán`,Short_Name_RU:`Казахстан`,Short_Name_AR:`كازاخستان`}},{type:`Feature`,id:161846,geometry:{type:`Point`,coordinates:[47.5323268120001,40.292219501]},properties:{ADM0_NAME:`Azerbaijan`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:584,cum_clin:null,cum_susp:null,cum_death:5,EPIWeek:15,EPIYear:2020,Comment:null,ID:161846,GUID:`7c545b04-b947-4d2a-94f1-af4010981973`,CENTER_LON:47.53232681,CENTER_LAT:40.2922195,ADM0_VIZ_NAME:`Azerbaijan`,Short_Name_ZH:`阿塞拜疆`,Short_Name_FR:`Azerbaïdjan`,Short_Name_ES:`Azerbaiyán`,Short_Name_RU:`Азербайджан`,Short_Name_AR:`أذربيجان`}},{type:`Feature`,id:161847,geometry:{type:`Point`,coordinates:[28.046964476,53.5402195120001]},properties:{ADM0_NAME:`Belarus`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:562,cum_clin:null,cum_susp:null,cum_death:8,EPIWeek:15,EPIYear:2020,Comment:null,ID:161847,GUID:`b0db3eb1-014d-4f19-ad8a-0d42e84400bc`,CENTER_LON:28.04696448,CENTER_LAT:53.54021951,ADM0_VIZ_NAME:`Belarus`,Short_Name_ZH:`白俄罗斯`,Short_Name_FR:`Bélarus`,Short_Name_ES:`Belarús`,Short_Name_RU:`Беларусь`,Short_Name_AR:`بيلاروس`}},{type:`Feature`,id:161848,geometry:{type:`Point`,coordinates:[21.699148501,41.5992207530001]},properties:{ADM0_NAME:`North Macedonia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:555,cum_clin:null,cum_susp:null,cum_death:18,EPIWeek:15,EPIYear:2020,Comment:null,ID:161848,GUID:`3e3320e9-1f0d-44fb-9ca7-59fcb032f585`,CENTER_LON:21.6991485,CENTER_LAT:41.59922075,ADM0_VIZ_NAME:`North Macedonia`,Short_Name_ZH:`北马其顿`,Short_Name_FR:`Macédoine du Nord`,Short_Name_ES:`Macedonia del Norte`,Short_Name_RU:`Северная Македония`,Short_Name_AR:`مقدونيا الشمالية`}},{type:`Feature`,id:161849,geometry:{type:`Point`,coordinates:[24.9291533160001,56.857669393]},properties:{ADM0_NAME:`Latvia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:533,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161849,GUID:`0c31644b-8d04-4f24-aca0-d49b0523a771`,CENTER_LON:24.92915332,CENTER_LAT:56.85766939,ADM0_VIZ_NAME:`Latvia`,Short_Name_ZH:`拉脱维亚`,Short_Name_FR:`Lettonie`,Short_Name_ES:`Letonia`,Short_Name_RU:`Латвия`,Short_Name_AR:`لاتفيا`}},{type:`Feature`,id:161850,geometry:{type:`Point`,coordinates:[25.234757556,42.7603214050001]},properties:{ADM0_NAME:`Bulgaria`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:531,cum_clin:null,cum_susp:null,cum_death:20,EPIWeek:15,EPIYear:2020,Comment:null,ID:161850,GUID:`9ec1719f-edd7-42af-8988-ed246a25ff6e`,CENTER_LON:25.23475756,CENTER_LAT:42.76032141,ADM0_VIZ_NAME:`Bulgaria`,Short_Name_ZH:`保加利亚`,Short_Name_FR:`Bulgarie`,Short_Name_ES:`Bulgaria`,Short_Name_RU:`Болгария`,Short_Name_AR:`بلغاريا`}},{type:`Feature`,id:161851,geometry:{type:`Point`,coordinates:[1.57568832800007,42.548582966]},properties:{ADM0_NAME:`Andorra`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:523,cum_clin:null,cum_susp:null,cum_death:17,EPIWeek:15,EPIYear:2020,Comment:null,ID:161851,GUID:`066f0f3c-d111-4a65-afdd-5f86e5ac8ddc`,CENTER_LON:1.57568833,CENTER_LAT:42.54858297,ADM0_VIZ_NAME:`Andorra`,Short_Name_ZH:`安道尔`,Short_Name_FR:`Andorre`,Short_Name_ES:`Andorra`,Short_Name_RU:`Андорра`,Short_Name_AR:`أندورا`}},{type:`Feature`,id:161852,geometry:{type:`Point`,coordinates:[19.4914502780001,48.7073588010001]},properties:{ADM0_NAME:`Slovakia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:485,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161852,GUID:`7ec96ad8-a352-4125-af49-b14e8cb9876b`,CENTER_LON:19.49145028,CENTER_LAT:48.7073588,ADM0_VIZ_NAME:`Slovakia`,Short_Name_ZH:`斯洛伐克`,Short_Name_FR:`Slovaquie`,Short_Name_ES:`Eslovaquia`,Short_Name_RU:`Словакия`,Short_Name_AR:`سلوفاكيا`}},{type:`Feature`,id:161853,geometry:{type:`Point`,coordinates:[33.2186370790001,35.042991746]},properties:{ADM0_NAME:`Cyprus`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:446,cum_clin:null,cum_susp:null,cum_death:14,EPIWeek:15,EPIYear:2020,Comment:null,ID:161853,GUID:`21711ed5-ad84-4f8f-af93-6e4d12e558bf`,CENTER_LON:33.21863708,CENTER_LAT:35.04299175,ADM0_VIZ_NAME:`Cyprus`,Short_Name_ZH:`塞浦路斯`,Short_Name_FR:`Chypre`,Short_Name_ES:`Chipre`,Short_Name_RU:`Кипр`,Short_Name_AR:`قبرص`}},{type:`Feature`,id:161854,geometry:{type:`Point`,coordinates:[63.169505783,41.750416607]},properties:{ADM0_NAME:`Uzbekistan`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:390,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161854,GUID:`6041dd4d-0f77-4e28-8d46-cc9afc8dbf9a`,CENTER_LON:63.16950578,CENTER_LAT:41.75041661,ADM0_VIZ_NAME:`Uzbekistan`,Short_Name_ZH:`乌兹别克斯坦`,Short_Name_FR:`Ouzbékistan`,Short_Name_ES:`Uzbekistán`,Short_Name_RU:`Узбекистан`,Short_Name_AR:`أوزبكستان`}},{type:`Feature`,id:161855,geometry:{type:`Point`,coordinates:[20.0691781670001,41.145958029]},properties:{ADM0_NAME:`Albania`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:377,cum_clin:null,cum_susp:null,cum_death:21,EPIWeek:15,EPIYear:2020,Comment:null,ID:161855,GUID:`c7192fcc-f547-44ed-a758-3d8e48420cef`,CENTER_LON:20.06917817,CENTER_LAT:41.14595803,ADM0_VIZ_NAME:`Albania`,Short_Name_ZH:`阿尔巴尼亚`,Short_Name_FR:`Albanie`,Short_Name_ES:`Albania`,Short_Name_RU:`Албания`,Short_Name_AR:`ألبانيا`}},{type:`Feature`,id:161856,geometry:{type:`Point`,coordinates:[12.4603576160001,43.9419147360001]},properties:{ADM0_NAME:`San Marino`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:266,cum_clin:null,cum_susp:null,cum_death:32,EPIWeek:15,EPIYear:2020,Comment:null,ID:161856,GUID:`1e7562c6-655a-4a6d-879f-7f80ff842b20`,CENTER_LON:12.46035762,CENTER_LAT:43.94191474,ADM0_VIZ_NAME:`San Marino`,Short_Name_ZH:`圣马力诺`,Short_Name_FR:`Saint-Marin`,Short_Name_ES:`San Marino`,Short_Name_RU:`Сан-Марино`,Short_Name_AR:`سان مارينو`}},{type:`Feature`,id:161857,geometry:{type:`Point`,coordinates:[14.404573585,35.9203665150001]},properties:{ADM0_NAME:`Malta`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:234,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161857,GUID:`fbafb313-9be5-49cc-9633-26c40e77d9d9`,CENTER_LON:14.40457358,CENTER_LAT:35.92036651,ADM0_VIZ_NAME:`Malta`,Short_Name_ZH:`马耳他`,Short_Name_FR:`Malte`,Short_Name_ES:`Malta`,Short_Name_RU:`Мальта`,Short_Name_AR:`مالطة`}},{type:`Feature`,id:161858,geometry:{type:`Point`,coordinates:[74.555492998,41.464907168]},properties:{ADM0_NAME:`Kyrgyzstan`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:216,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161858,GUID:`874ef90d-615d-4ad3-8893-17d62ecda937`,CENTER_LON:74.555493,CENTER_LAT:41.46490717,ADM0_VIZ_NAME:`Kyrgyzstan`,Short_Name_ZH:`吉尔吉斯斯坦`,Short_Name_FR:`Kirghizistan`,Short_Name_ES:`Kirguistán`,Short_Name_RU:`Кыргызстан`,Short_Name_AR:`قيرغيزستان`}},{type:`Feature`,id:161859,geometry:{type:`Point`,coordinates:[19.264632787,42.796243544]},properties:{ADM0_NAME:`Montenegro`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:203,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161859,GUID:`09650ef3-8793-4a1f-b8a2-b6c1da8c2bef`,CENTER_LON:19.26458919,CENTER_LAT:42.79659203,ADM0_VIZ_NAME:`Montenegro`,Short_Name_ZH:`黑山`,Short_Name_FR:`Monténégro`,Short_Name_ES:`Montenegro`,Short_Name_RU:`Черногория`,Short_Name_AR:`الجبل الأسود`}},{type:`Feature`,id:161860,geometry:{type:`Point`,coordinates:[43.517571151,42.1763258280001]},properties:{ADM0_NAME:`Georgia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:188,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161860,GUID:`e75c6929-6252-4e54-af0f-83798afe3123`,CENTER_LON:43.51757115,CENTER_LAT:42.17632583,ADM0_VIZ_NAME:`Georgia`,Short_Name_ZH:`格鲁吉亚`,Short_Name_FR:`Géorgie`,Short_Name_ES:`Georgia`,Short_Name_RU:`Грузия`,Short_Name_AR:`جورجيا`}},{type:`Feature`,id:161861,geometry:{type:`Point`,coordinates:[-6.86363601799997,62.050314004]},properties:{ADM0_NAME:`Faroe Islands`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:181,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161861,GUID:`53f56a27-5297-4c05-a47b-b2033e95db63`,CENTER_LON:-6.86363602,CENTER_LAT:62.050314,ADM0_VIZ_NAME:`Faroe Islands`,Short_Name_ZH:`法罗群岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161862,geometry:{type:`Point`,coordinates:[-2.12891773399997,49.2194981580001]},properties:{ADM0_NAME:`Jersey`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:155,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161862,GUID:`82a7eebf-4858-4ad8-b68f-1b7bd7b719bc`,CENTER_LON:-2.12891773,CENTER_LAT:49.21949816,ADM0_VIZ_NAME:`Jersey`,Short_Name_ZH:`泽西岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161863,geometry:{type:`Point`,coordinates:[-2.57582282299995,49.459046304]},properties:{ADM0_NAME:`Guernsey`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:154,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161863,GUID:`2cb7929d-d72e-4129-83c9-c293fc73d996`,CENTER_LON:-2.57582282,CENTER_LAT:49.4590463,ADM0_VIZ_NAME:`Guernsey`,Short_Name_ZH:`根西岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161864,geometry:{type:`Point`,coordinates:[20.9369550000001,42.568695]},properties:{ADM0_NAME:`Kosovo[1]`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:145,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:`1908`,ID:161864,GUID:`71d5bb45-bba6-4305-a423-19927e9f4c53`,CENTER_LON:20.936955,CENTER_LAT:42.568695,ADM0_VIZ_NAME:`Kosovo[1]`,Short_Name_ZH:`科索沃[1]`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161865,geometry:{type:`Point`,coordinates:[-4.52652992499998,54.2288332950001]},properties:{ADM0_NAME:`Isle of Man`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:127,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161865,GUID:`45b3fcba-3667-474b-8081-b17737d8cb5f`,CENTER_LON:-4.52652992,CENTER_LAT:54.2288333,ADM0_VIZ_NAME:`Isle of Man`,Short_Name_ZH:`马恩岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161866,geometry:{type:`Point`,coordinates:[-5.34488893099996,36.1381932030001]},properties:{ADM0_NAME:`Gibraltar`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:103,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161866,GUID:`6e156108-e9e8-4087-b89c-37e5851bd8d0`,CENTER_LON:-5.34488893,CENTER_LAT:36.1381932,ADM0_VIZ_NAME:`Gibraltar`,Short_Name_ZH:`直布罗陀\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161867,geometry:{type:`Point`,coordinates:[9.55526492600006,47.1525954850001]},properties:{ADM0_NAME:`Liechtenstein`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:78,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161867,GUID:`8b38ed63-f4bf-4683-96b5-e8c2eb7bd7e7`,CENTER_LON:9.55526493,CENTER_LAT:47.15259548,ADM0_VIZ_NAME:`Liechtenstein`,Short_Name_ZH:`列支敦士登\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161868,geometry:{type:`Point`,coordinates:[7.41201715200003,43.7503461470001]},properties:{ADM0_NAME:`Monaco`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:37,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161868,GUID:`ac716d7e-26d7-46d8-a1a2-4222f42042f3`,CENTER_LON:7.41201715,CENTER_LAT:43.75034615,ADM0_VIZ_NAME:`Monaco`,Short_Name_ZH:`摩纳哥`,Short_Name_FR:`Monaco`,Short_Name_ES:`Mónaco`,Short_Name_RU:`Монако`,Short_Name_AR:`موناكو`}},{type:`Feature`,id:161869,geometry:{type:`Point`,coordinates:[-41.39096667,74.7189535310001]},properties:{ADM0_NAME:`Greenland`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:11,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161869,GUID:`e7d73b5c-27bf-451c-be96-73de13560e8c`,CENTER_LON:-41.39096667,CENTER_LAT:74.71895353,ADM0_VIZ_NAME:`Greenland`,Short_Name_ZH:`格陵兰岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161870,geometry:{type:`Point`,coordinates:[12.4857111430001,41.893241947]},properties:{ADM0_NAME:`Holy See`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:7,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161870,GUID:`38144504-0224-4815-a545-5c8d34bb44d8`,CENTER_LON:12.48571114,CENTER_LAT:41.89324195,ADM0_VIZ_NAME:`Holy See`,Short_Name_ZH:`梵蒂冈\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161871,geometry:{type:`Point`,coordinates:[79.6188182980001,22.881320567]},properties:{ADM0_NAME:`India`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4067,cum_clin:null,cum_susp:null,cum_death:109,EPIWeek:15,EPIYear:2020,Comment:null,ID:161871,GUID:`e75886d8-11ce-4563-bd85-86bcb9312cee`,CENTER_LON:79.6188183,CENTER_LAT:22.88132057,ADM0_VIZ_NAME:`India`,Short_Name_ZH:`印度`,Short_Name_FR:`Inde`,Short_Name_ES:`India`,Short_Name_RU:`Индия`,Short_Name_AR:`الهند`}},{type:`Feature`,id:161872,geometry:{type:`Point`,coordinates:[113.355162997,-.950074241999971]},properties:{ADM0_NAME:`Indonesia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:2491,cum_clin:null,cum_susp:null,cum_death:209,EPIWeek:15,EPIYear:2020,Comment:null,ID:161872,GUID:`9350b806-04ca-4c8f-926e-7c5f644a13c7`,CENTER_LON:117.31101692,CENTER_LAT:-2.22903453,ADM0_VIZ_NAME:`Indonesia`,Short_Name_ZH:`印度尼西亚`,Short_Name_FR:`Indonésie`,Short_Name_ES:`Indonesia`,Short_Name_RU:`Индонезия`,Short_Name_AR:`إندونيسيا`}},{type:`Feature`,id:161873,geometry:{type:`Point`,coordinates:[101.014907816,15.1198987560001]},properties:{ADM0_NAME:`Thailand`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:2220,cum_clin:null,cum_susp:null,cum_death:26,EPIWeek:15,EPIYear:2020,Comment:null,ID:161873,GUID:`3d1f17d7-1553-476a-a8d8-62dcd54d4779`,CENTER_LON:101.01490782,CENTER_LAT:15.11989876,ADM0_VIZ_NAME:`Thailand`,Short_Name_ZH:`泰国`,Short_Name_FR:`Thaïlande`,Short_Name_ES:`Tailandia`,Short_Name_RU:`Таиланд`,Short_Name_AR:`تايلند`}},{type:`Feature`,id:161874,geometry:{type:`Point`,coordinates:[80.7042626200001,7.61236242700005]},properties:{ADM0_NAME:`Sri Lanka`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:176,cum_clin:null,cum_susp:null,cum_death:5,EPIWeek:15,EPIYear:2020,Comment:null,ID:161874,GUID:`12d0a30e-4c87-4a62-b124-c751e10cacac`,CENTER_LON:80.70426262,CENTER_LAT:7.61236243,ADM0_VIZ_NAME:`Sri Lanka`,Short_Name_ZH:`斯里兰卡`,Short_Name_FR:`Sri Lanka`,Short_Name_ES:`Sri Lanka`,Short_Name_RU:`Шри-Ланка`,Short_Name_AR:`سري لانكا`}},{type:`Feature`,id:161875,geometry:{type:`Point`,coordinates:[90.2709257590001,23.833007201]},properties:{ADM0_NAME:`Bangladesh`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:123,cum_clin:null,cum_susp:null,cum_death:12,EPIWeek:15,EPIYear:2020,Comment:null,ID:161875,GUID:`c4d7552f-faa1-4bf4-a22e-c9b5d9ee14c2`,CENTER_LON:90.27092576,CENTER_LAT:23.8330072,ADM0_VIZ_NAME:`Bangladesh`,Short_Name_ZH:`孟加拉国`,Short_Name_FR:`Bangladesh`,Short_Name_ES:`Bangladesh`,Short_Name_RU:`Бангладеш`,Short_Name_AR:`بنغلاديش`}},{type:`Feature`,id:161876,geometry:{type:`Point`,coordinates:[96.508682057,21.1400953610001]},properties:{ADM0_NAME:`Myanmar`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:21,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161876,GUID:`a8c48537-a6ee-4d80-83f8-b3dda8858d94`,CENTER_LON:96.50868206,CENTER_LAT:21.14009536,ADM0_VIZ_NAME:`Myanmar`,Short_Name_ZH:`缅甸`,Short_Name_FR:`Myanmar`,Short_Name_ES:`Myanmar`,Short_Name_RU:`Мьянма`,Short_Name_AR:`ميانمار`}},{type:`Feature`,id:161877,geometry:{type:`Point`,coordinates:[73.2517847770001,3.37481931800005]},properties:{ADM0_NAME:`Maldives`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:19,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161877,GUID:`65914a49-5435-4cda-b916-f9ee5e14147b`,CENTER_LON:73.25178478,CENTER_LAT:3.37481932,ADM0_VIZ_NAME:`Maldives`,Short_Name_ZH:`马尔代夫`,Short_Name_FR:`Maldives`,Short_Name_ES:`Maldivas`,Short_Name_RU:`Мальдивские Острова`,Short_Name_AR:`ملديف`}},{type:`Feature`,id:161878,geometry:{type:`Point`,coordinates:[83.9385170750001,28.253007847]},properties:{ADM0_NAME:`Nepal`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:9,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161878,GUID:`da7d5887-ee15-421c-8ad9-b785996b0536`,CENTER_LON:83.93851707,CENTER_LAT:28.25300785,ADM0_VIZ_NAME:`Nepal`,Short_Name_ZH:`尼泊尔`,Short_Name_FR:`Népal`,Short_Name_ES:`Nepal`,Short_Name_RU:`Непал`,Short_Name_AR:`نيبال`}},{type:`Feature`,id:161879,geometry:{type:`Point`,coordinates:[90.4294327480001,27.415460823]},properties:{ADM0_NAME:`Bhutan`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161879,GUID:`0d97d3e1-4ba2-431a-8404-f13231d663bd`,CENTER_LON:90.42943275,CENTER_LAT:27.41546082,ADM0_VIZ_NAME:`Bhutan`,Short_Name_ZH:`不丹`,Short_Name_FR:`Bhoutan`,Short_Name_ES:`Bhután`,Short_Name_RU:`Бутан`,Short_Name_AR:`بوتان`}},{type:`Feature`,id:161880,geometry:{type:`Point`,coordinates:[125.860996098,-8.82052123499994]},properties:{ADM0_NAME:`Timor-Leste`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161880,GUID:`57acee0b-5cc0-45d5-b65c-1d928ac08d16`,CENTER_LON:125.8609961,CENTER_LAT:-8.82052123,ADM0_VIZ_NAME:`Timor-Leste`,Short_Name_ZH:`东帝汶`,Short_Name_FR:`Timor-Leste`,Short_Name_ES:`Timor-Leste`,Short_Name_RU:`Тимор-Лешти`,Short_Name_AR:`تيمور- ليشتي`}},{type:`Feature`,id:161881,geometry:{type:`Point`,coordinates:[54.301413763,32.564799586]},properties:{ADM0_NAME:`Iran (Islamic Republic of)`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:60500,cum_clin:null,cum_susp:null,cum_death:3739,EPIWeek:15,EPIYear:2020,Comment:null,ID:161881,GUID:`2eea3a5c-8a36-4a18-a7ab-1b927a092a60`,CENTER_LON:54.30141376,CENTER_LAT:32.56479959,ADM0_VIZ_NAME:`Iran (Islamic Republic of)`,Short_Name_ZH:`伊朗（伊斯兰共和国）`,Short_Name_FR:`Iran (République islamique d')`,Short_Name_ES:`Irán (República Islámica del)`,Short_Name_RU:`Иран (Исламская Республика)`,Short_Name_AR:`إيران (جمهورية - الإسلامية)`}},{type:`Feature`,id:161882,geometry:{type:`Point`,coordinates:[69.3858188080001,29.966788981]},properties:{ADM0_NAME:`Pakistan`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3424,cum_clin:null,cum_susp:null,cum_death:50,EPIWeek:15,EPIYear:2020,Comment:null,ID:161882,GUID:`30ee6f01-1785-4ecb-b194-ba3becf5fd33`,CENTER_LON:69.38581881,CENTER_LAT:29.96678898,ADM0_VIZ_NAME:`Pakistan`,Short_Name_ZH:`巴基斯坦`,Short_Name_FR:`Pakistan`,Short_Name_ES:`Pakistán`,Short_Name_RU:`Пакистан`,Short_Name_AR:`باكستان`}},{type:`Feature`,id:161883,geometry:{type:`Point`,coordinates:[44.5704496550001,24.0808819160001]},properties:{ADM0_NAME:`Saudi Arabia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:2523,cum_clin:null,cum_susp:null,cum_death:38,EPIWeek:15,EPIYear:2020,Comment:null,ID:161883,GUID:`fa5a7f77-0dca-4f91-9571-3b8a44607f74`,CENTER_LON:44.57044965,CENTER_LAT:24.08088192,ADM0_VIZ_NAME:`Saudi Arabia`,Short_Name_ZH:`沙特阿拉伯`,Short_Name_FR:`Arabie saoudite`,Short_Name_ES:`Arabia Saudita`,Short_Name_RU:`Саудовская Аравия`,Short_Name_AR:`المملكة العربية السعودية`}},{type:`Feature`,id:161884,geometry:{type:`Point`,coordinates:[54.3321987830001,23.912672544]},properties:{ADM0_NAME:`United Arab Emirates`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:2076,cum_clin:null,cum_susp:null,cum_death:11,EPIWeek:15,EPIYear:2020,Comment:null,ID:161884,GUID:`549ed949-4c36-4ab0-b37c-ec9f84ee8e14`,CENTER_LON:54.33219878,CENTER_LAT:23.91267254,ADM0_VIZ_NAME:`United Arab Emirates`,Short_Name_ZH:`阿拉伯联合酋长国`,Short_Name_FR:`Émirats arabes unis`,Short_Name_ES:`Emiratos Árabes Unidos`,Short_Name_RU:`Объединенные Арабские Эмираты`,Short_Name_AR:`الإمارات العربية المتحدة`}},{type:`Feature`,id:161885,geometry:{type:`Point`,coordinates:[51.1912008290001,25.3158099720001]},properties:{ADM0_NAME:`Qatar`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1604,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161885,GUID:`d5c3fdc5-6328-4dc7-a12c-27f168944d11`,CENTER_LON:51.19120083,CENTER_LAT:25.31580997,ADM0_VIZ_NAME:`Qatar`,Short_Name_ZH:`卡塔尔`,Short_Name_FR:`Qatar`,Short_Name_ES:`Qatar`,Short_Name_RU:`Катар`,Short_Name_AR:`قطر`}},{type:`Feature`,id:161886,geometry:{type:`Point`,coordinates:[29.7821070850001,26.5565645950001]},properties:{ADM0_NAME:`Egypt`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1173,cum_clin:null,cum_susp:null,cum_death:78,EPIWeek:15,EPIYear:2020,Comment:null,ID:161886,GUID:`598e205c-5683-49e0-b61e-4b279e6c2082`,CENTER_LON:29.78210708,CENTER_LAT:26.5565646,ADM0_VIZ_NAME:`Egypt`,Short_Name_ZH:`埃及`,Short_Name_FR:`Égypte`,Short_Name_ES:`Egipto`,Short_Name_RU:`Египет`,Short_Name_AR:`مصر`}},{type:`Feature`,id:161887,geometry:{type:`Point`,coordinates:[-6.31780294899994,31.8835569710001]},properties:{ADM0_NAME:`Morocco`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1113,cum_clin:null,cum_susp:null,cum_death:71,EPIWeek:15,EPIYear:2020,Comment:null,ID:161887,GUID:`8b881b86-2b79-4d8d-992d-01d939e1cdb9`,CENTER_LON:-6.31780295,CENTER_LAT:31.88355697,ADM0_VIZ_NAME:`Morocco`,Short_Name_ZH:`摩洛哥`,Short_Name_FR:`Maroc`,Short_Name_ES:`Marruecos`,Short_Name_RU:`Марокко`,Short_Name_AR:`المغرب`}},{type:`Feature`,id:161888,geometry:{type:`Point`,coordinates:[43.7722455160001,33.048006538]},properties:{ADM0_NAME:`Iraq`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1031,cum_clin:null,cum_susp:null,cum_death:64,EPIWeek:15,EPIYear:2020,Comment:null,ID:161888,GUID:`1ffa0200-4cdb-47df-ba42-2e687224b89d`,CENTER_LON:43.77224552,CENTER_LAT:33.04800654,ADM0_VIZ_NAME:`Iraq`,Short_Name_ZH:`伊拉克`,Short_Name_FR:`Iraq`,Short_Name_ES:`Iraq`,Short_Name_RU:`Ирак`,Short_Name_AR:`العراق`}},{type:`Feature`,id:161889,geometry:{type:`Point`,coordinates:[50.5624891480001,26.0194739230001]},properties:{ADM0_NAME:`Bahrain`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:723,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161889,GUID:`9c36e72c-28fe-463f-8d8a-43ec9be45bc6`,CENTER_LON:50.56248915,CENTER_LAT:26.01947392,ADM0_VIZ_NAME:`Bahrain`,Short_Name_ZH:`巴林`,Short_Name_FR:`Bahreïn`,Short_Name_ES:`Bahrein`,Short_Name_RU:`Бахрейн`,Short_Name_AR:`البحرين`}},{type:`Feature`,id:161890,geometry:{type:`Point`,coordinates:[47.5935512790001,29.342509057]},properties:{ADM0_NAME:`Kuwait`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:665,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161890,GUID:`3b548ca2-357e-4c78-b4b8-9ed0205e0d29`,CENTER_LON:47.59355128,CENTER_LAT:29.34250906,ADM0_VIZ_NAME:`Kuwait`,Short_Name_ZH:`科威特`,Short_Name_FR:`Koweït`,Short_Name_ES:`Kuwait`,Short_Name_RU:`Кувейт`,Short_Name_AR:`الكويت`}},{type:`Feature`,id:161891,geometry:{type:`Point`,coordinates:[9.56156142200007,34.1112491690001]},properties:{ADM0_NAME:`Tunisia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:574,cum_clin:null,cum_susp:null,cum_death:22,EPIWeek:15,EPIYear:2020,Comment:null,ID:161891,GUID:`9e2fe46a-7ed9-4eda-9a6d-91dfb3d70d34`,CENTER_LON:9.56156142,CENTER_LAT:34.11124917,ADM0_VIZ_NAME:`Tunisia`,Short_Name_ZH:`突尼斯`,Short_Name_FR:`Tunisie`,Short_Name_ES:`Túnez`,Short_Name_RU:`Тунис`,Short_Name_AR:`تونس`}},{type:`Feature`,id:161892,geometry:{type:`Point`,coordinates:[35.8880612290001,33.920393044]},properties:{ADM0_NAME:`Lebanon`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:541,cum_clin:null,cum_susp:null,cum_death:19,EPIWeek:15,EPIYear:2020,Comment:null,ID:161892,GUID:`3611afe5-e2e8-4576-aa04-e9516c701991`,CENTER_LON:35.88806123,CENTER_LAT:33.92039304,ADM0_VIZ_NAME:`Lebanon`,Short_Name_ZH:`黎巴嫩`,Short_Name_FR:`Liban`,Short_Name_ES:`Líbano`,Short_Name_RU:`Ливан`,Short_Name_AR:`لبنان`}},{type:`Feature`,id:161893,geometry:{type:`Point`,coordinates:[36.786941142,31.253381786]},properties:{ADM0_NAME:`Jordan`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:345,cum_clin:null,cum_susp:null,cum_death:5,EPIWeek:15,EPIYear:2020,Comment:null,ID:161893,GUID:`79882e66-3900-4c94-b9e1-fa2de8a2a6f0`,CENTER_LON:36.78694114,CENTER_LAT:31.25338179,ADM0_VIZ_NAME:`Jordan`,Short_Name_ZH:`约旦`,Short_Name_FR:`Jordanie`,Short_Name_ES:`Jordania`,Short_Name_RU:`Иордания`,Short_Name_AR:`الأردن`}},{type:`Feature`,id:161894,geometry:{type:`Point`,coordinates:[66.0265297700001,33.8389011570001]},properties:{ADM0_NAME:`Afghanistan`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:337,cum_clin:null,cum_susp:null,cum_death:7,EPIWeek:15,EPIYear:2020,Comment:null,ID:161894,GUID:`bf4e1516-20f9-4d0b-afee-15fb1fbbbbbe`,CENTER_LON:66.02652977,CENTER_LAT:33.83890116,ADM0_VIZ_NAME:`Afghanistan`,Short_Name_ZH:`阿富汗`,Short_Name_FR:`Afghanistan`,Short_Name_ES:`Afganistán`,Short_Name_RU:`Афганистан`,Short_Name_AR:`أفغانستان`}},{type:`Feature`,id:161895,geometry:{type:`Point`,coordinates:[56.1098174690001,20.6020836820001]},properties:{ADM0_NAME:`Oman`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:331,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161895,GUID:`5585e0a1-3071-45dd-9b00-1d4c91cb2c36`,CENTER_LON:56.10981747,CENTER_LAT:20.60208368,ADM0_VIZ_NAME:`Oman`,Short_Name_ZH:`阿曼`,Short_Name_FR:`Oman`,Short_Name_ES:`Omán`,Short_Name_RU:`Оман`,Short_Name_AR:`عمان`}},{type:`Feature`,id:161896,geometry:{type:`Point`,coordinates:[35.2037687770001,31.9139511390001]},properties:{ADM0_NAME:`occupied Palestinian territory`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:253,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161896,GUID:`34239be2-e939-4309-b18d-36cc81ef3230`,CENTER_LON:35.20376878,CENTER_LAT:31.91395114,ADM0_VIZ_NAME:`occupied Palestinian territory`,Short_Name_ZH:`巴勒斯坦被占领土\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161897,geometry:{type:`Point`,coordinates:[42.5779402960001,11.7498128010001]},properties:{ADM0_NAME:`Djibouti`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:90,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161897,GUID:`01f29008-138c-45c3-a1e0-68200f08e1e9`,CENTER_LON:42.5779403,CENTER_LAT:11.7498128,ADM0_VIZ_NAME:`Djibouti`,Short_Name_ZH:`吉布提`,Short_Name_FR:`Djibouti`,Short_Name_ES:`Djibouti`,Short_Name_RU:`Джибути`,Short_Name_AR:`جيبوتي`}},{type:`Feature`,id:161898,geometry:{type:`Point`,coordinates:[38.5058474360001,35.0130727170001]},properties:{ADM0_NAME:`Syrian Arab Republic`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:19,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161898,GUID:`cc57a348-8512-41f0-a924-29bce5e06948`,CENTER_LON:38.50584744,CENTER_LAT:35.01307272,ADM0_VIZ_NAME:`Syrian Arab Republic`,Short_Name_ZH:`阿拉伯叙利亚共和国`,Short_Name_FR:`République arabe syrienne`,Short_Name_ES:`República Árabe Siria`,Short_Name_RU:`Сирийская Арабская Республика`,Short_Name_AR:`الجمهورية العربية السورية`}},{type:`Feature`,id:161899,geometry:{type:`Point`,coordinates:[18.0231862690001,27.0440452400001]},properties:{ADM0_NAME:`Libya`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:18,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161899,GUID:`767c2628-8079-4eba-8899-55f29cfafb83`,CENTER_LON:18.02318627,CENTER_LAT:27.04404524,ADM0_VIZ_NAME:`Libya`,Short_Name_ZH:`利比亚`,Short_Name_FR:`Libye`,Short_Name_ES:`Libia`,Short_Name_RU:`Ливия`,Short_Name_AR:`ليبيا`}},{type:`Feature`,id:161900,geometry:{type:`Point`,coordinates:[30.004381349,16.048838211]},properties:{ADM0_NAME:`Sudan`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:12,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161900,GUID:`3050873e-f010-4c4f-82d1-541e3c4fd887`,CENTER_LON:30.00438135,CENTER_LAT:16.04883821,ADM0_VIZ_NAME:`Sudan`,Short_Name_ZH:`苏丹`,Short_Name_FR:`Soudan`,Short_Name_ES:`Sudán`,Short_Name_RU:`Судан`,Short_Name_AR:`السودان`}},{type:`Feature`,id:161901,geometry:{type:`Point`,coordinates:[47.9564849590001,5.73058895600008]},properties:{ADM0_NAME:`Somalia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:7,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161901,GUID:`b5ff48b9-7282-445c-8cd2-befce4e0bda7`,CENTER_LON:45.86255927,CENTER_LAT:6.0637135,ADM0_VIZ_NAME:`Somalia`,Short_Name_ZH:`索马里`,Short_Name_FR:`Somalie`,Short_Name_ES:`Somalia`,Short_Name_RU:`Сомали`,Short_Name_AR:`الصومال`}},{type:`Feature`,id:161903,geometry:{type:`Point`,coordinates:[-101.433248,39.8897640000001]},properties:{ADM0_NAME:`United States of America`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:307318,cum_clin:null,cum_susp:null,cum_death:8358,EPIWeek:15,EPIYear:2020,Comment:null,ID:161903,GUID:`686f0da6-9025-4eb1-8f95-b164936ce382`,CENTER_LON:-112.49356447,CENTER_LAT:45.6954816,ADM0_VIZ_NAME:`United States of America`,Short_Name_ZH:`美利坚合众国`,Short_Name_FR:`États-Unis d'Amérique`,Short_Name_ES:`Estados Unidos de América`,Short_Name_RU:`Соединенные Штаты Америки`,Short_Name_AR:`الولايات المتحدة الأمريكية `}},{type:`Feature`,id:161904,geometry:{type:`Point`,coordinates:[-101.433248,57.393067]},properties:{ADM0_NAME:`Canada`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:13904,cum_clin:null,cum_susp:null,cum_death:231,EPIWeek:15,EPIYear:2020,Comment:null,ID:161904,GUID:`3c3c3405-35c5-4143-a7ab-738cf519268d`,CENTER_LON:-98.26094698,CENTER_LAT:61.3930667,ADM0_VIZ_NAME:`Canada`,Short_Name_ZH:`加拿大`,Short_Name_FR:`Canada`,Short_Name_ES:`Canadá`,Short_Name_RU:`Канада`,Short_Name_AR:`كندا`}},{type:`Feature`,id:161905,geometry:{type:`Point`,coordinates:[-53.088754363,-10.772282796]},properties:{ADM0_NAME:`Brazil`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:10278,cum_clin:null,cum_susp:null,cum_death:432,EPIWeek:15,EPIYear:2020,Comment:null,ID:161905,GUID:`dbe63621-0172-44aa-a620-596915232432`,CENTER_LON:-53.08875436,CENTER_LAT:-10.7722828,ADM0_VIZ_NAME:`Brazil`,Short_Name_ZH:`巴西`,Short_Name_FR:`Brésil`,Short_Name_ES:`Brasil`,Short_Name_RU:`Бразилия`,Short_Name_AR:`البرازيل`}},{type:`Feature`,id:161906,geometry:{type:`Point`,coordinates:[-71.380093845,-37.868119222]},properties:{ADM0_NAME:`Chile`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4471,cum_clin:null,cum_susp:null,cum_death:34,EPIWeek:15,EPIYear:2020,Comment:null,ID:161906,GUID:`b359383b-d629-4086-b6b3-2bb5380272dc`,CENTER_LON:-71.38009385,CENTER_LAT:-37.86811922,ADM0_VIZ_NAME:`Chile`,Short_Name_ZH:`智利`,Short_Name_FR:`Chili`,Short_Name_ES:`Chile`,Short_Name_RU:`Чили`,Short_Name_AR:`شيلي`}},{type:`Feature`,id:161907,geometry:{type:`Point`,coordinates:[-78.780961767,-1.42528336599997]},properties:{ADM0_NAME:`Ecuador`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3465,cum_clin:null,cum_susp:null,cum_death:172,EPIWeek:15,EPIYear:2020,Comment:null,ID:161907,GUID:`41c1d495-2f62-42c7-a9be-16e90c179973`,CENTER_LON:-78.78096177,CENTER_LAT:-1.42528337,ADM0_VIZ_NAME:`Ecuador`,Short_Name_ZH:`厄瓜多尔`,Short_Name_FR:`Équateur`,Short_Name_ES:`Ecuador`,Short_Name_RU:`Эквадор`,Short_Name_AR:`إكوادور`}},{type:`Feature`,id:161908,geometry:{type:`Point`,coordinates:[-102.534990927,23.950928413]},properties:{ADM0_NAME:`Mexico`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1890,cum_clin:null,cum_susp:null,cum_death:79,EPIWeek:15,EPIYear:2020,Comment:null,ID:161908,GUID:`6c394d8d-8acc-4369-a7ee-c367dc533fdf`,CENTER_LON:-102.53499093,CENTER_LAT:23.95092841,ADM0_VIZ_NAME:`Mexico`,Short_Name_ZH:`墨西哥`,Short_Name_FR:`Mexique`,Short_Name_ES:`México`,Short_Name_RU:`Мексика`,Short_Name_AR:`المكسيك`}},{type:`Feature`,id:161909,geometry:{type:`Point`,coordinates:[-80.1090688369999,8.50544318000004]},properties:{ADM0_NAME:`Panama`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1801,cum_clin:null,cum_susp:null,cum_death:46,EPIWeek:15,EPIYear:2020,Comment:null,ID:161909,GUID:`91321513-fa2a-4cf9-a076-9b4e7d336306`,CENTER_LON:-80.10906884,CENTER_LAT:8.50544318,ADM0_VIZ_NAME:`Panama`,Short_Name_ZH:`巴拿马`,Short_Name_FR:`Panama`,Short_Name_ES:`Panamá`,Short_Name_RU:`Панама`,Short_Name_AR:`بنما`}},{type:`Feature`,id:161910,geometry:{type:`Point`,coordinates:[-74.375406681,-9.16377132599996]},properties:{ADM0_NAME:`Peru`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1746,cum_clin:null,cum_susp:null,cum_death:73,EPIWeek:15,EPIYear:2020,Comment:null,ID:161910,GUID:`aec1089a-a796-4ccb-bba0-bffde1eda7ee`,CENTER_LON:-74.37540668,CENTER_LAT:-9.16377133,ADM0_VIZ_NAME:`Peru`,Short_Name_ZH:`秘鲁`,Short_Name_FR:`Pérou`,Short_Name_ES:`Perú`,Short_Name_RU:`Перу`,Short_Name_AR:`بيرو`}},{type:`Feature`,id:161911,geometry:{type:`Point`,coordinates:[-70.485434472,18.8930938570001]},properties:{ADM0_NAME:`Dominican Republic`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1488,cum_clin:null,cum_susp:null,cum_death:68,EPIWeek:15,EPIYear:2020,Comment:null,ID:161911,GUID:`29bca7cc-63a9-4125-aba4-d9d7ffaec4f8`,CENTER_LON:-70.48543447,CENTER_LAT:18.89309386,ADM0_VIZ_NAME:`Dominican Republic`,Short_Name_ZH:`多米尼加 `,Short_Name_FR:`République dominicaine`,Short_Name_ES:`República Dominicana`,Short_Name_RU:`Доминиканская Республика`,Short_Name_AR:`الجمهورية الدومينيكية`}},{type:`Feature`,id:161912,geometry:{type:`Point`,coordinates:[-65.167484744,-35.376672529]},properties:{ADM0_NAME:`Argentina`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1451,cum_clin:null,cum_susp:null,cum_death:44,EPIWeek:15,EPIYear:2020,Comment:null,ID:161912,GUID:`61ea4a3a-5a12-410e-8af0-0d59d828a9dd`,CENTER_LON:-65.16748474,CENTER_LAT:-35.37667253,ADM0_VIZ_NAME:`Argentina`,Short_Name_ZH:`阿根廷 `,Short_Name_FR:`Argentine`,Short_Name_ES:`Argentina`,Short_Name_RU:`Аргентина`,Short_Name_AR:`الأرجنتين`}},{type:`Feature`,id:161913,geometry:{type:`Point`,coordinates:[-73.075763345,3.90037400800003]},properties:{ADM0_NAME:`Colombia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1406,cum_clin:null,cum_susp:null,cum_death:32,EPIWeek:15,EPIYear:2020,Comment:null,ID:161913,GUID:`140398f0-b719-4865-aa11-f3dd7a3e137b`,CENTER_LON:-73.07576335,CENTER_LAT:3.90037401,ADM0_VIZ_NAME:`Colombia`,Short_Name_ZH:`哥伦比亚`,Short_Name_FR:`Colombie`,Short_Name_ES:`Colombia`,Short_Name_RU:`Колумбия`,Short_Name_AR:`كولومبيا`}},{type:`Feature`,id:161914,geometry:{type:`Point`,coordinates:[-66.466127479,18.220930739]},properties:{ADM0_NAME:`Puerto Rico`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:452,cum_clin:null,cum_susp:null,cum_death:18,EPIWeek:15,EPIYear:2020,Comment:null,ID:161914,GUID:`d6d8a819-df69-4d1d-9773-210daee6fa94`,CENTER_LON:-66.46612748,CENTER_LAT:18.22093074,ADM0_VIZ_NAME:`Puerto Rico`,Short_Name_ZH:`波多黎各\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161915,geometry:{type:`Point`,coordinates:[-84.189038674,9.97052135000007]},properties:{ADM0_NAME:`Costa Rica`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:435,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161915,GUID:`6a30141b-1259-45ef-9303-9b3087a67606`,CENTER_LON:-84.18903867,CENTER_LAT:9.97052135,ADM0_VIZ_NAME:`Costa Rica`,Short_Name_ZH:`哥斯达黎加`,Short_Name_FR:`Costa Rica`,Short_Name_ES:`Costa Rica`,Short_Name_RU:`Коста-Рика`,Short_Name_AR:`كوستاريكا`}},{type:`Feature`,id:161916,geometry:{type:`Point`,coordinates:[-56.012173616,-32.7995699159999]},properties:{ADM0_NAME:`Uruguay`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:400,cum_clin:null,cum_susp:null,cum_death:5,EPIWeek:15,EPIYear:2020,Comment:null,ID:161916,GUID:`6c459166-4e08-4ab6-8ada-b4509dbc38d8`,CENTER_LON:-56.01217362,CENTER_LAT:-32.79956992,ADM0_VIZ_NAME:`Uruguay`,Short_Name_ZH:`乌拉圭`,Short_Name_FR:`Uruguay`,Short_Name_ES:`Uruguay`,Short_Name_RU:`Уругвай`,Short_Name_AR:`أوروغواي`}},{type:`Feature`,id:161917,geometry:{type:`Point`,coordinates:[-79.0381997969999,21.621420958]},properties:{ADM0_NAME:`Cuba`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:320,cum_clin:null,cum_susp:null,cum_death:8,EPIWeek:15,EPIYear:2020,Comment:null,ID:161917,GUID:`57e6170d-3eb1-4cfe-9335-a61c5f2ff534`,CENTER_LON:-79.0381998,CENTER_LAT:21.62142096,ADM0_VIZ_NAME:`Cuba`,Short_Name_ZH:`古巴`,Short_Name_FR:`Cuba`,Short_Name_ES:`Cuba`,Short_Name_RU:`Куба`,Short_Name_AR:`كوبا`}},{type:`Feature`,id:161918,geometry:{type:`Point`,coordinates:[-86.619658987,14.819348125]},properties:{ADM0_NAME:`Honduras`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:268,cum_clin:null,cum_susp:null,cum_death:22,EPIWeek:15,EPIYear:2020,Comment:null,ID:161918,GUID:`8d033cd7-4b1e-4c4c-87f0-879f94799ca2`,CENTER_LON:-86.61965899,CENTER_LAT:14.81934813,ADM0_VIZ_NAME:`Honduras`,Short_Name_ZH:`洪都拉斯`,Short_Name_FR:`Honduras`,Short_Name_ES:`Honduras`,Short_Name_RU:`Гондурас`,Short_Name_AR:`هندوراس`}},{type:`Feature`,id:161919,geometry:{type:`Point`,coordinates:[-64.6705484729999,-16.7151098919999]},properties:{ADM0_NAME:`Bolivia (Plurinational State of)`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:157,cum_clin:null,cum_susp:null,cum_death:10,EPIWeek:15,EPIYear:2020,Comment:null,ID:161919,GUID:`500e72b0-dbef-4fea-b333-bcd8fd377eb9`,CENTER_LON:-64.67054847,CENTER_LAT:-16.71510989,ADM0_VIZ_NAME:`Bolivia (Plurinational State of)`,Short_Name_ZH:`玻利维亚（多民族国）`,Short_Name_FR:`Bolivie (État plurinational de)`,Short_Name_ES:`Bolivia (Estado Plurinacional de)  `,Short_Name_RU:`Боливия (Многонациональное Государство)`,Short_Name_AR:`بوليفيا (دولة - المتعددة القوميات)`}},{type:`Feature`,id:161920,geometry:{type:`Point`,coordinates:[-61.021473822,14.6527741950001]},properties:{ADM0_NAME:`Martinique`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:145,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161920,GUID:`91fe4643-e623-462d-a9ae-d704c5ea52c1`,CENTER_LON:-61.02147382,CENTER_LAT:14.65277419,ADM0_VIZ_NAME:`Martinique`,Short_Name_ZH:`马提尼克岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161921,geometry:{type:`Point`,coordinates:[-66.1662151469999,7.12493711500002]},properties:{ADM0_NAME:`Venezuela (Bolivarian Republic of)`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:144,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161921,GUID:`64a39a4b-9812-43f6-861e-d1f31045aced`,CENTER_LON:-66.16621515,CENTER_LAT:7.12493711,ADM0_VIZ_NAME:`Venezuela (Bolivarian Republic of)`,Short_Name_ZH:`委内瑞拉(玻利瓦尔共和国)`,Short_Name_FR:`Venezuela (République bolivarienne du)`,Short_Name_ES:`Venezuela (República Bolivariana de)`,Short_Name_RU:`Венесуэла (Боливарианская Республика)`,Short_Name_AR:`فنزويلا`}},{type:`Feature`,id:161922,geometry:{type:`Point`,coordinates:[-61.530392424,16.2012635740001]},properties:{ADM0_NAME:`Guadeloupe`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:134,cum_clin:null,cum_susp:null,cum_death:7,EPIWeek:15,EPIYear:2020,Comment:null,ID:161922,GUID:`899b5328-c489-48c0-b77d-536f26908563`,CENTER_LON:-61.53039242,CENTER_LAT:16.20126357,ADM0_VIZ_NAME:`Guadeloupe`,Short_Name_ZH:`瓜德罗普岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161923,geometry:{type:`Point`,coordinates:[-58.390951781,-23.236128874]},properties:{ADM0_NAME:`Paraguay`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:104,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161923,GUID:`7e78b4f3-d231-444c-a8ab-c82373666a3f`,CENTER_LON:-58.39095178,CENTER_LAT:-23.23612887,ADM0_VIZ_NAME:`Paraguay`,Short_Name_ZH:`巴拉圭`,Short_Name_FR:`Paraguay`,Short_Name_ES:`Paraguay`,Short_Name_RU:`Парагвай`,Short_Name_AR:`باراغواي`}},{type:`Feature`,id:161924,geometry:{type:`Point`,coordinates:[-61.2526372249999,10.4683642860001]},properties:{ADM0_NAME:`Trinidad and Tobago`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:103,cum_clin:null,cum_susp:null,cum_death:6,EPIWeek:15,EPIYear:2020,Comment:null,ID:161924,GUID:`f78fa74a-5f4e-4e3d-870e-aad4ac4fcc6c`,CENTER_LON:-61.25263722,CENTER_LAT:10.46836429,ADM0_VIZ_NAME:`Trinidad and Tobago`,Short_Name_ZH:`特立尼达和多巴哥`,Short_Name_FR:`Trinité-et-Tobago`,Short_Name_ES:`Trinidad y Tabago`,Short_Name_RU:`Тринидад и Тобаго `,Short_Name_AR:`ترينيداد وتوباغو`}},{type:`Feature`,id:161925,geometry:{type:`Point`,coordinates:[-53.2412669619999,3.92438820100006]},properties:{ADM0_NAME:`French Guiana`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:66,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161925,GUID:`31ab5f81-ad33-43ce-8491-1fa569d46c57`,CENTER_LON:-53.24126696,CENTER_LAT:3.9243882,ADM0_VIZ_NAME:`French Guiana`,Short_Name_ZH:`法属圭亚那\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161926,geometry:{type:`Point`,coordinates:[-69.977133134,12.5166873650001]},properties:{ADM0_NAME:`Aruba`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:64,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161926,GUID:`a5ca2f77-2705-4a8f-baee-ce6df1770224`,CENTER_LON:-69.97713313,CENTER_LAT:12.51668736,ADM0_VIZ_NAME:`Aruba`,Short_Name_ZH:`阿鲁巴\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161927,geometry:{type:`Point`,coordinates:[-88.8656067429999,13.736145316]},properties:{ADM0_NAME:`El Salvador`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:62,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161927,GUID:`fa42353f-8656-4bc4-8ef4-19ba8a07848c`,CENTER_LON:-88.86560674,CENTER_LAT:13.73614532,ADM0_VIZ_NAME:`El Salvador`,Short_Name_ZH:`萨尔瓦多`,Short_Name_FR:`El Salvador`,Short_Name_ES:`El Salvador`,Short_Name_RU:`Сальвадор`,Short_Name_AR:`السلفادور`}},{type:`Feature`,id:161928,geometry:{type:`Point`,coordinates:[-90.356949304,15.7023025980001]},properties:{ADM0_NAME:`Guatemala`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:61,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161928,GUID:`7c9c0379-abf3-47b2-be97-0f40ded5f732`,CENTER_LON:-90.3569493,CENTER_LAT:15.7023026,ADM0_VIZ_NAME:`Guatemala`,Short_Name_ZH:`危地马拉`,Short_Name_FR:`Guatemala`,Short_Name_ES:`Guatemala`,Short_Name_RU:`Гватемала`,Short_Name_AR:`غواتيمالا`}},{type:`Feature`,id:161929,geometry:{type:`Point`,coordinates:[-77.3197508119999,18.151330639]},properties:{ADM0_NAME:`Jamaica`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:55,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161929,GUID:`203d9c03-8c32-4506-8ae0-abfc176c586f`,CENTER_LON:-77.31975081,CENTER_LAT:18.15133064,ADM0_VIZ_NAME:`Jamaica`,Short_Name_ZH:`牙买加`,Short_Name_FR:`Jamaïque`,Short_Name_ES:`Jamaica`,Short_Name_RU:`Ямайка`,Short_Name_AR:`جامايكا`}},{type:`Feature`,id:161930,geometry:{type:`Point`,coordinates:[-59.5621269649999,13.1787990180001]},properties:{ADM0_NAME:`Barbados`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:51,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161930,GUID:`7c810b1f-298c-4f95-a84d-ce460e6e593d`,CENTER_LON:-59.56212696,CENTER_LAT:13.17879902,ADM0_VIZ_NAME:`Barbados`,Short_Name_ZH:`巴巴多斯`,Short_Name_FR:`Barbade`,Short_Name_ES:`Barbados`,Short_Name_RU:`Барбадос`,Short_Name_AR:`بربادوس`}},{type:`Feature`,id:161931,geometry:{type:`Point`,coordinates:[-64.7869272139999,17.967889896]},properties:{ADM0_NAME:`United States Virgin Islands`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:42,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161931,GUID:`446c32b0-82a6-46a6-896d-731014da7e78`,CENTER_LON:-64.78692721,CENTER_LAT:17.9678899,ADM0_VIZ_NAME:`United States Virgin Islands`,Short_Name_ZH:`美属维尔京群岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161932,geometry:{type:`Point`,coordinates:[-64.7563772199999,32.3134949820001]},properties:{ADM0_NAME:`Bermuda`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:37,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161932,GUID:`52405a96-0ce0-44d8-9634-3d0585d5e7fa`,CENTER_LON:-64.75637722,CENTER_LAT:32.31349498,ADM0_VIZ_NAME:`Bermuda`,Short_Name_ZH:`百慕大\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161933,geometry:{type:`Point`,coordinates:[-80.82909683,19.4315249970001]},properties:{ADM0_NAME:`Cayman Islands`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:35,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161933,GUID:`5e1bff1e-8435-4bf8-ae33-bea5d4269c84`,CENTER_LON:-80.82909683,CENTER_LAT:19.431525,ADM0_VIZ_NAME:`Cayman Islands`,Short_Name_ZH:`开曼群岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161934,geometry:{type:`Point`,coordinates:[-63.064572292,18.0876049020001]},properties:{ADM0_NAME:`Saint Martin`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:29,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161934,GUID:`17c12ab2-0c7d-412b-b525-3f740cbc3e6c`,CENTER_LON:-63.06457229,CENTER_LAT:18.0876049,ADM0_VIZ_NAME:`Saint Martin`,Short_Name_ZH:`圣马丁岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161935,geometry:{type:`Point`,coordinates:[-76.5004385,24.166682904]},properties:{ADM0_NAME:`Bahamas`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:28,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161935,GUID:`33b1cbcb-fe87-4a85-95cb-6da429e96a44`,CENTER_LON:-76.5004385,CENTER_LAT:24.1666829,ADM0_VIZ_NAME:`Bahamas`,Short_Name_ZH:`巴哈马`,Short_Name_FR:`Bahamas`,Short_Name_ES:`Bahamas`,Short_Name_RU:`Багамские Острова`,Short_Name_AR:`جزر البهاما`}},{type:`Feature`,id:161936,geometry:{type:`Point`,coordinates:[-58.9741634929999,4.79237827200006]},properties:{ADM0_NAME:`Guyana`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:24,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161936,GUID:`b663554a-3aa6-47a6-ba74-453b3ef0dcd1`,CENTER_LON:-58.97416349,CENTER_LAT:4.79237827,ADM0_VIZ_NAME:`Guyana`,Short_Name_ZH:`圭亚那`,Short_Name_FR:`Guyana`,Short_Name_ES:`Guyana`,Short_Name_RU:`Гайана`,Short_Name_AR:`غيانا`}},{type:`Feature`,id:161937,geometry:{type:`Point`,coordinates:[-63.061943376,18.046835238]},properties:{ADM0_NAME:`Sint Maarten`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:23,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161937,GUID:`7974e7a0-7846-4685-946a-da7f5315015d`,CENTER_LON:-63.06194338,CENTER_LAT:18.04683524,ADM0_VIZ_NAME:`Sint Maarten`,Short_Name_ZH:`圣马丁\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161938,geometry:{type:`Point`,coordinates:[-72.683580138,18.9390013620001]},properties:{ADM0_NAME:`Haiti`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:21,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161938,GUID:`45438a36-15d1-416a-b380-1606669af4c7`,CENTER_LON:-72.68358014,CENTER_LAT:18.93900136,ADM0_VIZ_NAME:`Haiti`,Short_Name_ZH:`海地`,Short_Name_FR:`Haïti`,Short_Name_ES:`Haití`,Short_Name_RU:`Гаити`,Short_Name_AR:`هايتي`}},{type:`Feature`,id:161939,geometry:{type:`Point`,coordinates:[-60.968690838,13.8981151830001]},properties:{ADM0_NAME:`Saint Lucia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:14,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161939,GUID:`4f023367-6b34-4f1f-9570-0a3fb3983ca5`,CENTER_LON:-60.96869084,CENTER_LAT:13.89811518,ADM0_VIZ_NAME:`Saint Lucia`,Short_Name_ZH:`圣卢西亚`,Short_Name_FR:`Sainte-Lucie`,Short_Name_ES:`Santa Lucía`,Short_Name_RU:`Сент-Люсия`,Short_Name_AR:`سانت لوسيا`}},{type:`Feature`,id:161940,geometry:{type:`Point`,coordinates:[-61.650039087,12.162515732]},properties:{ADM0_NAME:`Grenada`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:12,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161940,GUID:`4b754e02-4287-4b40-9237-7e13fb010e05`,CENTER_LON:-61.65003909,CENTER_LAT:12.16251573,ADM0_VIZ_NAME:`Grenada`,Short_Name_ZH:`格林纳达`,Short_Name_FR:`Grenade`,Short_Name_ES:`Granada`,Short_Name_RU:`Гренада`,Short_Name_AR:`غرينادا`}},{type:`Feature`,id:161941,geometry:{type:`Point`,coordinates:[-68.967490546,12.187797523]},properties:{ADM0_NAME:`Curaçao`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:11,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161941,GUID:`9ebcf8c2-5724-465e-93ee-b30f90cc72d2`,CENTER_LON:-68.96749055,CENTER_LAT:12.18779752,ADM0_VIZ_NAME:`Curaçao`,Short_Name_ZH:`库拉索岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161942,geometry:{type:`Point`,coordinates:[-61.355493849,15.4366125190001]},properties:{ADM0_NAME:`Dominica`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:11,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161942,GUID:`1c6dac95-666f-4994-abdc-7d788e9d27cd`,CENTER_LON:-61.35549385,CENTER_LAT:15.43661252,ADM0_VIZ_NAME:`Dominica`,Short_Name_ZH:`多米尼克`,Short_Name_FR:`Dominique`,Short_Name_ES:`Dominica`,Short_Name_RU:`Доминика`,Short_Name_AR:`دومينيكا`}},{type:`Feature`,id:161943,geometry:{type:`Point`,coordinates:[-55.9115812429999,4.12671321000005]},properties:{ADM0_NAME:`Suriname`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:10,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161943,GUID:`33662fcb-6959-4784-a877-29e3781477c2`,CENTER_LON:-55.91158124,CENTER_LAT:4.12671321,ADM0_VIZ_NAME:`Suriname`,Short_Name_ZH:`苏里南`,Short_Name_FR:`Suriname`,Short_Name_ES:`Suriname`,Short_Name_RU:`Суринам`,Short_Name_AR:`سورينام`}},{type:`Feature`,id:161944,geometry:{type:`Point`,coordinates:[-62.696173968,17.2658565570001]},properties:{ADM0_NAME:`Saint Kitts and Nevis`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:9,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161944,GUID:`f6334680-79c9-450c-bddb-95facb6af2b9`,CENTER_LON:-62.69617397,CENTER_LAT:17.26585656,ADM0_VIZ_NAME:`Saint Kitts and Nevis`,Short_Name_ZH:`圣基茨和尼维斯`,Short_Name_FR:`Saint-Kitts-et-Nevis`,Short_Name_ES:`Saint Kitts y Nevis`,Short_Name_RU:`Сент-Китс и Невис`,Short_Name_AR:`سانت كيتس ونيفس`}},{type:`Feature`,id:161945,geometry:{type:`Point`,coordinates:[-61.791127591,17.280137]},properties:{ADM0_NAME:`Antigua and Barbuda`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:7,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161945,GUID:`2debcae0-be57-4212-8b92-8a0be7da51a4`,CENTER_LON:-61.79112759,CENTER_LAT:17.280137,ADM0_VIZ_NAME:`Antigua and Barbuda`,Short_Name_ZH:`安提瓜和巴布达`,Short_Name_FR:`Antigua-et-Barbuda`,Short_Name_ES:`Antigua y Barbuda`,Short_Name_RU:`Антигуа и Барбуда`,Short_Name_AR:`أنتيغوا وبربودا`}},{type:`Feature`,id:161946,geometry:{type:`Point`,coordinates:[-62.186921449,16.7357596900001]},properties:{ADM0_NAME:`Montserrat`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:6,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161946,GUID:`9a351f16-f468-4e6a-925e-03db8fbd4ba7`,CENTER_LON:-62.18692145,CENTER_LAT:16.73575969,ADM0_VIZ_NAME:`Montserrat`,Short_Name_ZH:`蒙特塞拉特岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161947,geometry:null,properties:{ADM0_NAME:`Saint Bathélemy`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:6,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161947,GUID:null,CENTER_LON:null,CENTER_LAT:null,ADM0_VIZ_NAME:null,Short_Name_ZH:null,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161948,geometry:{type:`Point`,coordinates:[-88.682785445,17.218528292]},properties:{ADM0_NAME:`Belize`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161948,GUID:`a4d24382-fdc3-4d00-9100-b548a6242d22`,CENTER_LON:-88.68278545,CENTER_LAT:17.21852829,ADM0_VIZ_NAME:`Belize`,Short_Name_ZH:`伯利兹`,Short_Name_FR:`Belize`,Short_Name_ES:`Belice`,Short_Name_RU:`Белиз`,Short_Name_AR:`بليز`}},{type:`Feature`,id:161949,geometry:{type:`Point`,coordinates:[-85.033750249,12.8400697610001]},properties:{ADM0_NAME:`Nicaragua`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161949,GUID:`85203b89-a328-4d85-b6e4-c9596a5c5a6f`,CENTER_LON:-85.03375025,CENTER_LAT:12.84006976,ADM0_VIZ_NAME:`Nicaragua`,Short_Name_ZH:`尼加拉瓜`,Short_Name_FR:`Nicaragua`,Short_Name_ES:`Nicaragua`,Short_Name_RU:`Никарагуа`,Short_Name_AR:`نيكاراغوا`}},{type:`Feature`,id:161950,geometry:{type:`Point`,coordinates:[-71.882079172,21.8086929190001]},properties:{ADM0_NAME:`Turks and Caicos Islands`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161950,GUID:`370668bf-3302-4cb1-928d-261a3fdd09ee`,CENTER_LON:-71.88207917,CENTER_LAT:21.80869292,ADM0_VIZ_NAME:`Turks and Caicos Islands`,Short_Name_ZH:`特克斯和凯科斯群岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161951,geometry:{type:`Point`,coordinates:[-63.057956094,18.2242329370001]},properties:{ADM0_NAME:`Anguilla`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161951,GUID:`a4e72e84-00bb-4ad5-890e-a9e6734a28ee`,CENTER_LON:-63.05795609,CENTER_LAT:18.22423294,ADM0_VIZ_NAME:`Anguilla`,Short_Name_ZH:`安圭拉\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161952,geometry:{type:`Point`,coordinates:[-64.481892015,18.5099570350001]},properties:{ADM0_NAME:`British Virgin Islands`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161952,GUID:`81eb8a93-1c6f-46a7-8927-543258b1b974`,CENTER_LON:-64.48189201,CENTER_LAT:18.50995704,ADM0_VIZ_NAME:`British Virgin Islands`,Short_Name_ZH:`英属维尔京群岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161953,geometry:{type:`Point`,coordinates:[-61.2075300889999,13.2020546800001]},properties:{ADM0_NAME:`Saint Vincent and the Grenadines`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161953,GUID:`e0de017e-24ec-454f-aee3-57443de5b7d2`,CENTER_LON:-61.20753009,CENTER_LAT:13.20205468,ADM0_VIZ_NAME:`Saint Vincent and the Grenadines`,Short_Name_ZH:`圣文森特和格林纳丁斯`,Short_Name_FR:`Saint-Vincent-et-les Grenadines`,Short_Name_ES:`San Vicente y las Granadinas`,Short_Name_RU:`Сент-Винсент и Гренадины`,Short_Name_AR:`سانت فنسنت وجزر غرينادين`}},{type:`Feature`,id:161954,geometry:{type:`Point`,coordinates:[-67.6837091749999,12.801902598]},properties:{ADM0_NAME:`Bonaire, Sint Eustatius and Saba`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:2,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161954,GUID:`03d049e6-6b6d-40e8-8be7-c2d0bf288b51`,CENTER_LON:-67.68370917,CENTER_LAT:12.8019026,ADM0_VIZ_NAME:`Bonaire, Sint Eustatius and Saba`,Short_Name_ZH:`博内尔、圣尤斯特歇斯和萨巴\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161955,geometry:{type:`Point`,coordinates:[-59.3723460369999,-51.739824397]},properties:{ADM0_NAME:`Falkland Islands (Malvinas)`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:2,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161955,GUID:`769ffe65-df8d-4c93-aae9-abb20ae84439`,CENTER_LON:-59.37234604,CENTER_LAT:-51.7398244,ADM0_VIZ_NAME:`Falkland Islands (Malvinas)`,Short_Name_ZH:`福克兰群岛（马尔维纳斯群岛）\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161956,geometry:{type:`Point`,coordinates:[25.0887119870001,-28.993213517]},properties:{ADM0_NAME:`South Africa`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1655,cum_clin:null,cum_susp:null,cum_death:11,EPIWeek:15,EPIYear:2020,Comment:null,ID:161956,GUID:`36a8fa2c-5b69-47e3-bac8-dc657e44de43`,CENTER_LON:25.08871199,CENTER_LAT:-28.99321352,ADM0_VIZ_NAME:`South Africa`,Short_Name_ZH:`南非`,Short_Name_FR:`Afrique du Sud`,Short_Name_ES:`Sudáfrica`,Short_Name_RU:`Южная Африка`,Short_Name_AR:`جنوب أفريقيا`}},{type:`Feature`,id:161957,geometry:{type:`Point`,coordinates:[2.63236594700004,28.1633574140001]},properties:{ADM0_NAME:`Algeria`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1251,cum_clin:null,cum_susp:null,cum_death:130,EPIWeek:15,EPIYear:2020,Comment:null,ID:161957,GUID:`74e60ac9-fe75-4273-9483-536bb1dd9f64`,CENTER_LON:2.63236595,CENTER_LAT:28.16335741,ADM0_VIZ_NAME:`Algeria`,Short_Name_ZH:`阿尔及利亚`,Short_Name_FR:`Algérie`,Short_Name_ES:`Argelia`,Short_Name_RU:`Алжир`,Short_Name_AR:`الجزائر`}},{type:`Feature`,id:161958,geometry:{type:`Point`,coordinates:[12.7432535040001,5.68580436000002]},properties:{ADM0_NAME:`Cameroon`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:555,cum_clin:null,cum_susp:null,cum_death:9,EPIWeek:15,EPIYear:2020,Comment:null,ID:161958,GUID:`5cdb6bf4-89ce-457e-9c53-fb9142d71ba0`,CENTER_LON:12.7432535,CENTER_LAT:5.68580436,ADM0_VIZ_NAME:`Cameroon`,Short_Name_ZH:`喀麦隆`,Short_Name_FR:`Cameroun`,Short_Name_ES:`Camerún`,Short_Name_RU:`Камерун`,Short_Name_AR:`الكاميرون`}},{type:`Feature`,id:161959,geometry:{type:`Point`,coordinates:[-1.73983521099996,12.277937148]},properties:{ADM0_NAME:`Burkina Faso`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:345,cum_clin:null,cum_susp:null,cum_death:17,EPIWeek:15,EPIYear:2020,Comment:null,ID:161959,GUID:`9612ac85-d7cd-4b88-b2b9-c7b6db8ab6de`,CENTER_LON:-1.73983521,CENTER_LAT:12.27793715,ADM0_VIZ_NAME:`Burkina Faso`,Short_Name_ZH:`布基纳法索`,Short_Name_FR:`Burkina Faso`,Short_Name_ES:`Burkina Faso`,Short_Name_RU:`Буркина-Фасо`,Short_Name_AR:`بوركينا فاسو`}},{type:`Feature`,id:161960,geometry:{type:`Point`,coordinates:[55.538212738,-21.1216294619999]},properties:{ADM0_NAME:`Réunion`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:344,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161960,GUID:`be01a35a-ea31-4453-bb23-5a01330a658f`,CENTER_LON:55.53821274,CENTER_LAT:-21.12162946,ADM0_VIZ_NAME:`Réunion`,Short_Name_ZH:`留尼汪岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161961,geometry:null,properties:{ADM0_NAME:`Côte d'Ivoire`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:261,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161961,GUID:null,CENTER_LON:null,CENTER_LAT:null,ADM0_VIZ_NAME:null,Short_Name_ZH:null,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161962,geometry:{type:`Point`,coordinates:[8.10527725500003,9.59360399500002]},properties:{ADM0_NAME:`Nigeria`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:232,cum_clin:null,cum_susp:null,cum_death:5,EPIWeek:15,EPIYear:2020,Comment:null,ID:161962,GUID:`3eba1f03-98d4-4335-804e-6c3f9e7d5da1`,CENTER_LON:8.10527726,CENTER_LAT:9.59360399,ADM0_VIZ_NAME:`Nigeria`,Short_Name_ZH:`尼日利亚`,Short_Name_FR:`Nigéria`,Short_Name_ES:`Nigeria`,Short_Name_RU:`Нигерия`,Short_Name_AR:`نيجيريا`}},{type:`Feature`,id:161963,geometry:{type:`Point`,coordinates:[57.868475995,-20.1700677979999]},properties:{ADM0_NAME:`Mauritius`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:227,cum_clin:null,cum_susp:null,cum_death:7,EPIWeek:15,EPIYear:2020,Comment:null,ID:161963,GUID:`2094fffc-8af7-4e5e-8bcd-176608114177`,CENTER_LON:57.868476,CENTER_LAT:-20.1700678,ADM0_VIZ_NAME:`Mauritius`,Short_Name_ZH:`毛里求斯`,Short_Name_FR:`Maurice`,Short_Name_ES:`Mauricio`,Short_Name_RU:`Маврикий`,Short_Name_AR:`موريشيوس`}},{type:`Feature`,id:161964,geometry:{type:`Point`,coordinates:[-14.4681770789999,14.3669795380001]},properties:{ADM0_NAME:`Senegal`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:226,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161964,GUID:`08acdf4e-cc04-46d9-b4c1-75f6ef39b685`,CENTER_LON:-14.46817708,CENTER_LAT:14.36697954,ADM0_VIZ_NAME:`Senegal`,Short_Name_ZH:`塞内加尔`,Short_Name_FR:`Sénégal`,Short_Name_ES:`Senegal`,Short_Name_RU:`Сенегал`,Short_Name_AR:`السنغال`}},{type:`Feature`,id:161965,geometry:{type:`Point`,coordinates:[-1.20704618899993,7.95964382200003]},properties:{ADM0_NAME:`Ghana`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:214,cum_clin:null,cum_susp:null,cum_death:5,EPIWeek:15,EPIYear:2020,Comment:null,ID:161965,GUID:`f582ca2f-9b52-4cea-ac99-2ae687930d8e`,CENTER_LON:-1.20704619,CENTER_LAT:7.95964382,ADM0_VIZ_NAME:`Ghana`,Short_Name_ZH:`加纳`,Short_Name_FR:`Ghana`,Short_Name_ES:`Ghana`,Short_Name_RU:`Гана`,Short_Name_AR:`غانا`}},{type:`Feature`,id:161966,geometry:{type:`Point`,coordinates:[9.39765753500006,17.4263228230001]},properties:{ADM0_NAME:`Niger`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:184,cum_clin:null,cum_susp:null,cum_death:10,EPIWeek:15,EPIYear:2020,Comment:null,ID:161966,GUID:`bb6da46b-2209-45c4-b51a-fb815b957eee`,CENTER_LON:9.39765754,CENTER_LAT:17.42632282,ADM0_VIZ_NAME:`Niger`,Short_Name_ZH:`尼日尔`,Short_Name_FR:`Niger`,Short_Name_ES:`Níger`,Short_Name_RU:`Нигер`,Short_Name_AR:`النيجر`}},{type:`Feature`,id:161967,geometry:{type:`Point`,coordinates:[23.6544653930001,-2.87619975299998]},properties:{ADM0_NAME:`Democratic Republic of the Congo`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:161,cum_clin:null,cum_susp:null,cum_death:18,EPIWeek:15,EPIYear:2020,Comment:null,ID:161967,GUID:`39cf5edd-97d7-4d13-a724-a5d098782320`,CENTER_LON:23.65431545,CENTER_LAT:-2.87622576,ADM0_VIZ_NAME:`Democratic Republic of the Congo`,Short_Name_ZH:`刚果民主共和国`,Short_Name_FR:`République démocratique du Congo`,Short_Name_ES:`República Democrática del Congo`,Short_Name_RU:`Демократическая Республика Конго`,Short_Name_AR:`جمهورية الكونغو الديمقراطية `}},{type:`Feature`,id:161968,geometry:{type:`Point`,coordinates:[45.139261742,-12.8183500609999]},properties:{ADM0_NAME:`Mayotte`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:147,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161968,GUID:`54c780ec-3aa8-442e-987f-6589116a3f57`,CENTER_LON:45.13926174,CENTER_LAT:-12.81835006,ADM0_VIZ_NAME:`Mayotte`,Short_Name_ZH:`马约特岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:`Feature`,id:161969,geometry:{type:`Point`,coordinates:[37.857864416,.529780176000031]},properties:{ADM0_NAME:`Kenya`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:142,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161969,GUID:`2198ecc4-8b3b-4003-9ea9-874348df3de0`,CENTER_LON:37.85786442,CENTER_LAT:.52978018,ADM0_VIZ_NAME:`Kenya`,Short_Name_ZH:`肯尼亚`,Short_Name_FR:`Kenya`,Short_Name_ES:`Kenya`,Short_Name_RU:`Кения`,Short_Name_AR:`كينيا`}},{type:`Feature`,id:161970,geometry:{type:`Point`,coordinates:[-10.9418254249999,10.438540941]},properties:{ADM0_NAME:`Guinea`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:111,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161970,GUID:`3740a605-5160-4f27-bd0d-d8f08466011a`,CENTER_LON:-10.94182542,CENTER_LAT:10.43854094,ADM0_VIZ_NAME:`Guinea`,Short_Name_ZH:`几内亚`,Short_Name_FR:`Guinée`,Short_Name_ES:`Guinea`,Short_Name_RU:`Гвинея`,Short_Name_AR:`غينيا`}},{type:`Feature`,id:161971,geometry:{type:`Point`,coordinates:[29.917205531,-1.99796797799996]},properties:{ADM0_NAME:`Rwanda`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:102,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161971,GUID:`895ea23f-dbcd-467f-bf1e-54aa4d3f2c45`,CENTER_LON:29.91720553,CENTER_LAT:-1.99796798,ADM0_VIZ_NAME:`Rwanda`,Short_Name_ZH:`卢旺达`,Short_Name_FR:`Rwanda`,Short_Name_ES:`Rwanda`,Short_Name_RU:`Руанда`,Short_Name_AR:`رواندا`}},{type:`Feature`,id:161972,geometry:{type:`Point`,coordinates:[46.7059924820001,-19.373521329]},properties:{ADM0_NAME:`Madagascar`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:77,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161972,GUID:`820b442d-b7ed-4c39-ab5a-51b0babbeecf`,CENTER_LON:46.70599248,CENTER_LAT:-19.37352133,ADM0_VIZ_NAME:`Madagascar`,Short_Name_ZH:`马达加斯加`,Short_Name_FR:`Madagascar`,Short_Name_ES:`Madagascar`,Short_Name_RU:`Мадагаскар`,Short_Name_AR:`مدغشقر`}},{type:`Feature`,id:161973,geometry:{type:`Point`,coordinates:[32.386266425,1.28002949000006]},properties:{ADM0_NAME:`Uganda`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:48,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161973,GUID:`1be45e1a-dfcd-4b79-870d-92166cf43e82`,CENTER_LON:32.38622999,CENTER_LAT:1.28008463,ADM0_VIZ_NAME:`Uganda`,Short_Name_ZH:`乌干达`,Short_Name_FR:`Ouganda`,Short_Name_ES:`Uganda`,Short_Name_RU:`Уганда`,Short_Name_AR:`أوغندا`}},{type:`Feature`,id:161974,geometry:{type:`Point`,coordinates:[15.224282988,-.839998298999944]},properties:{ADM0_NAME:`Congo`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:45,cum_clin:null,cum_susp:null,cum_death:5,EPIWeek:15,EPIYear:2020,Comment:null,ID:161974,GUID:`a32af07d-abed-484a-b1e9-4b7b0785c3dc`,CENTER_LON:15.22427459,CENTER_LAT:-.84006603,ADM0_VIZ_NAME:`Congo`,Short_Name_ZH:`刚果`,Short_Name_FR:`Congo`,Short_Name_ES:`Congo (el)`,Short_Name_RU:`Конго`,Short_Name_AR:`الكونغو`}},{type:`Feature`,id:161975,geometry:{type:`Point`,coordinates:[.97584596400003,8.53491037400005]},properties:{ADM0_NAME:`Togo`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:44,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161975,GUID:`19b27a13-b30b-4a0a-b085-084cddf5db4b`,CENTER_LON:.97584596,CENTER_LAT:8.53491037,ADM0_VIZ_NAME:`Togo`,Short_Name_ZH:`多哥`,Short_Name_FR:`Togo`,Short_Name_ES:`Togo (el)`,Short_Name_RU:`Того`,Short_Name_AR:`توغو`}},{type:`Feature`,id:161976,geometry:{type:`Point`,coordinates:[39.6160189350001,8.62613927100006]},properties:{ADM0_NAME:`Ethiopia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:43,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161976,GUID:`e9f231cb-35e1-467b-8b7c-067df2b9b8f5`,CENTER_LON:39.61601894,CENTER_LAT:8.62613927,ADM0_VIZ_NAME:`Ethiopia`,Short_Name_ZH:`埃塞俄比亚`,Short_Name_FR:`Éthiopie`,Short_Name_ES:`Etiopía`,Short_Name_RU:`Эфиопия`,Short_Name_AR:`إثيوبيا`}},{type:`Feature`,id:161977,geometry:{type:`Point`,coordinates:[-3.52433671799997,17.350369329]},properties:{ADM0_NAME:`Mali`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:39,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161977,GUID:`77642364-9b1b-46c8-aaf4-d9ffd8f62712`,CENTER_LON:-3.52433672,CENTER_LAT:17.35036933,ADM0_VIZ_NAME:`Mali`,Short_Name_ZH:`马里`,Short_Name_FR:`Mali`,Short_Name_ES:`Malí`,Short_Name_RU:`Мали`,Short_Name_AR:`مالي`}},{type:`Feature`,id:161978,geometry:{type:`Point`,coordinates:[27.7978489400001,-13.453075312]},properties:{ADM0_NAME:`Zambia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:39,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161978,GUID:`125935a9-188d-4b78-86a8-ffbf546077e0`,CENTER_LON:27.79788004,CENTER_LAT:-13.45307543,ADM0_VIZ_NAME:`Zambia`,Short_Name_ZH:`赞比亚`,Short_Name_FR:`Zambie`,Short_Name_ES:`Zambia`,Short_Name_RU:`Замбия`,Short_Name_AR:`زامبيا`}},{type:`Feature`,id:161979,geometry:{type:`Point`,coordinates:[38.852925552,15.3588410250001]},properties:{ADM0_NAME:`Eritrea`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:29,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161979,GUID:`7b9e18fe-ff3c-44de-9b50-b91a8311dddf`,CENTER_LON:38.85292555,CENTER_LAT:15.35884102,ADM0_VIZ_NAME:`Eritrea`,Short_Name_ZH:`厄立特里亚`,Short_Name_FR:`Érythrée`,Short_Name_ES:`Eritrea`,Short_Name_RU:`Эритрея`,Short_Name_AR:`إريتريا`}},{type:`Feature`,id:161980,geometry:{type:`Point`,coordinates:[2.34326270500003,9.64764996800005]},properties:{ADM0_NAME:`Benin`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:22,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161980,GUID:`27d0edf7-b070-4943-bb9b-dcee5a4d216e`,CENTER_LON:2.34326271,CENTER_LAT:9.64764997,ADM0_VIZ_NAME:`Benin`,Short_Name_ZH:`贝宁`,Short_Name_FR:`Bénin`,Short_Name_ES:`Benin`,Short_Name_RU:`Бенин`,Short_Name_AR:`بنن`}},{type:`Feature`,id:161981,geometry:{type:`Point`,coordinates:[34.8234035560001,-6.27020075299993]},properties:{ADM0_NAME:`United Republic of Tanzania`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:22,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161981,GUID:`a09fda23-b91a-49e4-ba7d-02cb8540b936`,CENTER_LON:34.82340201,CENTER_LAT:-6.27019905,ADM0_VIZ_NAME:`United Republic of Tanzania`,Short_Name_ZH:`坦桑尼亚联合共和国`,Short_Name_FR:`République-Unie de Tanzanie`,Short_Name_ES:`República Unida de Tanzanía`,Short_Name_RU:`Объединенная Республика Танзания`,Short_Name_AR:`جمهورية تنزانيا المتحدة`}},{type:`Feature`,id:161982,geometry:{type:`Point`,coordinates:[11.797157624,-.590677967999966]},properties:{ADM0_NAME:`Gabon`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:21,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161982,GUID:`cbf1734a-37f7-4691-bb44-0123114cb49e`,CENTER_LON:11.79715762,CENTER_LAT:-.59067797,ADM0_VIZ_NAME:`Gabon`,Short_Name_ZH:`加蓬`,Short_Name_FR:`Gabon`,Short_Name_ES:`Gabón`,Short_Name_RU:`Габон`,Short_Name_AR:`غابون`}},{type:`Feature`,id:161983,geometry:{type:`Point`,coordinates:[-14.987484013,12.016198296]},properties:{ADM0_NAME:`Guinea-Bissau`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:18,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161983,GUID:`0334af86-91ef-485e-805f-a204ef2764ab`,CENTER_LON:-14.98748401,CENTER_LAT:12.0161983,ADM0_VIZ_NAME:`Guinea-Bissau`,Short_Name_ZH:`几内亚比绍`,Short_Name_FR:`Guinée-Bissau`,Short_Name_ES:`Guinea-Bissau`,Short_Name_RU:`Гвинея-Бисау`,Short_Name_AR:`غينيا - بيساو`}},{type:`Feature`,id:161984,geometry:{type:`Point`,coordinates:[10.3384962750001,1.71016859900004]},properties:{ADM0_NAME:`Equatorial Guinea`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:16,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161984,GUID:`af7e3138-b823-4063-8a50-4408c8527cc9`,CENTER_LON:10.33849628,CENTER_LAT:1.7101686,ADM0_VIZ_NAME:`Equatorial Guinea`,Short_Name_ZH:`赤道几内亚`,Short_Name_FR:`Guinée équatoriale`,Short_Name_ES:`Guinea Ecuatorial`,Short_Name_RU:`Экваториальная Гвинея`,Short_Name_AR:`غينيا الاستوائية`}},{type:`Feature`,id:161985,geometry:{type:`Point`,coordinates:[17.218450277,-22.133293291]},properties:{ADM0_NAME:`Namibia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:16,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161985,GUID:`60026c01-d644-439e-beda-ec2c280304a7`,CENTER_LON:17.21845028,CENTER_LAT:-22.13329329,ADM0_VIZ_NAME:`Namibia`,Short_Name_ZH:`纳米比亚`,Short_Name_FR:`Namibie`,Short_Name_ES:`Namibia`,Short_Name_RU:`Намибия`,Short_Name_AR:`ناميبيا`}},{type:`Feature`,id:161986,geometry:{type:`Point`,coordinates:[17.543777778,-12.2957307139999]},properties:{ADM0_NAME:`Angola`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:14,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161986,GUID:`2a5aaf40-e526-4778-a1e2-204d26254d21`,CENTER_LON:17.54379621,CENTER_LAT:-12.29575318,ADM0_VIZ_NAME:`Angola`,Short_Name_ZH:`安哥拉`,Short_Name_FR:`Angola`,Short_Name_ES:`Angola`,Short_Name_RU:`Ангола`,Short_Name_AR:`أنغولا`}},{type:`Feature`,id:161987,geometry:{type:`Point`,coordinates:[-9.30784656399993,6.44811846300007]},properties:{ADM0_NAME:`Liberia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:13,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161987,GUID:`78dbdf5d-226b-4be4-b853-5a58d9da21a6`,CENTER_LON:-9.30784656,CENTER_LAT:6.44811846,ADM0_VIZ_NAME:`Liberia`,Short_Name_ZH:`利比里亚`,Short_Name_FR:`Libéria`,Short_Name_ES:`Liberia`,Short_Name_RU:`Либерия`,Short_Name_AR:`ليبريا`}},{type:`Feature`,id:161988,geometry:{type:`Point`,coordinates:[35.552260533,-17.260193924]},properties:{ADM0_NAME:`Mozambique`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:10,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161988,GUID:`b09a5bf6-36d9-4abd-9d4a-793639ac9457`,CENTER_LON:35.55226053,CENTER_LAT:-17.26019392,ADM0_VIZ_NAME:`Mozambique`,Short_Name_ZH:`莫桑比克`,Short_Name_FR:`Mozambique`,Short_Name_ES:`Mozambique`,Short_Name_RU:`Мозамбик`,Short_Name_AR:`موزامبيق`}},{type:`Feature`,id:161989,geometry:{type:`Point`,coordinates:[52.2300590070001,-6.39906405099993]},properties:{ADM0_NAME:`Seychelles`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:10,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161989,GUID:`17e46d71-5bc2-479c-8d3a-0d966592ac32`,CENTER_LON:52.23005901,CENTER_LAT:-6.39906405,ADM0_VIZ_NAME:`Seychelles`,Short_Name_ZH:`塞舌尔`,Short_Name_FR:`Seychelles`,Short_Name_ES:`Seychelles`,Short_Name_RU:`Сейшельские Острова`,Short_Name_AR:`سيشيل`}},{type:`Feature`,id:161990,geometry:{type:`Point`,coordinates:[20.482782022,6.57145244100008]},properties:{ADM0_NAME:`Central African Republic`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:9,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161990,GUID:`5a37f024-c6e9-444e-832a-57db29915f70`,CENTER_LON:20.48278081,CENTER_LAT:6.57145342,ADM0_VIZ_NAME:`Central African Republic`,Short_Name_ZH:`中非共和国`,Short_Name_FR:`République centrafricaine`,Short_Name_ES:`República Centroafricana`,Short_Name_RU:`Центральноафриканская Республика`,Short_Name_AR:`جمهورية أفريقيا الوسطى`}},{type:`Feature`,id:161991,geometry:{type:`Point`,coordinates:[18.6646033860001,15.361145703]},properties:{ADM0_NAME:`Chad`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:9,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161991,GUID:`aef0e5a2-d0cb-4074-82c0-39f932bd297a`,CENTER_LON:18.66460339,CENTER_LAT:15.3611457,ADM0_VIZ_NAME:`Chad`,Short_Name_ZH:`乍得`,Short_Name_FR:`Tchad`,Short_Name_ES:`Chad (el)`,Short_Name_RU:`Чад`,Short_Name_AR:`تشاد`}},{type:`Feature`,id:161992,geometry:{type:`Point`,coordinates:[31.497188798,-26.562116744]},properties:{ADM0_NAME:`Eswatini`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:9,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161992,GUID:`393f6615-8c13-42ca-9bdd-1594735cbdcf`,CENTER_LON:31.4971888,CENTER_LAT:-26.56211674,ADM0_VIZ_NAME:`Eswatini`,Short_Name_ZH:`斯威士兰`,Short_Name_FR:`Eswatini`,Short_Name_ES:`Eswatini`,Short_Name_RU:`Эсватини`,Short_Name_AR:`إسواتيني`}},{type:`Feature`,id:161993,geometry:{type:`Point`,coordinates:[29.871759825,-19.0000057739999]},properties:{ADM0_NAME:`Zimbabwe`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:9,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161993,GUID:`a125fc97-acbd-43f1-add2-1e5d11d2570a`,CENTER_LON:29.87175983,CENTER_LAT:-19.00000577,ADM0_VIZ_NAME:`Zimbabwe`,Short_Name_ZH:`津巴布韦`,Short_Name_FR:`Zimbabwe`,Short_Name_ES:`Zimbabwe`,Short_Name_RU:`Зимбабве`,Short_Name_AR:`زمبابوي`}},{type:`Feature`,id:161994,geometry:{type:`Point`,coordinates:[-10.3322604099999,20.259903606]},properties:{ADM0_NAME:`Mauritania`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:6,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161994,GUID:`c2aa3415-b740-47f3-8abc-c5ccbb14d5b0`,CENTER_LON:-10.33226041,CENTER_LAT:20.25990361,ADM0_VIZ_NAME:`Mauritania`,Short_Name_ZH:`毛里塔尼亚`,Short_Name_FR:`Mauritanie`,Short_Name_ES:`Mauritania`,Short_Name_RU:`Мавритания`,Short_Name_AR:`موريتانيا`}},{type:`Feature`,id:161995,geometry:{type:`Point`,coordinates:[-11.792102896,8.56034092400006]},properties:{ADM0_NAME:`Sierra Leone`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:6,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161995,GUID:`e1cd65ea-4261-4a92-a8af-1709465c2cd3`,CENTER_LON:-11.7921029,CENTER_LAT:8.56034092,ADM0_VIZ_NAME:`Sierra Leone`,Short_Name_ZH:`塞拉利昂`,Short_Name_FR:`Sierra Leone`,Short_Name_ES:`Sierra Leona`,Short_Name_RU:`Сьерра-Леоне`,Short_Name_AR:`سيراليون`}},{type:`Feature`,id:161996,geometry:{type:`Point`,coordinates:[-23.544999999,14.9280000000001]},properties:{ADM0_NAME:`Cabo Verde`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161996,GUID:`b6d5830a-0a76-4c5e-9b69-9bbc651c6fee`,CENTER_LON:-23.545,CENTER_LAT:14.928,ADM0_VIZ_NAME:`Cabo Verde`,Short_Name_ZH:`佛得角`,Short_Name_FR:`Cabo Verde`,Short_Name_ES:`Cabo Verde`,Short_Name_RU:`Кабо-Верде`,Short_Name_AR:`كابو فيردي`}},{type:`Feature`,id:161997,geometry:{type:`Point`,coordinates:[23.815077504,-22.182042021]},properties:{ADM0_NAME:`Botswana`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161997,GUID:`689dde45-4727-4b7b-9e35-5ddcc5ef2791`,CENTER_LON:23.8150775,CENTER_LAT:-22.18204202,ADM0_VIZ_NAME:`Botswana`,Short_Name_ZH:`博茨瓦纳`,Short_Name_FR:`Botswana`,Short_Name_ES:`Botswana`,Short_Name_RU:`Ботсвана`,Short_Name_AR:`بوتسوانا`}},{type:`Feature`,id:161998,geometry:{type:`Point`,coordinates:[-15.385619595,13.452944399]},properties:{ADM0_NAME:`Gambia`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161998,GUID:`71d4622e-3ccd-4650-9e66-ee0421f0f2b3`,CENTER_LON:-15.3856196,CENTER_LAT:13.4529444,ADM0_VIZ_NAME:`Gambia`,Short_Name_ZH:`冈比亚`,Short_Name_FR:`Gambie`,Short_Name_ES:`Gambia`,Short_Name_RU:`Гамбия`,Short_Name_AR:`غامبيا`}},{type:`Feature`,id:161999,geometry:{type:`Point`,coordinates:[34.3069850380001,-13.21510424]},properties:{ADM0_NAME:`Malawi`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161999,GUID:`895071fb-8240-4b2d-bfac-a51f8243d620`,CENTER_LON:34.30698504,CENTER_LAT:-13.21510424,ADM0_VIZ_NAME:`Malawi`,Short_Name_ZH:`马拉维`,Short_Name_FR:`Malawi`,Short_Name_ES:`Malawi`,Short_Name_RU:`Малави`,Short_Name_AR:`ملاوي`}},{type:`Feature`,id:162e3,geometry:{type:`Point`,coordinates:[6.71649314900003,.436446692000061]},properties:{ADM0_NAME:`Sao Tome and Principe`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:162e3,GUID:`8d36d705-3e3e-412e-a13b-1ee158a07c36`,CENTER_LON:6.73729084,CENTER_LAT:.45825363,ADM0_VIZ_NAME:`Sao Tome and Principe`,Short_Name_ZH:`圣多美和普林西比`,Short_Name_FR:`Sao Tomé-et-Principe`,Short_Name_ES:`Santo Tomé y Príncipe`,Short_Name_RU:`Сан-Томе и Принсипи`,Short_Name_AR:`سان تومي وبرينسيبي`}},{type:`Feature`,id:162001,geometry:{type:`Point`,coordinates:[29.8868213920001,-3.35629711799993]},properties:{ADM0_NAME:`Burundi`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:162001,GUID:`bf20d4f1-d25b-4be3-b8f5-7a2a94a20ecf`,CENTER_LON:29.88682139,CENTER_LAT:-3.35629712,ADM0_VIZ_NAME:`Burundi`,Short_Name_ZH:`布隆迪`,Short_Name_FR:`Burundi`,Short_Name_ES:`Burundi`,Short_Name_RU:`Бурунди`,Short_Name_AR:`بوروندي`}},{type:`Feature`,id:162002,geometry:{type:`Point`,coordinates:[30.340676547,7.27961187200003]},properties:{ADM0_NAME:`South Sudan`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:162002,GUID:`322068a7-b312-4393-b5d1-fe2dc7a5c78a`,CENTER_LON:30.34067655,CENTER_LAT:7.27961187,ADM0_VIZ_NAME:`South Sudan`,Short_Name_ZH:`南苏丹`,Short_Name_FR:`Soudan du Sud`,Short_Name_ES:` Sudán del Sur `,Short_Name_RU:`Южный Судан`,Short_Name_AR:`جنوب السودان`}},{type:`Feature`,id:162006,geometry:null,properties:{ADM0_NAME:`International conveyance (Diamond Princess)`,ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:712,cum_clin:null,cum_susp:null,cum_death:11,EPIWeek:15,EPIYear:2020,Comment:null,ID:162006,GUID:null,CENTER_LON:null,CENTER_LAT:null,ADM0_VIZ_NAME:`International conveyance (Diamond Princess)`,Short_Name_ZH:`国际交通工具（“钻石公主号”邮轮）)`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}}]},cN={type:`FeatureCollection`,crs:{type:`name`,properties:{name:`urn:ogc:def:crs:OGC:1.3:CRS84`}},features:[{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,83.29769733567451]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,83.29769733567451]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,83.29769733567451]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,83.29769733567451]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,83.29769733567451]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,83.29769733567451]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,83.03042231213165]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,83.03042231213165]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,83.03042231213165]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,83.03042231213165]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,83.03042231213165]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,83.03042231213165]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,83.03042231213165]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,83.03042231213165]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,83.03042231213165]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,83.03042231213165]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,83.03042231213165]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,82.75254360190782]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,82.75254360190782]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,82.75254360190782]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,82.75254360190782]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,82.75254360190782]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,82.75254360190782]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,82.75254360190782]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,82.75254360190782]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,82.75254360190782]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,82.75254360190782]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,82.75254360190782]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,82.75254360190782]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,82.75254360190782]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,82.46364732289885]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,82.46364732289885]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,82.46364732289885]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,82.46364732289885]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,82.46364732289885]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,82.46364732289885]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,82.46364732289885]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,82.46364732289885]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,82.46364732289885]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,82.46364732289885]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,82.46364732289885]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,82.46364732289885]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,82.46364732289885]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,82.46364732289885]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,82.46364732289885]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,82.46364732289885]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,82.46364732289885]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,82.46364732289885]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,82.46364732289885]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,82.1633042838823]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,82.1633042838823]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,82.1633042838823]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,82.1633042838823]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,82.1633042838823]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,82.1633042838823]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,82.1633042838823]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,82.1633042838823]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,82.1633042838823]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,82.1633042838823]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,82.1633042838823]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,82.1633042838823]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,82.1633042838823]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,82.1633042838823]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,82.1633042838823]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,82.1633042838823]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,82.1633042838823]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,82.1633042838823]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,82.1633042838823]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,82.1633042838823]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,82.1633042838823]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,81.85106952420345]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-15.967629120770331,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-13.721840910471528,81.52648185344404]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-20.45920554136794,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-18.213417331069138,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-15.967629120770331,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-13.721840910471528,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,81.18906339325112]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-20.45920554136794,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-18.213417331069138,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-15.967629120770331,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,80.83831912383923]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-20.45920554136794,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-18.213417331069138,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,80.47373643805125]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-20.45920554136794,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,80.09478470628163]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-20.45920554136794,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,79.70091485602755]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-20.45920554136794,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,79.29155897034926]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-20.45920554136794,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,78.8661299100901]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,78.42402096533623]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,77.96460554228973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-20.45920554136794,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,77.48723689249104]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-20.45920554136794,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,76.99124789216098]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,76.47595088034483]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-20.45920554136794,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,75.94063756553139]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-20.45920554136794,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-18.213417331069138,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,75.38457901149432]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-20.45920554136794,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,74.80702571426096]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,74.20720778335601]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,73.5843352417925]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,72.93759846068625]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,72.26616874584563]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,71.56919909522618]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-157.45228636959496,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-155.20649815929616,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-152.96070994899736,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[150.2206984413411,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[154.7122748619387,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[156.95806307223754,70.8458251477235]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-161.94386279019255,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-159.69807457989376,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-157.45228636959496,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-155.20649815929616,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-152.96070994899736,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-150.71492173869854,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-148.46913352839977,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-146.22334531810094,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-130.5028278460093,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[150.2206984413411,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[152.46648665163994,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[154.7122748619387,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[156.95806307223754,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[159.20385128253633,70.09516634538973]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-161.94386279019255,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-159.69807457989376,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-157.45228636959496,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-155.20649815929616,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-152.96070994899736,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-150.71492173869854,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-148.46913352839977,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-146.22334531810094,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-143.97755710780214,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-141.73176889750331,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-139.48598068720452,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-134.99440426660692,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-132.74861605630812,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-130.5028278460093,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-128.2570396357105,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-126.01125142541171,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-27.19657017226435,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-24.950781961965546,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[150.2206984413411,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[152.46648665163994,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[154.7122748619387,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[156.95806307223754,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[159.20385128253633,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[161.44963949283516,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[163.69542770313396,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[165.94121591343273,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[168.18700412373155,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[172.67858054432918,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[174.92436875462795,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[177.17015696492675,69.3163273327709]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-179.910168472583,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-164.18965100049138,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-161.94386279019255,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-159.69807457989376,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-157.45228636959496,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-155.20649815929616,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-152.96070994899736,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-150.71492173869854,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-148.46913352839977,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-146.22334531810094,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-143.97755710780214,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-141.73176889750331,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-139.48598068720452,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-137.24019247690575,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-134.99440426660692,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-132.74861605630812,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-130.5028278460093,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-128.2570396357105,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-126.01125142541171,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-31.688146592861955,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-29.442358382563153,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[150.2206984413411,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[152.46648665163994,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[154.7122748619387,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[156.95806307223754,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[159.20385128253633,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[161.44963949283516,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[163.69542770313396,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[165.94121591343273,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[168.18700412373155,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[170.43279233403035,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[172.67858054432918,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[174.92436875462795,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[177.17015696492675,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[179.41594517522557,68.50839961864305]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-179.910168472583,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-177.6643802622842,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-175.4185920519854,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-164.18965100049138,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-161.94386279019255,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-159.69807457989376,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-157.45228636959496,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-155.20649815929616,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-152.96070994899736,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-150.71492173869854,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-148.46913352839977,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-146.22334531810094,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-143.97755710780214,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-141.73176889750331,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-139.48598068720452,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-137.24019247690575,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-134.99440426660692,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-132.74861605630812,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-130.5028278460093,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-128.2570396357105,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-126.01125142541171,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-33.93393480316076,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[150.2206984413411,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[152.46648665163994,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[154.7122748619387,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[156.95806307223754,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[159.20385128253633,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[161.44963949283516,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[163.69542770313396,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[165.94121591343273,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[168.18700412373155,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[170.43279233403035,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[172.67858054432918,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[174.92436875462795,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[177.17015696492675,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[179.41594517522557,67.67046352692999]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-179.910168472583,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-177.6643802622842,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-175.4185920519854,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-173.17280384168657,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-159.69807457989376,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-157.45228636959496,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-155.20649815929616,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-152.96070994899736,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-150.71492173869854,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-148.46913352839977,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-146.22334531810094,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-143.97755710780214,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-141.73176889750331,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-139.48598068720452,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-137.24019247690575,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-134.99440426660692,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-132.74861605630812,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-130.5028278460093,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-128.2570396357105,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-126.01125142541171,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[150.2206984413411,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[152.46648665163994,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[154.7122748619387,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[156.95806307223754,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[159.20385128253633,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[161.44963949283516,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[163.69542770313396,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[165.94121591343273,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[168.18700412373155,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[170.43279233403035,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[172.67858054432918,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[174.92436875462795,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[177.17015696492675,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[179.41594517522557,66.80159046496628]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-179.910168472583,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-177.6643802622842,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-175.4185920519854,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-173.17280384168657,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-170.92701563138777,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-166.43543921079018,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-164.18965100049138,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-161.94386279019255,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-159.69807457989376,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-157.45228636959496,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-155.20649815929616,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-152.96070994899736,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-150.71492173869854,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-148.46913352839977,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-146.22334531810094,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-143.97755710780214,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-141.73176889750331,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-139.48598068720452,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-137.24019247690575,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-134.99440426660692,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-132.74861605630812,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-130.5028278460093,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-128.2570396357105,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-126.01125142541171,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-15.967629120770331,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[150.2206984413411,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[152.46648665163994,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[154.7122748619387,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[156.95806307223754,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[159.20385128253633,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[161.44963949283516,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[163.69542770313396,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[165.94121591343273,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[168.18700412373155,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[170.43279233403035,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[172.67858054432918,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[174.92436875462795,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[177.17015696492675,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[179.41594517522557,65.90084553846057]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-175.4185920519854,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-173.17280384168657,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-166.43543921079018,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-164.18965100049138,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-161.94386279019255,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-159.69807457989376,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-157.45228636959496,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-155.20649815929616,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-152.96070994899736,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-150.71492173869854,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-148.46913352839977,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-146.22334531810094,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-143.97755710780214,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-141.73176889750331,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-139.48598068720452,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-137.24019247690575,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-134.99440426660692,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-132.74861605630812,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-130.5028278460093,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-128.2570396357105,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-126.01125142541171,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-22.70499375166674,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-20.45920554136794,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-18.213417331069138,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-15.967629120770331,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-13.721840910471528,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[150.2206984413411,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[152.46648665163994,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[154.7122748619387,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[156.95806307223754,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[159.20385128253633,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[161.44963949283516,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[163.69542770313396,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[165.94121591343273,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[168.18700412373155,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[170.43279233403035,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[172.67858054432918,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[174.92436875462795,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[177.17015696492675,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[179.41594517522557,64.96729054344385]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-159.69807457989376,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-157.45228636959496,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-155.20649815929616,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-152.96070994899736,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-150.71492173869854,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-148.46913352839977,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-146.22334531810094,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-143.97755710780214,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-141.73176889750331,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-139.48598068720452,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-137.24019247690575,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-134.99440426660692,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-132.74861605630812,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-130.5028278460093,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-128.2570396357105,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-126.01125142541171,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-20.45920554136794,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-18.213417331069138,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[150.2206984413411,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[152.46648665163994,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[154.7122748619387,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[156.95806307223754,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[159.20385128253633,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[161.44963949283516,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[163.69542770313396,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[165.94121591343273,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[168.18700412373155,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[170.43279233403035,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[172.67858054432918,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[174.92436875462795,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[177.17015696492675,63.99998736606511]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-164.18965100049138,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-161.94386279019255,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-159.69807457989376,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-157.45228636959496,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-155.20649815929616,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-152.96070994899736,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-150.71492173869854,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-148.46913352839977,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-146.22334531810094,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-143.97755710780214,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-141.73176889750331,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-139.48598068720452,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-137.24019247690575,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-134.99440426660692,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-132.74861605630812,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-130.5028278460093,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-128.2570396357105,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-126.01125142541171,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[150.2206984413411,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[152.46648665163994,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[154.7122748619387,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[156.95806307223754,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[159.20385128253633,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[161.44963949283516,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[163.69542770313396,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[165.94121591343273,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[168.18700412373155,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[170.43279233403035,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[172.67858054432918,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[174.92436875462795,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[177.17015696492675,62.998001821223895]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-164.18965100049138,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-161.94386279019255,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-159.69807457989376,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-157.45228636959496,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-155.20649815929616,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-152.96070994899736,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-150.71492173869854,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-148.46913352839977,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-146.22334531810094,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-143.97755710780214,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-141.73176889750331,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-139.48598068720452,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-137.24019247690575,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-134.99440426660692,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-132.74861605630812,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-130.5028278460093,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-128.2570396357105,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-126.01125142541171,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[150.2206984413411,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[152.46648665163994,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[154.7122748619387,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[156.95806307223754,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[159.20385128253633,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[161.44963949283516,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[165.94121591343273,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[168.18700412373155,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[170.43279233403035,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[172.67858054432918,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[174.92436875462795,61.960407960584604]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-164.18965100049138,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-161.94386279019255,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-159.69807457989376,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-157.45228636959496,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-155.20649815929616,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-152.96070994899736,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-150.71492173869854,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-148.46913352839977,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-146.22334531810094,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-143.97755710780214,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-141.73176889750331,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-139.48598068720452,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-137.24019247690575,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-134.99440426660692,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-132.74861605630812,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-130.5028278460093,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-128.2570396357105,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-126.01125142541171,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[150.2206984413411,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[152.46648665163994,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[154.7122748619387,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[163.69542770313396,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[165.94121591343273,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[168.18700412373155,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[170.43279233403035,60.88629287937398]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-161.94386279019255,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-159.69807457989376,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-157.45228636959496,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-155.20649815929616,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-150.71492173869854,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-139.48598068720452,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-137.24019247690575,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-134.99440426660692,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-132.74861605630812,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-130.5028278460093,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-128.2570396357105,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-126.01125142541171,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[150.2206984413411,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[152.46648665163994,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[161.44963949283516,59.774762049371134]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-155.20649815929616,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-137.24019247690575,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-132.74861605630812,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-130.5028278460093,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-128.2570396357105,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-126.01125142541171,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[161.44963949283516,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[163.69542770313396,58.624945202502865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-157.45228636959496,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-152.96070994899736,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-132.74861605630812,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-130.5028278460093,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-128.2570396357105,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-126.01125142541171,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-4.738688069276319,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-2.492899858977515,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[156.95806307223754,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[159.20385128253633,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[161.44963949283516,57.43600278528517]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-159.69807457989376,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-130.5028278460093,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-128.2570396357105,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-126.01125142541171,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-4.738688069276319,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[156.95806307223754,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[159.20385128253633,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[161.44963949283516,56.20713299883136]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-164.18965100049138,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-130.5028278460093,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-128.2570396357105,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-126.01125142541171,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-6.984476279575122,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-4.738688069276319,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-2.492899858977515,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[156.95806307223754,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[159.20385128253633,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[161.44963949283516,54.9375794321014]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-132.74861605630812,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-128.2570396357105,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-126.01125142541171,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-9.230264489873921,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-6.984476279575122,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-2.492899858977515,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-.247111648678712,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[156.95806307223754,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[159.20385128253633,53.62663928732969]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-126.01125142541171,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-9.230264489873921,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-6.984476279575122,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-2.492899858977515,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-.247111648678712,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[156.95806307223754,52.27367218598878]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-126.01125142541171,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-2.492899858977515,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-.247111648678712,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[1.998676561620092,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[4.244464771918896,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,50.87810953110461]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-126.01125142541171,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[1.998676561620092,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[4.244464771918896,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[154.7122748619387,49.43946438716008]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-2.492899858977515,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-.247111648678712,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[1.998676561620092,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[4.244464771918896,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,47.957341822195296]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-.247111648678712,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[1.998676561620092,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[4.244464771918896,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,46.431449638103075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-.247111648678712,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[1.998676561620092,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[4.244464771918896,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,44.861609394697915]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-6.984476279575122,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-4.738688069276319,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-2.492899858977515,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-.247111648678712,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[1.998676561620092,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,43.24776761119706]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-6.984476279575122,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-4.738688069276319,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-2.492899858977515,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-.247111648678712,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[1.998676561620092,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,41.59000700572742]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-123.7654632151129,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-6.984476279575122,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-4.738688069276319,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-2.492899858977515,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-.247111648678712,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[4.244464771918896,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,39.88855760995075]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-6.984476279575122,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-4.738688069276319,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-2.492899858977515,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,38.14380757263771]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-121.5196750048141,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[1.998676561620092,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[4.244464771918896,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,36.356313443941325]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-119.27388679451529,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-4.738688069276319,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-2.492899858977515,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-.247111648678712,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[1.998676561620092,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[4.244464771918896,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,34.52680971230379]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-117.02809858421651,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-6.984476279575122,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-4.738688069276319,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-2.492899858977515,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-.247111648678712,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[1.998676561620092,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[4.244464771918896,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,32.65621734958849]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-114.7823103739177,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-9.230264489873921,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-6.984476279575122,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-4.738688069276319,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-2.492899858977515,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-.247111648678712,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[1.998676561620092,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[4.244464771918896,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,30.745651108469865]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-110.29073395332009,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-9.230264489873921,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-6.984476279575122,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-4.738688069276319,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-2.492899858977515,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-.247111648678712,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[1.998676561620092,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[4.244464771918896,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,28.796425310677574]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-112.53652216361888,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-11.476052700172726,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-9.230264489873921,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-6.984476279575122,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-4.738688069276319,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-2.492899858977515,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-.247111648678712,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[1.998676561620092,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[4.244464771918896,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[60.389170029388985,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[62.63495823968778,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[64.88074644998659,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,26.81005786667896]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-108.04494574302129,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-13.721840910471528,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-11.476052700172726,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-9.230264489873921,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-6.984476279575122,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-4.738688069276319,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-2.492899858977515,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-.247111648678712,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[1.998676561620092,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[4.244464771918896,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[67.1265346602854,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[69.3723228705842,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,24.78827227796699]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-105.79915753272248,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-81.09548721943564,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-15.967629120770331,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-13.721840910471528,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-11.476052700172726,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-9.230264489873921,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-6.984476279575122,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-4.738688069276319,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-2.492899858977515,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-.247111648678712,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[1.998676561620092,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[4.244464771918896,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[71.618111080883,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[87.33862855297463,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[89.58441676327342,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[91.83020497357224,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,22.73299739323544]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-15.967629120770331,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-13.721840910471528,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-11.476052700172726,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-9.230264489873921,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-6.984476279575122,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-4.738688069276319,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-2.492899858977515,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-.247111648678712,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[1.998676561620092,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[4.244464771918896,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[58.14338181909017,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[85.09284034267581,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[94.07599318387103,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,20.64636471996892]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-103.55336932242368,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-101.30758111212486,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-99.06179290182607,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-15.967629120770331,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-13.721840910471528,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-11.476052700172726,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-9.230264489873921,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-6.984476279575122,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-4.738688069276319,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-2.492899858977515,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-.247111648678712,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[1.998676561620092,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[4.244464771918896,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[53.65180539849257,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[55.89759360879138,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[82.84705213237703,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[96.32178139416983,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,18.530703133508972]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-96.81600469152727,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-94.57021648122846,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-92.32442827092966,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-15.967629120770331,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-13.721840910471528,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-11.476052700172726,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-9.230264489873921,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-6.984476279575122,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-4.738688069276319,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-2.492899858977515,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-.247111648678712,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[1.998676561620092,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[4.244464771918896,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[51.406017188193765,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[73.8638992911818,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,16.38853087610306]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-90.07864006063085,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-87.83285185033205,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-15.967629120770331,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-13.721840910471528,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-11.476052700172726,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-9.230264489873921,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-6.984476279575122,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-4.738688069276319,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-2.492899858977515,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-.247111648678712,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[1.998676561620092,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[4.244464771918896,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,14.222544797837983]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-85.58706364003325,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-15.967629120770331,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-13.721840910471528,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-11.476052700172726,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-9.230264489873921,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-6.984476279575122,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-4.738688069276319,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-2.492899858977515,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-.247111648678712,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[1.998676561620092,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[4.244464771918896,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[76.10968750148061,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[107.55072244566385,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,12.035606858112935]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-83.34127542973445,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-11.476052700172726,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-9.230264489873921,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-6.984476279575122,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-4.738688069276319,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-2.492899858977515,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-.247111648678712,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[1.998676561620092,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[4.244464771918896,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[78.3554757117794,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,9.830727978242566]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-11.476052700172726,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-9.230264489873921,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-6.984476279575122,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-4.738688069276319,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-2.492899858977515,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-.247111648678712,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[1.998676561620092,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[4.244464771918896,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[80.60126392207822,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,7.611049410181301]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-9.230264489873921,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-6.984476279575122,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-4.738688069276319,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-2.492899858977515,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[6.490252982217699,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[8.736041192516502,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,5.379821860119629]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[98.56756960446864,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,3.140382675475547]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[42.42286434699856,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[109.79651065596265,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,.896131466226635]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[100.81335781476744,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,-1.349495416557252]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[10.981829402815306,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[103.05914602506625,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[105.30493423536505,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,-3.593051083437981]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[150.2206984413411,-5.831104505676867]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-78.84969900913683,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-36.17972301345956,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[112.04229886626146,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[159.20385128253633,-8.060266618955612]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[150.2206984413411,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[161.44963949283516,-10.277215650248287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-76.60391079883803,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-38.42551122375836,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,-12.478721212934401]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[40.17707613669975,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,-14.661666756789273]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[37.93128792640095,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[49.16022897789497,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,-16.823070013760287]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-40.67129943405717,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[13.22761761311411,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[35.68549971610214,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,-18.960101144608686]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-42.917087644355966,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,-21.0700983623477]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-47.40866406495358,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-45.16287585465477,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[46.91444076759616,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[150.2206984413411,-23.15058088256119]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[33.43971150580334,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[44.66865255729736,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[150.2206984413411,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[152.46648665163994,-25.199259124830366]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[15.473405823412913,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[114.28808707656027,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[150.2206984413411,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[152.46648665163994,-27.214042160587546]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-49.65445227525238,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[17.719194033711716,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[31.193923295504536,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[150.2206984413411,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[152.46648665163994,-29.193042468141503]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-51.90024048555119,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[28.948135085205735,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[125.51702812805428,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[127.76281633835309,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[130.0086045486519,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[132.2543927589507,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[150.2206984413411,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[152.46648665163994,-31.134578113313832]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-33.037172522628715]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-33.037172522628715]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,-33.037172522628715]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,-33.037172522628715]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,-33.037172522628715]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,-33.037172522628715]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-56.39181690614879,-33.037172522628715]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-54.146028695849985,-33.037172522628715]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[19.96498224401052,-33.037172522628715]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[22.210770454309323,-33.037172522628715]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[24.456558664608128,-33.037172522628715]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[26.70234687490693,-33.037172522628715]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,-33.037172522628715]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[118.77966349715788,-33.037172522628715]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[121.02545170745668,-33.037172522628715]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[123.27123991775547,-33.037172522628715]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[134.5001809692495,-33.037172522628715]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[136.7459691795483,-33.037172522628715]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,-33.037172522628715]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,-33.037172522628715]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,-33.037172522628715]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,-33.037172522628715]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,-33.037172522628715]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[150.2206984413411,-33.037172522628715]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,-34.89955205446631]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-34.89955205446631]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-34.89955205446631]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,-34.89955205446631]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,-34.89955205446631]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,-34.89955205446631]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,-34.89955205446631]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[116.53387528685907,-34.89955205446631]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[138.9917573898471,-34.89955205446631]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,-34.89955205446631]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,-34.89955205446631]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,-34.89955205446631]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,-34.89955205446631]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[150.2206984413411,-34.89955205446631]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,-36.72064160176216]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-36.72064160176216]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-36.72064160176216]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,-36.72064160176216]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,-36.72064160176216]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,-36.72064160176216]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,-36.72064160176216]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[141.23754560014592,-36.72064160176216]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,-36.72064160176216]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,-36.72064160176216]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,-36.72064160176216]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,-38.49955847796458]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-38.49955847796458]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-38.49955847796458]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,-38.49955847796458]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,-38.49955847796458]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-60.88339332674639,-38.49955847796458]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-58.6376051164476,-38.49955847796458]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[143.4833338104447,-38.49955847796458]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,-38.49955847796458]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[174.92436875462795,-38.49955847796458]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[177.17015696492675,-38.49955847796458]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,-40.23560484672428]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-40.23560484672428]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-40.23560484672428]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,-40.23560484672428]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-63.129181537045206,-40.23560484672428]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,-41.92825895617992]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-41.92825895617992]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-41.92825895617992]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,-41.92825895617992]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[145.72912202074352,-41.92825895617992]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[147.97491023104232,-41.92825895617992]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[172.67858054432918,-41.92825895617992]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,-43.57716543192309]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-43.57716543192309]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-43.57716543192309]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-65.374969747344,-43.57716543192309]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[170.43279233403035,-43.57716543192309]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[172.67858054432918,-43.57716543192309]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,-45.18212487009332]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-45.18212487009332]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-45.18212487009332]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[168.18700412373155,-45.18212487009332]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[170.43279233403035,-45.18212487009332]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,-46.74308295490721]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,-46.74308295490721]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-46.74308295490721]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-46.74308295490721]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,-48.260119304558145]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,-48.260119304558145]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-48.260119304558145]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-48.260119304558145]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,-49.73343622702246]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-49.73343622702246]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-74.35812258853922,-51.16334754392393]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-72.11233437824042,-51.16334754392393]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-51.16334754392393]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-53.89470068992965]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-67.62075795764281,-53.89470068992965]}},{type:`Feature`,properties:{},geometry:{type:`Point`,coordinates:[-69.8665461679416,-55.19723063288941]}}]},lN={id:`map`},uN=oe(i({__name:`custom-map`,setup(e){let t,i,s,c;return o(()=>{t=new oN({id:`map`,map:new rD({style:{position:`relative`,width:`100%`,height:`452px`,version:8,sources:{},layers:[]},center:[110.19382669582967,50.258134],pitch:0,zoom:1})});let e=cN,n=sN;i=new eC({}),i.source(e,{transforms:[{type:`hexagon`,size:8e5,field:`capacity`,method:`sum`}]}).shape(`hexagon`).color(`#ddd`).style({coverage:.7,opacity:.8}),t.addLayer(i),s=new Iw({autoFit:!0}),s.source(n).shape(`circle`).size(`cum_conf`,[0,17]).scale(`cum_conf`,{type:`quantile`}).color(`cum_conf`,[`#eff3ff`,`#c6dbef`,`#9ecae1`,`#6baed6`,`#4292c6`,`#2171b5`,`#084594`]).active({color:`#0c2c84`}).style({opacity:.8}),c=new Iw({autoFit:!0}),c.source(n).shape(`Short_Name_ZH`,`text`).filter(`cum_conf`,e=>e>2e3).size(12).active(!0).color(`#fff`).style({opacity:1,strokeOpacity:1,strokeWidth:0}),t.addLayer(s),t.addLayer(c)}),n(()=>{i.destroy?.(),c?.destroy?.(),s?.destroy?.(),t.destroy?.()}),(e,t)=>(a(),r(`div`,lN))}}),[[`__scopeId`,`data-v-884ea5ff`]]);export{uN as t};