import{B as e,C as t,F as n,H as r,N as i,Tt as a,Xt as o,_t as s,it as c,st as l,yt as u,z as d}from"./vue-UmFUivib.js";import{Nt as f,Pt as p,dn as m,fn as h,ht as g,kt as _,nt as v,pt as y}from"./antd-B_p1HNUS.js";import{d as b,l as x,u as S}from"./index-BwYHa19M.js";var C=r({__name:`StudentFormModal`,props:{visible:{type:Boolean},editData:{}},emits:[`update:visible`,`saved`],setup(r,{emit:C}){let w=r,T=C,E=a(),D=a({student_number:``,first_name:``,middle_name:``,last_name:``,gender:``,email:``,course_id:void 0,year_level:1}),O=a([]),k=async()=>{let{data:e}=await x(`/courses`);O.value=e??[]};s(()=>w.visible,e=>{e&&(k(),w.editData?D.value={...w.editData}:D.value={student_number:``,first_name:``,middle_name:``,last_name:``,gender:``,email:``,course_id:void 0,year_level:1})});let A=async()=>{try{w.editData?.id?await b(`/students/${w.editData.id}`,D.value):await S(`/students`,D.value),_.success(`Saved!`),T(`update:visible`,!1),T(`saved`)}catch{_.error(`Error saving student.`)}};return(a,s)=>{let _=g,b=p,x=m,S=h,C=y,w=f,T=v;return c(),i(T,{open:r.visible,title:`Student Information`,onCancel:s[8]||=e=>a.$emit(`update:visible`,!1),onOk:A},{default:u(()=>[e(w,{ref_key:`formRef`,ref:E,layout:`vertical`},{default:u(()=>[e(b,{label:`Student Number`},{default:u(()=>[e(_,{value:D.value.student_number,"onUpdate:value":s[0]||=e=>D.value.student_number=e},null,8,[`value`])]),_:1}),e(b,{label:`First Name`},{default:u(()=>[e(_,{value:D.value.first_name,"onUpdate:value":s[1]||=e=>D.value.first_name=e},null,8,[`value`])]),_:1}),e(b,{label:`Middle Name`},{default:u(()=>[e(_,{value:D.value.middle_name,"onUpdate:value":s[2]||=e=>D.value.middle_name=e},null,8,[`value`])]),_:1}),e(b,{label:`Last Name`},{default:u(()=>[e(_,{value:D.value.last_name,"onUpdate:value":s[3]||=e=>D.value.last_name=e},null,8,[`value`])]),_:1}),e(b,{label:`Gender`},{default:u(()=>[e(S,{value:D.value.gender,"onUpdate:value":s[4]||=e=>D.value.gender=e,"allow-clear":``},{default:u(()=>[e(x,{value:`Male`},{default:u(()=>[...s[9]||=[d(`Male`,-1)]]),_:1}),e(x,{value:`Female`},{default:u(()=>[...s[10]||=[d(`Female`,-1)]]),_:1})]),_:1},8,[`value`])]),_:1}),e(b,{label:`Email`},{default:u(()=>[e(_,{value:D.value.email,"onUpdate:value":s[5]||=e=>D.value.email=e},null,8,[`value`])]),_:1}),e(b,{label:`Course`},{default:u(()=>[e(S,{value:D.value.course_id,"onUpdate:value":s[6]||=e=>D.value.course_id=e},{default:u(()=>[(c(!0),n(t,null,l(O.value,e=>(c(),i(x,{key:e.id,value:e.id},{default:u(()=>[d(o(e.course_code)+` - `+o(e.course_name),1)]),_:2},1032,[`value`]))),128))]),_:1},8,[`value`])]),_:1}),e(b,{label:`Year Level`},{default:u(()=>[e(C,{value:D.value.year_level,"onUpdate:value":s[7]||=e=>D.value.year_level=e,min:`1`,max:`4`,style:{width:`100%`}},null,8,[`value`])]),_:1})]),_:1},512)]),_:1},8,[`open`])}}});export{C as t};