import{B as e,F as t,H as n,M as r,Tt as i,it as a,yt as o,z as s}from"./vue-UmFUivib.js";import{H as c,kt as l,nt as u,rn as d}from"./antd-B_p1HNUS.js";import{u as f}from"./index-BwYHa19M.js";var p={class:`text-right`},m=n({__name:`StepExecute`,props:{form:{},dryRunData:{}},emits:[`done`,`back`],setup(n,{emit:m}){let h=n,g=m,_=i(!1);async function v(){u.confirm({title:`Confirm Execution`,content:`This will create the new AY and all sections.`,onOk:async()=>{_.value=!0;try{await f(`/master-setup`,{...h.form,dry_run:!1}),g(`done`)}catch(e){l.error(e.response?.data?.message||`Execution failed.`)}finally{_.value=!1}}})}return(n,i)=>{let l=c,u=d;return a(),t(`div`,null,[i[3]||=r(`h3`,{class:`font-semibold mb-3`},`Summary`,-1),e(l,{columns:[{title:`Course`,dataIndex:`course`},{title:`Year Level`,dataIndex:`year_level`},{title:`Section`,dataIndex:`name`}],"data-source":h.dryRunData?.sections_created||[],rowKey:`name`,class:`mb-4`},null,8,[`data-source`]),r(`div`,p,[e(u,{onClick:i[0]||=e=>g(`back`)},{default:o(()=>[...i[1]||=[s(`Back`,-1)]]),_:1}),e(u,{type:`primary`,class:`ml-2`,loading:_.value,onClick:v},{default:o(()=>[...i[2]||=[s(` Execute Master Setup `,-1)]]),_:1},8,[`loading`])])])}}});export{m as t};