import{$ as e,B as t,C as n,Et as r,F as i,H as a,Kt as o,M as s,N as c,Tt as l,Xt as u,it as d,jt as f,st as p,tt as m,yt as h}from"./vue-UmFUivib.js";import{At as g,Et as _,Ht as v,Jt as y,Rt as b,Vt as x,Y as S}from"./antd-B_p1HNUS.js";import{p as C}from"./index-BwYHa19M.js";import{d as w}from"./esm-BiKpMJ2D.js";var T={class:`salesCard`},E={class:`salesExtraWrap`},D={class:`salesBar`},O={class:`salesRank`},k={class:`rankingList`},A=[`title`],j={class:`rankingItemValue`},M={class:`salesBar`},N={class:`salesRank`},P={class:`rankingList`},F=[`title`],I={class:`rankingItemValue`},L=a({__name:`sales-card`,props:{loading:{type:Boolean,default:!1}},setup(a){let C=[];for(let e=0;e<7;e+=1)C.push({title:`工专路 ${e} 号店`,total:323234});let L=l();function R(e){let t=new Date,n,r;switch(e){case`day`:L.value=[y(new Date(t.getFullYear(),t.getMonth(),t.getDate())),y(new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999))];break;case`week`:n=new Date(t.setDate(t.getDate()-t.getDay())),r=new Date(t.setDate(t.getDate()+6)),L.value=[y(n),y(r)];break;case`month`:n=new Date(t.getFullYear(),t.getMonth(),1),r=new Date(t.getFullYear(),t.getMonth()+1,0),L.value=[y(n),y(r)];break;case`year`:n=new Date(t.getFullYear(),0,1),r=new Date(t.getFullYear(),11,31),L.value=[y(n),y(r)];break;default:return null}}R(`day`);function z(e){e.target?.parentElement?.querySelectorAll(`a`).forEach(e=>{e.classList.remove(`currentDate`)}),e.target?.classList.add(`currentDate`),R(e.target.__vnode.key)}function B(e){return e.toLocaleString()}let V=[{x:`1月`,y:809},{x:`2月`,y:766},{x:`3月`,y:585},{x:`4月`,y:763},{x:`5月`,y:853},{x:`6月`,y:898},{x:`7月`,y:1096},{x:`8月`,y:452},{x:`9月`,y:244},{x:`10月`,y:838},{x:`11月`,y:673},{x:`12月`,y:431}],H=l(),U=l(),W=!1;function G(e){e===`views`&&!W&&setTimeout(()=>{new w(U.value,{data:V,xField:`x`,yField:`y`,height:300,xAxis:{label:{autoHide:!0,autoRotate:!1}},meta:{y:{alias:`销售量`}}}).render(),W=!0})}let K=r();return m(()=>{K.value=new w(H.value,{data:V,xField:`x`,yField:`y`,height:300,xAxis:{label:{autoHide:!0,autoRotate:!1}},meta:{y:{alias:`销售量`}}}),K.value?.render()}),e(()=>{K.value?.destroy(),K.value=void 0}),(e,r)=>{let l=_,m=g,y=S,w=v,R=x,V=b;return d(),c(V,{loading:a.loading,bordered:!1,"body-style":{padding:0}},{default:h(()=>[s(`div`,T,[t(R,{size:`large`,"tab-bar-style":{marginBottom:`24px`},onChange:G},{rightExtra:h(()=>[s(`div`,E,[s(`div`,{class:`salesExtra`},[s(`a`,{key:`day`,class:`currentDate`,onClick:z},`今日`),s(`a`,{key:`week`,onClick:z},`本周`),s(`a`,{key:`month`,onClick:z},`本月`),s(`a`,{key:`year`,onClick:z},`本年`)]),t(l,{value:f(L),style:{width:`256px`}},null,8,[`value`])])]),default:h(()=>[t(w,{key:`sales`,tab:`销售额`},{default:h(()=>[t(y,null,{default:h(()=>[t(m,{xl:16,lg:12,md:12,sm:24,xs:24},{default:h(()=>[s(`div`,D,[s(`div`,{ref_key:`columnPlotContainer1`,ref:H},null,512)])]),_:1}),t(m,{xl:8,lg:12,md:12,sm:24,xs:24},{default:h(()=>[s(`div`,O,[r[0]||=s(`h4`,{class:`rankingTitle`},` 门店销售额排名 `,-1),s(`ul`,k,[(d(),i(n,null,p(C,(e,t)=>s(`li`,{key:t},[s(`span`,{class:o(`rankingItemNumber ${t<3?`active`:``}`)},u(t+1),3),s(`span`,{class:`rankingItemTitle`,title:e.title},u(e.title),9,A),s(`span`,j,u(B(e.total)),1)])),64))])])]),_:1})]),_:1})]),_:1}),t(w,{key:`views`,tab:`访问量`},{default:h(()=>[t(y,null,{default:h(()=>[t(m,{xl:16,lg:12,md:12,sm:24,xs:24},{default:h(()=>[s(`div`,M,[s(`div`,{ref_key:`columnPlotContainer2`,ref:U},null,512)])]),_:1}),t(m,{xl:8,lg:12,md:12,sm:24,xs:24},{default:h(()=>[s(`div`,N,[r[1]||=s(`h4`,{class:`rankingTitle`},` 门店访问量排名 `,-1),s(`ul`,P,[(d(),i(n,null,p(C,(e,t)=>s(`li`,{key:t},[s(`span`,{class:o(`rankingItemNumber ${t<3?`active`:``}`)},u(t+1),3),s(`span`,{class:`rankingItemTitle`,title:e.title},u(e.title),9,F),s(`span`,I,u(B(e.total)),1)])),64))])])]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1},8,[`loading`])}}}),R=C(L,[[`__scopeId`,`data-v-e215e0db`]]);export{R as t};