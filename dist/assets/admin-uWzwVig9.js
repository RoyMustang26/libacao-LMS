import{B as e,C as t,F as n,H as r,M as i,N as a,Tt as o,Xt as s,it as c,st as l,tt as u,yt as d,z as f}from"./vue-UmFUivib.js";import{Rt as p,kt as m,rn as h}from"./antd-B_p1HNUS.js";import{l as g}from"./index-BwYHa19M.js";import{t as _}from"./CourseBreakdownCard-CIXASSaT.js";import"./StepAYConfig-CASNRXek.js";import"./StepDryRun-Cn5nFeQF.js";import"./StepExecute-CEJwITkT.js";import{t as v}from"./MasterSetupWizard-CvNcjiyW.js";var y={class:`dashboard space-y-6`},b={class:`grid grid-cols-1 md:grid-cols-4 gap-4`},x={class:`grid grid-cols-1 md:grid-cols-3 gap-4`},S={class:`text-right mt-6`},C=r({__name:`index`,setup(r){let C=o(!1),w=o(null),T=o({total_students:0,total_sections:0,total_courses:0}),E=o([]);async function D(){try{let e=await g(`/dashboard/ay-summary`);w.value=e.data.current_academic_year,T.value=e.data.stats,E.value=e.data.courses}catch{m.error(`Failed to load dashboard data.`)}}return u(D),(r,o)=>{let u=p,m=h;return c(),n(`div`,y,[o[3]||=i(`h1`,{class:`text-2xl font-bold mb-3`},`Academic Year Dashboard`,-1),i(`div`,b,[e(u,{title:`Current AY`},{default:d(()=>[f(s(w.value?.name),1)]),_:1}),e(u,{title:`Total Students`},{default:d(()=>[f(s(T.value.total_students),1)]),_:1}),e(u,{title:`Total Sections`},{default:d(()=>[f(s(T.value.total_sections),1)]),_:1}),e(u,{title:`Courses`},{default:d(()=>[f(s(T.value.total_courses),1)]),_:1})]),o[4]||=i(`h2`,{class:`text-xl font-semibold mt-5`},`Course Breakdown`,-1),i(`div`,x,[(c(!0),n(t,null,l(E.value,e=>(c(),a(_,{key:e.id,course:e},null,8,[`course`]))),128))]),i(`div`,S,[e(m,{type:`primary`,size:`large`,onClick:o[0]||=e=>C.value=!0},{default:d(()=>[...o[2]||=[f(` Run Master Setup Wizard `,-1)]]),_:1})]),e(v,{visible:C.value,"onUpdate:visible":o[1]||=e=>C.value=e,onCompleted:D},null,8,[`visible`])])}}});export{C as default};