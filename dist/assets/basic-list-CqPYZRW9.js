import{B as e,C as t,F as n,H as r,M as i,N as a,P as o,St as s,Tt as c,Xt as l,Yt as u,ct as d,it as f,j as p,jt as m,st as h,tt as g,wt as _,yt as v,z as y}from"./vue-UmFUivib.js";import{$t as b,At as x,Jt as S,Kt as C,Nt as w,Pt as T,Rt as ee,Tt as te,Xt as ne,Y as re,Z as ie,_t as ae,at as oe,dn as se,dr as ce,fn as E,ht as D,in as O,it as k,nt as A,qt as le,rn as ue,un as j,vt as M,xt as N}from"./antd-B_p1HNUS.js";import{p as P,u as F}from"./index-BwYHa19M.js";import"./context-Bv_Ls97G.js";import{t as I}from"./page-container-Beu2-ok8.js";async function L(e){return F(`/list/basic-list`,e)}var R={key:0,class:`list-container`},z=P(r({__name:`index`,props:{dataSource:{},itemHeight:{default:80}},setup(e){let r=e,a=c(),s=p(()=>`transform: translateY(${a.value}px)`),l=c(),_=p(()=>l.value?l.value.offsetHeight:0),v=p(()=>Math.ceil(_.value/r.itemHeight)+1),y=c(0),b=p(()=>y.value+v.value),x=c(),S=p(()=>{if(x.value?.length)return r.itemHeight*x.value?.length}),C=p(()=>{let e=Math.max(0,y.value),t=Math.min(b.value,x.value.length);return x.value?.slice(e,t)});function w(){if(r.dataSource)x.value=r.dataSource;else{let e=Array.from({length:1e4});e.forEach((t,n)=>{e[n]=n}),x.value=e}}function T(e){let t=e.target.scrollTop;y.value=Math.floor(t/r.itemHeight),a.value=y.value*r.itemHeight}return g(()=>{w()}),(r,a)=>m(x)?(f(),n(`div`,R,[i(`div`,{ref_key:`scrollerContainerRef`,ref:l,class:`scroller-container scrollbar`,onScroll:T},[i(`div`,{class:`pillar`,style:u({height:`${m(S)}px`})},null,4),i(`div`,{class:`list`,style:u(m(s))},[(f(!0),n(t,null,h(m(C),(t,i)=>(f(),n(`div`,{key:i,class:`item`,style:u({height:`${e.itemHeight}px`})},[d(r.$slots,`renderItem`,{item:t},void 0,!0)],4))),128))],4)],544)])):o(``,!0)}}),[[`__scopeId`,`data-v-fb151b74`]]),B={class:`flex flex-col items-center justify-center`},V={class:`text-zinc-400`},H={style:{"font-size":`24px`}},U={class:`ml-5`},W={href:`https://www.antdv.com/`},de={class:`flex text-gray-400`},fe={class:`px-10`},pe={class:`w-45 flex items-center`},me={class:`a-extra`},he=[`onClick`],ge=[`onClick`],G=r({__name:`basic-list`,setup(r){let u=c([{title:`我的待办`,content:`8个任务`},{title:`本周任务平均处理时间`,content:`32分钟`},{title:`本周完成任务数`,content:`24个任务`}]),d=c(`a`),p=c();function P(e){console.log(`use value`,e)}let F=c([]),R=c({pageSize:5,pageSizeOptions:[`10`,`20`,`30`,`40`,`50`],showQuickJumper:!0,total:0});async function G(){let e=await L();F.value=e.data??[],R.value.total=e.data?.length??0,console.log(F.value)}function _e(t){A.confirm({title:`删除任务`,icon:e(j),content:e(`div`,{},`确定要删除该任务吗?`),cancelText:`取消`,okText:`确认`,onOk(){F.value.splice(t,1)},class:`test`})}let K=_({title:``,start:``,owner:`清风不问烟雨`,description:``,index:0}),q=c(!1),J=c(!1);function Y(e,t){t?(J.value=!0,q.value=!0):(J.value=!1,q.value=!0,K.title=e.title,K.description=e.content,K.start=S(e.start),K.index=F.value.indexOf(e))}function X(){let e=2,t=A.success({title:`操作成功`,content:`本窗口将在${e}后自动关闭`}),n=setInterval(()=>{--e,t.update({content:`本窗口将在${e}后自动关闭`})},1e3);setTimeout(()=>{clearInterval(n),t.destroy()},e*1e3)}function ve(){for(let e in K)if(e!==`index`&&!K[e])return;let e=K.index;if(J.value){let e={title:K.title,content:K.description,start:K.start.format(`YYYY-MM-DD HH:mm`)};F.value.splice(0,0,e)}else for(let t in K)t===`start`?F.value[e][t]=K.start.format(`YYYY-MM-DD HH:mm`):F.value[e][t]=K[t];q.value=!1,Z(),X()}function Z(){console.log(`cancel`),K.description=``,K.owner=`清风不问烟雨`,K.start=``,K.title=``}return g(()=>{G()}),(r,c)=>{let g=x,_=re,S=ee,j=C,L=le,R=M,G=O,J=oe,X=ie,Q=b,ye=ne,be=N,xe=k,Se=ue,Ce=D,$=T,we=te,Te=se,Ee=E,De=ae,Oe=w,ke=A,Ae=I;return f(),a(Ae,null,{default:v(()=>[e(S,null,{default:v(()=>[e(_,{gutter:16},{default:v(()=>[(f(!0),n(t,null,h(m(u),(e,t)=>(f(),a(g,{key:t,xs:24,sm:8},{default:v(()=>[i(`div`,B,[i(`div`,V,l(e.title),1),i(`div`,H,l(e.content),1)])]),_:2},1024))),128))]),_:1})]),_:1}),e(S,{class:`mt-5`},{title:v(()=>[e(S,{bordered:!1},{default:v(()=>[e(_,{style:{"font-weight":`normal`}},{default:v(()=>[e(g,{span:14},{default:v(()=>[...c[9]||=[i(`span`,null,`基本列表`,-1)]]),_:1}),e(g,{span:10,class:`flex`},{default:v(()=>[i(`div`,null,[e(L,{value:m(d),"onUpdate:value":c[0]||=e=>s(d)?d.value=e:null},{default:v(()=>[e(j,{value:`a`},{default:v(()=>[...c[10]||=[y(` 全部 `,-1)]]),_:1}),e(j,{value:`b`},{default:v(()=>[...c[11]||=[y(` 进行中 `,-1)]]),_:1}),e(j,{value:`c`},{default:v(()=>[...c[12]||=[y(` 等待中 `,-1)]]),_:1})]),_:1},8,[`value`])]),i(`div`,U,[e(R,{value:m(p),"onUpdate:value":c[1]||=e=>s(p)?p.value=e:null,placeholder:`请输入`,style:{width:`270px`},onSearch:P},null,8,[`value`])])]),_:1})]),_:1})]),_:1})]),default:v(()=>[m(F).length===0?o(``,!0):(f(),a(z,{key:0,"data-source":m(F)},{renderItem:v(({item:t})=>[e(xe,null,{actions:v(()=>[i(`div`,de,[c[14]||=i(`div`,{class:`flex flex-col items-center`},[i(`div`,null,`Owner`),i(`div`,null,`清风不问烟雨`)],-1),i(`div`,fe,[c[13]||=i(`div`,null,`开始时间`,-1),i(`div`,null,l(t.start),1)]),i(`div`,pe,[e(X,{percent:t.percent,status:t.status},null,8,[`percent`,`status`])])])]),extra:v(()=>[i(`div`,me,[i(`a`,{key:`list-loadmore-edit`,class:`m-4`,onClick:e=>Y(t)},` 编辑 `,8,he),e(be,null,{overlay:v(()=>[e(ye,null,{default:v(()=>[e(Q,null,{default:v(()=>[i(`a`,{onClick:Y},`编辑`)]),_:1}),e(Q,null,{default:v(()=>[i(`a`,{onClick:e=>_e(t.index)},`删除`,8,ge)]),_:2},1024)]),_:2},1024)]),default:v(()=>[i(`a`,{class:`ant-dropdown-link`,onClick:c[2]||=ce(()=>{},[`prevent`])},` 更多 `)]),_:2},1024)])]),default:v(()=>[e(J,{description:t.content},{title:v(()=>[i(`a`,W,l(t.title),1)]),avatar:v(()=>[e(G,{src:t.link},null,8,[`src`])]),_:2},1032,[`description`])]),_:2},1024)]),_:1},8,[`data-source`]))]),_:1}),e(Se,{type:`dashed`,onClick:c[3]||=e=>Y(null,!0)},{default:v(()=>[...c[15]||=[y(` + 添加 `,-1)]]),_:1}),e(ke,{open:m(q),"onUpdate:open":c[8]||=e=>s(q)?q.value=e:null,title:`任务编辑`,onOk:ve,onCancel:Z},{default:v(()=>[e(Oe,{model:m(K),name:`basic`,"label-col":{span:24},"wrapper-col":{span:24},autocomplete:`off`},{default:v(()=>[e($,{label:`任务名称`,name:`title`,rules:[{required:!0,message:`请输入任务名称`}]},{default:v(()=>[e(Ce,{value:m(K).title,"onUpdate:value":c[4]||=e=>m(K).title=e},null,8,[`value`])]),_:1}),e($,{label:`开始时间`,name:`start`,rules:[{required:!0,message:`请选择开始时间`}]},{default:v(()=>[e(we,{value:m(K).start,"onUpdate:value":c[5]||=e=>m(K).start=e,class:`w-1/1`,"show-time":``},null,8,[`value`])]),_:1}),e($,{label:`任务负责人`,name:`owner`,rules:[{required:!0,message:`请输入任务负责人`}]},{default:v(()=>[e(Ee,{value:m(K).owner,"onUpdate:value":c[6]||=e=>m(K).owner=e,placeholder:`please select your zone`},{default:v(()=>[e(Te,{value:`owner`},{default:v(()=>[...c[16]||=[y(` 清风不问烟雨 `,-1)]]),_:1})]),_:1},8,[`value`])]),_:1}),e($,{label:`产品描述`,name:`description`,rules:[{required:!0,message:`请输入产品描述`}]},{default:v(()=>[e(De,{value:m(K).description,"onUpdate:value":c[7]||=e=>m(K).description=e,placeholder:`Basic usage`,rows:3},null,8,[`value`])]),_:1})]),_:1},8,[`model`])]),_:1},8,[`open`])]),_:1})}}});export{G as default};