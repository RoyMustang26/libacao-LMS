import{B as e,F as t,H as n,M as r,N as i,P as a,Tt as o,Xt as s,_t as c,it as l,yt as u,z as d}from"./vue-UmFUivib.js";import{H as f,U as p,bt as m,kt as h}from"./antd-B_p1HNUS.js";import{l as g}from"./index-BwYHa19M.js";var _={key:0,class:`mb-4`},v=n({__name:`StudentTranscriptDrawer`,props:{visible:{type:Boolean},studentId:{}},emits:[`update:visible`],setup(n,{emit:v}){let y=n,b=o(null),x=o([]);return c(()=>y.visible,async e=>{if(e&&y.studentId)try{let{data:e}=await g(`/students/${y.studentId}/transcript`);e?(b.value=e.student,x.value=e.records):(b.value=null,x.value=[])}catch{h.error(`Failed to load transcript.`)}}),(o,c)=>{let h=p,g=f,v=m;return l(),i(v,{title:`Transcript of Records`,placement:`right`,width:`500`,open:n.visible,onClose:c[0]||=e=>o.$emit(`update:visible`,!1)},{default:u(()=>[b.value?(l(),t(`div`,_,[r(`strong`,null,s(b.value.last_name)+`, `+s(b.value.first_name),1),c[1]||=r(`br`,null,null,-1),d(` Student #: `+s(b.value.student_number),1),c[2]||=r(`br`,null,null,-1),d(` Course: `+s(b.value.course?.course_code||``),1)])):a(``,!0),e(g,{dataSource:x.value,pagination:!1,rowKey:`id`},{default:u(()=>[e(h,{title:`Code`},{bodyCell:u(({record:e})=>[d(s(e.subject.subject_code),1)]),_:1}),e(h,{title:`Subject`},{bodyCell:u(({record:e})=>[d(s(e.subject.subject_name),1)]),_:1}),e(h,{title:`Units`},{bodyCell:u(({record:e})=>[d(s(e.subject.units),1)]),_:1}),e(h,{title:`Grade`},{bodyCell:u(({record:e})=>[d(s(e.grade||``),1)]),_:1})]),_:1},8,[`dataSource`])]),_:1},8,[`open`])}}});export{v as t};