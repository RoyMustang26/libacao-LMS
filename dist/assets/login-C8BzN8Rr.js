import{$ as e,B as t,Et as n,F as r,H as i,M as a,N as o,P as s,Tt as c,Xt as l,g as u,it as d,jt as f,tt as p,wt as m,y as h,yt as g,z as _}from"./vue-UmFUivib.js";import{Nt as v,Pt as y,St as ee,a as te,gt as b,ht as x,jt as S,rn as C,sn as w,w as T}from"./antd-B_p1HNUS.js";import{C as E,M as D,_ as O,h as k,m as A,p as j,s as M}from"./index-BwYHa19M.js";import{n as N,t as P}from"./global-footer-C5YA3JSI.js";import{n as F,r as I,t as L}from"./tools-B3E6xQoi.js";var R={width:0,height:0,canvas:null,ctx:null,circles:[],animate:!0,requestId:null};function z(e){if(!R||!e)throw Error(`no canvasInstance`);R.width=window.innerWidth,R.height=window.innerHeight,R.canvas=e,R.canvas.width=R.width,R.canvas.height=R.height,R.ctx=R.canvas.getContext(`2d`),R.circles=[];for(let e=0;e<R.width*.5;e++){let e=new U;R.circles.push(e)}H(),W()}function B(){R.animate=!(document.body.scrollTop>R.height)}function V(){R.width=window.innerWidth,R.height=window.innerHeight,R.canvas.width=R.width,R.canvas.height=R.height}function H(){if(R.animate)for(let e in R.ctx.clearRect(0,0,R.width,R.height),R.circles)R.circles[e].draw();R.requestId=requestAnimationFrame(H)}var U=class{pos;alpha;scale;velocity;draw;constructor(){this.pos={x:Math.random()*R.width,y:R.height+Math.random()*100},this.alpha=.1+Math.random()*.3,this.scale=.1+Math.random()*.3,this.velocity=Math.random();let e=Math.random()*255,t=Math.random()*255,n=Math.random()*255;this.draw=function(){this.pos.y-=this.velocity,this.alpha-=5e-4,R.ctx.beginPath(),R.ctx.arc(this.pos.x,this.pos.y,this.scale*10,0,2*Math.PI,!1),R.ctx.fillStyle=`rgba(${e},${t},${n},${this.alpha})`,R.ctx.fill()}}};function W(){window.addEventListener(`scroll`,B),window.addEventListener(`resize`,V)}function G(){window.removeEventListener(`scroll`,B),window.removeEventListener(`resize`,V),cancelAnimationFrame(R.requestId)}var K={init:z,removeListeners:G},q={class:`login-container`},J={"h-screen":``,"w-screen":``,absolute:``,"z-10":``},Y={class:`login-content flex-center`},X={class:`ant-pro-form-login-main rounded`},Z={class:`flex-between h-15 px-4 mb-[2px]`},ne={class:`login-lang flex-center relative z-11`},re={class:`box-border flex min-h-[520px]`},ie={class:`ant-pro-form-login-main-right px-5 w-[335px] flex-center flex-col relative z-11`},ae={class:`mb-24px flex-between`},oe=[`data-theme`],Q=j(i({__name:`login`,setup(i){let j=E(),R=O(),{layoutSetting:z}=h(R),B=u(),V=A(),H=m({email:void 0,password:void 0,type:`account`,remember:!0}),U=n(),W=n(!1),G=n(!1),Q=c();async function $(){W.value=!0;try{await U.value?.validate();let e={email:H.email,password:H.password},{data:t}=await M(e);V.value=t?.access_token,j.success({message:`Login successful`,description:`Welcome back!`,duration:3});let n=L(`redirect`,`/`);B.push({path:n,replace:!0})}catch(e){e instanceof k&&(G.value=!0),W.value=!1}}return p(async()=>{await D(300),K.init(f(Q))}),e(()=>{K.removeListeners()}),(e,n)=>{let i=F,c=I,u=ee,p=w,m=x,h=y,E=b,D=S,O=C,k=v,A=N;return d(),r(`div`,q,[a(`div`,J,[a(`canvas`,{ref_key:`bubbleCanvas`,ref:Q},null,512)]),a(`div`,Y,[a(`div`,X,[a(`div`,Z,[n[4]||=a(`div`,{class:`flex-end`},[a(`span`,{class:`ant-pro-form-login-logo`},[a(`img`,{"w-full":``,"h-full":``,"object-cover":``,src:`/logo.png`})]),a(`span`,{class:`ant-pro-form-login-title`},` Libacao LMS `),a(`span`,{class:`ant-pro-form-login-desc`},l(`Libacao Learners Management System`))],-1),a(`div`,ne,[a(`span`,{class:`flex-center cursor-pointer text-16px`,onClick:n[0]||=e=>f(R).toggleTheme(f(z).theme===`dark`?`light`:`dark`)},[f(z).theme===`light`?(d(),o(i,{key:0})):(d(),o(c,{key:1}))])])]),t(u,{"m-0":``}),a(`div`,re,[n[9]||=a(`div`,{class:`ant-pro-form-login-main-left min-h-[520px] flex-center bg-[var(--bg-color-container)]`},[a(`img`,{src:`/assets/login-left-YYnMV6bm.png`,class:`h-5/6 w-5/6`})],-1),t(u,{"m-0":``,type:`vertical`,class:`ant-pro-login-divider min-h-[520px]`}),a(`div`,ie,[n[8]||=a(`div`,{class:`text-center py-6 text-2xl`},l(`Welcome to Libacao LMS`),-1),t(k,{ref_key:`formRef`,ref:U,model:f(H)},{default:g(()=>[f(G)&&f(H).type===`account`?(d(),o(p,{key:0,"mb-24px":``,message:`Incorrect Email or Password`,type:`error`,"show-icon":``})):s(``,!0),t(h,{name:`email`,rules:[{required:!0,message:`Please enter your email`}]},{default:g(()=>[t(m,{value:f(H).email,"onUpdate:value":n[1]||=e=>f(H).email=e,"allow-clear":``,autocomplete:`off`,placeholder:`Email: user@libacao-university.edu`,size:`large`,onPressEnter:$},{prefix:g(()=>[t(f(te))]),_:1},8,[`value`])]),_:1}),t(h,{name:`password`,rules:[{required:!0,message:`Password is required`}]},{default:g(()=>[t(E,{value:f(H).password,"onUpdate:value":n[2]||=e=>f(H).password=e,"allow-clear":``,placeholder:`Password`,size:`large`,onPressEnter:$},{prefix:g(()=>[t(f(T))]),_:1},8,[`value`])]),_:1}),a(`div`,ae,[t(D,{checked:f(H).remember,"onUpdate:checked":n[3]||=e=>f(H).remember=e},{default:g(()=>[...n[5]||=[_(l(`Remember Me!`),-1)]]),_:1},8,[`checked`]),n[6]||=a(`a`,null,l(`Forgot Password? `),-1)]),t(O,{type:`primary`,block:``,loading:f(W),size:`large`,onClick:$},{default:g(()=>[...n[7]||=[_(l(`Login`),-1)]]),_:1},8,[`loading`])]),_:1},8,[`model`])])])])]),a(`div`,{"py-24px":``,"px-50px":``,fixed:``,"bottom-0":``,"z-11":``,"w-screen":``,"data-theme":f(z).theme,"text-14px":``},[t(P,null,{renderFooterLinks:g(()=>[t(A)]),_:1})],8,oe)])}}}),[[`__scopeId`,`data-v-5ec61ced`]]);export{Q as default};