import{B as e,Et as t,F as n,H as r,M as i,N as a,P as o,R as s,Xt as c,d as l,g as u,it as d,jt as f,wt as p,y as m,yt as h,z as g}from"./vue-UmFUivib.js";import{$t as _,Nt as v,Pt as y,Xt as b,a as x,gt as S,ht as C,jt as w,rn as T,sn as E,w as D,xt as O}from"./antd-B_p1HNUS.js";import{C as k,_ as A,h as j,m as M,p as N,s as P,v as F}from"./index-BwYHa19M.js";import{n as I,t as L}from"./global-footer-C5YA3JSI.js";import{t as R}from"./logo-DcrGR43i.js";import{n as z,r as B,t as V}from"./tools-B3E6xQoi.js";var H={name:`CarbonTranslate`},U={xmlns:`http://www.w3.org/2000/svg`,width:`1em`,height:`1em`,viewBox:`0 0 32 32`};function W(e,t,r,a,o,s){return d(),n(`svg`,U,[...t[0]||=[i(`path`,{fill:`currentColor`,d:`M27.85 29H30l-6-15h-2.35l-6 15h2.15l1.6-4h6.85zm-7.65-6l2.62-6.56L25.45 23zM18 7V5h-7V2H9v3H2v2h10.74a14.71 14.71 0 0 1-3.19 6.18A13.5 13.5 0 0 1 7.26 9h-2.1a16.47 16.47 0 0 0 3 5.58A16.84 16.84 0 0 1 3 18l.75 1.86A18.47 18.47 0 0 0 9.53 16a16.92 16.92 0 0 0 5.76 3.84L16 18a14.48 14.48 0 0 1-5.12-3.37A17.64 17.64 0 0 0 14.8 7z`},null,-1)]])}var G=N(H,[[`render`,W]]),K={hover:`bg-[var(--hover-color)]`,flex:``,"items-center":``,"h-48px":``,"px-12px":``,"text-16px":``,"cursor-pointer":``,class:`transition-all-300`},q=r({__name:`index`,setup(t){let{locale:n,setLocale:r}=F();function o({key:e}){r(e)}return(t,r)=>{let s=G,c=_,l=b,u=O;return d(),a(u,null,{overlay:h(()=>[e(l,{"selected-keys":[f(n)],onClick:o},{default:h(()=>[e(c,{key:`zh-CN`},{icon:h(()=>[...r[0]||=[i(`span`,null,` ðŸ‡¨ðŸ‡³ `,-1)]]),default:h(()=>[r[1]||=g(` ç®€ä½“ä¸­æ–‡ `,-1)]),_:1}),e(c,{key:`en-US`},{icon:h(()=>[...r[2]||=[i(`span`,null,` ðŸ‡ºðŸ‡¸ `,-1)]]),default:h(()=>[r[3]||=g(` English `,-1)]),_:1})]),_:1},8,[`selected-keys`])]),default:h(()=>[i(`span`,K,[e(s,{class:`anticon`})])]),_:1})}}}),J={class:`login-container`},Y={class:`login-lang`,flex:`~`,"items-center":``,"justify-end":``,"gap-2":``,"px-24px":``},X={class:`login-content`},Z={class:`ant-pro-form-login-container`},Q={class:`ant-pro-form-login-main`,"w-335px":``},$={class:`mb-24px`,flex:``,"items-center":``,"justify-between":``},ee=[`data-theme`],te=60,ne=N(r({__name:`login-origin`,setup(r){let _=k(),b=A(),{layoutSetting:O}=m(b),N=u(),F=M(),R=p({email:void 0,password:void 0,type:`account`,remember:!0}),H=t(),U=t(!1),W=t(!1),{pause:G}=l(1e3,{controls:!0,immediate:!1,callback(e){e&&e===te&&G()}});async function K(){U.value=!0;try{await H.value?.validate();let e={email:R.email,password:R.password},{data:t}=await P(e);F.value=t?.access_token,_.success({message:`Login successful`,description:`Welcome back!`,duration:3});let n=V(`redirect`,`/`);N.push({path:n,replace:!0})}catch(e){e instanceof j&&(W.value=!0),U.value=!1}}return(t,r)=>{let l=z,u=B,p=q,m=E,_=C,k=y,A=S,j=w,M=T,N=v,P=I;return d(),n(`div`,J,[i(`div`,Y,[i(`span`,{flex:``,"items-center":``,"justify-center":``,"cursor-pointer":``,"text-16px":``,onClick:r[0]||=e=>f(b).toggleTheme(f(O).theme===`dark`?`light`:`dark`)},[f(O).theme===`light`?(d(),a(l,{key:0})):(d(),a(u,{key:1})),e(p)])]),i(`div`,X,[i(`div`,Z,[r[7]||=s(`<div class="ant-pro-form-login-top" data-v-5396c450><div class="ant-pro-form-login-header" data-v-5396c450><span class="ant-pro-form-login-logo" data-v-5396c450><img src="/logo.svg" data-v-5396c450></span><span class="ant-pro-form-login-title" data-v-5396c450> Libacao LMS </span></div><div class="ant-pro-form-login-desc" data-v-5396c450>Libacao Learners Management System</div></div>`,1),i(`div`,Q,[e(N,{ref_key:`formRef`,ref:H,model:f(R)},{default:h(()=>[f(W)&&f(R).type===`account`?(d(),a(m,{key:0,"mb-24px":``,message:`Incorrect Email or Password`,type:`error`,"show-icon":``})):o(``,!0),e(k,{name:`email`,rules:[{required:!0,message:`Please enter your email`}]},{default:h(()=>[e(_,{value:f(R).email,"onUpdate:value":r[1]||=e=>f(R).email=e,"allow-clear":``,placeholder:`Email: user@libacao-university.edu`,size:`large`,onPressEnter:K},{prefix:h(()=>[e(f(x))]),_:1},8,[`value`])]),_:1}),e(k,{name:`password`,rules:[{required:!0,message:`Password is required`}]},{default:h(()=>[e(A,{value:f(R).password,"onUpdate:value":r[2]||=e=>f(R).password=e,"allow-clear":``,placeholder:`Password`,size:`large`,onPressEnter:K},{prefix:h(()=>[e(f(D))]),_:1},8,[`value`])]),_:1}),i(`div`,$,[e(j,{checked:f(R).remember,"onUpdate:checked":r[3]||=e=>f(R).remember=e},{default:h(()=>[...r[4]||=[g(c(`Remember Me!`),-1)]]),_:1},8,[`checked`]),r[5]||=i(`a`,null,c(`Forgot Password? `),-1)]),e(M,{type:`primary`,block:``,loading:f(U),size:`large`,onClick:K},{default:h(()=>[...r[6]||=[g(c(`Login`),-1)]]),_:1},8,[`loading`])]),_:1},8,[`model`])])])]),i(`div`,{"py-24px":``,"px-50px":``,"data-theme":f(O).theme,"text-14px":``},[e(L,{copyright:f(O).copyright},{renderFooterLinks:h(()=>[e(P)]),_:1},8,[`copyright`])],8,ee)])}}}),[[`__scopeId`,`data-v-5396c450`]]);export{ne as default};